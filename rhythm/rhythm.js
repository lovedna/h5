(function(Wh,Xh){function w(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function p(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Si++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Wh.lime=Wh.lime||{};var h={},A=function(){return y.__string_rec(this,
"")},Ie=function(){};h["lime.app.IModule"]=Ie;Ie.__name__=["lime","app","IModule"];Ie.prototype={addRenderer:null,addWindow:null,registerModule:null,setPreloader:null,__class__:Ie};var wc=function(){this.onExit=new vd;this.__renderers=[];this.__windows=[]};h["lime.app.Module"]=wc;wc.__name__=["lime","app","Module"];wc.__interfaces__=[Ie];wc.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){var b=p(this,this.render);a.onRender.add(function(){b(a)});
var c=p(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=p(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)});this.__renderers.push(a)},addWindow:function(a){var b=p(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=p(this,this.__onWindowClose);a.onClose.add(function(){c(a)},!1,-1E4);var d=p(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var f=p(this,this.onWindowDeactivate);a.onDeactivate.add(function(){f(a)});
var q=p(this,this.onWindowDropFile);a.onDropFile.add(function(b){q(a,b)});var e=p(this,this.onWindowEnter);a.onEnter.add(function(){e(a)});var t=p(this,this.onWindowFocusIn);a.onFocusIn.add(function(){t(a)});var l=p(this,this.onWindowFocusOut);a.onFocusOut.add(function(){l(a)});var g=p(this,this.onWindowFullscreen);a.onFullscreen.add(function(){g(a)});var h=p(this,this.onKeyDown);a.onKeyDown.add(function(b,c){h(a,b,c)});var n=p(this,this.onKeyUp);a.onKeyUp.add(function(b,c){n(a,b,c)});var u=p(this,
this.onWindowLeave);a.onLeave.add(function(){u(a)});var m=p(this,this.onWindowMinimize);a.onMinimize.add(function(){m(a)});var r=p(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){r(a,b,c,d)});var w=p(this,this.onMouseMove);a.onMouseMove.add(function(b,c){w(a,b,c)});var v=p(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){v(a,b,c)});var x=p(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){x(a,b,c,d)});var y=p(this,this.onMouseWheel);a.onMouseWheel.add(function(b,
c){y(a,b,c)});var z=p(this,this.onWindowMove);a.onMove.add(function(b,c){z(a,b,c)});var A=p(this,this.onWindowResize);a.onResize.add(function(b,c){A(a,b,c)});var E=p(this,this.onWindowRestore);a.onRestore.add(function(){E(a)});var B=p(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){B(a,b,c,d)});var D=p(this,this.onTextInput);a.onTextInput.add(function(b){D(a,b)});if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(p(this,this.onModuleExit),
!1,0);a.onUpdate.add(p(this,this.update));for(a=bb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}bb.onConnect.add(p(this,this.__onGamepadConnect));for(a=Ya.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);Ya.onConnect.add(p(this,this.__onJoystickConnect));Ib.onStart.add(p(this,this.onTouchStart));Ib.onMove.add(p(this,this.onTouchMove));Ib.onEnd.add(p(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<this.__renderers.indexOf(a)&&z.remove(this.__renderers,
a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(p(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(p(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(p(this,this.onPreloadProgress)),a.onComplete.add(p(this,this.onPreloadComplete))},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},
onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},
onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},
onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=p(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=p(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var f=p(this,this.onGamepadDisconnect);
a.onDisconnect.add(function(){f(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=p(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=p(this,this.onJoystickButtonUp);a.onButtonUp.add(function(b){d(a,b)});var f=p(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){f(a)});var q=p(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){q(a,b,c)});var e=p(this,this.onJoystickTrackballMove);
a.onTrackballMove.add(function(b,c){e(a,b,c)})},__onWindowClose:function(a){this.onWindowClose(a);z.remove(this.__windows,a)},__class__:wc};var Cg=function(a){this.gameDeviceCache=new Ua;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;wd.init()};h["lime._backend.html5.HTML5Application"]=Cg;Cg.__name__=["lime","_backend","html5","HTML5Application"];Cg.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,
parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;
case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;
case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",
p(this,this.handleKeyEvent),!1);window.addEventListener("keyup",p(this,this.handleKeyEvent),!1);window.addEventListener("focus",p(this,this.handleWindowEvent),!1);window.addEventListener("blur",p(this,this.handleWindowEvent),!1);window.addEventListener("resize",p(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",p(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});
CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var q=(new Date).getTime(),e=Math.max(0,
16-(q-a)),t=window.setTimeout(function(){b(q+e)},e);a=q+e;return t});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){null!=this.parent.__windows[0]&&this.parent.__windows[0].backend.updateSize();this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=
this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&null!=this.parent.__renderers[0].context&&(this.parent.__renderers[0].render(),this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(p(this,this.handleApplicationEvent))},
handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "beforeunload":this.parent.__windows[0].onClose.dispatch();
break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();this.parent.__windows[0].onDeactivate.dispatch();break;case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "resize":this.parent.__windows[0].backend.handleResizeEvent(a)}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=Ya.__getDeviceData();if(null!=a)for(var b,c,d,f,q,e=0,t=a.length;e<t;)if(b=e++,f=a[b],null!=
f){if(!this.gameDeviceCache.h.hasOwnProperty(b)){q=new Dg;q.id=b;q.connected=f.connected;c=0;for(d=f.buttons.length;c<d;){var l=c++;q.buttons.push(f.buttons[l].value)}c=0;for(d=f.axes.length;c<d;)l=c++,q.axes.push(f.axes[l]);"standard"==f.mapping&&(q.isGamepad=!0);this.gameDeviceCache.h[b]=q;f.connected&&(Ya.__connect(b),q.isGamepad&&bb.__connect(b))}q=this.gameDeviceCache.h[b];d=Ya.devices.h[b];c=bb.devices.h[b];if(f.connected){for(var g=0,h=f.buttons.length;g<h;){var n=g++,l=f.buttons[n].value;
if(l!=q.buttons[n]){if(6==n)d.onAxisMove.dispatch(f.axes.length,l),null!=c&&c.onAxisMove.dispatch(4,l);else if(7==n)d.onAxisMove.dispatch(f.axes.length+1,l),null!=c&&c.onAxisMove.dispatch(5,l);else if(0<l?d.onButtonDown.dispatch(n):d.onButtonUp.dispatch(n),null!=c){switch(n){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;
case 15:b=14;break;case 16:b=5;break;default:continue}0<l?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}q.buttons[n]=l}}b=0;for(l=f.axes.length;b<l;)g=b++,f.axes[g]!=q.axes[g]&&(d.onAxisMove.dispatch(g,f.axes[g]),null!=c&&c.onAxisMove.dispatch(g,f.axes[g]),q.axes[g]=f.axes[g])}else q.connected&&(q.connected=!1,Ya.__disconnect(b),bb.__disconnect(b))}},__class__:Cg};var qb=function(){this.onUpdate=new vd;wc.call(this);null==qb.current&&(qb.current=this);this.modules=[];this.windowByID=new Ua;
this.backend=new Cg(this);this.registerModule(this)};h["lime.app.Application"]=qb;qb.__name__=["lime","app","Application"];qb.__super__=wc;qb.prototype=w(wc.prototype,{config:null,modules:null,onUpdate:null,window:null,backend:null,windowByID:null,addModule:function(a){a.registerModule(this);this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);
a.setPreloader(this.__preloader)},addRenderer:function(a){wc.prototype.addRenderer.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},createWindow:function(a){wc.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new Eg(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){qb.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},
onWindowClose:function(a){this.removeWindow(a)},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(z.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==a&&(this.window=null),0==this.__windows.length&&Va.exit(0))},setPreloader:function(a){wc.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},__class__:qb});var xd=function(){};h.ApplicationMain=
xd;xd.__name__=["ApplicationMain"];xd.main=function(){Va.__registerEntryPoint("rhythm",xd.create,{build:"117",company:"liwei",file:"rhythm",fps:60,name:"rhythm",orientation:"",packageName:"rhythm",version:"1.0.0",windows:[{allowHighDPI:!1,antialiasing:0,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,hidden:null,maximized:null,minimized:null,parameters:{},resizable:!0,stencilBuffer:!0,title:"rhythm",vsync:!1,width:0,x:null,y:null}]})};xd.create=function(a){var b=
new Je;b.create(a);Fc.init(a);var c=new Ke(new Le);b.setPreloader(c);c.create(a);var d=b.__windows[0].stage;c.onComplete.add(function(){xd.start(d)});a=0;for(var f=Fc.preloadLibraries;a<f.length;){var q=f[a];++a;c.addLibrary(q)}a=0;for(f=Fc.preloadLibraryNames;a<f.length;)q=f[a],++a,c.addLibraryName(q);c.load();b.exec()};xd.start=function(a){try{var b=a.getChildAt(0);null!=b&&y.__instanceof(b,ib)||(b=new Sb,a.addChild(b));new Me(b);a.dispatchEvent(new L("resize",!1,!1));a.window.__fullscreen&&a.dispatchEvent(new yd("fullScreen",
!1,!1,!0,!0))}catch(c){c instanceof r&&(c=c.val),a.__handleError(c)}};var zi=function(){};h["openfl.events.IEventDispatcher"]=zi;zi.__name__=["openfl","events","IEventDispatcher"];var ca=function(a){null!=a&&(this.__targetDispatcher=a)};h["openfl.events.EventDispatcher"]=ca;ca.__name__=["openfl","events","EventDispatcher"];ca.__interfaces__=[zi];ca.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};ca.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,
addEventListener:function(a,b,c,d,f){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=new B,this.__iterators=new B),f=this.__eventMap,null!=n[a]?f.existsReserved(a):f.h.hasOwnProperty(a)){f=this.__eventMap;f=null!=n[a]?f.getReserved(a):f.h[a];for(var q=0,e=f.length;q<e;){var t=q++;if(f[t].match(b,c))return}q=this.__iterators;a=null!=n[a]?q.getReserved(a):q.h[a];for(q=0;q<a.length;)e=a[q],++q,e.active&&e.copy();f.push(new Ne(b,c,d));f.sort(ca.__sortByPriority)}else f=
[],f.push(new Ne(b,c,d)),b=new Oe(f),c=this.__eventMap,null!=n[a]?c.setReserved(a,f):c.h[a]=f,c=this.__iterators,b=[b],null!=n[a]?c.setReserved(a,b):c.h[a]=b},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__eventMap;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap&&
null!=b){var d=this.__eventMap,d=null!=n[a]?d.getReserved(a):d.h[a];if(null!=d){for(var f=this.__iterators,f=null!=n[a]?f.getReserved(a):f.h[a],q=0,e=d.length;q<e;){var t=q++;if(d[t].match(b,c)){for(b=0;b<f.length;)c=f[b],++b,c.remove(d[t],t);d.splice(t,1);break}}0==d.length&&(this.__eventMap.remove(a),this.__iterators.remove(a));a=this.__eventMap;(new xc(a,a.arrayKeys())).hasNext()||(this.__iterators=this.__eventMap=null)}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;
var b=a.type,c=this.__eventMap,d=null!=n[b]?c.getReserved(b):c.h[b];if(null==d)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;var c=1==a.eventPhase,f=this.__iterators,b=null!=n[b]?f.getReserved(b):f.h[b],f=b[0];f.active&&(f=new Oe(d),b.push(f));f.reset(d);for(d=f;d.hasNext();){var q=d.next();if(null!=q&&q.useCapture==c&&(q.callback(a),a.__isCanceledNow))break}f!=b[0]&&z.remove(b,f);return!0},__class__:ca};var Pe=function(){};h["openfl.display.IBitmapDrawable"]=
Pe;Pe.__name__=["openfl","display","IBitmapDrawable"];Pe.prototype={__transform:null,__worldTransform:null,__renderCanvas:null,__renderGL:null,__updateChildren:null,__updateTransforms:null,__class__:Pe};var G=function(){ca.call(this);this.__alpha=1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new Ea;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1;this.__worldBlendMode=10;this.__worldTransform=new Ea;this.__worldColorTransform=
new nb;this.__renderTransform=new Ea;this.set_name("instance"+ ++G.__instanceCount)};h["openfl.display.DisplayObject"]=G;G.__name__=["openfl","display","DisplayObject"];G.__interfaces__=[Pe];G.__super__=ca;G.prototype=w(ca.prototype,{opaqueBackground:null,parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cairo:null,__children:null,__filters:null,__graphics:null,__isMask:null,__loaderInfo:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,
__renderParent:null,__renderTransform:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldTransform:null,__canvas:null,__context:null,addEventListener:function(a,b,c,d,f){null==f&&(f=!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":G.__broadcastEvents.exists(a)||
G.__broadcastEvents.set(a,[]);var q=G.__broadcastEvents.get(a);-1==q.indexOf(this)&&q.push(this)}ca.prototype.addEventListener.call(this,a,b,c,d,f)},dispatchEvent:function(a){if(y.__instanceof(a,ma)){var b=this.__getRenderTransform();a.stageX=a.localX*b.a+a.localY*b.c+b.tx;b=this.__getRenderTransform();a.stageY=a.localX*b.b+a.localY*b.d+b.ty}else y.__instanceof(a,vb)&&(b=this.__getRenderTransform(),a.stageX=a.localX*b.a+a.localY*b.c+b.tx,b=this.__getRenderTransform(),a.stageY=a.localX*b.b+a.localY*
b.d+b.ty);return ca.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=Ea.__temp,b.identity());a=new ra;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();var b=this.__getRenderTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}return a},removeEventListener:function(a,
b,c){null==c&&(c=!1);ca.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":this.hasEventListener(a)||G.__broadcastEvents.exists(a)&&z.remove(G.__broadcastEvents.get(a),this)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=ca.prototype.__dispatchEvent.call(this,
a);return a.__isCanceled?!0:b}return!0},__dispatchChildren:function(a,b){a.target=this;if(null!=this.parent)if(a.eventPhase=1,this.parent==this.stage)this.parent.__dispatchEvent(a);else{for(var c=this.parent,d=0;null!=c;)b.set(d,c),c=c.parent,++d;for(var c=0,f=d;c<f;){var q=c++;b.get(d-q-1).__dispatchEvent(a)}}a.eventPhase=2;return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=ca.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=
this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__dispatchStack:function(a,b){var c,d=b.length;if(0==d)a.eventPhase=2,c=a.target,c.__dispatch(a);else{a.eventPhase=1;a.target=b[b.length-1];c=0;for(var f=d-1;c<f;){var q=c++;b[q].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;c=a.target;c.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,d-=2;0<=d;){b[d].__dispatch(a);if(a.__isCanceled)break;--d}}},__enterFrame:function(a){},__getBounds:function(a,
b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getLocalBounds:function(a){var b=this.__transform.tx,c=this.__transform.ty;this.__transform.tx=this.__transform.ty=0;this.__getBounds(a,this.__transform);this.__transform.tx=b;this.__transform.ty=c},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||0<G.__worldTransformDirty){var a=
[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;b!=this.stage;){a.push(b);b=b.parent;if(null==b)break;b!=this.stage&&b.__transformDirty&&(c=!0)}if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,f,q){if(null!=this.__graphics){if(!q.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==
d||f||d.push(q),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},__renderCanvas:function(a){if((null==this.get_mask()||0<this.get_mask().get_width()&&0<this.get_mask().get_height())&&!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);var b=a.context,c=this.__renderTransform;
a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);c=this.opaqueBackground;b.fillStyle="rgb("+(c>>>16&255)+","+(c>>>8&255)+","+(c&255)+")";b.fillRect(0,0,this.get_width(),this.get_height());a.maskManager.popObject(this)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(b=this.__graphics,null!=b)){m.render(b,a,this.__renderTransform);var d=b.__width,f=b.__height;if(null!=b.__canvas){var c=a.context,q=this.__scrollRect;0<d&&0<f&&
(null==q||0<q.width&&0<q.height)&&(a.maskManager.pushObject(this),c.globalAlpha=this.__worldAlpha,d=b.__worldTransform,a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.drawImage(b.__canvas,0,0),a.maskManager.popObject(this))}}}},__renderCanvasMask:function(a){null!=this.__graphics&&m.renderMask(this.__graphics,a)},__renderGL:function(a){if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=
this.opaqueBackground&&0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);var b=a.gl,c=ra.__temp;c.setTo(0,0,this.get_width(),this.get_height());a.maskManager.pushRect(c,this.__renderTransform);c=this.opaqueBackground;b.__context.clearColor((c>>>16&255)/255,(c>>>8&255)/255,(c&255)/255,1);b.__context.clear(b.COLOR_BUFFER_BIT);a.maskManager.popRect();a.maskManager.popObject(this)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)){var d=this.__graphics;if(null!=
d&&(m.render(d,a,this.__renderTransform),null!=d.__bitmap&&d.__visible)){var f=a.renderer,b=a.gl;a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);c=a.filterManager.pushObject(this);c.get_data().uImage0.input=d.__bitmap;c.get_data().uImage0.smoothing=a.allowSmoothing;c.get_data().uMatrix.value=f.getMatrix(d.__worldTransform);a.shaderManager.setShader(c);f=b.ARRAY_BUFFER;d=d.__bitmap.getBuffer(b,this.__worldAlpha);b.__context.bindBuffer(f,d);var d=c.get_data().aPosition.index,
f=b.FLOAT,q=Za.fromInt(0);b.__context.vertexAttribPointer(d,3,f,!1,24,q);d=c.get_data().aTexCoord.index;f=b.FLOAT;q=Za.fromInt(12);b.__context.vertexAttribPointer(d,2,f,!1,24,q);c=c.get_data().aAlpha.index;d=b.FLOAT;f=Za.fromInt(20);b.__context.vertexAttribPointer(c,1,d,!1,24,f);b.__context.drawArrays(b.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}}}},__setStageReference:function(a){this.stage=a},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=
this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__updateTransforms();b&&this.__transformDirty&&(this.__transformDirty=!1,G.__worldTransformDirty--);null!=c&&this.__updateMask(c);a||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),a=null!=this.parent?this.parent:this.__renderParent,null!=a?(this.__worldAlpha=this.get_alpha()*a.__worldAlpha,
this.__worldColorTransform.__combine(a.__worldColorTransform),this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?a.__blendMode:this.__blendMode):this.__worldAlpha=this.get_alpha(),b&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(a){this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__worldAlpha=this.get_alpha();this.__transformDirty&&(this.__transformDirty=!1,G.__worldTransformDirty--)},
__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new ra),this.__graphics.__getBounds(a.__bounds,Ea.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new Ea);null==this.__renderTransform&&(this.__renderTransform=new Ea);b||null==this.parent?(this.__worldTransform.copyFrom(a),
this.__renderTransform.copyFrom(a)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,b=this.parent.__renderTransform,this.__renderTransform.a=a.a*b.a+a.b*b.c,this.__renderTransform.b=a.a*b.b+a.b*b.d,this.__renderTransform.c=a.c*b.a+a.d*b.c,this.__renderTransform.d=
a.c*b.b+a.d*b.d,this.__renderTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__renderTransform.ty=a.tx*b.b+a.ty*b.d+b.ty);if(null!=this.__scrollRect){b=this.__renderTransform;a=-this.__scrollRect.x;var c=-this.__scrollRect.y;b.tx=a*b.a+c*b.c+b.tx;b.ty=a*b.b+c*b.d+b.ty}},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++);return this.__alpha=a},set_filters:function(a){this.__filters=null!=a&&0<a.length?
a:null;this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++);return a},get_height:function(){var a=new ra;this.__getLocalBounds(a);return a.height},set_height:function(a){var b=new ra,c=Ea.__temp;c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_loaderInfo:function(){return null!=this.stage?ya.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&(this.__transformDirty||(this.__transformDirty=
!0,G.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++));if(null!=this.__mask){this.__mask.__isMask=!1;var b=this.__mask;b.__transformDirty||(b.__transformDirty=!0,G.__worldTransformDirty++);b=this.__mask;b.__renderDirty||(b.__renderDirty=!0,G.__worldRenderDirty++)}null!=a&&(a.__isMask=!0);return this.__mask=a},get_mouseX:function(){var a=null!=this.stage?this.stage.__mouseX:ya.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:ya.current.stage.__mouseY,
c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:ya.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:ya.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*(c.tx-a))},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_scaleX:function(){return this.__scaleX},set_scaleX:function(a){if(a!=
this.__scaleX)if(this.__scaleX=a,0==this.__transform.b)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){if(a!=this.__scaleY)if(this.__scaleY=
a,0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new Fg(this));return this.__objectTransform},
get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++);return this.__visible=a},get_width:function(){var a=new ra;this.__getLocalBounds(a);return a.width},set_width:function(a){var b=new ra,c=Ea.__temp;c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);return a},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||
(this.__transformDirty=!0,G.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++);return this.__transform.ty=a},__class__:G,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scaleY:"set_scaleY",
get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var Fa=function(){G.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};h["openfl.display.InteractiveObject"]=
Fa;Fa.__name__=["openfl","display","InteractiveObject"];Fa.__super__=G;Fa.prototype=w(G.prototype,{doubleClickEnabled:null,mouseEnabled:null,needsSoftKeyboard:null,tabIndex:null,__tabEnabled:null,__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,f,q){return!q.get_visible()||this.__isMask||f&&!this.mouseEnabled?!1:G.prototype.__hitTest.call(this,a,b,c,d,f,q)},get_tabEnabled:function(){return this.__tabEnabled},
__class__:Fa,__properties__:w(G.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var ib=function(){Fa.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=eb.toObjectVector(null);this.__tempStack=eb.toObjectVector(null)};h["openfl.display.DisplayObjectContainer"]=ib;ib.__name__=["openfl","display","DisplayObjectContainer"];ib.__super__=Fa;ib.prototype=w(Fa.prototype,{mouseChildren:null,__removedChildren:null,__tempStack:null,addChild:function(a){return this.addChildAt(a,
this.get_numChildren())},addChildAt:function(a,b){if(b>this.__children.length||0>b)throw new r("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(z.remove(this.__children,a),this.__children.splice(b,0,a));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;var c=null!=this.stage&&null==a.stage;c&&this.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,G.__worldTransformDirty++);a.__renderDirty||(a.__renderDirty=!0,G.__worldRenderDirty++);
this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++);var d=new L("added",!0);d.target=a;a.__dispatchEvent(d);c&&(a.__dispatchChildren(new L("addedToStage",!1,!1),this.__tempStack),this.__tempStack.set_length(0))}return a},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},removeChild:function(a){null!=a&&a.parent==this&&(a.__transformDirty||(a.__transformDirty=!0,G.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,G.__worldRenderDirty++),
this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++),a.__dispatchEvent(new L("removed",!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),a.__dispatchChildren(new L("removedFromStage",!1,!1),this.__tempStack),this.__tempStack.set_length(0),a.__setStageReference(null)),a.parent=null,z.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,G.__worldTransformDirty++));return a},__dispatchChildren:function(a,
b){var c=Fa.prototype.__dispatchChildren.call(this,a,b);if(c&&null!=this.__children)for(var d=0,f=this.__children;d<f.length;){var q=f[d];++d;if(!q.__dispatchChildren(a,b))return!1}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){Fa.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var f=
d[c];++c;0!=f.__scaleX&&0!=f.__scaleY&&f.__getBounds(a,f.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,f,q){if(!q.get_visible()||this.__isMask||f&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var e=cb.__temp;e.setTo(a,b);var t=this.__getRenderTransform(),l=t.a*t.d-t.b*t.c;if(0==l)e.x=-t.tx,e.y=-t.ty;else{var g=1/l*(t.c*(t.ty-e.y)+t.d*(e.x-t.tx));
e.y=1/l*(t.a*(e.y-t.ty)+t.b*(t.tx-e.x));e.x=g}if(!this.__scrollRect.containsPoint(e))return!1}e=this.__children.length;if(f)if(null==d||!this.mouseChildren)for(;0<=--e;){if(this.__children[e].__hitTest(a,b,c,null,!0,this.__children[e]))return null!=d&&d.push(q),!0}else{if(null!=d){f=d.length;for(l=t=!1;0<=--e&&!(((t=this.__children[e].__getInteractive(null))||this.mouseEnabled&&!l)&&this.__children[e].__hitTest(a,b,c,d,!0,this.__children[e])&&(l=!0,t)););if(l)return d.splice(f,0,q),!0}}else for(;0<=
--e;)this.__children[e].__hitTest(a,b,c,d,!1,this.__children[e]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCanvas:function(a){if(!(!this.__renderable||0>=this.__worldAlpha||null!=this.get_mask()&&(0>=this.get_mask().get_width()||0>=this.get_mask().get_height()))){Fa.prototype.__renderCanvas.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}b=
0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=this.__graphics&&m.renderMask(this.__graphics,a);var b=new ra;this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height)},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Fa.prototype.__renderGL.call(this,a);a.maskManager.pushObject(this);a.filterManager.pushObject(this);for(var b=
0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__setStageReference:function(a){Fa.prototype.__setStageReference.call(this,a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){Fa.prototype.__update.call(this,
a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var f=d[b];++b;f.__update(a,!0,c)}}},__updateChildren:function(a){Fa.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:ib,__properties__:w(Fa.prototype.__properties__,{get_numChildren:"get_numChildren"})});var wb=function(){ib.call(this);this.buttonMode=!1;this.useHandCursor=!0};h["openfl.display.Sprite"]=wb;
wb.__name__=["openfl","display","Sprite"];wb.__super__=ib;wb.prototype=w(ib.prototype,{buttonMode:null,dropTarget:null,hitArea:null,useHandCursor:null,__getCursor:function(){return this.buttonMode&&this.useHandCursor?P.POINTER:null},__hitTest:function(a,b,c,d,f,q){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,q),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=q),a}else{if(!q.get_visible()||this.__isMask||f&&!this.mouseEnabled&&
!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var e=cb.__temp;e.setTo(a,b);var t=this.__getRenderTransform(),l=t.a*t.d-t.b*t.c;if(0==l)e.x=-t.tx,e.y=-t.ty;else{var g=1/l*(t.c*(t.ty-e.y)+t.d*(e.x-t.tx));e.y=1/l*(t.a*(e.y-t.ty)+t.b*(t.tx-e.x));e.x=g}if(!this.__scrollRect.containsPoint(e))return!1}if(ib.prototype.__hitTest.call(this,a,b,c,d,f,q))return f;if((!f||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,
b,c,this.__getRenderTransform()))return null!=d&&d.push(q),!0}return!1},__hitTestMask:function(a,b){return ib.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new be(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled?!0:this.buttonMode},__class__:wb,__properties__:w(ib.prototype.__properties__,{get_graphics:"get_graphics"})});
var zd=function(){wb.call(this);X.SetPath("http://127.0.0.1/dev");var a=Tb.GetInstance();a.Show(this);this.addChild(new Qe(10,10,65280));a.OnInit(p(this,this.init))};h.Main=zd;zd.__name__=["Main"];zd.__super__=wb;zd.prototype=w(wb.prototype,{scene:null,_body:null,_timeline:null,_audio:null,init:function(){this.scene=new Xc;Tb.GetInstance().AddScene(this.scene);this.scene.camera.gameObject.set_z(500);var a=new Ia;a.set_y(-60);var b=a.AddComponent(Ad);b.Set("bman.png","b");b.PlayAction("hit",1);this.scene.AddChild(a);
this._body=b;this._body.AddEventListener(M.FINISH._type,p(this,this.onBodyFinish));a=new Ia;this.scene.AddChild(a);this._timeline=a=a.AddComponent(Re);a.onTouch=p(this,this.onTouch);this._timeline.onActionBegin=p(this,this.onActionBegin);this._timeline.onActionResult=p(this,this.onActionResult);a.Load("04.mp3");X.sound.Get("tip.wav");a.AddAction(new Yc(5.5,1,.5,.4));a.AddAction(new Yc(6.5,1,.5,.4));a.AddAction(new Yc(7.5,1,.5,.4));a.Start();this._audio=new Zc;this._audio.set_resource(X.sound.Get("c.wav"))},
onTouch:function(a){a.press&&(this._audio.Play(),this._body.PlayAction("hit",1),this._timeline.canTouch=!1)},onBodyFinish:function(){this._timeline.canTouch=!0},onActionBegin:function(a){if(y.__instanceof(a,Yc)){var b=new Ia;b.AddComponent(ce);b.set_x(60);b.set_z(200);var c=b.AddComponent(Kb),d=1+3*$c.instance.GetFloat(),f=d|0;0>d&&f!=d&&--f;c.set_sprite(X.sprite.Get("c0"+f+".png"));this.scene.AddChild(b);a.userData=b}},onActionResult:function(a){this._timeline.canTouch=!0;var b=a.userData;null!=
b&&(console.log(a),b.RemoveComponent(ce),b.AddComponent(Se))},__class__:zd});var Me=function(a){a.addChild(this);zd.call(this);this.dispatchEvent(new L("addedToStage",!1,!1))};h.DocumentClass=Me;Me.__name__=["DocumentClass"];Me.__super__=zd;Me.prototype=w(zd.prototype,{__class__:Me});var ea=function(){this._constructed=!1;this.Construct()};h["lovedna.Object"]=ea;ea.__name__=["lovedna","Object"];ea.prototype={_constructed:null,Construct:function(){this._constructed||(this._constructed=!0,this.onConstruct())},
onConstruct:function(){},__class__:ea};var ha=function(){ea.call(this)};h["lovedna.event.EventDispatcher"]=ha;ha.__name__=["lovedna","event","EventDispatcher"];ha.__super__=ea;ha.prototype=w(ea.prototype,{_eventMap:null,_eventSortMap:null,_eventList:null,AddEventListener:function(a,b,c,d,f){null==f&&(f=0);null==d&&(d=!1);null==c&&(c=0);if(null!=a&&null!=b){null==this._eventMap&&(this._eventMap=new B,this._eventSortMap=new B);null==c&&(c=0);null==d&&(d=!1);null==f&&(f=0);var q=this._eventMap;if(null!=
n[a]?q.existsReserved(a):q.h.hasOwnProperty(a))for(var q=this._eventMap,q=null!=n[a]?q.getReserved(a):q.h[a],e=q.length;0<e--;){if(q[e].Match(b))return}else q=[],e=this._eventMap,null!=n[a]?e.setReserved(a,q):e.h[a]=q;q.push(new Gg(this,b,c,d,f));0!=c&&(b=this._eventSortMap,null!=n[a]?b.setReserved(a,!0):b.h[a]=!0)}},DispatchEvent:function(a){if(null==this._eventMap)return!1;var b=a._type;if(null==b)return!1;var c=this._eventMap,c=null!=n[b]?c.getReserved(b):c.h[b];if(null==c)return!1;null==this._eventList&&
(this._eventList=[]);if(-1!=this._eventList.indexOf(a))return!1;this._eventList.push(a);var d=this._eventSortMap;if(null!=n[b]?d.getReserved(b):d.h[b])d=this._eventSortMap,null!=n[b]?d.setReserved(b,!1):d.h[b]=!1,c.sort(p(this,this.sortByPriority));for(b=c.length;0<b--;)c[b].Dispatch(a);this._eventList.splice(0,this._eventList.length);return!0},HasEventListener:function(a){if(null==this._eventMap)return!1;var b=this._eventMap;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},RemoveEventListener:function(a,
b){if(null!=this._eventMap){var c=this._eventMap,c=null!=n[a]?c.getReserved(a):c.h[a];if(null!=c){if(null==b)c.splice(0,c.length);else for(var d=c.length;0<d--;){var f=c[d];f.Match(b)&&(f.Destroy(),z.remove(c,f))}0==c.length&&this._eventMap.remove(a);c=this._eventMap;(new xc(c,c.arrayKeys())).hasNext()||(this._eventSortMap=this._eventMap=null)}}},Dispose:function(){this._eventList=this._eventSortMap=this._eventMap=null},sortByPriority:function(a,b){var c=a.priority,d=b.priority;return c>d?1:c<d?-1:
0},__class__:ha});var ia=function(){this.offset=this._length=0};h["lovedna.ds.SmartArray"]=ia;ia.__name__=["lovedna","ds","SmartArray"];ia.prototype={offset:null,_buffer:null,_length:null,_i:null,Add:function(a){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[this.offset+this._length++]=a},Pop:function(){if(null==this._buffer||1>this._length)return null;this._length--;return this._buffer[this.offset+this._length]},Shift:function(){if(null==this._buffer||1>this._length)return null;
64<this.offset&&this.offset>this._length&&this.Trim();this._length--;return this._buffer[this.offset++]},Get:function(a,b){null==b&&(b=!1);if(null==this._buffer||1>this._length)return null;b&&(a<this._length&&(a+=this._length),a%=this._length);return a>=this._length?null:this._buffer[a+this.offset]},Set:function(a,b){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[a+this.offset]=b;this._length<a+1&&(this._length=a+1)},Clear:function(){this.offset=this._length=0},Trim:function(){if(null!=
this._buffer&&0<this._length&&!(0==this.offset&&this._length>=this._buffer.length)){var a=[];for(this._i=this._length;0<this._i--;)a[this._i]=this._buffer[this._i+this.offset];this._buffer=a;this.offset=0}},From:function(a){null==this._buffer&&(this._buffer=[],this.offset=this._length=0);for(this._i=a.length;0<this._i--;)this._buffer[this._i]=a[this._i];this._length=a.length;this.offset>this._length-1&&(this.offset=this._length-1);return this},Copy:function(a){null==this._buffer&&(this._buffer=[],
this.offset=this._length=0);for(this._i=a._length;0<this._i--;)this._buffer[this._i]=a._buffer[this._i];this._length=a._length;this.offset=a.offset;return this},Dispose:function(){this._buffer=null},RemoveAt:function(a,b){null==b&&(b=1);if(!(null==this._buffer||0>a||a>=this._length||1>b||(a+b>=this._length&&(b=this._length-a),1>b))){for(this._i=a;this._i<this._length-1;)this._buffer[this.offset+this._i]=this._buffer[this.offset+this._i+b],this._i++;this._length-=b}},Contains:function(a){return-1<
this.IndexOf(a)},IndexOf:function(a){if(null==this._buffer)return-1;for(this._i=this._length;0<this._i--;)if(a==this._buffer[this._i+-this.offset])return this._i;return-1},Sort:function(a){null!=this._buffer&&(this.Trim(),this._buffer.sort(a))},set_length:function(a){if(null==this._buffer)return 0;0<=a&&(this._length=a);return this._length},__class__:ia,__properties__:{set_length:"set_length"}};var T=function(){};h["lovedna.game.component.Component"]=T;T.__name__=["lovedna","game","component","Component"];
T.Destroy=function(a){a.destroying||(a._unbindAll(),a.destroying=!0,T._destroyList.Add(a))};T.ExitFrame=function(){for(var a=T._preStartList._length;0<a--;)T._preStartList.Get(a)._onawake();T._preStartList.Clear();a=T._destroyList._length;if(!(1>a)){for(;0<a--;){var b=T._destroyList.Get(a);b.Dispose();b.onDestroy();b.gameObject=null;b._bindEventMap=null;b.active=!1}T._destroyList.Clear()}};T.__super__=ha;T.prototype=w(ha.prototype,{gameObject:null,active:null,destroying:null,_bindEventMap:null,GetAliasName:function(){return xb.GetClassName(this)},
onConstruct:function(){ha.prototype.onConstruct.call(this);this.active=!1;this._bindEventMap=new B},onDestroy:function(){},init:function(a){null!=a&&null==this.gameObject&&(this.active=!0,this.gameObject=a,T._preStartList.Add(this),this.onStart(),a=this.getCallback(this.gameObject.active?x.onEnable:x.onDisable),null!=a&&a(),null!=this.gameObject.scene&&(a=this.getCallback(x.onAddedToScene),null!=a&&a()),0!=this.gameObject.visible&&(a=this.getCallback(x.onBecameVisible),null!=a&&a()))},onStart:function(){},
onAwake:function(){},changeNextFrame:function(){null!=this.gameObject&&this.gameObject.AddEventListener(x.onFrame._type,p(this,this._onchange))},onChangeFrame:function(){},_unbindAll:function(){for(var a=this._bindEventMap.keys();a.hasNext();){var b=a.next(),c=this._bindEventMap,c=null!=n[b]?c.getReserved(b):c.h[b];this.gameObject.RemoveEventListener(b,c);this._bindEventMap.remove(b)}this._bindEventMap=null},bindEvent:function(a,b){if(null!=this.gameObject){var c=this._bindEventMap,d=a._type;(null!=
n[d]?c.existsReserved(d):c.h.hasOwnProperty(d))||(c=this._bindEventMap,d=a._type,null!=n[d]?c.setReserved(d,b):c.h[d]=b,this.gameObject.AddEventListener(a._type,b))}},unbindEvent:function(a){if(null!=this.gameObject){a=a._type;var b=this._bindEventMap;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this._bindEventMap,b=null!=n[a]?b.getReserved(a):b.h[a],this._bindEventMap.remove(a),this.gameObject.RemoveEventListener(a,b)}},getCallback:function(a){if(null==this.gameObject)return null;a=
a._type;var b=this._bindEventMap;if(null!=n[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))return null;b=this._bindEventMap;return null!=n[a]?b.getReserved(a):b.h[a]},_onchange:function(){this.gameObject.RemoveEventListener(x.onFrame._type,p(this,this._onchange));this.onChangeFrame()},_onawake:function(){if(null!=this.gameObject)this.onAwake()},__class__:T});var Re=function(){};h.AudioTimeline=Re;Re.__name__=["AudioTimeline"];Re.__super__=T;Re.prototype=w(T.prototype,{onActionBegin:null,onActionEnd:null,
onActionUpdate:null,onActionResult:null,onTouch:null,canTouch:null,_init:null,_audio:null,_startTime:null,_soundTime:null,_camera:null,_checking:null,_actions:null,_heap:null,_nextAction:null,_input:null,_activeActions:null,Load:function(a){this._init=!1;this._audio.set_resource(X.sound.Get(a))},AddAction:function(a){this._actions.Add(a)},Start:function(){this._activeActions.Clear();for(var a=this._actions._length;0<a--;){var b=this._actions.Get(a);b.Reset();this._heap.Push(b)}this._nextAction=this._heap.Shift();
this._audio.Play();this.bindEvent(x.onUpdate,p(this,this.onUpdate))},onStart:function(){T.prototype.onStart.call(this);this.bindEvent(x.onAddedToScene,p(this,this.onAddedToScene));this._actions=new ia;this._activeActions=new ia;this._heap=new Te(p(this,this.heapcompare));this._audio=new Zc;this._audio.AddEventListener(M.INIT._type,p(this,this.soundInit));this._audio.timeOffset=!1;this._input=new ia;for(var a=0;5>a;){var b=a++;this._input.Add(new Hg(b))}this.canTouch=!0},heapcompare:function(a,b){return a.begin<
b.begin?-1:1},soundInit:function(){this._init=!0;this._checking=!1;this._startTime=this._soundTime=0},onBeginAction:function(a){if(null!=this.onActionBegin)this.onActionBegin(a)},onEndAction:function(a){if(null!=this.onActionEnd)this.onActionEnd(a)},onResultAction:function(a){if(null!=this.onActionResult)this.onActionResult(a)},onUpdate:function(){if(this._audio.playing){var a=this._audio.duration*this._audio.position;this._soundTime=a;for(this._startTime=.001*(new Date).getTime()+za._timeOffset-
a;null!=this._nextAction&&a>=this._nextAction.begin;)0<this._nextAction.duration&&this._activeActions.Add(this._nextAction),this.onBeginAction(this._nextAction),this._nextAction.Begin(),this._nextAction=this._heap.Shift();var b=this._activeActions._length;if(!(1>b))for(;0<b--;){var c=this._activeActions.Get(b);if(a>=c.end)this._activeActions.RemoveAt(b),this.onEndAction(c),c.End();else if(c.Update(a),null!=this.onActionUpdate)this.onActionUpdate(c)}}else this._checking=!1},onAddedToScene:function(){this._camera=
this.gameObject.scene.camera;this._camera.gameObject.AddEventListener(x.onTouchDown._type,p(this,this.onTouchDown));this._camera.gameObject.AddEventListener(x.onTouchUp._type,p(this,this.onTouchUp))},onTouchDown:function(){if(this._init&&this.canTouch){var a=x.onTouchDown.touch,b=a.position,c=this._camera.ScreenToViewportPoint(b.x,b.y),b=.001*(new Date).getTime()+za._timeOffset-this._startTime,a=this._input.Get(a.id);a.position=c;a.time=b;a.press=!0;if(null!=this.onTouch)this.onTouch(a);c=this._activeActions._length;
if(0<c)for(;0<c--;){var d=this._activeActions.Get(c);if(d.enabled&&d.inputEnable&&!(b<d.begin)&&(d.Input(a),-1!=d.result))this.onResultAction(d)}}},onTouchUp:function(){if(this._init&&this.canTouch){var a=.001*(new Date).getTime()+za._timeOffset-this._startTime,b=x.onTouchUp.touch,c=b.position,c=this._camera.ScreenToViewportPoint(c.x,c.y),b=this._input.Get(b.id);b.position=c;b.time=a;b.press=!1;if(null!=this.onTouch)this.onTouch(b);c=this._activeActions._length;if(0<c)for(;0<c--;){var d=this._activeActions.Get(c);
if(d.enabled&&d.inputEnable&&!(a<d.begin)&&(d.Input(b),-1!=d.result))this.onResultAction(d)}}},__class__:Re});var Aa=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};h.EReg=Aa;Aa.__name__=["EReg"];Aa.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new r("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new r("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:z.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?z.substr(a,b,null):z.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=F.string(z.substr(a,c,
null));break}var f=this.matchedPos(),d=d+F.string(z.substr(a,c,f.pos-c)),d=d+F.string(b(this));0==f.len?(d+=F.string(z.substr(a,f.pos,1)),c=f.pos+1):c=f.pos+f.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=F.string(z.substr(a,c,null)));return d},__class__:Aa};var z=function(){};h.HxOverrides=z;z.__name__=["HxOverrides"];z.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;
case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new r("Invalid date format : "+a);}};z.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};z.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};z.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};z.iter=function(a){return{cur:0,
arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Hg=function(a){this.id=a;this.press=!0};h.InputData=Hg;Hg.__name__=["InputData"];Hg.prototype={id:null,press:null,position:null,time:null,__class__:Hg};var ad=function(){this.length=0};h.List=ad;ad.__name__=["List"];ad.prototype={h:null,q:null,length:null,add:function(a){a=new Ig(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;
var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},iterator:function(){return new Jg(this.h)},__class__:ad};var Ig=function(a,b){this.item=a;this.next=b};h["_List.ListNode"]=Ig;Ig.__name__=["_List","ListNode"];Ig.prototype={item:null,next:null,__class__:Ig};var Jg=function(a){this.head=a};h["_List.ListIterator"]=Jg;Jg.__name__=["_List","ListIterator"];Jg.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=
this.head.next;return a},__class__:Jg};var Fc=function(){};h.ManifestResources=Fc;Fc.__name__=["ManifestResources"];Fc.init=function(a){Fc.preloadLibraries=[];Fc.preloadLibraryNames=[];var b=null;null!=a&&Object.prototype.hasOwnProperty.call(a,"assetsPrefix")&&(b=H.field(a,"assetsPrefix"));null==b&&(b="");J.defaultRootPath=b;a=Sa.parse('{"name":null,"assets":"ah","version":2,"libraryArgs":[],"libraryType":null}',b);a=cc.fromManifest(a);J.registerLibrary("default",a);a=J.getLibrary("default");null!=
a?Fc.preloadLibraries.push(a):Fc.preloadLibraryNames.push("default")};Math.__name__=["Math"];var H=function(){};h.Reflect=H;H.__name__=["Reflect"];H.field=function(a,b){try{return a[b]}catch(c){return null}};H.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};H.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};H.compareMethods=function(a,b){return a==b?!0:H.isFunction(a)&&
H.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};H.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var F=function(){};h.Std=F;F.__name__=["Std"];F.string=function(a){return y.__string_rec(a,"")};F.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=z.cca(a,1)&&88!=z.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Gc=function(){this.b=""};h.StringBuf=Gc;Gc.__name__=["StringBuf"];Gc.prototype={b:null,__class__:Gc};
var N=function(){};h.StringTools=N;N.__name__=["StringTools"];N.startsWith=function(a,b){return a.length>=b.length?z.substr(a,0,b.length)==b:!1};N.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?z.substr(a,d-c,c)==b:!1};N.isSpace=function(a,b){var c=z.cca(a,b);return 8<c&&14>c?!0:32==c};N.ltrim=function(a){for(var b=a.length,c=0;c<b&&N.isSpace(a,c);)++c;return 0<c?z.substr(a,c,b-c):a};N.rtrim=function(a){for(var b=a.length,c=0;c<b&&N.isSpace(a,b-c-1);)++c;return 0<c?z.substr(a,0,b-c):
a};N.trim=function(a){return N.ltrim(N.rtrim(a))};N.replace=function(a,b,c){return a.split(b).join(c)};N.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var Hc=function(a,b){null==b&&(b=0);0>b&&(b=0);this.duration=b;this.begin=a;this.end=a+b;this.enabled=!0;this.type="";this.time=-1};h.TimeAction=Hc;Hc.__name__=["TimeAction"];Hc.prototype={userData:null,type:null,begin:null,end:null,duration:null,inputEnable:null,time:null,
enabled:null,result:null,detail:null,Reset:function(){this.enabled=!0;this.result=-1;this.detail=1},Begin:function(){},Update:function(a){this.time=a},End:function(){},Input:function(a){this.result=-1;this.enabled=!1},__class__:Hc};var ja=h.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};ja.TNull=["TNull",0];ja.TNull.toString=A;ja.TNull.__enum__=ja;ja.TInt=["TInt",1];ja.TInt.toString=A;ja.TInt.__enum__=ja;ja.TFloat=["TFloat",
2];ja.TFloat.toString=A;ja.TFloat.__enum__=ja;ja.TBool=["TBool",3];ja.TBool.toString=A;ja.TBool.__enum__=ja;ja.TObject=["TObject",4];ja.TObject.toString=A;ja.TObject.__enum__=ja;ja.TFunction=["TFunction",5];ja.TFunction.toString=A;ja.TFunction.__enum__=ja;ja.TClass=function(a){a=["TClass",6,a];a.__enum__=ja;a.toString=A;return a};ja.TEnum=function(a){a=["TEnum",7,a];a.__enum__=ja;a.toString=A;return a};ja.TUnknown=["TUnknown",8];ja.TUnknown.toString=A;ja.TUnknown.__enum__=ja;var Q=function(){};h.Type=
Q;Q.__name__=["Type"];Q.getSuperClass=function(a){return a.__super__};Q.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};Q.getEnumName=function(a){return a.__ename__.join(".")};Q.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};Q.resolveEnum=function(a){a=h[a];return null!=a&&a.__ename__?a:null};Q.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],
b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new r("Too many arguments");}};Q.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};Q.createEnum=function(a,b,c){var d=H.field(a,b);if(null==d)throw new r("No such constructor "+b);if(H.isFunction(d)){if(null==c)throw new r("Constructor "+b+
" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new r("Constructor "+b+" does not need parameters");return d};Q.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);z.remove(b,"__class__");z.remove(b,"__properties__");return b};Q["typeof"]=function(a){switch(typeof a){case "boolean":return ja.TBool;case "function":return a.__name__||a.__ename__?ja.TObject:ja.TFunction;case "number":return Math.ceil(a)==a%2147483648?ja.TInt:ja.TFloat;case "object":if(null==
a)return ja.TNull;var b=a.__enum__;if(null!=b)return ja.TEnum(b);a=y.getClass(a);return null!=a?ja.TClass(a):ja.TObject;case "string":return ja.TClass(String);case "undefined":return ja.TNull;default:return ja.TUnknown}};var bd={};h["_UInt.UInt_Impl_"]=bd;bd.__name__=["_UInt","UInt_Impl_"];bd.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};bd.toFloat=function(a){return 0>a?4294967296+a:a+0};var E=function(a){this.nodeType=a;this.children=[];this.attributeMap=new B};h.Xml=E;E.__name__=["Xml"];E.parse=
function(a){return Ic.parse(a)};E.createElement=function(a){var b=new E(E.Element);if(b.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};E.createPCData=function(a){var b=new E(E.PCData);if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};E.createCData=function(a){var b=new E(E.CData);if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};E.createComment=function(a){var b=new E(E.Comment);if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};E.createDocType=function(a){var b=new E(E.DocType);if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};E.createProcessingInstruction=function(a){var b=new E(E.ProcessingInstruction);if(b.nodeType==E.Document||b.nodeType==
E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};E.createDocument=function(){return new E(E.Document)};E.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(a){if(this.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=n[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+
this.nodeType);var c=this.attributeMap;null!=n[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},elements:function(){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var d=c[b];++b;
d.nodeType==E.Element&&a.push(d)}return z.iter(a)},elementsNamed:function(a){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var f=d[c];++c;var q;if(f.nodeType==E.Element){if(f.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+f.nodeType);q=f.nodeName==a}else q=!1;q&&b.push(f)}return z.iter(b)},firstElement:function(){if(this.nodeType!=
E.Document&&this.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==E.Element)return c}return null},addChild:function(a){if(this.nodeType!=E.Document&&this.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=
E.Document&&this.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+this.nodeType);return z.remove(this.children,a)?(a.parent=null,!0):!1},__class__:E};var de=function(){};h["haxe.IMap"]=de;de.__name__=["haxe","IMap"];de.prototype={get:null,set:null,exists:null,remove:null,__class__:de};var ee=function(a,b){this.high=a;this.low=b};h["haxe._Int64.___Int64"]=ee;ee.__name__=["haxe","_Int64","___Int64"];ee.prototype={high:null,low:null,__class__:ee};var Ub=function(){this.buf=
new Gc;this.cache=[];this.useCache=Ub.USE_CACHE;this.useEnumIndex=Ub.USE_ENUM_INDEX;this.shash=new B;this.scount=0};h["haxe.Serializer"]=Ub;Ub.__name__=["haxe","Serializer"];Ub.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=n[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=n[a]?b.setReserved(a,
c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=F.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,q=this.cache[f];if(typeof q==b&&q==a)return this.buf.b+="r",this.buf.b+=null==f?"null":""+f,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=H.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(H.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=
Q["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(y.__instanceof(a,Ci))a=Q.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(y.__instanceof(a,Di))this.buf.b+="B",this.serializeString(Q.getEnumName(a));else{if(this.useCache&&
this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new r("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var f=c++;null==a[f]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[f]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));
this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=F.string(a.getTime());break;case ad:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ua:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case Lb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=H.field(c,"__id__"),H.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);
this.buf.b+="h";break;case B:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=n[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case ta:this.buf.b+="s";this.buf.b+=F.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=Ub.BASE64_CODES;if(null==b){for(var b=Array(Ub.BASE64.length),f=0,q=Ub.BASE64.length;f<q;){var e=f++;b[e]=z.cca(Ub.BASE64,e)}Ub.BASE64_CODES=b}for(;c<d;)f=a.b[c++],q=a.b[c++],e=a.b[c++],this.buf.b+=String.fromCharCode(b[f>>
2]),this.buf.b+=String.fromCharCode(b[(f<<4|q>>4)&63]),this.buf.b+=String.fromCharCode(b[(q<<2|e>>6)&63]),this.buf.b+=String.fromCharCode(b[e&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",
this.serializeString(Q.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Q.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=F.string(this.useEnumIndex?"j":"w");this.serializeString(Q.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=F.string(a[1])):this.serializeString(a[0]);this.buf.b+=
":";b=a.length;this.buf.b+=F.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new r("Cannot serialize "+F.string(a));}},__class__:Ub};var Jc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};h["haxe.Timer"]=Jc;Jc.__name__=["haxe","Timer"];Jc.delay=function(a,b){var c=new Jc(b);c.run=function(){c.stop();a()};return c};Jc.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},
__class__:Jc};var Ue=function(){};h["haxe._Unserializer.DefaultResolver"]=Ue;Ue.__name__=["haxe","_Unserializer","DefaultResolver"];Ue.prototype={resolveClass:function(a){return Q.resolveClass(a)},resolveEnum:function(a){return Q.resolveEnum(a)},__class__:Ue};var yb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=yb.DEFAULT_RESOLVER;null==a&&(a=new Ue,yb.DEFAULT_RESOLVER=a);this.resolver=a};h["haxe.Unserializer"]=yb;yb.__name__=["haxe","Unserializer"];yb.initCodes=
function(){for(var a=[],b=0,c=yb.BASE64.length;b<c;){var d=b++;a[yb.BASE64.charCodeAt(d)]=d}return a};yb.run=function(a){return(new yb(a)).unserialize()};yb.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){null==a?(null==Bd.instance&&(Bd.instance=new Bd),this.resolver=Bd.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>
d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(z.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new r("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new r("Invalid object key");var c=this.unserialize();a[b]=
c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new r("Invalid enum format");var c=this.readDigits();if(0==c)return Q.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return Q.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new r("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==
b)throw new r("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new r("Class not found "+a);a=Q.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new r("Invalid custom data");return a;case 77:a=new Lb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new r("Invalid string reference");
return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new B;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=n[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new r("Class not found "+
a);a=Q.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new r("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new r("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new ad;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ua;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new r("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new r("Invalid reference");
return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new r("Invalid bytes length");var f=yb.CODES;null==f&&(f=yb.initCodes(),yb.CODES=f);for(var q=this.pos,e=a&3,t=q+(a-e),b=new ta(new fa(3*(a>>2)+(2<=e?e-1:0))),c=0;q<t;){var l=f[d.charCodeAt(q++)],g=f[d.charCodeAt(q++)];b.b[c++]=(l<<2|g>>4)&255;l=f[d.charCodeAt(q++)];b.b[c++]=(g<<4|l>>2)&255;g=f[d.charCodeAt(q++)];b.b[c++]=(l<<6|g)&255}2<=e&&(g=f[d.charCodeAt(q++)],t=f[d.charCodeAt(q++)],
b.b[c++]=(g<<2|t>>4)&255,3==e&&(d=f[d.charCodeAt(q++)],b.b[c++]=(t<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=z.strDate(z.substr(this.buf,
this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new r("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw r.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new r("Invalid string length");b=z.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));
this.scache.push(b);return b;case 122:return 0}this.pos--;throw new r("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:yb};var Bd=function(){};h["haxe._Unserializer.NullResolver"]=Bd;Bd.__name__=["haxe","_Unserializer","NullResolver"];Bd.prototype={resolveClass:function(a){return null},resolveEnum:function(a){return null},__class__:Bd};var Cd=function(){this.a1=1;this.a2=0};h["haxe.crypto.Adler32"]=Cd;Cd.__name__=["haxe","crypto","Adler32"];Cd.read=function(a){var b=
new Cd,c=a.readByte(),d=a.readByte(),f=a.readByte();a=a.readByte();b.a1=f<<8|a;b.a2=c<<8|d;return b};Cd.prototype={a1:null,a2:null,update:function(a,b,c){var d=this.a1,f=this.a2,q=b;for(b+=c;q<b;)c=q++,d=(d+a.b[c])%65521,f=(f+d)%65521;this.a1=d;this.a2=f},equals:function(a){return a.a1==this.a1?a.a2==this.a2:!1},__class__:Cd};var Kg=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new r("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};h["haxe.crypto.BaseCode"]=
Kg;Kg.__name__=["haxe","crypto","BaseCode"];Kg.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,f=new ta(new fa(d+(0==8*a.length%b?0:1))),q=0,e=0,t=(1<<b)-1,l=0,g=0;g<d;){for(;e<b;)e+=8,q<<=8,q|=a.b[l++];e-=b;f.b[g++]=c.b[q>>e&t]&255}0<e&&(f.b[g++]=c.b[q<<b-e&t]&255);return f},__class__:Kg};var Ua=function(){this.h={}};h["haxe.ds.IntMap"]=Ua;Ua.__name__=["haxe","ds","IntMap"];Ua.__interfaces__=[de];Ua.prototype={h:null,set:function(a,b){this.h[a]=
b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return z.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Ua};var Lb=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=
Lb;Lb.__name__=["haxe","ds","ObjectMap"];Lb.__interfaces__=[de];Lb.assignId=function(a){return a.__id__=++Lb.count};Lb.getId=function(a){return a.__id__};Lb.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Lb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=
[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return z.iter(a)},__class__:Lb};var xc=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=xc;xc.__name__=["haxe","ds","_StringMap","StringMapIterator"];xc.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=n[b]?a.getReserved(b):a.h[b]},
__class__:xc};var B=function(){this.h={}};h["haxe.ds.StringMap"]=B;B.__name__=["haxe","ds","StringMap"];B.__interfaces__=[de];B.prototype={h:null,rh:null,set:function(a,b){null!=n[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=n[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=n[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+
a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=n[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return z.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:B};
var ta=function(a){this.length=a.byteLength;this.b=new Ma(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};h["haxe.io.Bytes"]=ta;ta.__name__=["haxe","io","Bytes"];ta.alloc=function(a){return new ta(new fa(a))};ta.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new ta((new Ma(b)).buffer)};
ta.ofData=function(a){var b=a.hxBytes;return null!=b?b:new ta(a)};ta.fastGet=function(a,b){return a.bytes[b]};ta.prototype={length:null,b:null,data:null,blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new r(fb.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new r(fb.OutsideBounds);for(var c="",d=this.b,f=String.fromCharCode,q=a,e=a+b;q<e;){var t=d[q++];if(128>t){if(0==
t)break;c+=f(t)}else if(224>t)c+=f((t&63)<<6|d[q++]&127);else if(240>t)var l=d[q++],c=c+f((t&31)<<12|(l&127)<<6|d[q++]&127);else var l=d[q++],g=d[q++],t=(t&15)<<18|(l&127)<<12|(g&127)<<6|d[q++]&127,c=c+f((t>>10)+55232),c=c+f(t&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:ta};var Lg=function(){this.b=[]};h["haxe.io.BytesBuffer"]=Lg;Lg.__name__=["haxe","io","BytesBuffer"];Lg.prototype={b:null,getBytes:function(){var a=new ta((new Ma(this.b)).buffer);this.b=
null;return a},__class__:Lg};var Ve=function(){};h["haxe.io.Input"]=Ve;Ve.__name__=["haxe","io","Input"];Ve.prototype={bigEndian:null,readByte:function(){throw new r("Not implemented");},readBytes:function(a,b,c){var d=c,f=a.b;if(0>b||0>c||b+c>a.length)throw new r(fb.OutsideBounds);try{for(;0<d;)f[b]=this.readByte(),++b,--d}catch(q){if(q instanceof r&&(q=q.val),!y.__instanceof(q,fe))throw q;}return c-d},read:function(a){for(var b=new ta(new fa(a)),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw new r(fb.Blocked);
c+=d;a-=d}return b},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},__class__:Ve};var We=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new r(fb.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=c};h["haxe.io.BytesInput"]=We;We.__name__=["haxe","io","BytesInput"];We.__super__=Ve;We.prototype=w(Ve.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw new r(new fe);this.len--;
return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new r(fb.OutsideBounds);if(0==this.len&&0<c)throw new r(new fe);this.len<c&&(c=this.len);var d=this.b;a=a.b;for(var f=0,q=c;f<q;){var e=f++;a[b+e]=d[this.pos+e]}this.pos+=c;this.len-=c;return c},__class__:We});var fe=function(){};h["haxe.io.Eof"]=fe;fe.__name__=["haxe","io","Eof"];fe.prototype={toString:function(){return"Eof"},__class__:fe};var fb=h["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked",
"Overflow","OutsideBounds","Custom"]};fb.Blocked=["Blocked",0];fb.Blocked.toString=A;fb.Blocked.__enum__=fb;fb.Overflow=["Overflow",1];fb.Overflow.toString=A;fb.Overflow.__enum__=fb;fb.OutsideBounds=["OutsideBounds",2];fb.OutsideBounds.toString=A;fb.OutsideBounds.__enum__=fb;fb.Custom=function(a){a=["Custom",3,a];a.__enum__=fb;a.toString=A;return a};var Vb=function(){};h["haxe.io.FPHelper"]=Vb;Vb.__name__=["haxe","io","FPHelper"];Vb.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&
0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Vb.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};Vb.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Vb.doubleToI64=
function(a){var b=Vb.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453),c=Math.round(4503599627370496*(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var Dd=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=z.substr(a,0,c),a=z.substr(a,c+1,null),this.backslash=
!0):c<b?(this.dir=z.substr(a,0,b),a=z.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=z.substr(a,b+1,null),this.file=z.substr(a,0,b)):(this.ext=null,this.file=a)};h["haxe.io.Path"]=Dd;Dd.__name__=["haxe","io","Path"];Dd.directory=function(a){a=new Dd(a);return null==a.dir?"":a.dir};Dd.prototype={dir:null,file:null,ext:null,backslash:null,__class__:Dd};var cd=function(){};h["haxe.rtti.Meta"]=cd;cd.__name__=["haxe","rtti","Meta"];cd.getMeta=function(a){return a.__meta__};cd.getStatics=
function(a){a=cd.getMeta(a);return null==a||null==a.statics?{}:a.statics};cd.getFields=function(a){a=cd.getMeta(a);return null==a||null==a.fields?{}:a.fields};var Mg=function(a){this.__x=a};h["haxe.xml._Fast.NodeAccess"]=Mg;Mg.__name__=["haxe","xml","_Fast","NodeAccess"];Mg.prototype={__x:null,resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){if(this.__x.nodeType==E.Document)b="Document";else{b=this.__x;if(b.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+
b.nodeType);b=b.nodeName}throw new r(b+" is missing element "+a);}return new Kc(b)},__class__:Mg};var Ng=function(a){this.__x=a};h["haxe.xml._Fast.AttribAccess"]=Ng;Ng.__name__=["haxe","xml","_Fast","AttribAccess"];Ng.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==E.Document)throw new r("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b){b=this.__x;if(b.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+b.nodeType);throw new r(b.nodeName+
" is missing attribute "+a);}return b},__class__:Ng};var Og=function(a){this.__x=a};h["haxe.xml._Fast.HasAttribAccess"]=Og;Og.__name__=["haxe","xml","_Fast","HasAttribAccess"];Og.prototype={__x:null,resolve:function(a){if(this.__x.nodeType==E.Document)throw new r("Cannot access document attribute "+a);return this.__x.exists(a)},__class__:Og};var Pg=function(a){this.__x=a};h["haxe.xml._Fast.HasNodeAccess"]=Pg;Pg.__name__=["haxe","xml","_Fast","HasNodeAccess"];Pg.prototype={__x:null,resolve:function(a){return this.__x.elementsNamed(a).hasNext()},
__class__:Pg};var Qg=function(a){this.__x=a};h["haxe.xml._Fast.NodeListAccess"]=Qg;Qg.__name__=["haxe","xml","_Fast","NodeListAccess"];Qg.prototype={__x:null,resolve:function(a){var b=new ad;for(a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Kc(c))}return b},__class__:Qg};var Kc=function(a){if(a.nodeType!=E.Document&&a.nodeType!=E.Element)throw new r("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Mg(a);this.nodes=new Qg(a);this.att=new Ng(a);this.has=new Og(a);this.hasNode=
new Pg(a)};h["haxe.xml.Fast"]=Kc;Kc.__name__=["haxe","xml","Fast"];Kc.prototype={x:null,node:null,nodes:null,att:null,has:null,hasNode:null,get_name:function(){if(this.x.nodeType==E.Document)return"Document";var a=this.x;if(a.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+a.nodeType);return a.nodeName},get_innerData:function(){var a=this.x;if(a.nodeType!=E.Document&&a.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+a.nodeType);
a=z.iter(a.children);if(!a.hasNext())throw new r(this.get_name()+" does not have data");var b=a.next();if(a.hasNext()){var c=a.next();if(b.nodeType==E.PCData&&c.nodeType==E.CData){if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b=""==N.trim(b.nodeValue)}else b=!1;if(b){if(!a.hasNext()){if(c.nodeType==E.Document||c.nodeType==E.Element)throw new r("Bad node type, unexpected "+c.nodeType);return c.nodeValue}b=a.next();if(b.nodeType==E.PCData){if(b.nodeType==
E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+b.nodeType);b=""==N.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(c.nodeType==E.Document||c.nodeType==E.Element)throw new r("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new r(this.get_name()+" does not only have data");}if(b.nodeType!=E.PCData&&b.nodeType!=E.CData)throw new r(this.get_name()+" does not have data");if(b.nodeType==E.Document||b.nodeType==E.Element)throw new r("Bad node type, unexpected "+
b.nodeType);return b.nodeValue},get_elements:function(){var a=this.x.elements();return{hasNext:p(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new Kc(b)}}},__class__:Kc,__properties__:{get_elements:"get_elements",get_innerData:"get_innerData",get_name:"get_name"}};var jb=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};
h["haxe.xml.XmlParserException"]=jb;jb.__name__=["haxe","xml","XmlParserException"];jb.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return Q.getClassName(y.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:jb};var Ic=function(){};h["haxe.xml.Parser"]=Ic;Ic.__name__=["haxe","xml","Parser"];Ic.parse=function(a,b){null==b&&(b=!1);var c=E.createDocument();Ic.doParse(a,b,0,c);return c};Ic.doParse=
function(a,b,c,d){null==c&&(c=0);for(var f=null,q=1,e=1,t=null,l=0,g=0,h=0,m=a.charCodeAt(c),u=new Gc,p=1,w=-1;m==m;){switch(q){case 0:switch(m){case 9:case 10:case 13:case 32:break;default:q=e;continue}break;case 1:if(60==m)q=0,e=2;else{l=c;q=13;continue}break;case 2:switch(m){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=z.substr(a,c,6).toUpperCase())throw new r(new jb("Expected <![CDATA[",a,c));c+=5;q=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=z.substr(a,c+2,6).toUpperCase())throw new r(new jb("Expected <!DOCTYPE",
a,c));c+=8;q=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new r(new jb("Expected \x3c!--",a,c));c+=2;q=15}l=c+1;break;case 47:if(null==d)throw new r(new jb("Expected node name",a,c));l=c+1;q=0;e=10;break;case 63:q=14;l=c;break;default:q=3;l=c;continue}break;case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(c==l)throw new r(new jb("Expected node name",a,c));f=E.createElement(z.substr(a,l,c-l));d.addChild(f);++g;q=0;e=4;continue}break;case 4:switch(m){case 47:q=
11;break;case 62:q=9;break;default:q=5;l=c;continue}break;case 5:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(l==c)throw new r(new jb("Expected attribute name",a,c));t=z.substr(a,l,c-l);if(f.exists(t))throw new r(new jb("Duplicate attribute ["+t+"]",a,c));q=0;e=6;continue}break;case 6:if(61==m)q=0,e=7;else throw new r(new jb("Expected =",a,c));break;case 7:switch(m){case 34:case 39:u=new Gc;q=8;l=c+1;w=m;break;default:throw new r(new jb('Expected "',a,c));}break;
case 8:switch(m){case 38:p=c-l;u.b+=null==p?z.substr(a,l,null):z.substr(a,l,p);q=18;p=8;l=c+1;break;case 60:case 62:if(b)throw new r(new jb("Invalid unescaped "+String.fromCharCode(m)+" in attribute value",a,c));m==w&&(e=c-l,u.b+=null==e?z.substr(a,l,null):z.substr(a,l,e),e=u.b,u=new Gc,f.set(t,e),q=0,e=4);break;default:m==w&&(e=c-l,u.b+=null==e?z.substr(a,l,null):z.substr(a,l,e),e=u.b,u=new Gc,f.set(t,e),q=0,e=4)}break;case 9:l=c=Ic.doParse(a,b,c,f);q=1;break;case 10:if(!(97<=m&&122>=m||65<=m&&90>=
m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(l==c)throw new r(new jb("Expected node name",a,c));e=z.substr(a,l,c-l);if(d.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+d.nodeType);if(e!=d.nodeName){if(d.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+d.nodeType);throw new r(new jb("Expected </"+d.nodeName+">",a,c));}q=0;e=12;continue}break;case 11:if(62==m)q=1;else throw new r(new jb("Expected >",a,c));break;case 12:if(62==m)return 0==
g&&d.addChild(E.createPCData("")),c;throw new r(new jb("Expected >",a,c));case 13:60==m?(e=c-l,u.b+=null==e?z.substr(a,l,null):z.substr(a,l,e),e=E.createPCData(u.b),u=new Gc,d.addChild(e),++g,q=0,e=2):38==m&&(p=c-l,u.b+=null==p?z.substr(a,l,null):z.substr(a,l,p),q=18,p=13,l=c+1);break;case 14:63==m&&62==a.charCodeAt(c+1)&&(++c,m=z.substr(a,l+1,c-l-2),d.addChild(E.createProcessingInstruction(m)),++g,q=1);break;case 15:45==m&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(E.createComment(z.substr(a,
l,c-l))),++g,c+=2,q=1);break;case 16:91==m?++h:93==m?--h:62==m&&0==h&&(d.addChild(E.createDocType(z.substr(a,l,c-l))),++g,q=1);break;case 17:93==m&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(m=E.createCData(z.substr(a,l,c-l)),d.addChild(m),++g,c+=2,q=1);break;case 18:if(59==m){l=z.substr(a,l,c-l);if(35==l.charCodeAt(0))l=120==l.charCodeAt(1)?F.parseInt("0"+z.substr(l,1,l.length-1)):F.parseInt(z.substr(l,1,l.length-1)),u.b+=String.fromCharCode(l);else if(m=Ic.escapes,null!=n[l]?m.existsReserved(l):
m.h.hasOwnProperty(l))m=Ic.escapes,l=null!=n[l]?m.getReserved(l):m.h[l],u.b+=F.string(l);else{if(b)throw new r(new jb("Undefined entity: "+l,a,c));u.b+=F.string("&"+l+";")}l=c+1;q=p}else if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)&&35!=m){if(b)throw new r(new jb("Invalid character in entity: "+String.fromCharCode(m),a,c));u.b+="&";m=c-l;u.b+=null==m?z.substr(a,l,null):z.substr(a,l,m);l=c--;q=p}}m=a.charCodeAt(++c)}1==q&&(l=c,q=13);if(13==q){if(c!=l||0==g)b=c-l,u.b+=
null==b?z.substr(a,l,null):z.substr(a,l,b),d.addChild(E.createPCData(u.b));return c}if(!b&&18==q&&13==p)return u.b+="&",b=c-l,u.b+=null==b?z.substr(a,l,null):z.substr(a,l,b),d.addChild(E.createPCData(u.b)),c;throw new r(new jb("Unexpected end",a,c));};var nc=h["haxe.zip.Huffman"]={__ename__:["haxe","zip","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};nc.Found=function(a){a=["Found",0,a];a.__enum__=nc;a.toString=A;return a};nc.NeedBit=function(a,b){var c=["NeedBit",1,a,b];c.__enum__=nc;
c.toString=A;return c};nc.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=nc;c.toString=A;return c};var Rg=function(){};h["haxe.zip.HuffTools"]=Rg;Rg.__name__=["haxe","zip","HuffTools"];Rg.prototype={treeDepth:function(a){switch(a[1]){case 0:return 0;case 1:var b=a[3];a=this.treeDepth(a[2]);b=this.treeDepth(b);return 1+(a<b?a:b);case 2:throw new r("assert");}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){if(1==a[1])return b=a[3],nc.NeedBit(this.treeCompress(a[2]),
this.treeCompress(b));throw new r("assert");}for(var c=[],d=0,f=1<<b;d<f;)d++,c.push(nc.Found(-1));this.treeWalk(c,0,0,b,a);return nc.NeedBits(b,c)},treeWalk:function(a,b,c,d,f){if(1==f[1]){var q=f[3],e=f[2];0<d?(this.treeWalk(a,b,c+1,d-1,e),this.treeWalk(a,b|1<<c,c+1,d-1,q)):a[b]=this.treeCompress(f)}else a[b]=this.treeCompress(f)},treeMake:function(a,b,c,d){if(d>b)throw new r("Invalid huffman");var f=c<<5|d;if(a.h.hasOwnProperty(f))return nc.Found(a.h[f]);c<<=1;++d;return nc.NeedBit(this.treeMake(a,
b,c,d),this.treeMake(a,b,c|1,d))},make:function(a,b,c,d){var f=[],q=[];if(32<d)throw new r("Invalid huffman");for(var e=0;e<d;)e++,f.push(0),q.push(0);for(e=0;e<c;){var t=e++,t=a[t+b];if(t>=d)throw new r("Invalid huffman");f[t]++}for(var e=0,t=1,l=d-1;t<l;){var g=t++,e=e+f[g]<<1;q[g]=e}f=new Ua;for(e=0;e<c;)t=e++,l=a[t+b],0!=l&&(g=q[l-1],q[l-1]=g+1,f.h[g<<5|l]=t);return this.treeCompress(nc.NeedBit(this.treeMake(f,d,0,1),this.treeMake(f,d,1,1)))},__class__:Rg};var Sg=function(a){this.buffer=new ta(new fa(65536));
this.pos=0;a&&(this.crc=new Cd)};h["haxe.zip._InflateImpl.Window"]=Sg;Sg.__name__=["haxe","zip","_InflateImpl","Window"];Sg.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=new ta(new fa(65536));this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=
a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:Sg};var aa=h["haxe.zip._InflateImpl.State"]={__ename__:["haxe","zip","_InflateImpl","State"],__constructs__:"Head Block CData Flat Crc Dist DistOne Done".split(" ")};aa.Head=["Head",0];aa.Head.toString=A;aa.Head.__enum__=aa;aa.Block=["Block",1];aa.Block.toString=A;aa.Block.__enum__=aa;
aa.CData=["CData",2];aa.CData.toString=A;aa.CData.__enum__=aa;aa.Flat=["Flat",3];aa.Flat.toString=A;aa.Flat.__enum__=aa;aa.Crc=["Crc",4];aa.Crc.toString=A;aa.Crc.__enum__=aa;aa.Dist=["Dist",5];aa.Dist.toString=A;aa.Dist.__enum__=aa;aa.DistOne=["DistOne",6];aa.DistOne.toString=A;aa.DistOne.__enum__=aa;aa.Done=["Done",7];aa.Done.toString=A;aa.Done.__enum__=aa;var gb=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new Rg;this.huffman=this.buildFixedHuffman();this.huffdist=
null;this.dist=this.len=0;this.state=b?aa.Head:aa.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new Sg(c)};h["haxe.zip.InflateImpl"]=gb;gb.__name__=["haxe","zip","InflateImpl"];gb.run=function(a,b){null==b&&(b=65536);for(var c=new ta(new fa(b)),d=new Lg,f=new gb(a);;){var q=f.readBytes(c,0,b);if(0>q||q>c.length)throw new r(fb.OutsideBounds);for(var e=c.b,t=0,l=q;t<l;){var g=t++;d.b.push(e[g])}if(q<
b)break}return d.getBytes()};gb.prototype={nbits:null,bits:null,state:null,"final":null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null!=gb.FIXED_HUFFMAN)return gb.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}gb.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return gb.FIXED_HUFFMAN},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=
a;if(0<c)for(;this.inflateLoop(););return c-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=
0},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a[1]){case 0:return a[2];case 1:var b=a[3];a=a[2];return this.applyHuffman(this.getBit()?
b:a);case 2:return this.applyHuffman(a[3][this.getBits(a[2])])}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var f=this.applyHuffman(this.huffman);switch(f){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=f;a[c]=f;++c;break;case 16:f=c+3+this.getBits(2);if(f>b)throw new r("Invalid data");for(;c<f;)a[c]=d,++c;break;case 17:c+=3+this.getBits(3);if(c>b)throw new r("Invalid data");break;case 18:c+=11+this.getBits(7);if(c>b)throw new r("Invalid data");
break;default:throw new r("Invalid data");}}},inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();if(8!=(a&15))throw new r("Invalid data");var b=this.input.readByte(),c=0!=(b&32);if(0!=((a<<8)+b)%31)throw new r("Invalid data");if(c)throw new r("Unsupported dictionary");this.state=aa.Block;return!0;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw new r("Invalid data");this.state=
aa.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=aa.CData,!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,d=0;d<c;){var f=d++;this.lengths[gb.CODE_LENGTHS_POS[f]]=this.getBits(3)}for(;19>c;)d=c++,this.lengths[gb.CODE_LENGTHS_POS[d]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];d=0;for(f=a+b;d<f;)d++,c.push(0);this.inflateLengths(c,a+b);this.huffdist=this.htools.make(c,
a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=aa.CData;return!0;default:throw new r("Invalid data");}case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?aa.Crc:aa.Block;else{b-=257;a=gb.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw new r("Invalid data");this.len=gb.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=gb.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw new r("Invalid data");
this.dist=gb.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw new r("Invalid data");this.state=1==this.dist?aa.DistOne:aa.Dist}return!0;case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?aa.Crc:aa.Block),0<this.needed;case 4:a=this.window.checksum();if(null==a)return this.state=aa.Done,!0;b=Cd.read(this.input);if(!a.equals(b))throw new r("Invalid CRC");this.state=aa.Done;
return!0;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=aa.CData);return 0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=aa.CData),0<this.needed;case 7:return!1}},__class__:gb};var Yh=function(){};h["haxe.zip.Uncompress"]=Yh;Yh.__name__=["haxe","zip","Uncompress"];Yh.run=function(a,b){return gb.run(new We(a),
b)};var r=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,r)};h["js._Boot.HaxeError"]=r;r.__name__=["js","_Boot","HaxeError"];r.wrap=function(a){return a instanceof Error?a:new r(a)};r.__super__=Error;r.prototype=w(Error.prototype,{val:null,__class__:r});var y=function(){};h["js.Boot"]=y;y.__name__=["js","Boot"];y.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=y.__nativeClassName(a);
return null!=a?y.__resolveNativeClass(a):null};y.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var q=d++,c=2!=q?c+(","+y.__string_rec(a[q],b)):c+y.__string_rec(a[q],b);return c+")"}c=a.length;d="[";b+="\t";for(f=0;f<c;)q=f++,d+=
(0<q?",":"")+y.__string_rec(a[q],b);return d+"]"}try{d=a.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";f=null!=a.hasOwnProperty;for(c in a)f&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+y.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};
y.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var q=d++,q=c[q];if(q==b||y.__interfLoop(q,b))return!0}return y.__interfLoop(a.__super__,b)};y.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Ai:return"boolean"==typeof a;case Ti:return!0;case Zh:return"number"==typeof a;case $h:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;
default:if(null!=a)if("function"==typeof b){if(a instanceof b||y.__interfLoop(y.getClass(a),b))return!0}else{if("object"==typeof b&&y.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Ci&&null!=a.__name__||b==Di&&null!=a.__ename__?!0:a.__enum__==b}};y.__cast=function(a,b){if(y.__instanceof(a,b))return a;throw new r("Cannot cast "+F.string(a)+" to "+F.string(b));};y.__nativeClassName=function(a){a=y.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?
null:a};y.__isNativeObj=function(a){return null!=y.__nativeClassName(a)};y.__resolveNativeClass=function(a){return Xh[a]};var ai=function(){};h["js.html._CanvasElement.CanvasUtil"]=ai;ai.__name__=["js","html","_CanvasElement","CanvasUtil"];ai.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var f=d[c];++c;f=a.getContext(f,b);if(null!=f)return f}return null};var Mb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=
[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};h["js.html.compat.ArrayBuffer"]=Mb;Mb.__name__=["js","html","compat","ArrayBuffer"];Mb.sliceImpl=function(a,b){var c=new Ma(this,a,null==b?null:b-a),d=new fa(c.byteLength);(new Ma(d)).set(c);return d};Mb.prototype={byteLength:null,a:null,slice:function(a,b){return new Mb(this.a.slice(a,b))},__class__:Mb};var bi=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||
this.offset+this.length>a.byteLength)throw new r(fb.OutsideBounds);this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};h["js.html.compat.DataView"]=bi;bi.__name__=["js","html","compat","DataView"];bi.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=
c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],f=this.buf.a[c++],q=this.buf.a[c++],c=this.buf.a[c++];return b?d|f<<8|q<<16|c<<24:c|q<<8|f<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Vb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,
b),d=this.getInt32(a+4,b);return Vb.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=
b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Vb.floatToI32(b),c)},setFloat64:function(a,b,c){b=Vb.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:bi};var Lc=function(){};h["js.html.compat.Float32Array"]=Lc;Lc.__name__=["js","html","compat","Float32Array"];Lc._new=
function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var f=b++;d[f]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(f=d.length<<2;b<f;)b++,a.push(0);d.buffer=new Mb(a)}else if(y.__instanceof(a,Mb)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(f=0;f<c;){f++;var q=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Vb.i32ToFloat(q))}d.byteLength=d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)f=d[b],
++b,f=Vb.floatToI32(f),a.push(f&255),a.push(f>>8&255),a.push(f>>16&255),a.push(f>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new Mb(a)}else throw new r("TODO "+F.string(a));d.subarray=Lc._subarray;d.set=Lc._set;return d};Lc._set=function(a,b){if(y.__instanceof(a.buffer,Mb)){if(a.byteLength+b>this.byteLength)throw new r("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var f=c++;this[f+b]=a[f]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new r("set() outside of range");
c=0;for(d=a.length;c<d;)f=c++,this[f+b]=a[f]}else throw new r("TODO");};Lc._subarray=function(a,b){var c=Lc._new(this.slice(a,b));c.byteOffset=4*a;return c};var Mc=function(){};h["js.html.compat.Uint8Array"]=Mc;Mc.__name__=["js","html","compat","Uint8Array"];Mc._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Mb(c)}else if(y.__instanceof(a,Mb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=
c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Mb(c);else throw new r("TODO "+F.string(a));c.subarray=Mc._subarray;c.set=Mc._set;return c};Mc._set=function(a,b){if(y.__instanceof(a.buffer,Mb)){if(a.byteLength+b>this.byteLength)throw new r("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var f=c++;this[f+b]=a[f]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new r("set() outside of range");
c=0;for(d=a.length;c<d;)f=c++,this[f+b]=a[f]}else throw new r("TODO");};Mc._subarray=function(a,b){var c=Mc._new(this.slice(a,b));c.byteOffset=a;return c};var Yc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);Hc.call(this,a,b);0>=c&&(c=0);0>=d&&(d=0);this._min=a+c;this._max=this._min+d;this.inputEnable=!0;this._throw=new Zc;this._throw.set_resource(X.sound.Get("a.wav"));this._hit=new Zc;this._hit.set_resource(X.sound.Get("b.wav"))};h["level1.ActionThrow"]=Yc;Yc.__name__=["level1",
"ActionThrow"];Yc.__super__=Hc;Yc.prototype=w(Hc.prototype,{_min:null,_max:null,_throw:null,_hit:null,Reset:function(){Hc.prototype.Reset.call(this)},Begin:function(){Hc.prototype.Begin.call(this);this._throw.Play()},Input:function(a){Hc.prototype.Input.call(this,a);this.enabled=!0;if(a.press&&this.time>=this._min&&this.time<=this._max){a=.5*(this._max-this._min);var b=this._min+a-this.time;this.result=1;this.detail=(0>b?-b:b)/a;this._hit.Play()}},__class__:Yc});var Se=function(){};h["level1.HitComponent"]=
Se;Se.__name__=["level1","HitComponent"];Se.__super__=T;Se.prototype=w(T.prototype,{_time:null,_v:null,onStart:function(){T.prototype.onStart.call(this);this.bindEvent(x.onUpdate,p(this,this.onUpdate));this._time=.8;this._v=10},onUpdate:function(){this._time-=this.gameObject.deltaTime;if(0>this._time)Ia.Destroy(this.gameObject);else{this._v+=3*this.gameObject.deltaTime;var a=this.gameObject;a.set_rotationZ(a.rotationZ+800*this.gameObject.deltaTime);a=this.gameObject;a.set_x(a.x+this._v);a=this.gameObject;
a.set_z(a.z+700*this.gameObject.deltaTime)}},__class__:Se});var ce=function(){};h["level1.ThrowComponent"]=ce;ce.__name__=["level1","ThrowComponent"];ce.__super__=T;ce.prototype=w(T.prototype,{_g:null,_v:null,_t:null,_life:null,_groundTime:null,onStart:function(){T.prototype.onStart.call(this);this._v=5;this._t=0;this._g=-9.8;this._life=2;this._groundTime=this._v/(.5*-this._g);this.bindEvent(x.onUpdate,p(this,this.onFixedUpdate))},onFixedUpdate:function(){if(this._t<this._groundTime){this._t+=ua.deltaTime;
this.gameObject.set_y(100*(this._v*this._t+this._g*this._t*this._t*.5));var a=this.gameObject;a.set_z(a.z-200*ua.deltaTime);a=this.gameObject;a.set_rotationZ(a.rotationZ+300*ua.deltaTime)}this._life-=ua.deltaTime;0>=this._life&&Ia.Destroy(this.gameObject)},__class__:ce});var Dg=function(){this.connected=!0;this.buttons=[];this.axes=[]};h["lime._backend.html5.GameDeviceData"]=Dg;Dg.__name__=["lime","_backend","html5","GameDeviceData"];Dg.prototype={connected:null,id:null,isGamepad:null,buttons:null,
axes:null,__class__:Dg};var Ug=function(a){this.parent=a;this.id=-1;this.gain=1;this.position=new Tg};h["lime._backend.html5.HTML5AudioSource"]=Ug;Ug.__name__=["lime","_backend","html5","HTML5AudioSource"];Ug.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;
this.parent.buffer.__srcHowl._volume=this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl._volume=b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",p(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=
!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);
return this.gain=a},getLength:function(){return 0!=this.length?this.length:1E3*this.parent.buffer.__srcHowl.duration()|0},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:Ug};var Vg=function(a){this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;this.COLOR_ATTACHMENT0=36064;this.FRAMEBUFFER=36160;
this.CLAMP_TO_EDGE=33071;this.TEXTURE0=33984;this.TEXTURE_2D=3553;this.TEXTURE_WRAP_T=10243;this.TEXTURE_WRAP_S=10242;this.TEXTURE_MIN_FILTER=10241;this.TEXTURE_MAG_FILTER=10240;this.LINEAR=9729;this.NEAREST=9728;this.RGBA=6408;this.ALPHA=6406;this.FLOAT=5126;this.UNSIGNED_BYTE=5121;this.SCISSOR_TEST=3089;this.BLEND=3042;this.STATIC_DRAW=35044;this.ARRAY_BUFFER=34962;this.FUNC_REVERSE_SUBTRACT=32779;this.FUNC_ADD=32774;this.DST_COLOR=774;this.ONE_MINUS_SRC_ALPHA=771;this.ONE_MINUS_SRC_COLOR=769;this.ONE=
1;this.TRIANGLE_STRIP=5;this.COLOR_BUFFER_BIT=16384;this.__context=a;this.version=1;this.type=Wb.WEBGL;if(null!=a){var b=a;Object.prototype.hasOwnProperty.call(b,"rawgl")&&(b=H.field(a,"rawgl"));Object.prototype.hasOwnProperty.call(window,"WebGL2RenderingContext")&&y.__instanceof(b,WebGL2RenderingContext)&&(this.version=2)}};h["lime._backend.html5.HTML5GLRenderContext"]=Vg;Vg.__name__=["lime","_backend","html5","HTML5GLRenderContext"];Vg.prototype={COLOR_BUFFER_BIT:null,TRIANGLE_STRIP:null,ONE:null,
ONE_MINUS_SRC_COLOR:null,ONE_MINUS_SRC_ALPHA:null,DST_COLOR:null,FUNC_ADD:null,FUNC_REVERSE_SUBTRACT:null,ARRAY_BUFFER:null,STATIC_DRAW:null,BLEND:null,SCISSOR_TEST:null,UNSIGNED_BYTE:null,FLOAT:null,ALPHA:null,RGBA:null,NEAREST:null,LINEAR:null,TEXTURE_MAG_FILTER:null,TEXTURE_MIN_FILTER:null,TEXTURE_WRAP_S:null,TEXTURE_WRAP_T:null,TEXTURE_2D:null,TEXTURE0:null,CLAMP_TO_EDGE:null,FRAMEBUFFER:null,COLOR_ATTACHMENT0:null,UNPACK_PREMULTIPLY_ALPHA_WEBGL:null,type:null,version:null,__context:null,__contextLost:null,
bufferData:function(a,b,c,d,f,q){"number"!=typeof c||(c|0)!==c?(c=this.__prepareData(b,c),1<this.version&&null!=f?this.__context.bufferData(a,c,d,f,q):this.__context.bufferData(a,c,d)):1<this.version&&null!=d?this.__context.bufferData(a,b,c,d,f):this.__context.bufferData(a,b,c)},bufferSubData:function(a,b,c,d,f,q){"number"==typeof c&&(c|0)===c?(d=this.__prepareData(c,d),1<this.version&&null!=f?this.__context.bufferSubData(a,b,d,f,q):this.__context.bufferSubData(a,b,d)):1<this.version&&null!=d?this.__context.bufferSubData(a,
b,c,d,f):this.__context.bufferSubData(a,b,c)},compressedTexImage2D:function(a,b,c,d,f,q,e,t,l,g){"number"==typeof e&&(e|0)===e?(t=this.__prepareData(null,t),null!=t&&y.__instanceof(t,fa)&&(e=t,t=null!=e?new Ma(e):null),1<this.version&&null!=l?this.__context.compressedTexImage2D(a,b,c,d,f,q,t,l,g):this.__context.compressedTexImage2D(a,b,c,d,f,q,t)):1<this.version&&null!=t?this.__context.compressedTexImage2D(a,b,c,d,f,q,e,t,l):this.__context.compressedTexImage2D(a,b,c,d,f,q,e)},compressedTexSubImage2D:function(a,
b,c,d,f,q,e,t,l,g,h){"number"==typeof t&&(t|0)===t?(l=this.__prepareData(null,l),null!=l&&y.__instanceof(l,fa)&&(t=l,l=null!=t?new Ma(t):null),1<this.version&&null!=g?this.__context.compressedTexSubImage2D(a,b,c,d,f,q,e,l,g,h):this.__context.compressedTexSubImage2D(a,b,c,d,f,q,e,l)):1<this.version&&null!=l?this.__context.compressedTexSubImage2D(a,b,c,d,f,q,e,t,l,g):this.__context.compressedTexSubImage2D(a,b,c,d,f,q,e,t)},getBufferParameteri64v:function(a,b,c){},getBufferSubData:function(a,b,c,d,f){"number"==
typeof c&&(c|0)===c?this.__context.getBufferSubData(a,b,d):null!=d?this.__context.getBufferSubData(a,b,c,d,f):this.__context.getBufferSubData(a,b,c)},getFloatv:function(a,b){var c=null!=b?new ka(b):null,d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var f=0,q=d.length;f<q;){var e=f++;c[e]=d[e]}else c[0]=y.__cast(d,Zh)},getFramebufferAttachmentParameteri:function(a,b,c){return this.__context.getFramebufferAttachmentParameter(a,b,c)},getFramebufferAttachmentParameteriv:function(a,
b,c,d){a=this.getFramebufferAttachmentParameteri(a,b,c);"number"==typeof d&&(d|0)===d&&((null!=d?new Int32Array(d,0):null)[0]=a)},getInteger64v:function(a,b){},getIntegerv:function(a,b){var c=null!=b?new Int32Array(b):null,d=this.__context.getParameter(a);if(y.__instanceof(d,ArrayBufferView))for(var f=0,q=d.length;f<q;){var e=f++;c[e]=d[e]}else c[0]=y.__cast(d,$h)},getInternalformativ:function(a,b,c,d){},getProgramiv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getProgramParameter(a,
b)},getQueryiv:function(a,b,c){},getQueryObjectuiv:function(a,b,c){},getRenderbufferParameteriv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getRenderbufferParameter(a,b)},getSamplerParameterfv:function(a,b,c){},getSamplerParameteriv:function(a,b,c){},getShaderiv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getShaderParameter(a,b)},getString:function(a){return 7939==a?this.__context.getSupportedExtensions().join(" "):this.__context.getParameter(a)},
getSyncParameteriv:function(a,b,c){},getTexParameterfv:function(a,b,c){(null!=c?new ka(c,0):null)[0]=this.__context.getTexParameter(a,b)},getTexParameteriv:function(a,b,c){(null!=c?new Int32Array(c,0):null)[0]=this.__context.getTexParameter(a,b)},getUniformfv:function(a,b,c){(null!=c?new ka(c,0):null)[0]=this.__context.getUniform(a,b)},getUniformi:function(a,b){return this.__context.getUniform(a,b)},getUniformiv:function(a,b,c){a=this.getUniformi(a,b);"number"==typeof a&&(a|0)===a&&((null!=c?new Int32Array(c,
0):null)[0]=a)},getUniformuiv:function(a,b,c){},getVertexAttribfv:function(a,b,c){},getVertexAttribi:function(a,b){return 0},getVertexAttribiv:function(a,b,c){},readPixels:function(a,b,c,d,f,q,e,t){e=this.__prepareData(null,e);null!=e&&(y.__instanceof(e,fa)&&(e=null!=e?new Ma(e):null),1<this.version&&null!=t?this.__context.readPixels(a,b,c,d,f,q,e,t):this.__context.readPixels(a,b,c,d,f,q,e))},texImage2D:function(a,b,c,d,f,q,e,t,l,g){null==e?this.__context.texImage2D(a,b,c,d,f,q):(l=this.__prepareData(null,
l),null!=l&&y.__instanceof(l,fa)&&(l=null!=l?new Ma(l):null),1<this.version&&null!=g?this.__context.texImage2D(a,b,c,d,f,q,e,t,l,g):this.__context.texImage2D(a,b,c,d,f,q,e,t,l))},texSubImage2D:function(a,b,c,d,f,q,e,t,l,g){null==t?this.__context.texSubImage2D(a,b,c,d,f,q,e):(l=this.__prepareData(null,l),null!=l&&y.__instanceof(l,fa)&&(l=null!=l?new Ma(l):null),1<this.version&&null!=g?this.__context.texSubImage2D(a,b,c,d,f,q,e,t,l,g):this.__context.texSubImage2D(a,b,c,d,f,q,e,t,l))},texSubImage3D:function(a,
b,c,d,f,q,e,t,l,g,h,m){null!=m?this.__context.texSubImage3D(a,b,c,d,f,q,e,t,l,g,h,m):this.__context.texSubImage3D(a,b,c,d,f,q,e,t,l,g,h)},uniform1fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform1fv(a,b)):1<this.version&&null!=c?this.__context.uniform1fv(a,b,c,d):this.__context.uniform1fv(a,b)},uniform1iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,
fa)&&(b=null!=b?new ka(b):null),this.__context.uniform1iv(a,b)):1<this.version&&null!=c?this.__context.uniform1iv(a,b,c,d):this.__context.uniform1iv(a,b)},uniform1uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform1uiv(a,b)):null!=c?this.__context.uniform1uiv(a,b,c,d):this.__context.uniform1uiv(a,b)},uniform2fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,
fa)&&(b=null!=b?new ka(b):null),this.__context.uniform2fv(a,b)):1<this.version&&null!=c?this.__context.uniform2fv(a,b,c,d):this.__context.uniform2fv(a,b)},uniform2iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform2iv(a,b)):1<this.version&&null!=c?this.__context.uniform2iv(a,b,c,d):this.__context.uniform2iv(a,b)},uniform2uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform2uiv(a,b)):null!=c?this.__context.uniform2uiv(a,b,c,d):this.__context.uniform2uiv(a,b)},uniform3fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform3fv(a,b)):1<this.version&&null!=c?this.__context.uniform3fv(a,b,c,d):this.__context.uniform3fv(a,b)},uniform3iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform3iv(a,b)):1<this.version&&null!=c?this.__context.uniform3iv(a,b,c,d):this.__context.uniform3iv(a,b)},uniform3uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform3uiv(a,b)):null!=c?this.__context.uniform3uiv(a,b,c,d):this.__context.uniform3uiv(a,b)},uniform4fv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform4fv(a,b)):1<this.version&&null!=c?this.__context.uniform4fv(a,b,c,d):this.__context.uniform4fv(a,b)},uniform4iv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform4iv(a,b)):1<this.version&&null!=c?this.__context.uniform4iv(a,b,c,d):this.__context.uniform4iv(a,b)},uniform4uiv:function(a,b,c,d){"number"==typeof b&&(b|0)===b?(b=this.__prepareData(null,
c),y.__instanceof(b,fa)&&(b=null!=b?new ka(b):null),this.__context.uniform4uiv(a,b)):null!=c?this.__context.uniform4uiv(a,b,c,d):this.__context.uniform4uiv(a,b)},uniformMatrix2fv:function(a,b,c,d,f){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix2fv(a,c,d)):this.__context.uniformMatrix2fv(a,b,c)},uniformMatrix2x3fv:function(a,b,c,d,f){null!=
d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2x3fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix2x3fv(a,c,d)):this.__context.uniformMatrix2x3fv(a,b,c)},uniformMatrix2x4fv:function(a,b,c,d,f){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix2x4fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix2x3fv(a,c,d)):this.__context.uniformMatrix2x4fv(a,
b,c)},uniformMatrix3fv:function(a,b,c,d,f){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix3fv(a,c,d)):this.__context.uniformMatrix3fv(a,b,c)},uniformMatrix3x2fv:function(a,b,c,d,f){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3x2fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):
null),this.__context.uniformMatrix3x2fv(a,c,d)):this.__context.uniformMatrix3x2fv(a,b,c)},uniformMatrix3x4fv:function(a,b,c,d,f){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix3x4fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix3x4fv(a,c,d)):this.__context.uniformMatrix3x4fv(a,b,c)},uniformMatrix4fv:function(a,b,c,d,f){null!=d?1<this.version&&"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4fv(a,
b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix4fv(a,c,d)):this.__context.uniformMatrix4fv(a,b,c)},uniformMatrix4x2fv:function(a,b,c,d,f){null!=d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4x2fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix4x2fv(a,c,d)):this.__context.uniformMatrix4x2fv(a,b,c)},uniformMatrix4x3fv:function(a,b,c,d,f){null!=
d?"number"==typeof d&&(d|0)===d?this.__context.uniformMatrix4x3fv(a,b,c,d,f):(d=this.__prepareData(null,d),y.__instanceof(d,fa)&&(b=d,d=null!=b?new ka(b):null),this.__context.uniformMatrix4x3fv(a,c,d)):this.__context.uniformMatrix4x3fv(a,b,c)},vertexAttrib1fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new ka(c):null}this.__context.vertexAttrib1fv(a,b)},vertexAttrib2fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new ka(c):
null}this.__context.vertexAttrib2fv(a,b)},vertexAttrib3fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new ka(c):null}this.__context.vertexAttrib3fv(a,b)},vertexAttrib4fv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new ka(c):null}this.__context.vertexAttrib4fv(a,b)},vertexAttribI4iv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new Int32Array(c):null}this.__context.vertexAttribI4iv(a,
b)},vertexAttribI4uiv:function(a,b){b=this.__prepareData(null,b);if(y.__instanceof(b,fa)){var c=b;b=null!=c?new Uint32Array(c):null}this.__context.vertexAttribI4uiv(a,b)},__isArrayBufferView:function(a){return a&&a.buffer instanceof fa&&void 0!==a.byteLength},__prepareData:function(a,b){if(null!=b){if(!b)return null;if(null!=a){if(0>=a)return null;if(this.__isArrayBufferView(b)){if(b.byteLength==a)return b;var c=b.buffer,d=b.byteOffset;return null!=c?null==a?new Ma(c,d):new Ma(c,d,a):null}if(y.__instanceof(b,
fa))return null!=b?null==a?new Ma(b,0):new Ma(b,0,a):null;if(y.__instanceof(b,Xe))return c=b.bytes.b.bufferValue,d=b.offset,null!=c?null==a?new Ma(c,d):new Ma(c,d,a):null;if(y.__instanceof(b,ta))return c=b.b.bufferValue,null!=c?null==a?new Ma(c,0):new Ma(c,0,a):null}else{if(y.__instanceof(b,Xe))return 0!=b.offset?(c=b.bytes.b.bufferValue,d=b.offset,null!=c?new Ma(c,d):null):b.bytes.b.bufferValue;if(y.__instanceof(b,ta))return b.b.bufferValue}}return b},__class__:Vg};var qa=function(){};h["lime._backend.html5.HTML5HTTPRequest"]=
qa;qa.__name__=["lime","_backend","html5","HTML5HTTPRequest"];qa.loadImage=function(a){var b=new zb;qa.activeRequests<qa.requestLimit?(qa.activeRequests++,qa.__loadImage(a,b)):qa.requestQueue.add({instance:null,uri:a,promise:b,type:"IMAGE"});return b.future};qa.processQueue=function(){if(qa.activeRequests<qa.requestLimit&&0<qa.requestQueue.length){qa.activeRequests++;var a=qa.requestQueue.pop();switch(a.type){case "BINARY":a.instance.__loadData(a.uri,a.promise);break;case "IMAGE":qa.__loadImage(a.uri,
a.promise);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:qa.activeRequests--}}};qa.__loadImage=function(a,b){var c=new Image;c.crossOrigin="Anonymous";c.addEventListener("load",function(a){a=new oc(null,c.width,c.height);a.__srcImage=c;qa.activeRequests--;qa.processQueue();b.complete(new W(a))},!1);c.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1);c.addEventListener("error",function(a){qa.activeRequests--;qa.processQueue();b.error(a.detail)},!1);
c.src=a};qa.prototype={binary:null,parent:null,request:null,init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=c;b="";if(null==this.parent.data){for(c=this.parent.formData.keys();c.hasNext();){var d=c.next();0<b.length&&(b+="&");var f=encodeURIComponent(d)+"=",q=this.parent.formData,d=F.string(null!=n[d]?q.getReserved(d):q.h[d]);b+=f+encodeURIComponent(d)}"GET"==this.parent.method&&""!=
b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(F.string(this.parent.method),a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");a=!1;c=0;for(f=this.parent.headers;c<f.length;)d=f[c],++c,"Content-Type"==d.name&&(a=!0),this.request.setRequestHeader(d.name,d.value);a||null==this.parent.contentType||this.request.setRequestHeader("Content-Type",this.parent.contentType);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):
this.request.send(b)},loadData:function(a){var b=new zb;qa.activeRequests<qa.requestLimit?(qa.activeRequests++,this.__loadData(a,b)):qa.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY"});return b.future},loadText:function(a){var b=new zb;qa.activeRequests<qa.requestLimit?(qa.activeRequests++,this.__loadText(a,b)):qa.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT"});return b.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=
[];for(var a,b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=N.trim(z.substr(b,0,b.indexOf(":"))),b=N.trim(z.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new Ye(a,b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var c=this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(a=""==c.request.responseType?
ta.ofString(c.request.responseText):ta.ofData(c.request.response),c.processResponse(),b.complete(a)):(c.processResponse(),b.error(c.request.status)),c.request=null,qa.activeRequests--,qa.processQueue())})},__loadText:function(a,b){var c=this;this.binary=!1;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&200<=c.request.status&&400>=c.request.status?(c.processResponse(),b.complete(c.request.responseText)):(c.processResponse(),b.error(c.request.status)),
c.request=null,qa.activeRequests--,qa.processQueue())})},__class__:qa};var Ed=function(){};h["lime._backend.html5.HTML5Mouse"]=Ed;Ed.__name__=["lime","_backend","html5","HTML5Mouse"];Ed.set_cursor=function(a){if(Ed.__cursor!=a){if(!Ed.__hidden)for(var b=0,c=qb.current.__windows;b<c.length;){var d=c[b];++b;var f;switch(a[1]){case 0:f="default";break;case 1:f="crosshair";break;case 3:f="move";break;case 4:f="pointer";break;case 5:f="nesw-resize";break;case 6:f="ns-resize";break;case 7:f="nwse-resize";
break;case 8:f="ew-resize";break;case 9:f="text";break;case 10:f="wait";break;case 11:f="wait";break;default:f="auto"}d.backend.element.style.cursor=f}Ed.__cursor=a}return Ed.__cursor};var Wg=function(a){this.parent=a};h["lime._backend.html5.HTML5Renderer"]=Wg;Wg.__name__=["lime","_backend","html5","HTML5Renderer"];Wg.prototype={parent:null,create:function(){this.createContext();0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",p(this,this.handleEvent),
!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",p(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=kb.DOM(this.parent.window.backend.div),this.parent.type=La.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,"hardware")||this.parent.window.config.hardware)for(var b={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"background")&&null==this.parent.window.config.background,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1},c=0,d=["webgl2",
"webgl","experimental-webgl"];c<d.length&&(a=d[c],++c,a=this.parent.window.backend.canvas.getContext(a,b),null==a););null==a?(this.parent.context=kb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=La.CANVAS):(e.context=new Vg(a),this.parent.context=kb.OPENGL(e.context),this.parent.type=La.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();null!=e.context&&(e.context.__contextLost=!0);this.parent.context=null;this.parent.onContextLost.dispatch();
break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},render:function(){},__class__:Wg};var S=function(a){this.unusedTouchesPool=new ad;this.scale=1;this.currentTouches=new Ua;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"allowHighDPI")&&a.config.allowHighDPI&&(this.scale=window.devicePixelRatio);a.__scale=
this.scale;this.cacheMouseY=this.cacheMouseX=0};h["lime._backend.html5.HTML5Window"]=S;S.__name__=["lime","_backend","html5","HTML5Window"];S.prototype={canvas:null,div:null,element:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,currentTouches:null,enableTextEvents:null,parent:null,primaryTouch:null,scale:null,setHeight:null,setWidth:null,unusedTouchesPool:null,close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=
this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=S.windowID++;y.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position=
"relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.cacheElementWidth=this.parent.__width,
this.cacheElementHeight=this.parent.__height,this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.updateSize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&
this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,p(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("contextmenu",p(this,this.handleContextMenuEvent),!0);this.element.addEventListener("touchstart",
p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",p(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",p(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",p(this,this.handleGamepadEvent),!0)}},handleContextMenuEvent:function(a){this.parent.onMouseUp.canceled&&a.preventDefault()},handleFocusEvent:function(a){this.enableTextEvents&&Jc.delay(function(){S.textInput.focus()},
20)},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":Ya.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&bb.__connect(a.gamepad.index);break;case "gamepaddisconnected":Ya.__disconnect(a.gamepad.index),bb.__disconnect(a.gamepad.index)}},handleCutOrCopyEvent:function(a){a.clipboardData.setData("text/plain",yc.get_text());a.preventDefault()},handlePasteEvent:function(a){if(-1<a.clipboardData.types.indexOf("text/plain")){var b=yc.set_text(a.clipboardData.getData("text/plain"));
this.parent.onTextInput.dispatch(b);a.preventDefault()}},handleInputEvent:function(a){S.textInput.value!=S.dummyCharacter&&(S.textInput.value.charAt(0)==S.dummyCharacter?this.parent.onTextInput.dispatch(z.substr(S.textInput.value,1,null)):this.parent.onTextInput.dispatch(S.textInput.value),S.textInput.value=S.dummyCharacter)},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-
c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);this.parent.onMouseDown.canceled&&a.preventDefault();break;case "mouseenter":a.target==this.element&&(this.parent.onEnter.dispatch(),
this.parent.onEnter.canceled&&a.preventDefault());break;case "mouseleave":a.target==this.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.preventDefault());break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.preventDefault();break;case "mouseup":this.parent.onMouseUp.dispatch(b,
c,a.button),this.parent.onMouseUp.canceled&&a.preventDefault()}this.cacheMouseX=b;this.cacheMouseY=c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY),this.parent.onMouseWheel.canceled&&a.preventDefault()},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());
var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var f=0,q=a.changedTouches;f<q.length;){var e=q[f];++f;var t=0,l=0;null!=b?(t=c/b.width*(e.clientX-b.left),l=d/b.height*(e.clientY-b.top)):(t=e.clientX,l=e.clientY);switch(a.type){case "touchend":var g=this.currentTouches.get(e.identifier);if(null!=g){var h=g.x,m=g.y;g.x=t/c;g.y=l/d;g.dx=g.x-h;g.dy=g.y-m;g.pressure=e.force;Ib.onEnd.dispatch(g);this.currentTouches.remove(e.identifier);this.unusedTouchesPool.add(g);
g==this.primaryTouch&&(this.parent.onMouseUp.dispatch(t,l,0),this.primaryTouch=null)}break;case "touchmove":g=this.currentTouches.get(e.identifier);null!=g&&(h=g.x,m=g.y,g.x=t/c,g.y=l/d,g.dx=g.x-h,g.dy=g.y-m,g.pressure=e.force,Ib.onMove.dispatch(g),g==this.primaryTouch&&this.parent.onMouseMove.dispatch(t,l));break;case "touchstart":g=this.unusedTouchesPool.pop(),null==g?g=new Ib(t/c,l/d,e.identifier,0,0,e.force,this.parent.id):(g.x=t/c,g.y=l/d,g.id=e.identifier,g.dx=0,g.dy=0,g.pressure=e.force,g.device=
this.parent.id),this.currentTouches.set(e.identifier,g),Ib.onStart.dispatch(g),null==this.primaryTouch&&(this.primaryTouch=g),g==this.primaryTouch&&this.parent.onMouseDown.dispatch(t,l,0)}}},resize:function(a,b){},setClipboard:function(a){if(window.document.queryCommandEnabled("copy")){var b=this.enableTextEvents;this.setEnableTextEvents(!0);this.setEnableTextEvents(!1);var c=S.textInput.value;S.textInput.value=a;window.document.execCommand("copy");S.textInput.value=c;this.setEnableTextEvents(b)}},
setEnableTextEvents:function(a){a?(null==S.textInput&&(S.textInput=window.document.createElement("input"),S.textInput.type="text",S.textInput.style.position="absolute",S.textInput.style.opacity="0",S.textInput.style.color="transparent",S.textInput.value=S.dummyCharacter,S.textInput.autocapitalize="off",S.textInput.autocorrect="off",S.textInput.autocomplete="off",S.textInput.style.left="0px",S.textInput.style.top="50%",(new Aa("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(S.textInput.style.fontSize=
"0px",S.textInput.style.width="0px",S.textInput.style.height="0px"):(S.textInput.style.width="1px",S.textInput.style.height="1px"),S.textInput.style.pointerEvents="none",S.textInput.style.zIndex="-10000000",window.document.body.appendChild(S.textInput)),this.enableTextEvents||(S.textInput.addEventListener("input",p(this,this.handleInputEvent),!0),S.textInput.addEventListener("blur",p(this,this.handleFocusEvent),!0),S.textInput.addEventListener("cut",p(this,this.handleCutOrCopyEvent),!0),S.textInput.addEventListener("copy",
p(this,this.handleCutOrCopyEvent),!0),S.textInput.addEventListener("paste",p(this,this.handlePasteEvent),!0)),S.textInput.focus(),S.textInput.select()):null!=S.textInput&&(S.textInput.removeEventListener("input",p(this,this.handleInputEvent),!0),S.textInput.removeEventListener("blur",p(this,this.handleFocusEvent),!0),S.textInput.removeEventListener("cut",p(this,this.handleCutOrCopyEvent),!0),S.textInput.removeEventListener("copy",p(this,this.handleCutOrCopyEvent),!0),S.textInput.removeEventListener("paste",
p(this,this.handlePasteEvent),!0),S.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){return a},updateSize:function(){var a,b;null!=this.element?(a=this.element.clientWidth,b=this.element.clientHeight):(a=window.innerWidth,b=window.innerHeight);if(a!=this.cacheElementWidth||b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=b;var c=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&
c))if(c){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.set_width(a),this.parent.set_height(b),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(a*this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=b+"px"):(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,b)}else{var c=0!=this.setWidth?a/this.setWidth:1,d=0!=this.setHeight?b/this.setHeight:1,f=a,q=b,e=0,t=
0;c<d?(q=Math.floor(this.setHeight*c),t=Math.floor((b-q)/2)):(f=Math.floor(this.setWidth*d),e=Math.floor((a-f)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=f+"px",this.canvas.style.height=q+"px",this.canvas.style.marginLeft=e+"px",this.canvas.style.marginTop=t+"px"):(this.div.style.width=f+"px",this.div.style.height=q+"px",this.div.style.marginLeft=e+"px",this.div.style.marginTop=t+"px")}}},__class__:S};var Ja=function(a,b){null==b&&(b=!1);if(null!=a)if(b){var c=new zb;
c.future=this;Ab.queue({promise:c,work:a})}else try{this.value=a(),this.isComplete=!0}catch(d){d instanceof r&&(d=d.val),this.error=d,this.isError=!0}};h["lime.app.Future"]=Ja;Ja.__name__=["lime","app","Future"];Ja.withError=function(a){var b=new Ja;b.isError=!0;b.error=a;return b};Ja.withValue=function(a){var b=new Ja;b.isComplete=!0;b.value=a;return b};Ja.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=
a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},then:function(a){if(this.isComplete)return a(this.value);
if(this.isError){var b=new Ja;b.onError(this.error);return b}var c=new zb;this.onError(p(c,c.error));this.onProgress(p(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(p(c,c.error));b.onComplete(p(c,c.complete))});return c.future},__class__:Ja};var Ab=function(){};h["lime.app._Future.FutureWork"]=Ab;Ab.__name__=["lime","app","_Future","FutureWork"];Ab.queue=function(a){null==Ab.threadPool&&(Ab.threadPool=new Xg,Ab.threadPool.doWork.add(Ab.threadPool_doWork),Ab.threadPool.onComplete.add(Ab.threadPool_onComplete),
Ab.threadPool.onError.add(Ab.threadPool_onError));Ab.threadPool.queue(a)};Ab.threadPool_doWork=function(a){try{var b=a.work();Ab.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof r&&(c=c.val),Ab.threadPool.sendError({promise:a.promise,error:c})}};Ab.threadPool_onComplete=function(a){a.promise.complete(a.result)};Ab.threadPool_onError=function(a){a.promise.error(a.error)};var dd=function(){this.bytesTotalCache=new B;this.bytesLoadedCache2=new B;this.bytesLoadedCache=new Lb;
this.onProgress=new Ze;this.onComplete=new db;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(p(this,this.update))};h["lime.app.Preloader"]=dd;dd.__name__=["lime","app","Preloader"];dd.prototype={complete:null,onComplete:null,onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,preloadComplete:null,preloadStarted:null,
simulateProgress:null,addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},create:function(a){},load:function(){for(var a=this,b=0,c=this.libraries;b<c.length;){var d=c[b];++b;this.bytesTotal+=d.bytesTotal}this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(c=this.libraries;b<c.length;)d=[c[b]],++b,Qa.verbose("Preloading asset library",{fileName:"Preloader.hx",lineNumber:153,className:"lime.app.Preloader",methodName:"load"}),
d[0].load().onProgress(function(b){return function(c,d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+c:a.bytesLoaded+(c-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],c);a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}(d)).onComplete(function(b){return function(c){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+(b[0].bytesTotal-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(d)).onError(function(){return function(a){Qa.error(a,
{fileName:"Preloader.hx",lineNumber:191,className:"lime.app.Preloader",methodName:"load"})}}());b=0;for(c=this.libraryNames;b<c.length;)++b,this.bytesTotal+=200;this.loadedLibraries++;this.preloadStarted=!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;var b=this.loadedLibraries;this.preloadStarted||++b;var c=this.libraries.length+this.libraryNames.length;null!=a?Qa.verbose("Loaded asset library: "+a+" ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:223,className:"lime.app.Preloader",
methodName:"loadedAssetLibrary"}):Qa.verbose("Loaded asset library ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:227,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"});this.updateProgress()},start:function(){this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=
!0;for(var b=0,c=this.libraryNames;b<c.length;){var d=[c[b]];++b;Qa.verbose("Preloading asset library: "+d[0],{fileName:"Preloader.hx",lineNumber:276,className:"lime.app.Preloader",methodName:"updateProgress"});J.loadLibrary(d[0]).onProgress(function(b){return function(c,d){if(0<d){var e=a.bytesTotalCache;(null!=n[b[0]]?e.existsReserved(b[0]):e.h.hasOwnProperty(b[0]))||(e=a.bytesTotalCache,null!=n[b[0]]?e.setReserved(b[0],d):e.h[b[0]]=d,a.bytesTotal+=d-200);c>d&&(c=d);e=a.bytesLoadedCache2;(null!=
n[b[0]]?e.existsReserved(b[0]):e.h.hasOwnProperty(b[0]))?(e=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=n[b[0]]?e.getReserved(b[0]):e.h[b[0]])):a.bytesLoaded+=c;e=a.bytesLoadedCache2;null!=n[b[0]]?e.setReserved(b[0],c):e.h[b[0]]=c;a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}}(d)).onComplete(function(b){return function(c){c=200;var d=a.bytesTotalCache;if(null!=n[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))c=a.bytesTotalCache,c=null!=n[b[0]]?c.getReserved(b[0]):
c.h[b[0]];d=a.bytesLoadedCache2;(null!=n[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))?(d=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=n[b[0]]?d.getReserved(b[0]):d.h[b[0]])):a.bytesLoaded+=c;a.loadedAssetLibrary(b[0])}}(d)).onError(function(){return function(a){Qa.error(a,{fileName:"Preloader.hx",lineNumber:335,className:"lime.app.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||
(this.preloadComplete=!0,Qa.verbose("Preload complete",{fileName:"Preloader.hx",lineNumber:349,className:"lime.app.Preloader",methodName:"updateProgress"})),this.start())},__class__:dd};var zb=function(){this.future=new Ja};h["lime.app.Promise"]=zb;zb.__name__=["lime","app","Promise"];zb.prototype={future:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=
c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(p(this,this.complete));a.onError(p(this,this.error));a.onProgress(p(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&
!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var f=d[c];++c;f(a,b)}return this},__class__:zb};var ge=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Dynamic_Void"]=ge;ge.__name__=["lime","app","_Event_Dynamic_Void"];ge.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<
f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,
d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ge};var $e=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Int_Void"]=$e;$e.__name__=["lime","app","_Event_Float_Float_Int_Void"];$e.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,
0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,f=this.__repeat,e=0;e<d.length&&(d[e](a,
b,c),f[e]?++e:this.remove(d[e]),!this.canceled););},__class__:$e};var Fd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Void"]=Fd;Fd.__name__=["lime","app","_Event_Float_Float_Void"];Fd.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,
0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,f=0;f<c.length&&(c[f](a,b),d[f]?++f:this.remove(c[f]),!this.canceled););},__class__:Fd};var af=
function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Float_Void"]=af;af.__name__=["lime","app","_Event_Int_Float_Void"];af.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,f=0;f<c.length&&(c[f](a,b),d[f]?++f:this.remove(c[f]),!this.canceled););},__class__:af};var Ze=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Int_Void"]=
Ze;Ze.__name__=["lime","app","_Event_Int_Int_Void"];Ze.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,f=0;f<c.length&&(c[f](a,b),d[f]?++f:this.remove(c[f]),!this.canceled););},__class__:Ze};var vd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Void"]=vd;vd.__name__=["lime","app","_Event_Int_Void"];vd.prototype={canceled:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,
dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:vd};var Yg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=Yg;Yg.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];Yg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=
!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:Yg};var Zg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Int_Int_Void"]=Zg;Zg.__name__=["lime","app","_Event_String_Int_Int_Void"];Zg.prototype={canceled:null,
__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:Zg};var bf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Void"]=bf;
bf.__name__=["lime","app","_Event_String_Void"];bf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(H.compareMethods(d,
a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:bf};var db=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Void_Void"]=
db;db.__name__=["lime","app","_Event_Void_Void"];db.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:db};var $g=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_graphics_RenderContext_Void"]=$g;$g.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];$g.prototype=
{canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:$g};var ah=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=ah;ah.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];ah.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,
b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,f=0;f<c.length&&(c[f](a,b),d[f]?++f:this.remove(c[f]),!this.canceled););},__class__:ah};var cf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadButton_Void"]=cf;cf.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];cf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<
f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,
d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:cf};var bh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Gamepad_Void"]=bh;bh.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];bh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,
0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););
},__class__:bh};var ch=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Joystick_Void"]=ch;ch.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];ch.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ch};var df=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};h["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=df;df.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];df.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,f=0;f<c.length&&(c[f](a,b),d[f]?++f:this.remove(c[f]),!this.canceled););},__class__:df};var he=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};h["lime.app._Event_lime_ui_Touch_Void"]=he;he.__name__=["lime","app","_Event_lime_ui_Touch_Void"];he.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,f=this.__priorities.length;d<f;){var e=d++;if(c>this.__priorities[e]){this.__listeners.splice(e,0,a);this.__priorities.splice(e,0,c);this.__repeat.splice(e,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=
--b;)H.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:he};var W=function(a,b,c,d,f,e,k){null==f&&(f=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=f;this.version=0;if(null==k)if(null!=
qb.current&&null!=qb.current.__renderers[0]){switch(qb.current.__renderers[0].context[1]){case 1:case 2:b=Ka.CANVAS;break;case 3:b=Ka.FLASH;break;default:b=Ka.DATA}this.type=b}else this.type=Ka.DATA;else this.type=k;if(null==a){if(0<d&&0<f)switch(this.type[1]){case 0:this.buffer=new oc(null,d,f);na.createCanvas(this,d,f);null!=e&&this.fillRect(new ed(0,0,d,f),e);break;case 1:a=d*f*4,a=null!=a?new Ma(a):null,this.buffer=new oc(a,d,f),null!=e&&this.fillRect(new ed(0,0,d,f),e)}}else this.__fromImageBuffer(a)};
h["lime.graphics.Image"]=W;W.__name__=["lime","graphics","Image"];W.fromBase64=function(a,b){if(null==a)return null;var c=new W;c.__fromBase64(a,b);return c};W.fromBitmapData=function(a){return null==a?null:a.image};W.fromBytes=function(a){if(null==a)return null;var b=new W;b.__fromBytes(a);return b};W.fromCanvas=function(a){if(null==a)return null;var b=new oc(null,a.width,a.height);b.set_src(a);a=new W(b);a.type=Ka.CANVAS;return a};W.fromFile=function(a){if(null==a)return null;var b=new W;b.__fromFile(a);
return b};W.fromImageElement=function(a){if(null==a)return null;var b=new oc(null,a.width,a.height);b.set_src(a);a=new W(b);a.type=Ka.CANVAS;return a};W.loadFromBase64=function(a,b){return null==a||null==b?Ja.withValue(null):qa.loadImage("data:"+b+";base64,"+a)};W.loadFromBytes=function(a){if(null==a)return Ja.withValue(null);var b="";if(W.__isPNG(a))b="image/png";else if(W.__isJPG(a))b="image/jpeg";else if(W.__isGIF(a))b="image/gif";else if(W.__isWebP(a))b="image/webp";else return Ja.withValue(null);
return W.loadFromBase64(W.__base64Encode(a),b)};W.loadFromFile=function(a){return null==a?Ja.withValue(null):qa.loadImage(a)};W.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==W.__base64Encoder&&(W.__base64Encoder=new Kg(ta.ofString(W.__base64Chars)));return W.__base64Encoder.encodeBytes(a).toString()+b};W.__isGIF=function(a){if(null==a||6>a.length)return!1;a=a.getString(0,6);return"GIF87a"!=a?"GIF89a"==a:!0};W.__isJPG=function(a){return null==
a||4>a.length?!1:255==a.b[0]&&216==a.b[1]&&255==a.b[a.length-2]?217==a.b[a.length-1]:!1};W.__isPNG=function(a){return null==a||8>a.length?!1:137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};W.__isWebP=function(a){return null==a||16>a.length?!1:"RIFF"==a.getString(0,4)?"WEBP"==a.getString(8,4):!1};W.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,type:null,version:null,width:null,clone:function(){if(null!=this.buffer){this.type==
Ka.CANVAS?na.convertToCanvas(this):na.convertToData(this);var a=new W(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new W(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:na.colorTransform(this,a,b);break;case 1:na.convertToData(this);Nb.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,
this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),Na.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,f){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(f==rb.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:na.copyChannel(this,a,b,c,d,f);break;case 1:na.convertToData(this);na.convertToData(a);Nb.copyChannel(this,a,b,c,d,f);break;
case 2:var e;switch(d[1]){case 0:e=1;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8}var k;switch(f[1]){case 0:k=1;break;case 1:k=2;break;case 2:k=4;break;case 3:k=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),e,k)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:na.fillRect(this,a,b,c);break;case 1:na.convertToData(this);
if(0==this.buffer.data.length)break;Nb.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==c)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=
-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,f=new Image;f.addEventListener("load",function(a){d.buffer=new oc(null,f.width,f.height);d.buffer.__srcImage=f;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);f.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(W.__isPNG(a))c=
"image/png";else if(W.__isJPG(a))c="image/jpeg";else if(W.__isGIF(a))c="image/gif";else return;this.__fromBase64(W.__base64Encode(a),c,b)},__fromFile:function(a,b,c){var d=this,f=new Image;f.crossOrigin="Anonymous";f.onload=function(a){d.buffer=new oc(null,f.width,f.height);d.buffer.__srcImage=f;d.width=f.width;d.height=f.height;null!=b&&b(d)};f.onerror=function(a){null!=c&&c()};f.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=
a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&na.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){this.buffer.format!=a&&1==this.type[1]&&Nb.setFormat(this,a);return this.buffer.format=a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:na.convertToData(this),Nb.multiplyAlpha(this)}else!a&&
this.buffer.premultiplied&&1==this.type[1]&&(na.convertToData(this),Nb.unmultiplyAlpha(this));return a},get_rect:function(){return new ed(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&na.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:W,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",
get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var oc=function(a,b,c,d,f){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==f?0:f;this.premultiplied=!1;this.transparent=!0};h["lime.graphics.ImageBuffer"]=oc;oc.__name__=["lime","graphics","ImageBuffer"];oc.prototype={bitsPerPixel:null,
data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcImage:null,__srcImageData:null,clone:function(){var a=new oc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new Ma(b):null;a.data=b;b=this.data;b=null!=b?new Ma(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),
a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,
0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){y.__instanceof(a,Image)?this.__srcImage=a:y.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:oc,__properties__:{get_stride:"get_stride",
set_src:"set_src",get_src:"get_src"}};var rb=h["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};rb.RED=["RED",0];rb.RED.toString=A;rb.RED.__enum__=rb;rb.GREEN=["GREEN",1];rb.GREEN.toString=A;rb.GREEN.__enum__=rb;rb.BLUE=["BLUE",2];rb.BLUE.toString=A;rb.BLUE.__enum__=rb;rb.ALPHA=["ALPHA",3];rb.ALPHA.toString=A;rb.ALPHA.__enum__=rb;var Ka=h["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS",
"DATA","FLASH","CUSTOM"]};Ka.CANVAS=["CANVAS",0];Ka.CANVAS.toString=A;Ka.CANVAS.__enum__=Ka;Ka.DATA=["DATA",1];Ka.DATA.toString=A;Ka.DATA.__enum__=Ka;Ka.FLASH=["FLASH",2];Ka.FLASH.toString=A;Ka.FLASH.__enum__=Ka;Ka.CUSTOM=["CUSTOM",3];Ka.CUSTOM.toString=A;Ka.CUSTOM.__enum__=Ka;var kb=h["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};kb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=kb;a.toString=
A;return a};kb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=kb;a.toString=A;return a};kb.DOM=function(a){a=["DOM",2,a];a.__enum__=kb;a.toString=A;return a};kb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=kb;a.toString=A;return a};kb.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=kb;a.toString=A;return a};kb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=kb;a.toString=A;return a};kb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=kb;a.toString=A;return a};kb.NONE=["NONE",7];kb.NONE.toString=A;kb.NONE.__enum__=
kb;var Eg=function(a){this.onRender=new db;this.onContextRestored=new $g;this.onContextLost=new db;this.window=a;this.backend=new Wg(this);this.window.renderer=this};h["lime.graphics.Renderer"]=Eg;Eg.__name__=["lime","graphics","Renderer"];Eg.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},render:function(){this.backend.render()},__class__:Eg};var La=h["lime.graphics.RendererType"]=
{__ename__:["lime","graphics","RendererType"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};La.OPENGL=["OPENGL",0];La.OPENGL.toString=A;La.OPENGL.__enum__=La;La.CANVAS=["CANVAS",1];La.CANVAS.toString=A;La.CANVAS.__enum__=La;La.DOM=["DOM",2];La.DOM.toString=A;La.DOM.__enum__=La;La.FLASH=["FLASH",3];La.FLASH.toString=A;La.FLASH.__enum__=La;La.CAIRO=["CAIRO",4];La.CAIRO.toString=A;La.CAIRO.__enum__=La;La.CONSOLE=["CONSOLE",5];La.CONSOLE.toString=A;La.CONSOLE.__enum__=La;La.CUSTOM=
["CUSTOM",6];La.CUSTOM.toString=A;La.CUSTOM.__enum__=La;var ci=function(){};h["lime.graphics.cairo.Cairo"]=ci;ci.__name__=["lime","graphics","cairo","Cairo"];ci.prototype={__class__:ci};var di={};h["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=di;di.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];di.flush=function(a){};var e=function(){};h["lime.graphics.opengl.GL"]=e;e.__name__=["lime","graphics","opengl","GL"];e.__properties__={get_version:"get_version",get_type:"get_type"};
e.activeTexture=function(a){e.context.__context.activeTexture(a)};e.attachShader=function(a,b){e.context.__context.attachShader(a,b)};e.beginQuery=function(a,b){e.context.__context.beginQuery(a,b)};e.beginTransformFeedback=function(a){e.context.__context.beginTransformFeedback(a)};e.bindAttribLocation=function(a,b,c){e.context.__context.bindAttribLocation(a,b,c)};e.bindBuffer=function(a,b){e.context.__context.bindBuffer(a,b)};e.bindBufferBase=function(a,b,c){e.context.__context.bindBufferBase(a,b,
c)};e.bindBufferRange=function(a,b,c,d,f){e.context.__context.bindBufferRange(a,b,c,d,Za.fromInt(f))};e.bindFramebuffer=function(a,b){e.context.__context.bindFramebuffer(a,b)};e.bindRenderbuffer=function(a,b){e.context.__context.bindRenderbuffer(a,b)};e.bindSampler=function(a,b){e.context.__context.bindSampler(a,b)};e.bindTexture=function(a,b){e.context.__context.bindTexture(a,b)};e.bindTransformFeedback=function(a,b){e.context.__context.bindTransformFeedback(a,b)};e.bindVertexArray=function(a){e.context.__context.bindVertexArray(a)};
e.blitFramebuffer=function(a,b,c,d,f,q,k,t,l,g){e.context.__context.blitFramebuffer(a,b,c,d,f,q,k,t,l,g)};e.blendColor=function(a,b,c,d){e.context.__context.blendColor(a,b,c,d)};e.blendEquation=function(a){e.context.__context.blendEquation(a)};e.blendEquationSeparate=function(a,b){e.context.__context.blendEquationSeparate(a,b)};e.blendFunc=function(a,b){e.context.__context.blendFunc(a,b)};e.blendFuncSeparate=function(a,b,c,d){e.context.__context.blendFuncSeparate(a,b,c,d)};e.bufferData=function(a,
b,c,d,f,q){e.context.bufferData(a,b,c,d,f,q)};e.bufferSubData=function(a,b,c,d,f,q){e.context.bufferSubData(a,b,c,d,f,q)};e.checkFramebufferStatus=function(a){return e.context.__context.checkFramebufferStatus(a)};e.clear=function(a){e.context.__context.clear(a)};e.clearBufferfi=function(a,b,c,d){e.context.__context.clearBufferfi(a,b,c,d)};e.clearBufferfv=function(a,b,c,d){e.context.__context.clearBufferfv(a,b,c,d)};e.clearBufferiv=function(a,b,c,d){e.context.__context.clearBufferiv(a,b,c,d)};e.clearBufferuiv=
function(a,b,c,d){e.context.__context.clearBufferuiv(a,b,c,d)};e.clearColor=function(a,b,c,d){e.context.__context.clearColor(a,b,c,d)};e.clearDepth=function(a){e.context.__context.clearDepth(a)};e.clearDepthf=function(a){e.context.__context.clearDepth(a)};e.clearStencil=function(a){e.context.__context.clearStencil(a)};e.clientWaitSync=function(a,b,c){return e.context.__context.clientWaitSync(a,b,c)};e.colorMask=function(a,b,c,d){e.context.__context.colorMask(a,b,c,d)};e.compileShader=function(a){e.context.__context.compileShader(a)};
e.compressedTexImage2D=function(a,b,c,d,f,q,k,t,l,g){e.context.compressedTexImage2D(a,b,c,d,f,q,k,t,l,g)};e.compressedTexImage3D=function(a,b,c,d,f,q,k,t,l,g){e.context.__context.compressedTexImage3D(a,b,c,d,f,q,k,t,l,g)};e.compressedTexSubImage2D=function(a,b,c,d,f,q,k,t,l,g,h){e.context.compressedTexSubImage2D(a,b,c,d,f,q,k,t,l,g,h)};e.compressedTexSubImage3D=function(a,b,c,d,f,q,k,t,l,g,h,m){e.context.__context.compressedTexSubImage3D(a,b,c,d,f,q,k,t,l,g,h,m)};e.copyBufferSubData=function(a,b,
c,d,f){};e.copyTexImage2D=function(a,b,c,d,f,q,k,t){e.context.__context.copyTexImage2D(a,b,c,d,f,q,k,t)};e.copyTexSubImage2D=function(a,b,c,d,f,q,k,t){e.context.__context.copyTexSubImage2D(a,b,c,d,f,q,k,t)};e.copyTexSubImage3D=function(a,b,c,d,f,q,k,t,l){e.context.__context.copyTexSubImage3D(a,b,c,d,f,q,k,t,l)};e.createBuffer=function(){return e.context.__context.createBuffer()};e.createFramebuffer=function(){return e.context.__context.createFramebuffer()};e.createProgram=function(){return e.context.__context.createProgram()};
e.createQuery=function(){return e.context.__context.createQuery()};e.createRenderbuffer=function(){return e.context.__context.createRenderbuffer()};e.createSampler=function(){return e.context.__context.createSampler()};e.createShader=function(a){return e.context.__context.createShader(a)};e.createTexture=function(){return e.context.__context.createTexture()};e.createTransformFeedback=function(){return e.context.__context.createTransformFeedback()};e.createVertexArray=function(){return e.context.__context.createVertexArray()};
e.cullFace=function(a){e.context.__context.cullFace(a)};e.deleteBuffer=function(a){e.context.__context.deleteBuffer(a)};e.deleteFramebuffer=function(a){e.context.__context.deleteFramebuffer(a)};e.deleteProgram=function(a){e.context.__context.deleteProgram(a)};e.deleteQuery=function(a){e.context.__context.deleteQuery(a)};e.deleteRenderbuffer=function(a){e.context.__context.deleteRenderbuffer(a)};e.deleteSampler=function(a){e.context.__context.deleteSampler(a)};e.deleteShader=function(a){e.context.__context.deleteShader(a)};
e.deleteSync=function(a){e.context.__context.deleteSync(a)};e.deleteTexture=function(a){e.context.__context.deleteTexture(a)};e.deleteTransformFeedback=function(a){e.context.__context.deleteTransformFeedback(a)};e.deleteVertexArray=function(a){e.context.__context.deleteVertexArray(a)};e.depthFunc=function(a){e.context.__context.depthFunc(a)};e.depthMask=function(a){e.context.__context.depthMask(a)};e.depthRange=function(a,b){e.context.__context.depthRange(a,b)};e.depthRangef=function(a,b){e.context.__context.depthRange(a,
b)};e.detachShader=function(a,b){e.context.__context.detachShader(a,b)};e.disable=function(a){e.context.__context.disable(a)};e.disableVertexAttribArray=function(a){e.context.__context.disableVertexAttribArray(a)};e.drawArrays=function(a,b,c){e.context.__context.drawArrays(a,b,c)};e.drawArraysInstanced=function(a,b,c,d){e.context.__context.drawArraysInstanced(a,b,c,d)};e.drawBuffers=function(a){e.context.__context.drawBuffers(a)};e.drawElements=function(a,b,c,d){var f=e.context;d=Za.fromInt(d);f.__context.drawElements(a,
b,c,d)};e.drawElementsInstanced=function(a,b,c,d,f){e.context.__context.drawElementsInstanced(a,b,c,d,f)};e.drawRangeElements=function(a,b,c,d,f,q){e.context.__context.drawRangeElements(a,b,c,d,f,q)};e.enable=function(a){e.context.__context.enable(a)};e.enableVertexAttribArray=function(a){e.context.__context.enableVertexAttribArray(a)};e.endQuery=function(a){e.context.__context.endQuery(a)};e.endTransformFeedback=function(){e.context.__context.endTransformFeedback()};e.fenceSync=function(a,b){return e.context.__context.fenceSync(a,
b)};e.finish=function(){e.context.__context.finish()};e.flush=function(){e.context.__context.flush()};e.framebufferRenderbuffer=function(a,b,c,d){e.context.__context.framebufferRenderbuffer(a,b,c,d)};e.framebufferTexture2D=function(a,b,c,d,f){e.context.__context.framebufferTexture2D(a,b,c,d,f)};e.framebufferTextureLayer=function(a,b,c,d,f){e.context.__context.framebufferTextureLayer(a,b,c,d,f)};e.frontFace=function(a){e.context.__context.frontFace(a)};e.generateMipmap=function(a){e.context.__context.generateMipmap(a)};
e.getActiveAttrib=function(a,b){return e.context.__context.getActiveAttrib(a,b)};e.getActiveUniform=function(a,b){return e.context.__context.getActiveUniform(a,b)};e.getActiveUniformBlocki=function(a,b,c){return e.context.__context.getActiveUniformBlockParameter(a,b,c)};e.getActiveUniformBlockiv=function(a,b,c,d){var f=e.context;(null!=d?new Int32Array(d,0):null)[0]=f.__context.getActiveUniformBlockParameter(a,b,c)};e.getActiveUniformBlockName=function(a,b){return e.context.__context.getActiveUniformBlockName(a,
b)};e.getActiveUniformBlockParameter=function(a,b,c){return e.context.__context.getActiveUniformBlockParameter(a,b,c)};e.getActiveUniforms=function(a,b,c){return e.context.__context.getActiveUniforms(a,b,c)};e.getActiveUniformsiv=function(a,b,c,d){};e.getAttachedShaders=function(a){return e.context.__context.getAttachedShaders(a)};e.getAttribLocation=function(a,b){return e.context.__context.getAttribLocation(a,b)};e.getBoolean=function(a){return e.context.__context.getParameter(a)};e.getBooleanv=
function(a,b){var c=e.context,d=null!=b?new Ma(b):null,c=c.__context.getParameter(a);if(c instanceof Array&&null==c.__enum__)for(var f=0,q=c.length;f<q;){var k=f++;d[k]=c[k]?1:0}else d[0]=y.__cast(c,Ai)?1:0};e.getBufferParameter=function(a,b){return e.context.__context.getBufferParameter(a,b)};e.getBufferParameteri=function(a,b){return e.context.__context.getBufferParameter(a,b)};e.getBufferParameteri64v=function(a,b,c){e.context.getBufferParameteri64v(a,b,c)};e.getBufferParameteriv=function(a,b,
c){var d=e.context;(null!=c?new Int32Array(c,0):null)[0]=d.__context.getBufferParameter(a,b)};e.getBufferPointerv=function(a,b){return Za.fromInt(0)};e.getBufferSubData=function(a,b,c,d,f){e.context.getBufferSubData(a,b,c,d,f)};e.getContextAttributes=function(){return e.context.__context.getContextAttributes()};e.getError=function(){return e.context.__context.getError()};e.getExtension=function(a){return e.context.__context.getExtension(a)};e.getFloat=function(a){return e.context.__context.getParameter(a)};
e.getFloatv=function(a,b){e.context.getFloatv(a,b)};e.getFragDataLocation=function(a,b){return e.context.__context.getFragDataLocation(a,b)};e.getFramebufferAttachmentParameter=function(a,b,c){return e.context.__context.getFramebufferAttachmentParameter(a,b,c)};e.getFramebufferAttachmentParameteri=function(a,b,c){return e.context.getFramebufferAttachmentParameteri(a,b,c)};e.getFramebufferAttachmentParameteriv=function(a,b,c,d){e.context.getFramebufferAttachmentParameteriv(a,b,c,d)};e.getIndexedParameter=
function(a,b){return e.context.__context.getIndexedParameter(a,b)};e.getInteger=function(a){return e.context.__context.getParameter(a)};e.getInteger64=function(a){return new ee(0,0)};e.getInteger64i=function(a){return new ee(0,0)};e.getInteger64i_v=function(a,b){};e.getInteger64v=function(a,b){e.context.getInteger64v(a,b)};e.getIntegeri=function(a){return 0};e.getIntegeri_v=function(a,b){};e.getIntegerv=function(a,b){e.context.getIntegerv(a,b)};e.getInternalformati=function(a,b,c){return 0};e.getInternalformativ=
function(a,b,c,d){e.context.getInternalformativ(a,b,c,d)};e.getInternalformatParameter=function(a,b,c){return e.context.__context.getInternalformatParameter(a,b,c)};e.getParameter=function(a){return e.context.__context.getParameter(a)};e.getProgrami=function(a,b){return e.context.__context.getProgramParameter(a,b)};e.getProgramiv=function(a,b,c){e.context.getProgramiv(a,b,c)};e.getProgramBinary=function(a,b){return null};e.getProgramInfoLog=function(a){return e.context.__context.getProgramInfoLog(a)};
e.getProgramParameter=function(a,b){return e.context.__context.getProgramParameter(a,b)};e.getQuery=function(a,b){return e.context.__context.getQuery(a,b)};e.getQueryi=function(a,b){return 0};e.getQueryiv=function(a,b,c){e.context.getQueryiv(a,b,c)};e.getQueryObjectui=function(a,b){return 0};e.getQueryObjectuiv=function(a,b,c){e.context.getQueryObjectuiv(a,b,c)};e.getQueryParameter=function(a,b){return e.context.__context.getQueryParameter(a,b)};e.getRenderbufferParameter=function(a,b){return e.context.__context.getRenderbufferParameter(a,
b)};e.getRenderbufferParameteri=function(a,b){return e.context.__context.getRenderbufferParameter(a,b)};e.getRenderbufferParameteriv=function(a,b,c){e.context.getRenderbufferParameteriv(a,b,c)};e.getSamplerParameter=function(a,b){return e.context.__context.getSamplerParameter(a,b)};e.getSamplerParameterf=function(a,b){return 0};e.getSamplerParameterfv=function(a,b,c){e.context.getSamplerParameterfv(a,b,c)};e.getSamplerParameteri=function(a,b){return 0};e.getSamplerParameteriv=function(a,b,c){e.context.getSamplerParameteriv(a,
b,c)};e.getShaderi=function(a,b){return e.context.__context.getShaderParameter(a,b)};e.getShaderiv=function(a,b,c){e.context.getShaderiv(a,b,c)};e.getShaderInfoLog=function(a){return e.context.__context.getShaderInfoLog(a)};e.getShaderParameter=function(a,b){return e.context.__context.getShaderParameter(a,b)};e.getShaderPrecisionFormat=function(a,b){return e.context.__context.getShaderPrecisionFormat(a,b)};e.getShaderSource=function(a){return e.context.__context.getShaderSource(a)};e.getString=function(a){return e.context.getString(a)};
e.getStringi=function(a,b){return null};e.getSupportedExtensions=function(){return e.context.__context.getSupportedExtensions()};e.getSyncParameter=function(a,b){return e.context.__context.getSyncParameter(a,b)};e.getSyncParameteri=function(a,b){return 0};e.getSyncParameteriv=function(a,b,c){e.context.getSyncParameteriv(a,b,c)};e.getTexParameter=function(a,b){return e.context.__context.getTexParameter(a,b)};e.getTexParameterf=function(a,b){return e.context.__context.getTexParameter(a,b)};e.getTexParameterfv=
function(a,b,c){e.context.getTexParameterfv(a,b,c)};e.getTexParameteri=function(a,b){return e.context.__context.getTexParameter(a,b)};e.getTexParameteriv=function(a,b,c){e.context.getTexParameteriv(a,b,c)};e.getTransformFeedbackVarying=function(a,b){return e.context.__context.getTransformFeedbackVarying(a,b)};e.getUniform=function(a,b){return e.context.__context.getUniform(a,b)};e.getUniformf=function(a,b){return e.context.__context.getUniform(a,b)};e.getUniformfv=function(a,b,c){e.context.getUniformfv(a,
b,c)};e.getUniformi=function(a,b){return e.context.getUniformi(a,b)};e.getUniformiv=function(a,b,c){e.context.getUniformiv(a,b,c)};e.getUniformui=function(a,b){return 0};e.getUniformuiv=function(a,b,c){e.context.getUniformuiv(a,b,c)};e.getUniformBlockIndex=function(a,b){return e.context.__context.getUniformBlockIndex(a,b)};e.getUniformIndices=function(a,b){return e.context.__context.getUniformIndices(a,b)};e.getUniformLocation=function(a,b){return e.context.__context.getUniformLocation(a,b)};e.getVertexAttrib=
function(a,b){return e.context.__context.getVertexAttrib(a,b)};e.getVertexAttribf=function(a,b){return 0};e.getVertexAttribfv=function(a,b,c){e.context.getVertexAttribfv(a,b,c)};e.getVertexAttribi=function(a,b){return e.context.getVertexAttribi(a,b)};e.getVertexAttribIi=function(a,b){return 0};e.getVertexAttribIiv=function(a,b,c){};e.getVertexAttribIui=function(a,b){return 0};e.getVertexAttribIuiv=function(a,b,c){};e.getVertexAttribiv=function(a,b,c){e.context.getVertexAttribiv(a,b,c)};e.getVertexAttribOffset=
function(a,b){return Za.fromInt(e.context.__context.getVertexAttribOffset(a,b))};e.getVertexAttribPointerv=function(a,b){return Za.fromInt(e.context.__context.getVertexAttribOffset(a,b))};e.hint=function(a,b){e.context.__context.hint(a,b)};e.invalidateFramebuffer=function(a,b){e.context.__context.invalidateFramebuffer(a,b)};e.invalidateSubFramebuffer=function(a,b,c,d,f,q){e.context.__context.invalidateSubFramebuffer(a,b,c,d,f,q)};e.isBuffer=function(a){return e.context.__context.isBuffer(a)};e.isContextLost=
function(){var a=e.context;return a.__contextLost?!0:a.__context.isContextLost()};e.isEnabled=function(a){return e.context.__context.isEnabled(a)};e.isFramebuffer=function(a){return e.context.__context.isFramebuffer(a)};e.isProgram=function(a){return e.context.__context.isProgram(a)};e.isQuery=function(a){return e.context.__context.isQuery(a)};e.isRenderbuffer=function(a){return e.context.__context.isRenderbuffer(a)};e.isSampler=function(a){return e.context.__context.isSampler(a)};e.isShader=function(a){return e.context.__context.isShader(a)};
e.isSync=function(a){return e.context.__context.isSync(a)};e.isTexture=function(a){return e.context.__context.isTexture(a)};e.isTransformFeedback=function(a){return e.context.__context.isTransformFeedback(a)};e.isVertexArray=function(a){return e.context.__context.isVertexArray(a)};e.lineWidth=function(a){e.context.__context.lineWidth(a)};e.linkProgram=function(a){e.context.__context.linkProgram(a)};e.mapBufferRange=function(a,b,c,d){};e.pauseTransformFeedback=function(){e.context.__context.pauseTransformFeedback()};
e.pixelStorei=function(a,b){e.context.__context.pixelStorei(a,b)};e.polygonOffset=function(a,b){e.context.__context.polygonOffset(a,b)};e.programBinary=function(a,b,c,d){};e.programParameteri=function(a,b,c){};e.readBuffer=function(a){e.context.__context.readBuffer(a)};e.readPixels=function(a,b,c,d,f,q,k,t){e.context.readPixels(a,b,c,d,f,q,k,t)};e.releaseShaderCompiler=function(){};e.renderbufferStorage=function(a,b,c,d){e.context.__context.renderbufferStorage(a,b,c,d)};e.renderbufferStorageMultisample=
function(a,b,c,d,f){e.context.__context.renderbufferStorageMultisample(a,b,c,d,f)};e.resumeTransformFeedback=function(){e.context.__context.resumeTransformFeedback()};e.sampleCoverage=function(a,b){e.context.__context.sampleCoverage(a,b)};e.samplerParameterf=function(a,b,c){e.context.__context.samplerParameterf(a,b,c)};e.samplerParameteri=function(a,b,c){e.context.__context.samplerParameteri(a,b,c)};e.scissor=function(a,b,c,d){e.context.__context.scissor(a,b,c,d)};e.shaderBinary=function(a,b,c,d){};
e.shaderSource=function(a,b){e.context.__context.shaderSource(a,b)};e.stencilFunc=function(a,b,c){e.context.__context.stencilFunc(a,b,c)};e.stencilFuncSeparate=function(a,b,c,d){e.context.__context.stencilFuncSeparate(a,b,c,d)};e.stencilMask=function(a){e.context.__context.stencilMask(a)};e.stencilMaskSeparate=function(a,b){e.context.__context.stencilMaskSeparate(a,b)};e.stencilOp=function(a,b,c){e.context.__context.stencilOp(a,b,c)};e.stencilOpSeparate=function(a,b,c,d){e.context.__context.stencilOpSeparate(a,
b,c,d)};e.texImage2D=function(a,b,c,d,f,q,k,t,l,g){e.context.texImage2D(a,b,c,d,f,q,k,t,l,g)};e.texImage3D=function(a,b,c,d,f,q,k,t,l,g,h){e.context.__context.texImage3D(a,b,c,d,f,q,k,t,l,g,h)};e.texStorage2D=function(a,b,c,d,f){e.context.__context.texStorage2D(a,b,c,d,f)};e.texStorage3D=function(a,b,c,d,f,q){e.context.__context.texStorage3D(a,b,c,d,f,q)};e.texParameterf=function(a,b,c){e.context.__context.texParameterf(a,b,c)};e.texParameteri=function(a,b,c){e.context.__context.texParameteri(a,b,
c)};e.texSubImage2D=function(a,b,c,d,f,q,k,t,l,g){e.context.texSubImage2D(a,b,c,d,f,q,k,t,l,g)};e.texSubImage3D=function(a,b,c,d,f,q,k,t,l,g,h,m){e.context.texSubImage3D(a,b,c,d,f,q,k,t,l,g,h,m)};e.transformFeedbackVaryings=function(a,b,c){e.context.__context.transformFeedbackVaryings(a,b,c)};e.uniform1f=function(a,b){e.context.__context.uniform1f(a,b)};e.uniform1fv=function(a,b,c,d){e.context.uniform1fv(a,b,c,d)};e.uniform1i=function(a,b){e.context.__context.uniform1i(a,b)};e.uniform1iv=function(a,
b,c,d){e.context.uniform1iv(a,b,c,d)};e.uniform1ui=function(a,b){e.context.__context.uniform1ui(a,b)};e.uniform1uiv=function(a,b,c,d){e.context.uniform1uiv(a,b,c,d)};e.uniform2f=function(a,b,c){e.context.__context.uniform2f(a,b,c)};e.uniform2fv=function(a,b,c,d){e.context.uniform2fv(a,b,c,d)};e.uniform2i=function(a,b,c){e.context.__context.uniform2i(a,b,c)};e.uniform2iv=function(a,b,c,d){e.context.uniform2iv(a,b,c,d)};e.uniform2ui=function(a,b,c){e.context.__context.uniform2ui(a,b,c)};e.uniform2uiv=
function(a,b,c,d){e.context.uniform2uiv(a,b,c,d)};e.uniform3f=function(a,b,c,d){e.context.__context.uniform3f(a,b,c,d)};e.uniform3fv=function(a,b,c,d){e.context.uniform3fv(a,b,c,d)};e.uniform3i=function(a,b,c,d){e.context.__context.uniform3i(a,b,c,d)};e.uniform3iv=function(a,b,c,d){e.context.uniform3iv(a,b,c,d)};e.uniform3ui=function(a,b,c,d){e.context.__context.uniform3ui(a,b,c,d)};e.uniform3uiv=function(a,b,c,d){e.context.uniform3uiv(a,b,c,d)};e.uniform4f=function(a,b,c,d,f){e.context.__context.uniform4f(a,
b,c,d,f)};e.uniform4fv=function(a,b,c,d){e.context.uniform4fv(a,b,c,d)};e.uniform4i=function(a,b,c,d,f){e.context.__context.uniform4i(a,b,c,d,f)};e.uniform4iv=function(a,b,c,d){e.context.uniform4iv(a,b,c,d)};e.uniform4ui=function(a,b,c,d,f){e.context.__context.uniform4ui(a,b,c,d,f)};e.uniform4uiv=function(a,b,c,d){e.context.uniform4uiv(a,b,c,d)};e.uniformBlockBinding=function(a,b,c){e.context.__context.uniformBlockBinding(a,b,c)};e.uniformMatrix2fv=function(a,b,c,d,f){e.context.uniformMatrix2fv(a,
b,c,d,f)};e.uniformMatrix2x3fv=function(a,b,c,d,f){e.context.uniformMatrix2x3fv(a,b,c,d,f)};e.uniformMatrix2x4fv=function(a,b,c,d,f){e.context.uniformMatrix2x4fv(a,b,c,d,f)};e.uniformMatrix3fv=function(a,b,c,d,f){e.context.uniformMatrix3fv(a,b,c,d,f)};e.uniformMatrix3x2fv=function(a,b,c,d,f){e.context.uniformMatrix3x2fv(a,b,c,d,f)};e.uniformMatrix3x4fv=function(a,b,c,d,f){e.context.uniformMatrix3x4fv(a,b,c,d,f)};e.uniformMatrix4fv=function(a,b,c,d,f){e.context.uniformMatrix4fv(a,b,c,d,f)};e.uniformMatrix4x2fv=
function(a,b,c,d,f){e.context.uniformMatrix4x2fv(a,b,c,d,f)};e.uniformMatrix4x3fv=function(a,b,c,d,f){e.context.uniformMatrix4x3fv(a,b,c,d,f)};e.unmapBuffer=function(a){return!1};e.useProgram=function(a){e.__currentProgram=a;e.context.__context.useProgram(a)};e.validateProgram=function(a){e.context.__context.validateProgram(a)};e.vertexAttrib1f=function(a,b){e.context.__context.vertexAttrib1f(a,b)};e.vertexAttrib1fv=function(a,b){e.context.vertexAttrib1fv(a,b)};e.vertexAttrib2f=function(a,b,c){e.context.__context.vertexAttrib2f(a,
b,c)};e.vertexAttrib2fv=function(a,b){e.context.vertexAttrib2fv(a,b)};e.vertexAttrib3f=function(a,b,c,d){e.context.__context.vertexAttrib3f(a,b,c,d)};e.vertexAttrib3fv=function(a,b){e.context.vertexAttrib3fv(a,b)};e.vertexAttrib4f=function(a,b,c,d,f){e.context.__context.vertexAttrib4f(a,b,c,d,f)};e.vertexAttrib4fv=function(a,b){e.context.vertexAttrib4fv(a,b)};e.vertexAttribDivisor=function(a,b){e.context.__context.vertexAttribDivisor(a,b)};e.vertexAttribI4i=function(a,b,c,d,f){e.context.__context.vertexAttribI4i(a,
b,c,d,f)};e.vertexAttribI4iv=function(a,b){e.context.vertexAttribI4iv(a,b)};e.vertexAttribI4ui=function(a,b,c,d,f){e.context.__context.vertexAttribI4ui(a,b,c,d,f)};e.vertexAttribI4uiv=function(a,b){e.context.vertexAttribI4uiv(a,b)};e.vertexAttribIPointer=function(a,b,c,d,f){e.context.__context.vertexAttribIPointer(a,b,c,d,f)};e.vertexAttribPointer=function(a,b,c,d,f,q){e.context.__context.vertexAttribPointer(a,b,c,d,f,q)};e.viewport=function(a,b,c,d){e.context.__context.viewport(a,b,c,d)};e.waitSync=
function(a,b,c){e.context.__context.waitSync(a,b,c)};e.get_type=function(){return e.context.type};e.get_version=function(){return e.context.version};e.__getObjectID=function(a){return null==a?0:a.id};var Wb=h["lime.graphics.opengl.GLContextType"]={__ename__:["lime","graphics","opengl","GLContextType"],__constructs__:["OPENGL","GLES","WEBGL"]};Wb.OPENGL=["OPENGL",0];Wb.OPENGL.toString=A;Wb.OPENGL.__enum__=Wb;Wb.GLES=["GLES",1];Wb.GLES.toString=A;Wb.GLES.__enum__=Wb;Wb.WEBGL=["WEBGL",2];Wb.WEBGL.toString=
A;Wb.WEBGL.__enum__=Wb;var Xe=function(){};h["lime.utils.BytePointerData"]=Xe;Xe.__name__=["lime","utils","BytePointerData"];Xe.prototype={bytes:null,offset:null,__class__:Xe};var ei={};h["lime.graphics.opengl._WebGLContext.WebGLContext_Impl_"]=ei;ei.__name__=["lime","graphics","opengl","_WebGLContext","WebGLContext_Impl_"];ei.texImage2D=function(a,b,c,d,f,e,k,t,l,g){a.texImage2D(b,c,d,f,e,k,t,l,g,null)};var na=function(){};h["lime.graphics.utils.ImageCanvasUtil"]=na;na.__name__=["lime","graphics",
"utils","ImageCanvasUtil"];na.colorTransform=function(a,b,c){na.convertToData(a);Nb.colorTransform(a,b,c)};na.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(na.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),na.createCanvas(a,c.width,c.height),na.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==
Ka.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=Ka.CANVAS};na.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&na.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)na.createImageData(a),a.type==Ka.CANVAS&&(a.dirty=!1);else if(a.type==Ka.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)na.createImageData(a);
else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer,d=null!=d?new Ma(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=Ka.DATA};na.copyChannel=function(a,b,c,d,f,e){na.convertToData(b);na.convertToData(a);Nb.copyChannel(a,b,c,d,f,e)};na.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?
d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};na.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,
a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new Ma(b):null;a.data=b}};na.fillRect=function(a,b,c,d){na.convertToCanvas(a);var f,e;1==d?(d=c>>16&255,f=c>>8&255,e=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,f=c>>16&255,e=c>>8&255,c=a.get_transparent()?c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(a.buffer.__srcContext.fillStyle="rgba("+d+", "+f+", "+e+", "+
c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),a.dirty=!0,a.version++)};na.sync=function(a,b){null!=a&&(a.type==Ka.CANVAS?na.convertToCanvas(a,b):na.convertToData(a,b))};var Nb=function(){};h["lime.graphics.utils.ImageDataUtil"]=Nb;Nb.__name__=["lime","graphics","utils","ImageDataUtil"];Nb.colorTransform=function(a,b,c){var d=a.buffer.data;if(null!=d){var f=a.buffer.format,e=a.buffer.premultiplied;b=new Gd(a,b);var k=Na.getAlphaTable(c),
t=Na.getRedTable(c),l=Na.getGreenTable(c);c=Na.getBlueTable(c);for(var g,h,m,u=0,n=b.height;u<n;){g=u++;g=b.offset+b.stride*g;for(var p=0,r=b.width;p<r;){h=p++;h=g+4*h;switch(f){case 0:m=(d[h]&255)<<24|(d[h+1]&255)<<16|(d[h+2]&255)<<8|d[h+3]&255;break;case 1:m=(d[h+1]&255)<<24|(d[h+2]&255)<<16|(d[h+3]&255)<<8|d[h]&255;break;case 2:m=(d[h+2]&255)<<24|(d[h+1]&255)<<16|(d[h]&255)<<8|d[h+3]&255}e&&0!=(m&255)&&255!=(m&255)&&(V.unmult=255/(m&255),m=(V.__clamp[Math.round((m>>>24&255)*V.unmult)]&255)<<24|
(V.__clamp[Math.round((m>>>16&255)*V.unmult)]&255)<<16|(V.__clamp[Math.round((m>>>8&255)*V.unmult)]&255)<<8|m&255);m=(t[m>>>24&255]&255)<<24|(l[m>>>16&255]&255)<<16|(c[m>>>8&255]&255)<<8|k[m&255]&255;e&&(0==(m&255)?0!=m&&(m=0):255!=(m&255)&&(V.a16=V.__alpha16[m&255],m=((m>>>24&255)*V.a16>>16&255)<<24|((m>>>16&255)*V.a16>>16&255)<<16|((m>>>8&255)*V.a16>>16&255)<<8|m&255));switch(f){case 0:d[h]=m>>>24&255;d[h+1]=m>>>16&255;d[h+2]=m>>>8&255;d[h+3]=m&255;break;case 1:d[h]=m&255;d[h+1]=m>>>24&255;d[h+
2]=m>>>16&255;d[h+3]=m>>>8&255;break;case 2:d[h]=m>>>8&255,d[h+1]=m>>>16&255,d[h+2]=m>>>24&255,d[h+3]=m&255}}}a.dirty=!0;a.version++}};Nb.copyChannel=function(a,b,c,d,f,e){var k;switch(e[1]){case 0:k=0;break;case 1:k=1;break;case 2:k=2;break;case 3:k=3}var t;switch(f[1]){case 0:t=0;break;case 1:t=1;break;case 2:t=2;break;case 3:t=3}f=b.buffer.data;e=a.buffer.data;if(null!=f&&null!=e){c=new Gd(b,c);d=new Gd(a,new ed(d.x,d.y,c.width,c.height));var l=b.buffer.format,g=a.buffer.format;b=b.buffer.premultiplied;
for(var h=a.buffer.premultiplied,m,u,n,p,r=0,w=0,v=d.height;w<v;){u=w++;m=c.offset+c.stride*u;u=d.offset+d.stride*u;for(var x=0,y=d.width;x<y;){x++;switch(l){case 0:n=(f[m]&255)<<24|(f[m+1]&255)<<16|(f[m+2]&255)<<8|f[m+3]&255;break;case 1:n=(f[m+1]&255)<<24|(f[m+2]&255)<<16|(f[m+3]&255)<<8|f[m]&255;break;case 2:n=(f[m+2]&255)<<24|(f[m+1]&255)<<16|(f[m]&255)<<8|f[m+3]&255}b&&0!=(n&255)&&255!=(n&255)&&(V.unmult=255/(n&255),n=(V.__clamp[Math.round((n>>>24&255)*V.unmult)]&255)<<24|(V.__clamp[Math.round((n>>>
16&255)*V.unmult)]&255)<<16|(V.__clamp[Math.round((n>>>8&255)*V.unmult)]&255)<<8|n&255);switch(g){case 0:p=(e[u]&255)<<24|(e[u+1]&255)<<16|(e[u+2]&255)<<8|e[u+3]&255;break;case 1:p=(e[u+1]&255)<<24|(e[u+2]&255)<<16|(e[u+3]&255)<<8|e[u]&255;break;case 2:p=(e[u+2]&255)<<24|(e[u+1]&255)<<16|(e[u]&255)<<8|e[u+3]&255}h&&0!=(p&255)&&255!=(p&255)&&(V.unmult=255/(p&255),p=(V.__clamp[Math.round((p>>>24&255)*V.unmult)]&255)<<24|(V.__clamp[Math.round((p>>>16&255)*V.unmult)]&255)<<16|(V.__clamp[Math.round((p>>>
8&255)*V.unmult)]&255)<<8|p&255);switch(t){case 0:r=n>>>24&255;break;case 1:r=n>>>16&255;break;case 2:r=n>>>8&255;break;case 3:r=n&255}switch(k){case 0:p=(r&255)<<24|(p>>>16&255)<<16|(p>>>8&255)<<8|p&255;break;case 1:p=(p>>>24&255)<<24|(r&255)<<16|(p>>>8&255)<<8|p&255;break;case 2:p=(p>>>24&255)<<24|(p>>>16&255)<<16|(r&255)<<8|p&255;break;case 3:p=(p>>>24&255)<<24|(p>>>16&255)<<16|(p>>>8&255)<<8|r&255}h&&(0==(p&255)?0!=p&&(p=0):255!=(p&255)&&(V.a16=V.__alpha16[p&255],p=((p>>>24&255)*V.a16>>16&255)<<
24|((p>>>16&255)*V.a16>>16&255)<<16|((p>>>8&255)*V.a16>>16&255)<<8|p&255));switch(g){case 0:e[u]=p>>>24&255;e[u+1]=p>>>16&255;e[u+2]=p>>>8&255;e[u+3]=p&255;break;case 1:e[u]=p&255;e[u+1]=p>>>24&255;e[u+2]=p>>>16&255;e[u+3]=p>>>8&255;break;case 2:e[u]=p>>>8&255,e[u+1]=p>>>16&255,e[u+2]=p>>>24&255,e[u+3]=p&255}m+=4;u+=4}}a.dirty=!0;a.version++}};Nb.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>
24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255);d=a.buffer.data;if(null!=d){var f=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(V.a16=V.__alpha16[c&255],c=((c>>>24&255)*V.a16>>16&255)<<24|((c>>>16&255)*V.a16>>16&255)<<16|((c>>>8&255)*V.a16>>16&255)<<8|c&255));b=new Gd(a,b);for(var e,k=0,t=b.height;k<t;){e=k++;e=b.offset+b.stride*e;for(var l=0,g=b.width;l<g;){var h=l++,h=e+4*h;switch(f){case 0:d[h]=c>>>24&255;d[h+
1]=c>>>16&255;d[h+2]=c>>>8&255;d[h+3]=c&255;break;case 1:d[h]=c&255;d[h+1]=c>>>24&255;d[h+2]=c>>>16&255;d[h+3]=c>>>8&255;break;case 2:d[h]=c>>>8&255,d[h+1]=c>>>16&255,d[h+2]=c>>>24&255,d[h+3]=c&255}}}a.dirty=!0;a.version++}};Nb.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d,f=0,e=b.length/4|0;f<e;){var k=f++,t=4*k;switch(c){case 0:d=(b[t]&255)<<24|(b[t+1]&255)<<16|(b[t+2]&255)<<8|b[t+3]&255;break;case 1:d=(b[t+1]&255)<<24|(b[t+2]&255)<<
16|(b[t+3]&255)<<8|b[t]&255;break;case 2:d=(b[t+2]&255)<<24|(b[t+1]&255)<<16|(b[t]&255)<<8|b[t+3]&255}k*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(V.a16=V.__alpha16[d&255],d=((d>>>24&255)*V.a16>>16&255)<<24|((d>>>16&255)*V.a16>>16&255)<<16|((d>>>8&255)*V.a16>>16&255)<<8|d&255);switch(c){case 0:b[k]=d>>>24&255;b[k+1]=d>>>16&255;b[k+2]=d>>>8&255;b[k+3]=d&255;break;case 1:b[k]=d&255;b[k+1]=d>>>24&255;b[k+2]=d>>>16&255;b[k+3]=d>>>8&255;break;case 2:b[k]=d>>>8&255,b[k+1]=d>>>16&255,b[k+2]=d>>>24&255,b[k+
3]=d&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};Nb.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,f=c.length/4|0,e,k,t,l,g,h,m,n,p,r,w,v;switch(a.get_format()){case 0:e=0;k=1;t=2;l=3;break;case 1:e=1;k=2;t=3;l=0;break;case 2:e=2,k=1,t=0,l=3}switch(b){case 0:g=0;h=1;m=2;n=3;break;case 1:g=1;h=2;m=3;n=0;break;case 2:g=2,h=1,m=0,n=3}for(var x=0;x<f;)d=4*x++,p=c[d+e],r=c[d+k],w=c[d+t],v=c[d+l],c[d+g]=p,c[d+h]=r,c[d+m]=w,c[d+n]=v;a.buffer.format=b;a.dirty=!0;a.version++}};Nb.unmultiplyAlpha=
function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d,f=0,e=b.length/4|0;f<e;){var k=f++,t=4*k;switch(c){case 0:d=(b[t]&255)<<24|(b[t+1]&255)<<16|(b[t+2]&255)<<8|b[t+3]&255;break;case 1:d=(b[t+1]&255)<<24|(b[t+2]&255)<<16|(b[t+3]&255)<<8|b[t]&255;break;case 2:d=(b[t+2]&255)<<24|(b[t+1]&255)<<16|(b[t]&255)<<8|b[t+3]&255}0!=(d&255)&&255!=(d&255)&&(V.unmult=255/(d&255),d=(V.__clamp[Math.round((d>>>24&255)*V.unmult)]&255)<<24|(V.__clamp[Math.round((d>>>16&255)*V.unmult)]&255)<<16|(V.__clamp[Math.round((d>>>
8&255)*V.unmult)]&255)<<8|d&255);k*=4;switch(c){case 0:b[k]=d>>>24&255;b[k+1]=d>>>16&255;b[k+2]=d>>>8&255;b[k+3]=d&255;break;case 1:b[k]=d&255;b[k+1]=d>>>24&255;b[k+2]=d>>>16&255;b[k+3]=d>>>8&255;break;case 2:b[k]=d>>>8&255,b[k+1]=d>>>16&255,b[k+2]=d>>>24&255,b[k+3]=d&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};var Gd=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-
b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};h["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Gd;Gd.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];Gd.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,
rect:null,stride:null,__class__:Gd};var Na={};h["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Na;Na.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"];Na.getAlphaTable=function(a){if(null==Na.__alphaTable){var b=new Ma(256);Na.__alphaTable=b}Na.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++,b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);Na.__alphaTable[d]=b}return Na.__alphaTable};Na.getBlueTable=function(a){if(null==Na.__blueTable){var b=new Ma(256);Na.__blueTable=b}for(var c=
0;256>c;){var d=c++,b=Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);Na.__blueTable[d]=b}return Na.__blueTable};Na.getGreenTable=function(a){if(null==Na.__greenTable){var b=new Ma(256);Na.__greenTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);Na.__greenTable[d]=b}return Na.__greenTable};Na.getRedTable=function(a){if(null==Na.__redTable){var b=new Ma(256);Na.__redTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);
0>b&&(b=0);Na.__redTable[d]=b}return Na.__redTable};Na.__toFlashColorTransform=function(a){return null};var Ei=function(){};h["lime.math.Matrix3"]=Ei;Ei.__name__=["lime","math","Matrix3"];var va={};h["lime.math._Matrix4.Matrix4_Impl_"]=va;va.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];va._new=function(a){if(null==a||16!=a.length)a=va.__identity,a=null!=a?new ka(a):null;return a};va.append=function(a,b){var c=a[0],d=a[4],f=a[8],e=a[12],k=a[1],t=a[5],l=a[9],g=a[13],h=a[2],m=a[6],n=a[10],p=a[14],
r=a[3],w=a[7],v=a[11],x=a[15],y=va.get(b,0),z=va.get(b,4),A=va.get(b,8),E=va.get(b,12),B=va.get(b,1),D=va.get(b,5),C=va.get(b,9),G=va.get(b,13),M=va.get(b,2),F=va.get(b,6),N=va.get(b,10),H=va.get(b,14),J=va.get(b,3),I=va.get(b,7),K=va.get(b,11),L=va.get(b,15);a[0]=c*y+k*z+h*A+r*E;a[1]=c*B+k*D+h*C+r*G;a[2]=c*M+k*F+h*N+r*H;a[3]=c*J+k*I+h*K+r*L;a[4]=d*y+t*z+m*A+w*E;a[5]=d*B+t*D+m*C+w*G;a[6]=d*M+t*F+m*N+w*H;a[7]=d*J+t*I+m*K+w*L;a[8]=f*y+l*z+n*A+v*E;a[9]=f*B+l*D+n*C+v*G;a[10]=f*M+l*F+n*N+v*H;a[11]=f*J+
l*I+n*K+v*L;a[12]=e*y+g*z+p*A+x*E;a[13]=e*B+g*D+p*C+x*G;a[14]=e*M+g*F+p*N+x*H;a[15]=e*J+g*I+p*K+x*L};va.createOrtho=function(a,b,c,d,f,e){var k=1/(b-a),t=1/(d-c),l=1/(e-f);a=[2*k,0,0,0,0,2*t,0,0,0,0,-2*l,0,-(a+b)*k,-(c+d)*t,-(f+e)*l,1];a=null!=a?new ka(a):null;return va._new(a)};va.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};va.get=function(a,b){return a[b]};va.set=function(a,b,c){return a[b]=c};var ed=
function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["lime.math.Rectangle"]=ed;ed.__name__=["lime","math","Rectangle"];ed.prototype={height:null,width:null,x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__toFlashRectangle:function(){return null},__class__:ed};var dh=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["lime.math.Vector2"]=
dh;dh.__name__=["lime","math","Vector2"];dh.prototype={x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:dh};var Tg=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["lime.math.Vector4"]=Tg;Tg.__name__=["lime","math","Vector4"];Tg.prototype={w:null,x:null,y:null,z:null,__class__:Tg};var V={};h["lime.math.color._RGBA.RGBA_Impl_"]=V;V.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];
var Fi=function(){};h["lime.media.ALAudioContext"]=Fi;Fi.__name__=["lime","media","ALAudioContext"];var Gi=function(){};h["lime.media.ALCAudioContext"]=Gi;Gi.__name__=["lime","media","ALCAudioContext"];var lb=function(){};h["lime.media.AudioBuffer"]=lb;lb.__name__=["lime","media","AudioBuffer"];lb.fromBytes=function(a){return null};lb.fromFile=function(a){if(null==a)return null;var b=new lb;b.__srcHowl=new Howl({src:[a]});return b};lb.fromFiles=function(a){var b=new lb;b.__srcHowl=new Howl({src:a});
return b};lb.fromVorbisFile=function(a){return null};lb.loadFromFile=function(a){var b=new zb,c=lb.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};lb.loadFromFiles=function(a){var b=new zb,c=lb.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};
lb.prototype={__srcHowl:null,get_src:function(){return this.__srcHowl},__class__:lb,__properties__:{get_src:"get_src"}};var pc=h["lime.media.AudioContext"]={__ename__:["lime","media","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};pc.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=pc;c.toString=A;return c};pc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=pc;a.toString=A;return a};pc.WEB=function(a){a=["WEB",2,a];a.__enum__=pc;a.toString=A;return a};pc.FLASH=function(a){a=
["FLASH",3,a];a.__enum__=pc;a.toString=A;return a};pc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=pc;a.toString=A;return a};var wd=function(){};h["lime.media.AudioManager"]=wd;wd.__name__=["lime","media","AudioManager"];wd.init=function(a){if(null==wd.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,wd.context=pc.WEB(new AudioContext)}catch(b){wd.context=pc.HTML5(new eh)}else wd.context=a};var fh=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=
new db;this.buffer=a;this.offset=b;this.backend=new Ug(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};h["lime.media.AudioSource"]=fh;fh.__name__=["lime","media","AudioSource"];fh.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},init:function(){this.backend.init()},play:function(){this.backend.play()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},set_currentTime:function(a){return this.backend.setCurrentTime(a)},
get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},set_length:function(a){return this.backend.setLength(a)},set_loops:function(a){return this.backend.setLoops(a)},get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:fh,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",set_length:"set_length",set_gain:"set_gain",get_gain:"get_gain",
set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var Hi=function(){};h["lime.media.FlashAudioContext"]=Hi;Hi.__name__=["lime","media","FlashAudioContext"];var eh=function(){};h["lime.media.HTML5AudioContext"]=eh;eh.__name__=["lime","media","HTML5AudioContext"];eh.prototype={__class__:eh};var gh=function(){};h["lime.net._IHTTPRequest"]=gh;gh.__name__=["lime","net","_IHTTPRequest"];gh.prototype={contentType:null,data:null,enableResponseHeaders:null,formData:null,headers:null,method:null,
responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,__class__:gh};var gc=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.formData=new B;this.headers=[];this.method="GET";this.timeout=3E4;this.backend=new qa;this.backend.init(this)};h["lime.net._HTTPRequest.AbstractHTTPRequest"]=gc;gc.__name__=["lime","net","_HTTPRequest","AbstractHTTPRequest"];gc.__interfaces__=[gh];gc.prototype={contentType:null,data:null,enableResponseHeaders:null,
followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,backend:null,__class__:gc};var fd=function(a){gc.call(this,a)};h["lime.net._HTTPRequest_Bytes"]=fd;fd.__name__=["lime","net","_HTTPRequest_Bytes"];fd.__super__=gc;fd.prototype=w(gc.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;null!=a&&(this.uri=a);var c=new zb;a=this.backend.loadData(this.uri);a.onProgress(p(c,c.progress));
a.onError(p(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});return c.future},__class__:fd});var ie=function(a){gc.call(this,a)};h["lime.net._HTTPRequest_String"]=ie;ie.__name__=["lime","net","_HTTPRequest_String"];ie.__super__=gc;ie.prototype=w(gc.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var c=new zb;a=this.backend.loadText(this.uri);a.onProgress(p(c,c.progress));a.onError(p(c,c.error));a.onComplete(function(a){b.responseData=a;c.complete(b.responseData)});
return c.future},__class__:ie});var Ye=function(a,b){null==b&&(b="");this.name=a;this.value=b};h["lime.net.HTTPRequestHeader"]=Ye;Ye.__name__=["lime","net","HTTPRequestHeader"];Ye.prototype={name:null,value:null,__class__:Ye};var ef=function(a){gc.call(this,a)};h["lime.net._HTTPRequest_lime_utils_Bytes"]=ef;ef.__name__=["lime","net","_HTTPRequest_lime_utils_Bytes"];ef.__super__=fd;ef.prototype=w(fd.prototype,{fromBytes:function(a){return Xb.fromBytes(a)},__class__:ef});var ff=function(a){gc.call(this,
a)};h["lime.net._HTTPRequest_openfl_utils_ByteArray"]=ff;ff.__name__=["lime","net","_HTTPRequest_openfl_utils_ByteArray"];ff.__super__=fd;ff.prototype=w(fd.prototype,{fromBytes:function(a){return $a.fromBytes(a)},__class__:ff});var yc=function(){};h["lime.system.Clipboard"]=yc;yc.__name__=["lime","system","Clipboard"];yc.__properties__={set_text:"set_text",get_text:"get_text"};yc.get_text=function(){return yc._text};yc.set_text=function(a){yc._text=a;var b=qb.current.__windows[0];null!=b&&b.backend.setClipboard(a);
return a};var Ii=function(){};h["lime.system.DisplayMode"]=Ii;Ii.__name__=["lime","system","DisplayMode"];var Va=function(){};h["lime.system.System"]=Va;Va.__name__=["lime","system","System"];Va.embed=Wh.lime.embed=function(a,b,c,d,f){if(null!=Va.__applicationEntryPoint&&null!=Va.__applicationConfig){var e=Va.__applicationEntryPoint;if(null!=n[a]?e.existsReserved(a):e.h.hasOwnProperty(a))if(e=null,e="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):
b,null==e)window.console.log("[lime.embed] ERROR: Cannot find target element: "+F.string(b));else{null==c&&(c=0);null==d&&(d=0);b=Va.__applicationConfig;var k=null!=n[a]?b.getReserved(a):b.h[a];b={};Va.__copyMissingFields(b,k);if(null!=f){b.windows=[];f instanceof Array&&null==f.__enum__?b.windows=f:b.windows[0]=f;for(var t=0,l=b.windows.length;t<l;){var g=t++;g<k.windows.length&&Va.__copyMissingFields(b.windows[g],k.windows[g]);Va.__copyMissingFields(b.windows[g].parameters,k.windows[g].parameters);
"string"==typeof f.background&&(g=N.replace(F.string(f.background),"#",""),-1<g.indexOf("0x")?f.background=F.parseInt(g):f.background=F.parseInt("0x"+g))}}H.field(b.windows[0],"rootPath")&&(b.rootPath=H.field(b.windows[0],"rootPath"),b.assetsPrefix=b.rootPath,H.deleteField(b.windows[0],"rootPath"));H.field(b.windows[0],"assetsPrefix")&&(b.rootPath=H.field(b.windows[0],"assetsPrefix"),b.assetsPrefix=b.rootPath,H.deleteField(b.windows[0],"assetsPrefix"));b.windows[0].element=e;b.windows[0].width=c;
b.windows[0].height=d;c=Va.__applicationEntryPoint;(null!=n[a]?c.getReserved(a):c.h[a])(b)}}};Va.exit=function(a){};Va.getTimer=function(){return(new Date).getTime()};Va.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};Va.__copyMissingFields=function(a,b){if(null!=b&&null!=a)for(var c=0,d=H.fields(b);c<d.length;){var f=d[c];++c;Object.prototype.hasOwnProperty.call(a,f)||(a[f]=H.field(b,f))}};Va.__registerEntryPoint=function(a,b,c){null==Va.__applicationConfig&&(Va.__applicationConfig=
new B);null==Va.__applicationEntryPoint&&(Va.__applicationEntryPoint=new B);var d=Va.__applicationEntryPoint;null!=n[a]?d.setReserved(a,b):d.h[a]=b;b=Va.__applicationConfig;null!=n[a]?b.setReserved(a,c):b.h[a]=c};var Xg=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new ge;this.onComplete=new ge;this.doWork=new ge;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};h["lime.system.ThreadPool"]=Xg;Xg.__name__=["lime","system","ThreadPool"];Xg.prototype={currentThreads:null,doWork:null,
maxThreads:null,minThreads:null,onComplete:null,onError:null,queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:Xg};var Bb=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};h["lime.text.Font"]=Bb;Bb.__name__=["lime","text","Font"];Bb.fromFile=function(a){if(null==a)return null;var b=new Bb;b.__fromFile(a);return b};Bb.loadFromName=function(a){return(new Bb).__loadFromName(a)};
Bb.__makeLoaderNode=function(a){var b=window.document.createElement("span");b.innerHTML="giItT1WQy@!-/#";var c=b.style;c.position="absolute";c.left="-10000px";c.top="-10000px";c.fontSize="300px";c.fontFamily=a;c.fontVariant="normal";c.fontStyle="normal";c.fontWeight="normal";c.letterSpacing="0";window.document.body.appendChild(b);return b};Bb.prototype={name:null,src:null,__fontPath:null,__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new zb;this.name=a;var d=window.navigator.userAgent.toLowerCase();
if(0<=d.indexOf(" safari/")&&0>d.indexOf(" chrome/")||!window.document.fonts||(qc=window.document.fonts,!p(qc,qc.load))){var f=Bb.__makeLoaderNode("sans-serif"),e=Bb.__makeLoaderNode("serif"),k=f.offsetWidth,t=e.offsetWidth;f.style.fontFamily="'"+a+"', sans-serif";e.style.fontFamily="'"+a+"', serif";var l=null,g=!1;a=function(){if(f.offsetWidth!=k||e.offsetWidth!=t){if(!g)return g=!0,!1;null!=l&&window.clearInterval(l);f.parentNode.removeChild(f);e.parentNode.removeChild(e);e=f=null;c.complete(b);
return!0}return!1};a()||(l=window.setInterval(a,50))}else window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)});return c.future},__class__:Bb};var bb=function(a){this.onDisconnect=new db;this.onButtonUp=new cf;this.onButtonDown=new cf;this.onAxisMove=new ah;this.id=a;this.connected=!0};h["lime.ui.Gamepad"]=bb;bb.__name__=["lime","ui","Gamepad"];bb.__connect=function(a){if(!bb.devices.h.hasOwnProperty(a)){var b=new bb(a);bb.devices.h[a]=b;bb.onConnect.dispatch(b)}};bb.__disconnect=
function(a){var b=bb.devices.h[a];null!=b&&(b.connected=!1);bb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};bb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,__class__:bb};var Ya=function(a){this.onTrackballMove=new af;this.onHatMove=new Yg;this.onDisconnect=new db;this.onButtonUp=new vd;this.onButtonDown=new vd;this.onAxisMove=new af;this.id=a;this.connected=!0};h["lime.ui.Joystick"]=Ya;Ya.__name__=["lime","ui","Joystick"];Ya.__connect=
function(a){if(!Ya.devices.h.hasOwnProperty(a)){var b=new Ya(a);Ya.devices.h[a]=b;Ya.onConnect.dispatch(b)}};Ya.__disconnect=function(a){var b=Ya.devices.h[a];null!=b&&(b.connected=!1);Ya.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Ya.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};Ya.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,
onTrackballMove:null,__class__:Ya};var Ga={};h["lime.ui._KeyModifier.KeyModifier_Impl_"]=Ga;Ga.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];Ga.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};Ga.get_altKey=function(a){return 0>=(a&256)?0<(a&512):!0};Ga.get_ctrlKey=function(a){return 0>=(a&64)?0<(a&128):!0};Ga.get_metaKey=function(a){return 0>=(a&1024)?0<(a&2048):!0};Ga.get_shiftKey=function(a){return 0>=(a&1)?0<(a&
2):!0};var gf=function(){};h["lime.ui.Mouse"]=gf;gf.__name__=["lime","ui","Mouse"];gf.__properties__={set_cursor:"set_cursor"};gf.set_cursor=function(a){return Ed.set_cursor(a)};var P=h["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};P.ARROW=["ARROW",0];P.ARROW.toString=A;P.ARROW.__enum__=P;P.CROSSHAIR=["CROSSHAIR",1];P.CROSSHAIR.toString=A;P.CROSSHAIR.__enum__=
P;P.DEFAULT=["DEFAULT",2];P.DEFAULT.toString=A;P.DEFAULT.__enum__=P;P.MOVE=["MOVE",3];P.MOVE.toString=A;P.MOVE.__enum__=P;P.POINTER=["POINTER",4];P.POINTER.toString=A;P.POINTER.__enum__=P;P.RESIZE_NESW=["RESIZE_NESW",5];P.RESIZE_NESW.toString=A;P.RESIZE_NESW.__enum__=P;P.RESIZE_NS=["RESIZE_NS",6];P.RESIZE_NS.toString=A;P.RESIZE_NS.__enum__=P;P.RESIZE_NWSE=["RESIZE_NWSE",7];P.RESIZE_NWSE.toString=A;P.RESIZE_NWSE.__enum__=P;P.RESIZE_WE=["RESIZE_WE",8];P.RESIZE_WE.toString=A;P.RESIZE_WE.__enum__=P;P.TEXT=
["TEXT",9];P.TEXT.toString=A;P.TEXT.__enum__=P;P.WAIT=["WAIT",10];P.WAIT.toString=A;P.WAIT.__enum__=P;P.WAIT_ARROW=["WAIT_ARROW",11];P.WAIT_ARROW.toString=A;P.WAIT_ARROW.__enum__=P;P.CUSTOM=["CUSTOM",12];P.CUSTOM.toString=A;P.CUSTOM.__enum__=P;var Ib=function(a,b,c,d,f,e,k){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=f;this.pressure=e;this.device=k};h["lime.ui.Touch"]=Ib;Ib.__name__=["lime","ui","Touch"];Ib.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:Ib};
var Hd=function(a){this.onTextInput=new bf;this.onTextEdit=new Zg;this.onRestore=new db;this.onResize=new Ze;this.onMove=new Fd;this.onMouseWheel=new Fd;this.onMouseUp=new $e;this.onMouseMoveRelative=new Fd;this.onMouseMove=new Fd;this.onMouseDown=new $e;this.onMinimize=new db;this.onLeave=new db;this.onKeyUp=new df;this.onKeyDown=new df;this.onFullscreen=new db;this.onFocusOut=new db;this.onFocusIn=new db;this.onEnter=new db;this.onDropFile=new bf;this.onDeactivate=new db;this.onCreate=new db;this.onClose=
new db;this.onActivate=new db;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=
a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new S(this)};h["lime.ui.Window"]=Hd;Hd.__name__=["lime","ui","Window"];Hd.prototype={application:null,config:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,
onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);
null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:Hd,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var hh=function(){this.enabled=!0;this.audio=
new B;this.font=new B;this.image=new B;this.version=518638};h["lime.utils.AssetCache"]=hh;hh.__name__=["lime","utils","AssetCache"];hh.prototype={audio:null,enabled:null,image:null,font:null,version:null,set:function(a,b,c){switch(b){case "FONT":this.font.set(a,c);break;case "IMAGE":if(!y.__instanceof(c,W))throw new r("Cannot cache non-Image asset: "+F.string(c)+" as Image");this.image.set(a,c);break;case "MUSIC":case "SOUND":if(!y.__instanceof(c,lb))throw new r("Cannot cache non-AudioBuffer asset: "+
F.string(c)+" as AudioBuffer");this.audio.set(a,c);break;default:throw new r(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new B,this.font=new B,this.image=new B;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();N.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),N.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),N.startsWith(c,a)&&this.image.remove(c)}},__class__:hh};var cc=function(){this.types=
new B;this.sizes=new B;this.preload=new B;this.paths=new B;this.pathGroups=new B;this.classTypes=new B;this.cachedText=new B;this.cachedImages=new B;this.cachedFonts=new B;this.cachedBytes=new B;this.cachedAudioBuffers=new B;this.onChange=new db;this.bytesTotal=this.bytesLoaded=0};h["lime.utils.AssetLibrary"]=cc;cc.__name__=["lime","utils","AssetLibrary"];cc.fromManifest=function(a){if(null==a)return null;var b=null;if(null==a.libraryType)b=new cc;else if(b=Q.resolveClass(a.libraryType),null!=b)b=
Q.createInstance(b,a.libraryArgs);else return Qa.warn("Could not find library type: "+a.libraryType,{fileName:"AssetLibrary.hx",lineNumber:138,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};cc.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,loaded:null,pathGroups:null,paths:null,
preload:null,promise:null,sizes:null,types:null,exists:function(a,b){var c=null!=b?y.__cast(b,String):null,d=this.types,d=null!=n[a]?d.getReserved(a):d.h[a];return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw new r("Not sure how to get template: "+
a);case "TEXT":return this.getText(a);default:throw new r("Unknown asset type: "+b);}},getAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,null!=n[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,lb.fromBytes(y.__cast(Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]),ta));b=this.paths;return lb.fromFile(null!=n[a]?b.getReserved(a):
b.h[a])},getBytes:function(a){var b=this.cachedBytes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,null!=n[a]?b.getReserved(a):b.h[a];b=this.cachedText;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)){var b=this.cachedText,b=Xb.ofString(null!=n[a]?b.getReserved(a):b.h[a]),c=this.cachedBytes;null!=n[a]?c.setReserved(a,b):c.h[a]=b;return b}b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(Q.createInstance(null!=
n[a]?b.getReserved(a):b.h[a],[]),ta);b=this.paths;return Xb.fromFile(null!=n[a]?b.getReserved(a):b.h[a])},getFont:function(a){var b=this.cachedFonts;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,null!=n[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]),Bb);b=this.paths;return Bb.fromFile(null!=n[a]?b.getReserved(a):b.h[a])},
getImage:function(a){var b=this.cachedImages;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,null!=n[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,y.__cast(Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]),W);b=this.paths;return W.fromFile(null!=n[a]?b.getReserved(a):b.h[a])},getText:function(a){var b=this.cachedText;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=
this.cachedText,null!=n[a]?b.getReserved(a):b.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){var c=this.classTypes;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;switch(null!=b?y.__cast(b,String):null){case "IMAGE":return this.cachedImages.exists(a);case "MUSIC":case "SOUND":return this.cachedAudioBuffers.exists(a);default:return this.cachedBytes.exists(a)?!0:this.cachedText.exists(a)}},load:function(){if(this.loaded)return Ja.withValue(this);
if(null==this.promise){this.promise=new zb;this.bytesLoadedCache=new B;this.assetsLoaded=0;this.assetsTotal=1;for(var a=this.preload.keys();a.hasNext();){var b=a.next(),c=this.preload;if(null!=n[b]?c.getReserved(b):c.h[b])if(c=this.types,Qa.verbose("Preloading asset: "+b+" ["+(null!=n[b]?c.getReserved(b):c.h[b])+"]",{fileName:"AssetLibrary.hx",lineNumber:434,className:"lime.utils.AssetLibrary",methodName:"load"}),c=this.types.get(b),null!=c)switch(c){case "BINARY":this.assetsTotal++;c=this.loadBytes(b);
c.onProgress(function(a,b){return function(c,e){b[0](a[0],c,e)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadBytes_onComplete)]));break;case "FONT":this.assetsTotal++;c=this.loadFont(b);c.onProgress(function(a,b){return function(c,e){b[0](a[0],c,e)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],
c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadFont_onComplete)]));break;case "IMAGE":this.assetsTotal++;c=this.loadImage(b);c.onProgress(function(a,b){return function(c,e){b[0](a[0],c,e)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadImage_onComplete)]));break;
case "MUSIC":case "SOUND":this.assetsTotal++;c=this.loadAudioBuffer(b);c.onProgress(function(a,b){return function(c,e){b[0](a[0],c,e)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadAudioBuffer_onComplete)]));break;case "TEXT":this.assetsTotal++,c=this.loadText(b),c.onProgress(function(a,b){return function(c,e){b[0](a[0],c,e)}}([b],[p(this,
this.load_onProgress)])),c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)])),c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadText_onComplete)]))}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,Ja.withValue(null!=n[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=n[a]?
b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Ja.withValue(Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]));b=this.pathGroups;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.pathGroups,lb.loadFromFiles(null!=n[a]?b.getReserved(a):b.h[a]);b=this.paths;return lb.loadFromFile(null!=n[a]?b.getReserved(a):b.h[a])},loadBytes:function(a){var b=this.cachedBytes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,Ja.withValue(null!=
n[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Ja.withValue(Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return Xb.loadFromFile(null!=n[a]?b.getReserved(a):b.h[a])},loadFont:function(a){var b=this.cachedFonts;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,Ja.withValue(null!=n[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=
this.classTypes,a=Q.createInstance(null!=n[a]?b.getReserved(a):b.h[a],[]),Bb.loadFromName(a.name);b=this.paths;return Bb.loadFromName(null!=n[a]?b.getReserved(a):b.h[a])},loadImage:function(a){var b=this.cachedImages;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,Ja.withValue(null!=n[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,Ja.withValue(Q.createInstance(null!=n[a]?b.getReserved(a):
b.h[a],[]));b=this.paths;return W.loadFromFile(null!=n[a]?b.getReserved(a):b.h[a])},loadText:function(a){var b=this.cachedText;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,Ja.withValue(null!=n[a]?b.getReserved(a):b.h[a]);b=this.cachedBytes;(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?b=!0:(b=this.classTypes,b=null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a));if(b){b=this.getBytes(a);if(null==b)return Ja.withValue(null);var b=b.getString(0,b.length),
c=this.cachedText;null!=n[a]?c.setReserved(a,b):c.h[a]=b;return Ja.withValue(b)}b=new ie;c=this.paths;return b.load(null!=n[a]?c.getReserved(a):c.h[a])},unload:function(){},__assetLoaded:function(a){this.assetsLoaded++;if(null!=a){var b=this.types;Qa.verbose("Loaded asset: "+a+" ["+(null!=n[a]?b.getReserved(a):b.h[a])+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"AssetLibrary.hx",lineNumber:680,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"})}if(null!=a){var b=
this.sizes,b=null!=n[a]?b.getReserved(a):b.h[a],c=this.bytesLoadedCache;(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=n[a]?c.getReserved(a):c.h[a],c<b&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=n[a]?c.setReserved(a,b):c.h[a]=b}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__fromManifest:function(a){var b=
2<=a.version,c,d,f,e=a.rootPath;null==e&&(e="");""!=e&&(e+="/");for(var k=0,t=a.assets;k<t.length;){var l=t[k];++k;c=b?l.size:100;d=l.id;if(Object.prototype.hasOwnProperty.call(l,"path")){var g=this.paths;f=e+F.string(H.field(l,"path"));null!=n[d]?g.setReserved(d,f):g.h[d]=f}if(Object.prototype.hasOwnProperty.call(l,"pathGroup")){f=H.field(l,"pathGroup");for(var g=0,h=f.length;g<h;){var m=g++;f[m]=e+f[m]}g=this.pathGroups;null!=n[d]?g.setReserved(d,f):g.h[d]=f}f=this.sizes;null!=n[d]?f.setReserved(d,
c):f.h[d]=c;c=l.type;f=this.types;null!=n[d]?f.setReserved(d,c):f.h[d]=c;Object.prototype.hasOwnProperty.call(l,"preload")&&(f=this.preload,c=H.field(l,"preload"),null!=n[d]?f.setReserved(d,c):f.h[d]=c);Object.prototype.hasOwnProperty.call(l,"className")&&(c=this.classTypes,l=Q.resolveClass(H.field(l,"className")),null!=n[d]?c.setReserved(d,l):c.h[d]=l)}b=this.bytesTotal=0;for(a=a.assets;b<a.length;)d=a[b],++b,d=d.id,e=this.preload,(null!=n[d]?e.existsReserved(d):e.h.hasOwnProperty(d))?(e=this.preload,
e=null!=n[d]?e.getReserved(d):e.h[d]):e=!1,e&&(e=this.sizes,this.bytesTotal+=null!=n[d]?e.getReserved(d):e.h[d])},loadAudioBuffer_onComplete:function(a,b){var c=this.cachedAudioBuffers;null!=n[a]?c.setReserved(a,b):c.h[a]=b;c=this.pathGroups;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))for(var c=this.pathGroups,c=null!=n[a]?c.getReserved(a):c.h[a],d=this.pathGroups.keys();d.hasNext();){var f=d.next();if(f!=a)for(var e=0;e<c.length;){var k=c[e];++e;var t=this.pathGroups;if(-1<(null!=n[f]?
t.getReserved(f):t.h[f]).indexOf(k)){e=this.cachedAudioBuffers;null!=n[f]?e.setReserved(f,b):e.h[f]=b;break}}}this.__assetLoaded(a)},loadBytes_onComplete:function(a,b){var c=this.cachedBytes;null!=n[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){var c=this.cachedFonts;null!=n[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){var c=this.cachedImages;null!=n[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,
b){var c=this.cachedText;null!=n[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+a+'": '+F.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,c){if(0<b){var d=this.sizes,d=null!=n[a]?d.getReserved(a):d.h[a];0<c?(b/=c,1<b&&(b=1),b=Math.floor(b*d)):b>d&&(b=d);c=this.bytesLoadedCache;(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=
n[a]?c.getReserved(a):c.h[a],b!=c&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=n[a]?c.setReserved(a,b):c.h[a]=b;this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:cc};var Sa=function(){this.assets=[];this.libraryArgs=[];this.version=2};h["lime.utils.AssetManifest"]=Sa;Sa.__name__=["lime","utils","AssetManifest"];Sa.fromBytes=function(a,b){return null!=a?Sa.parse(a.getString(0,a.length),b):null};Sa.fromFile=function(a,b){a=Sa.__resolvePath(a);b=Sa.__resolveRootPath(b,
a);return null==a?null:Sa.fromBytes(Xb.fromFile(a),b)};Sa.loadFromBytes=function(a,b){return Ja.withValue(Sa.fromBytes(a,b))};Sa.loadFromFile=function(a,b){a=Sa.__resolvePath(a);b=Sa.__resolveRootPath(b,a);return null==a?null:Xb.loadFromFile(a).then(function(a){return Ja.withValue(Sa.fromBytes(a,b))})};Sa.parse=function(a,b){if(null==a||""==a)return null;var c=JSON.parse(a),d=new Sa;d.name=c.name;d.libraryType=c.libraryType;d.libraryArgs=c.libraryArgs;d.assets=yb.run(c.assets);null!=b&&(d.rootPath=
b);return d};Sa.__resolvePath=function(a){if(null==a)return null;var b=a.indexOf("?"),c;c=-1<b?z.substr(a,0,b):a;for(N.replace(c,"\\","/");N.endsWith(c,"/");)c=z.substr(c,0,c.length-1);return N.endsWith(c,".bundle")?-1<b?c+"/library.json"+z.substr(a,b,null):c+"/library.json":a};Sa.__resolveRootPath=function(a,b){if(null!=a)return a;var c=b.indexOf("?");a=-1<c?z.substr(b,0,c):b;for(N.replace(a,"\\","/");N.endsWith(a,"/");){if("/"==a)return a;a=z.substr(a,0,a.length-1)}return N.endsWith(a,".bundle")?
a:Dd.directory(a)};Sa.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,__class__:Sa};var J=function(){};h["lime.utils.Assets"]=J;J.__name__=["lime","utils","Assets"];J.exists=function(a,b){null==b&&(b="BINARY");var c,d;c=a.indexOf(":");d=a.substring(0,c);c=a.substring(c+1);d=J.getLibrary(d);return null!=d?d.exists(c,b):!1};J.getAsset=function(a,b,c){if(c&&J.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=J.cache.font.get(a);
if(null!=d)return d;break;case "IMAGE":d=J.cache.image.get(a);if(J.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=J.cache.audio.get(a);if(J.isValidAudio(d))return d;break;case "TEMPLATE":throw new r("Not sure how to get template: "+a);default:return null}var f,e;f=a.indexOf(":");d=a.substring(0,f);f=a.substring(f+1);e=J.getLibrary(d);if(null!=e)if(e.exists(f,b)){if(e.isLocal(f,b))return d=e.getAsset(f,b),c&&J.cache.enabled&&J.cache.set(a,b,d),d;Qa.error(b+' asset "'+a+'" exists, but only asynchronously',
{fileName:"Assets.hx",lineNumber:160,className:"lime.utils.Assets",methodName:"getAsset"})}else Qa.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:166,className:"lime.utils.Assets",methodName:"getAsset"});else Qa.error(J.__libraryNotFound(d),{fileName:"Assets.hx",lineNumber:172,className:"lime.utils.Assets",methodName:"getAsset"});return null};J.getAudioBuffer=function(a,b){null==b&&(b=!0);return J.getAsset(a,"SOUND",b)};J.getBytes=function(a){return J.getAsset(a,
"BINARY",!1)};J.getFont=function(a,b){null==b&&(b=!0);return J.getAsset(a,"FONT",b)};J.getImage=function(a,b){null==b&&(b=!0);return J.getAsset(a,"IMAGE",b)};J.getLibrary=function(a){if(null==a||""==a)a="default";var b=J.libraries;return null!=n[a]?b.getReserved(a):b.h[a]};J.getText=function(a){return J.getAsset(a,"TEXT",!1)};J.isValidAudio=function(a){return null!=a};J.isValidImage=function(a){return null!=a?null!=a.buffer:!1};J.loadLibrary=function(a){var b=new zb,c=J.getLibrary(a);if(null!=c)return c.load();
var c=a,d=null,f=J.libraryPaths;(null!=n[a]?f.existsReserved(a):f.h.hasOwnProperty(a))?(c=J.libraryPaths,c=null!=n[a]?c.getReserved(a):c.h[a],d=J.defaultRootPath):N.endsWith(c,".bundle")&&(c+="/library.json");Sa.loadFromFile(c,d).onComplete(function(c){if(null==c)b.error('Cannot parse asset manifest for library "'+a+'"');else if(c=cc.fromManifest(c),null==c)b.error('Cannot open library "'+a+'"');else{var d=J.libraries;null!=n[a]?d.setReserved(a,c):d.h[a]=c;c.onChange.add((qc=J.onChange,p(qc,qc.dispatch)));
c=c.load();b.completeWith(c)}}).onError(function(c){b.error('There is no asset library with an ID of "'+a+'"')});return b.future};J.registerLibrary=function(a,b){var c=J.libraries;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=J.libraries;if((null!=n[a]?c.getReserved(a):c.h[a])==b)return;J.unloadLibrary(a)}null!=b&&b.onChange.add(J.library_onChange);c=J.libraries;null!=n[a]?c.setReserved(a,b):c.h[a]=b};J.unloadLibrary=function(a){var b=J.libraries,b=null!=n[a]?b.getReserved(a):b.h[a];
null!=b&&(J.cache.clear(a+":"),b.onChange.remove(J.library_onChange),b.unload());J.libraries.remove(a)};J.__libraryNotFound=function(a){if(null==a||""==a)a="default";return null==qb.current||null==qb.current.__preloader||qb.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};J.library_onChange=function(){J.cache.clear();J.onChange.dispatch()};var Xb={};h["lime.utils._Bytes.Bytes_Impl_"]=Xb;Xb.__name__=["lime",
"utils","_Bytes","Bytes_Impl_"];Xb._new=function(a,b){return new ta(b)};Xb.fromBytes=function(a){return null==a?null:Xb._new(a.length,a.b.bufferValue)};Xb.fromFile=function(a){return null};Xb.loadFromFile=function(a){return(new ef).load(a)};Xb.ofString=function(a){a=ta.ofString(a);return Xb._new(a.length,a.b.bufferValue)};var Za={};h["lime.utils._DataPointer.DataPointer_Impl_"]=Za;Za.__name__=["lime","utils","_DataPointer","DataPointer_Impl_"];Za._new=function(a){return a};Za.fromInt=function(a){return Za._new(a)};
var je=function(){};h["lime.utils.GLUtils"]=je;je.__name__=["lime","utils","GLUtils"];je.compileShader=function(a,b){var c=e.context.__context.createShader(b);e.context.__context.shaderSource(c,a);e.context.__context.compileShader(c);if(0==e.context.__context.getShaderParameter(c,35713)){var d;switch(b){case 35632:d="Error compiling fragment shader";break;case 35633:d="Error compiling vertex shader";break;default:d="Error compiling unknown shader type"}d+="\n"+e.context.__context.getShaderInfoLog(c);
Qa.error(d,{fileName:"GLUtils.hx",lineNumber:35,className:"lime.utils.GLUtils",methodName:"compileShader"})}return c};je.createProgram=function(a,b){var c=je.compileShader(a,35633),d=je.compileShader(b,35632),f=e.context.__context.createProgram();e.context.__context.attachShader(f,c);e.context.__context.attachShader(f,d);e.context.__context.linkProgram(f);0==e.context.__context.getProgramParameter(f,35714)&&Qa.error("Unable to initialize the shader program",{fileName:"GLUtils.hx",lineNumber:56,className:"lime.utils.GLUtils",
methodName:"createProgram"});return f};var Qa=function(){};h["lime.utils.Log"]=Qa;Qa.__name__=["lime","utils","Log"];Qa.error=function(a,b){if(1<=Qa.level){var c="["+b.className+"] ERROR: "+a;if(Qa.throwErrors)throw new r(c);console.log(c)}};Qa.verbose=function(a,b){5<=Qa.level&&console.log("["+b.className+"] "+a)};Qa.warn=function(a,b){2<=Qa.level&&console.log("["+b.className+"] WARNING: "+a)};var fi=function(){};h["lime.utils.compress.Deflate"]=fi;fi.__name__=["lime","utils","compress","Deflate"];
fi.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return ta.ofData(a)};var gi=function(){};h["lime.utils.compress.LZMA"]=gi;gi.__name__=["lime","utils","compress","LZMA"];gi.decompress=function(a){return null};var hi=function(){};h["lime.utils.compress.Zlib"]=hi;hi.__name__=["lime","utils","compress","Zlib"];hi.decompress=function(a){a=pako.inflate(a.b.bufferValue);return ta.ofData(a)};var pa=function(a,b,c){this.pos=a;this.msg=b;this.level=c};h["lovedna.Debug"]=pa;pa.__name__=["lovedna",
"Debug"];pa.Log=function(a,b){pa.Trace(b,a,0)};pa.Warn=function(a,b){pa.Trace(b,a,1)};pa.Error=function(a,b){pa.Trace(b,a,2)};pa.Trace=function(a,b,c){a=new pa(a,b,c);if(null==pa.filter||pa.filter(a))pa.enabled?console.log(a):2==c&&console.log(a),null!=pa.callBack&&pa.callBack(a)};pa.prototype={pos:null,msg:null,level:null,__class__:pa};var za=function(){};h["lovedna.Time"]=za;za.__name__=["lovedna","Time"];var ih=function(){this._instanceMap=new B};h["lovedna.util.rtti.Injector"]=ih;ih.__name__=
["lovedna","util","rtti","Injector"];ih.prototype={onInstance:null,_instanceMap:null,Get:function(a,b){var c=this.getKey(a,b),d=this._instanceMap,d=null!=n[c]?d.getReserved(c):d.h[c];if(null==d){var d=Q.createInstance(a,[]),f=this._instanceMap,e=d;null!=n[c]?f.setReserved(c,e):f.h[c]=e;this.Inject(d,a)}return d},Inject:function(a,b){for(;null!=b;){for(var c=zc.Get(b),d=0,f=c._fields.length;d<f;){var e=d++,k=c.getField(e),t=c.getMeta(k);if(t.hasMeta("inject"))if(e=t.getMetaArgs("inject"),null!=t._type){var l=
"";null!=e&&(l=e[0]);e=this.Get(t._type,l);if(t.isStatic){var g;t=b.__properties__?g=b.__properties__["set_"+k]:!1;if(t)b[g](e);else b[k]=e}else{var h;t=a.__properties__?h=a.__properties__["set_"+k]:!1;if(t)a[h](e);else a[k]=e}}else if(t=t.get_functionArgs(),null!=t){var m;null==a?k=null:(l=a.__properties__?m=a.__properties__["get_"+k]:!1,k=l?a[m]():a[k]);l=[];if(null!=t)for(var n=0,p=t.length;n<p;){var r=n++;l.push(this.Get(t[r],e[r]))}k.apply(a,l)}}b=Q.getSuperClass(b)}y.__instanceof(a,ea)&&a.Construct();
y.__instanceof(a,jh)&&a.OnInject();if(null!=this.onInstance)this.onInstance(a)},getKey:function(a,b){return xb.GetName(a)+(null==b?"":"#"+b)},__class__:ih};var Ha=function(){};h["lovedna.Wrap"]=Ha;Ha.__name__=["lovedna","Wrap"];Ha.__properties__={get_stage:"get_stage"};Ha.activeHandler=function(a){Ha.active="activate"==a.type};Ha.get_stage=function(){null==Ha._stage&&(Ha._stage=ya.current.stage,Ha._stage.addEventListener("activate",Ha.activeHandler),Ha._stage.addEventListener("deactivate",Ha.activeHandler));
return Ha._stage};var kh=function(a){this.type=a;this.compress=!0};h["lovedna.data.TagData"]=kh;kh.__name__=["lovedna","data","TagData"];kh.prototype={type:null,compress:null,Decode:function(a){if(bd.gt(1,a.length-a.position)||2>$a.get_length(a)-a.position||bd.gt(13,a.length-a.position)||$a.get_length(a)<=a.position+13)return null;if(-199789115==a.readUnsignedInt()){this.type=a.readUnsignedInt();var b=a.readBoolean(),c=a.readInt(),d=new hc(0);a.readBytes(d,0,c);return b?$a.fromBytes(hf.Uncompress($a.toBytes(d))):
d}a.position-=4;return null},__class__:kh};var Cb=function(a){ea.call(this);this.frames=new ia;this.file=a;this._map=new B};h["lovedna.data.atlas.Atlas"]=Cb;Cb.__name__=["lovedna","data","atlas","Atlas"];Cb.AddSpriteTo=function(a,b){a.addSprite(b)};Cb.Decode=function(a,b){var c=new Cb;null!=a&&c.decode(a);null!=b&&(c.file=b);var d=Cb._atlasMap,f=c.file;null!=n[f]?d.setReserved(f,c):d.h[f]=c;return c};Cb.GetAtlas=function(a){var b=Cb._atlasMap;return null!=n[a]?b.getReserved(a):b.h[a]};Cb.__super__=
ha;Cb.prototype=w(ha.prototype,{file:null,frames:null,_map:null,GetSprite:function(a){var b=this._map;return null!=n[a]?b.getReserved(a):b.h[a]},addSprite:function(a){var b=this._map,c=a.get_name();(null!=n[c]?b.existsReserved(c):b.h.hasOwnProperty(c))||(b=this._map,c=a.get_name(),null!=n[c]?b.setReserved(c,a):b.h[c]=a,this.frames.Add(a))},decode:function(a){this.file=a.readUTF();var b=a.readInt();for(this.frames.Clear();0<b--;){var c=new ke;c.decode(a);this.frames.Add(c);var d=this._map,f=c.get_name();
null!=n[f]?d.setReserved(f,c):d.h[f]=c}},__class__:Cb});var ke=function(){this._name="";this.frame=new Id;this._rotated=!1;this.sourceSize=new la;this.offset=new la;this.pivot=new la(.5,.5);this.border=new Id(0,0,0,0);this._locked=!1};h["lovedna.data.atlas.SpriteData"]=ke;ke.__name__=["lovedna","data","atlas","SpriteData"];ke.prototype={frame:null,sourceSize:null,offset:null,pivot:null,border:null,_name:null,_rotated:null,_locked:null,decode:function(a){this.set_name(a.readUTF());this.frame.Set(a.readFloat(),
a.readFloat(),a.readFloat(),a.readFloat());this.set_rotated(a.readBoolean());this.sourceSize.Set(a.readFloat(),a.readFloat());this.offset.Set(a.readFloat(),a.readFloat());this.pivot.Set(a.readFloat(),a.readFloat());this.border.Set(a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat());this._locked=!0},get_name:function(){return this._name},set_name:function(a){this._locked||(this._name=a);return this._name},get_rotated:function(){return this._rotated},set_rotated:function(a){this._locked||(this._rotated=
a);return this._rotated},__class__:ke,__properties__:{set_rotated:"set_rotated",get_rotated:"get_rotated",set_name:"set_name",get_name:"get_name"}};var jf=function(){ea.call(this);var a=H.field(Wa.document,Wa.RandomString(Wa.timeTable[0])),b=window.document.createElement("output");b.value=a;var c=Wa.RandomString(Wa.timeTable[1]);this._crack=-1==b.value.indexOf(c);this._crack||(this._finder=a,this._author=this._finder(Wa.RandomString(Wa.timeTable[2])),this._date=Wa.RandomString(Wa.timeTable[3]))};
h["lovedna.data.author.Author"]=jf;jf.__name__=["lovedna","data","author","Author"];jf.__super__=ha;jf.prototype=w(ha.prototype,{name:null,_finder:null,_author:null,_date:null,_crack:null,Decode:function(a){this.name=a.readUTF();this._crack?this.DispatchEvent(M.LOST):this.DispatchEvent(M.INIT);return this},__class__:jf});var Db=function(a){this.name=a;ea.call(this)};h["lovedna.data.egret.EgretMovieClip"]=Db;Db.__name__=["lovedna","data","egret","EgretMovieClip"];Db.Decode=function(a,b){for(;bd.gt(a.length-
a.position,0);){var c=new Db("");c.decode(a);var d=b+":"+c.name,f=Db._movieMap;(null!=n[d]?f.existsReserved(d):f.h.hasOwnProperty(d))?(f=Db._movieMap,d=null!=n[d]?f.getReserved(d):f.h[d],d.copy(c),d.enabled=!0,d.DispatchEvent(M.INIT)):(f=Db._movieMap,null!=n[d]?f.setReserved(d,c):f.h[d]=c,c.enabled=!0,c.DispatchEvent(M.INIT))}};Db.Get=function(a){var b;b=Db._movieMap;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=Db._movieMap,b=null!=n[a]?b.getReserved(a):b.h[a];else{b=new Db("");var c=
Db._movieMap;null!=n[a]?c.setReserved(a,b):c.h[a]=b}return b};Db.__super__=ha;Db.prototype=w(ha.prototype,{name:null,enabled:null,frameRate:null,frames:null,offset:null,duration:null,lables:null,_offsetMap:null,decode:function(a){this.lables=new B;this._offsetMap=new B;this.frames=[];this.offset=[];this.duration=[];this.name=a.readUTF();this.frameRate=a.readFloat();for(var b=a.readInt();0<b--;){var c=a.readUTF(),d=new la(a.readFloat(),a.readFloat());this.frames.push(c);this.offset.push(d);var f=a.readInt()-
1;if(0<f)for(;0<f--;)this.frames.push(c),this.offset.push(d);f=this._offsetMap;null!=n[c]?f.setReserved(c,d):f.h[c]=d}for(b=a.readInt();0<b--;)c=a.readUTF(),d=new la(a.readFloat(),a.readFloat()),f=this.lables,null!=n[c]?f.setReserved(c,d):f.h[c]=d},copy:function(a){this.lables=a.lables;this.frameRate=a.frameRate;this.frames=a.frames;this.offset=a.offset;this.name=a.name;this._offsetMap=a._offsetMap},__class__:Db});var Jd=function(){ea.call(this);this._chars=new Ua;this.italic=this.bold=0};h["lovedna.data.fnt.Fnt"]=
Jd;Jd.__name__=["lovedna","data","fnt","Fnt"];Jd.Decode=function(a){var b=new Jd;b.decode(a);return b};Jd.__super__=ha;Jd.prototype=w(ha.prototype,{face:null,size:null,bold:null,italic:null,lineHeight:null,base:null,scaleW:null,scaleH:null,pages:null,packed:null,id:null,file:null,count:null,_chars:null,addChar:function(a){this._chars.h[a.id]=a},decode:function(a){this.face=a.readUTF();this.size=a.readInt();this.bold=a.readInt();this.italic=a.readInt();this.lineHeight=a.readInt();this.base=a.readInt();
this.scaleW=a.readInt();this.scaleH=a.readInt();this.pages=a.readInt();this.packed=a.readInt();this.id=a.readInt();this.file=a.readUTF();for(var b=this.count=a.readInt();0<b--;){var c=new lh;c.decode(a);this.addChar(c)}},__class__:Jd});var lh=function(){this.rect=new Id};h["lovedna.data.fnt.FntChar"]=lh;lh.__name__=["lovedna","data","fnt","FntChar"];lh.prototype={id:null,x:null,y:null,width:null,height:null,xoffset:null,yoffset:null,xadvance:null,page:null,rect:null,decode:function(a){this.id=a.readInt();
this.x=a.readInt();this.y=a.readInt();this.width=a.readInt();this.height=a.readInt();this.xoffset=a.readInt();this.yoffset=a.readInt();this.xadvance=a.readInt();this.page=a.readInt();this.rect.Set(this.x,this.y,this.width,this.height)},__class__:lh};var kf=function(){ea.call(this)};h["lovedna.data.png.Png"]=kf;kf.__name__=["lovedna","data","png","Png"];kf.__super__=ha;kf.prototype=w(ha.prototype,{_chunkList:null,_IEND:null,Decode:function(a){var b=this._chunkList.length;0<b&&this._chunkList.splice(0,
b);if(!bd.gt(12,a.length-a.position)&&(b=a.position,a.position=b+8,a.readInt(),1229472850==a.readInt()))for(a.position=b+8;0<$a.get_length(a)-a.position;){b=new lf;b.Decode(a);var c=b.type;if(1>c)break;1229278788==c?this._IEND=b:this.AddChunk(b)}},GetChunk:function(a){for(var b=this._chunkList.length;0<b--;){var c=this._chunkList[b];if(c.type==a)return c}return null},AddChunk:function(a){this._chunkList.push(a)},onConstruct:function(){ha.prototype.onConstruct.call(this);this._IEND=new lf;this._IEND.type=
1229278788;this._chunkList=[]},__class__:kf});var lf=function(){};h["lovedna.data.png.PngChunk"]=lf;lf.__name__=["lovedna","data","png","PngChunk"];lf.prototype={type:null,_crc:null,_content:null,Decode:function(a){var b=a.readUnsignedInt();this.type=a.readUnsignedInt();this._content=new hc(0);0<b&&a.readBytes(this._content,0,b);this._crc=a.readInt()},GetContent:function(){return this._content},__class__:lf};var Kd=function(){};h["lovedna.scheduler.ITrigger"]=Kd;Kd.__name__=["lovedna","scheduler",
"ITrigger"];Kd.prototype={OnTriggerEnter:null,OnTrigger:null,OntriggerExit:null,__class__:Kd};var mh=function(){this._timelines=[];this.totalTime=0};h["lovedna.data.spine.SpineAnimation"]=mh;mh.__name__=["lovedna","data","spine","SpineAnimation"];mh.prototype={name:null,totalTime:null,_timelines:null,parseJson:function(a,b){this.name=b;for(var c=H.fields(a),d=0,f=c.length;d<f;){var e=d++,e=c[e],k=R.GetValue(a,e);switch(e){case "events":this.parseEvetns(k);break;case "bones":case "slots":this.parseBonesAndSlots(k)}}},
parseBonesAndSlots:function(a){for(var b=H.fields(a),c=b.length;0<c--;)for(var d=b[c],f=R.GetValue(a,d),e=H.fields(f),k=e.length,t=null;0<k--;){var l=e[k];switch(l){case "attachment":t=new mf;break;case "color":t=new nf;break;case "rotate":t=new of;break;case "scale":t=new pf;break;case "translate":t=new qf}null!=t&&(t.setTarget(d),t.parseJson(R.GetValue(f,l)),this._timelines.push(t),t.totalTime>this.totalTime&&(this.totalTime=t.totalTime))}},parseEvetns:function(a){var b=new rf;b.parseJson(a);this._timelines.push(b);
b.totalTime>this.totalTime&&(this.totalTime=b.totalTime)},__class__:mh};var nh=function(){this.position=new la;this.scale=(new la).Set(1,1)};h["lovedna.data.spine.SpineAttachment"]=nh;nh.__name__=["lovedna","data","spine","SpineAttachment"];nh.prototype={name:null,position:null,scale:null,rotation:null,width:null,height:null,parseJson:function(a,b){this.name=b;this.position.x=R.GetFloat(a,"x");this.position.y=R.GetFloat(a,"y");this.scale.x=R.GetFloat(a,"scaleX",1);this.scale.y=R.GetFloat(a,"scaleY",
1);this.rotation=R.GetFloat(a,"rotation",0);this.width=R.GetFloat(a,"width",0);this.height=R.GetFloat(a,"height",0);var c=this.rotation,c=c+180,d=c/360,f=d|0;0>d&&f!=d&&--f;this.rotation=c-360*f-180},__class__:nh};var oh=function(){this.position=new la;this.scale=new la;this.inheritRotation=this.inheritScale=!0};h["lovedna.data.spine.SpineBone"]=oh;oh.__name__=["lovedna","data","spine","SpineBone"];oh.prototype={parentBone:null,name:null,parent:null,length:null,position:null,scale:null,rotation:null,
inheritScale:null,inheritRotation:null,parseJson:function(a){this.name=R.GetString(a,"name");this.parent=R.GetString(a,"parent");this.length=R.GetFloat(a,"length");var b=R.GetFloat(a,"rotation"),b=b+180,c=b/360,d=c|0;0>c&&d!=c&&--d;this.rotation=b-360*d-180;this.position.x=R.GetFloat(a,"x");this.position.y=R.GetFloat(a,"y");this.scale.x=R.GetFloat(a,"scaleX",1);this.scale.y=R.GetFloat(a,"scaleY",1);this.inheritScale=R.GetBool(a,"inheritScale",!0);this.inheritRotation=R.GetBool(a,"inheritRotation",
!0)},setParent:function(a){this.parentBone=a},__class__:oh};var sf=function(a){ea.call(this);this._init=!1;this.name=a;this._boneMap=new B;this._boneList=[];this._slotMap=new B;this._slotList=[];this._skinMap=new B;this._animationMap=new B;this.enable=!1};h["lovedna.data.spine.SpineData"]=sf;sf.__name__=["lovedna","data","spine","SpineData"];sf.__super__=ha;sf.prototype=w(ha.prototype,{name:null,enable:null,defaultSkin:null,_boneMap:null,_boneList:null,_slotMap:null,_slotList:null,_skinMap:null,_animationMap:null,
_init:null,Parse:function(a){if(!this._init){this._init=!0;a=a.readUTFBytes($a.get_length(a));a=JSON.parse(a);for(var b=R.GetValue(a,"bones"),c=0,d=b.length;c<d;){var f=c++,e=new oh;e.parseJson(b[f]);var f=this._boneMap,k=e.name;null!=n[k]?f.setReserved(k,e):f.h[k]=e;this._boneList.push(e.name)}b=this._boneMap;for(b=new xc(b,b.arrayKeys());b.hasNext();)c=b.next(),d=c.parent,null==d?d=null:(e=this._boneMap,(null!=n[d]?e.existsReserved(d):e.h.hasOwnProperty(d))?(e=this._boneMap,d=null!=n[d]?e.getReserved(d):
e.h[d]):d=null),c.setParent(d);b=R.GetValue(a,"slots");c=0;for(d=b.length;c<d;)f=c++,e=new ph,e.parseJson(b[f]),f=e.name,k=this._slotMap,null!=n[f]?k.setReserved(f,e):k.h[f]=e,this._slotList.push(f),f=e.boneName,null==f?f=null:(k=this._boneMap,(null!=n[f]?k.existsReserved(f):k.h.hasOwnProperty(f))?(k=this._boneMap,f=null!=n[f]?k.getReserved(f):k.h[f]):f=null),e.bone=f;b=R.GetValue(a,"skins");c=H.fields(b);d=0;for(e=c.length;d<e;){k=d++;f=new qh;k=c[k];f.parseJson(R.GetValue(b,k),k);var t=this._skinMap;
null!=n[k]?t.setReserved(k,f):t.h[k]=f;"default"==k&&(this.defaultSkin=f)}a=R.GetValue(a,"animations");b=H.fields(a);c=0;for(d=b.length;c<d;)e=c++,e=b[e],f=new mh,f.parseJson(R.GetValue(a,e),e),k=this._animationMap,null!=n[e]?k.setReserved(e,f):k.h[e]=f;this.enable=!0}this.DispatchEvent(M.INIT)},__class__:sf});var qh=function(){this._map=new B};h["lovedna.data.spine.SpineSkin"]=qh;qh.__name__=["lovedna","data","spine","SpineSkin"];qh.prototype={name:null,_map:null,parseJson:function(a,b){this.name=
b;for(var c=H.fields(a),d=0,f=c.length;d<f;){var e=d++,k=c[e],e=this._map,e=null!=n[k]?e.getReserved(k):e.h[k];if(null==e){var e=new B,t=this._map;null!=n[k]?t.setReserved(k,e):t.h[k]=e}for(var k=R.GetValue(a,k),t=H.fields(k),l=0,g=t.length;l<g;){var h=l++,h=t[h],m=new nh;m.parseJson(R.GetValue(k,h),h);null!=n[h]?e.setReserved(h,m):e.h[h]=m}}},__class__:qh};var ph=function(){var a=new le;a.set_r(1);a.set_g(1);a.set_b(1);a.set_a(1);a.dirty=!0;this.color=a};h["lovedna.data.spine.SpineSlot"]=ph;ph.__name__=
["lovedna","data","spine","SpineSlot"];ph.prototype={name:null,boneName:null,bone:null,attachment:null,color:null,additiveBlending:null,parseJson:function(a){this.name=R.GetString(a,"name");this.boneName=R.GetString(a,"bone");this.attachment=R.GetString(a,"attachment");this.additiveBlending=R.GetBool(a,"additive",!1);a=R.GetString(a,"color");null!=a&&this.color.set_rgba(Wa.Hex2Int(a))},__class__:ph};var ab=function(){this._times=[];this._timeinc=[];this.length=0};h["lovedna.data.spine.timeline.SpineTimeline"]=
ab;ab.__name__=["lovedna","data","spine","timeline","SpineTimeline"];ab.prototype={type:null,targetName:null,length:null,totalTime:null,_times:null,_timeinc:null,setTarget:function(a){this.targetName=a},parseJson:function(a){for(var b=a.length,c=0,d=0;d<b;){var c=d++,f=a[c],c=R.GetFloat(f,"time");this._times.push(c);this.addItem(f)}this.totalTime=c;this.length=b;a=0;for(--b;a<b;)d=a++,this._timeinc[d]=this._times[d+1]-this._times[d];this.init()},addItem:function(a){},init:function(){},__class__:ab};
var mf=function(){ab.call(this);this._name=[];this.type=4};h["lovedna.data.spine.timeline.TimelineAttachment"]=mf;mf.__name__=["lovedna","data","spine","timeline","TimelineAttachment"];mf.__super__=ab;mf.prototype=w(ab.prototype,{_name:null,addItem:function(a){this._name.push(R.GetString(a,"name"))},__class__:mf});var nf=function(){ab.call(this);this._color=[];this._colorInc=[];this.type=5};h["lovedna.data.spine.timeline.TimelineColor"]=nf;nf.__name__=["lovedna","data","spine","timeline","TimelineColor"];
nf.__super__=ab;nf.prototype=w(ab.prototype,{_color:null,_colorInc:null,addItem:function(a){var b=new le;a=R.GetString(a,"color");b.set_r(1);b.set_g(1);b.set_b(1);b.set_a(1);b.dirty=!0;null!=a&&b.set_rgba(Wa.Hex2Int(a));this._color.push(b)},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++,d=new le;d.Copy(this._color[c+1]);d.Sub(this._color[c]);this._colorInc.push(d)}},__class__:nf});var rf=function(){ab.call(this);this.type=6;this._name=[];this._intList=[];this._floatList=[];this._stringList=
[]};h["lovedna.data.spine.timeline.TimelineEvent"]=rf;rf.__name__=["lovedna","data","spine","timeline","TimelineEvent"];rf.__super__=ab;rf.prototype=w(ab.prototype,{_name:null,_intList:null,_floatList:null,_stringList:null,addItem:function(a){this._name.push(R.GetString(a,"name"));this._intList.push(R.GetInt(a,"int",0));this._floatList.push(R.GetFloat(a,"float",0));this._stringList.push(R.GetString(a,"string",null))},__class__:rf});var of=function(){ab.call(this);this._rotation=[];this._rotationInc=
[];this.type=1};h["lovedna.data.spine.timeline.TimelineRotate"]=of;of.__name__=["lovedna","data","spine","timeline","TimelineRotate"];of.__super__=ab;of.prototype=w(ab.prototype,{_rotation:null,_rotationInc:null,addItem:function(a){var b=this._rotation;a=R.GetFloat(a,"angle");a+=180;var c=a/360,d=c|0;0>c&&d!=c&&--d;b.push(a-360*d-180)},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++;this._rotationInc[c]=this._rotation[c+1]-this._rotation[c]}},__class__:of});var pf=function(){ab.call(this);
this._scale=[];this._scaleInc=[];this.type=3};h["lovedna.data.spine.timeline.TimelineScale"]=pf;pf.__name__=["lovedna","data","spine","timeline","TimelineScale"];pf.__super__=ab;pf.prototype=w(ab.prototype,{_scale:null,_scaleInc:null,addItem:function(a){this._scale.push((new la).Set(R.GetFloat(a,"x",1),R.GetFloat(a,"y",1)))},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++,d=new la;d.Copy(this._scale[c+1]);d.Sub(this._scale[c]);this._scaleInc[c]=d}},__class__:pf});var qf=function(){ab.call(this);
this._position=[];this._positionInc=[];this.type=2};h["lovedna.data.spine.timeline.TimelineTranslate"]=qf;qf.__name__=["lovedna","data","spine","timeline","TimelineTranslate"];qf.__super__=ab;qf.prototype=w(ab.prototype,{_position:null,_positionInc:null,addItem:function(a){ab.prototype.addItem.call(this,a);this._position.push((new la).Set(R.GetFloat(a,"x"),R.GetFloat(a,"y")))},init:function(){ab.prototype.init.call(this);for(var a=0,b=this.length-1;a<b;){var c=a++,d=new la;d.Copy(this._position[c+
1]);d.Sub(this._position[c]);this._positionInc.push(d)}},__class__:qf});var la=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=this.y=0;this.x=a;this.y=b};h["lovedna.math.Vector2"]=la;la.__name__=["lovedna","math","Vector2"];la.prototype={x:null,y:null,Set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},Copy:function(a){return this.Set(a.x,a.y)},toFix:function(a){null==a&&(a=5);var b=this.x,c=U.Exp(10,a),d=this.y;a=U.Exp(10,a);return"Vector2("+(b*c|0)/c+","+(d*a|0)/a+
")"},Sub:function(a,b){null==b?(this.x-=a.x,this.y-=a.y):(this.x=a.x-b.x,this.y=a.y-b.y);return this},FromArray:function(a,b){null==b&&(b=0);b<a.length+2&&(this.x=a[b],this.y=a[b+1]);return this},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},Lerp:function(a,b,c,d){null==d&&(d=c);var f=a.x;a=a.y;return this.Set(f+(b.x-f)*c,a+(b.y-a)*d)},__class__:la};var Te=function(a){this._items=new ia;this._items.Add(null);this._compare=a;this.count=0};h["lovedna.ds.BinaryHeap"]=Te;Te.__name__=
["lovedna","ds","BinaryHeap"];Te.prototype={count:null,_items:null,_compare:null,Push:function(a){this._items.Add(a);this.toRoot(this._items._length-1);this.count=this._items._length-1},Shift:function(){if(1==this._items._length)return null;if(2==this._items._length)return this.count=0,this._items.Pop();var a=this._items.Get(1);this.toLeaf();this.count=this._items._length-1;return a},Clear:function(){this._items.set_length(1)},toRoot:function(a){for(var b=a;1<b;){var c=b>>1,d=this._items.Get(b),f=
this._items.Get(c);if(0>this._compare(d,f))this._items.Set(b,f),this._items.Set(c,d);else break;b=c;if(0>a--)break}},toLeaf:function(){var a=1;this._items.Set(1,this._items.Pop());for(var b=this._items._length,c=b;;){var d=a,f=a<<1;if(f<b){var e=this._items.Get(a),k=this._items.Get(f);0<this._compare(e,k)&&(a=f,e=k);f+1<b&&(k=this._items.Get(f+1),0<this._compare(e,k)&&(a=f+1))}if(a!=d)e=this._items.Get(a),f=this._items.Get(d),this._items.Set(a,f),this._items.Set(d,e);else break;if(0>c--)break}},__class__:Te};
var me=function(a){null==a&&(a=0);this.value=0;this.value=a};h["lovedna.ds.Bit32"]=me;me.__name__=["lovedna","ds","Bit32"];me.prototype={value:null,Open:function(a){this.value|=1<<a;return this},IsOpen:function(a){a=1<<a;return(this.value&a)==a},Clear:function(){this.value=0;return this},__class__:me};var ne=function(a,b){null==b&&(b=0);null==a&&(a=0);this._dirty=!0;this.Set2(a,b)};h["lovedna.ds.Float2"]=ne;ne.__name__=["lovedna","ds","Float2"];ne.prototype={x:null,y:null,_dirty:null,_data:null,Set2:function(a,
b){null==b&&(b=0);null==a&&(a=0);this.x!=a&&(this.x=a,this._dirty=!0);this.y!=b&&(this.y=b,this._dirty=!0);this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new ka(2));this._data[0]=this.x;this._data[1]=this.y},__class__:ne};var Nc=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);ne.call(this,a,b);this.z!=c&&(this.z=c,this._dirty=!0)};h["lovedna.ds.Float3"]=Nc;Nc.__name__=["lovedna","ds","Float3"];Nc.__super__=ne;Nc.prototype=w(ne.prototype,{z:null,Set3:function(a,
b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x!=a&&(this.x=a,this._dirty=!0);this.y!=b&&(this.y=b,this._dirty=!0);this.z!=c&&(this.z=c,this._dirty=!0);this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new ka(3));this._data[0]=this.x;this._data[1]=this.y;this._data[2]=this.z},__class__:Nc});var Ld=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);Nc.call(this,a,b,c);this.w!=d&&(this.w=d,this._dirty=!0)};h["lovedna.ds.Float4"]=Ld;Ld.__name__=
["lovedna","ds","Float4"];Ld.__super__=Nc;Ld.prototype=w(Nc.prototype,{w:null,Set4:function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.Set3(a,b,c);this.w!=d&&(this.w=d,this._dirty=!0);this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new ka(4));this._data[0]=this.x;this._data[1]=this.y;this._data[2]=this.z;this._data[3]=this.w},__class__:Ld});var tf=function(a){null==a&&(a="");this._list=[];this.Decode(a)};h["lovedna.ds.StringLine"]=tf;tf.__name__=
["lovedna","ds","StringLine"];tf.prototype={_list:null,_length:null,_position:null,ReadLine:function(){return this._position<this._length?this._list[this._position++]:null},Decode:function(a){0<this._length&&this._list.splice(0,this._length);this._position=this._length=0;if(null!=a){a=N.replace(a,"\r","\n");a=a.split("\n");for(var b=0,c=a.length;b<c;){var d=b++,d=a[d];""!=d&&this._list.push(d)}this._length=this._list.length;this._position=0}},get_position:function(){return this._position},set_position:function(a){0<=
a&&a<this._length&&(this._position=a);return this._position},__class__:tf,__properties__:{set_position:"set_position",get_position:"get_position"}};var Ta=function(a){ea.call(this);this._type=xb.GetClassName(this)+"."+a+"."+(new Date(2017,4,21,23,24,52)).getTime()};h["lovedna.event.Event"]=Ta;Ta.__name__=["lovedna","event","Event"];Ta.__super__=ea;Ta.prototype=w(ea.prototype,{currentTarget:null,customData:null,_type:null,_target:null,setTarget:function(a){this._target=a},__class__:Ta});var xb=function(){};
h["lovedna.util.TypeUtil"]=xb;xb.__name__=["lovedna","util","TypeUtil"];xb.GetName=function(a){if(null!=xb._typeMap.h.__keys__[a.__id__])return xb._typeMap.h[a.__id__];var b=Q.getClassName(a);xb._typeMap.set(a,b);return b};xb.CreateInstance=function(a,b){var c=null,c=null==b?Q.createEmptyInstance(a):Q.createInstance(a,b);y.__instanceof(c,ea)&&c.Construct();return c};xb.GetClassName=function(a){return null==a?"null":Q.getClassName(null==a?null:y.getClass(a))};var uf=function(a){Ta.call(this,a)};h["lovedna.event.ProgressEvent"]=
uf;uf.__name__=["lovedna","event","ProgressEvent"];uf.__super__=Ta;uf.prototype=w(Ta.prototype,{loaded:null,total:null,SetProgress:function(a,b){this.loaded=a;this.total=b;return this},__class__:uf});var vf=function(a){Ta.call(this,a)};h["lovedna.event.TouchEvent"]=vf;vf.__name__=["lovedna","event","TouchEvent"];vf.__super__=Ta;vf.prototype=w(Ta.prototype,{_touch:null,get_touch:function(){null==this._touch&&(this._touch=new gd(0));return this._touch},__class__:vf,__properties__:{get_touch:"get_touch"}});
var M=function(){};h["lovedna.event.Events"]=M;M.__name__=["lovedna","event","Events"];var Gg=function(a,b,c,d,f){0>f&&(f=0);this._dispatcher=a;this._callback=b;this.priority=c;this._once=d;this._delay=f;this._eventList=new ia};h["lovedna.event.Listener"]=Gg;Gg.__name__=["lovedna","event","Listener"];Gg.prototype={priority:null,_once:null,_delay:null,_callback:null,_dispatcher:null,_eventList:null,_timer:null,Dispatch:function(a){var b=this;null!=this._callback&&(this._eventList.Add(a),0<this._delay?
(null!=this._timer&&this._timer.stop(),this._timer=new Jc(this._delay|0),this._timer.run=function(){b._timer.stop();b._timer=null;b.execute()}):this.execute())},Destroy:function(){this._dispatcher=this._callback=null;this._delay=0;this._eventList.Dispose();this._eventList=null},Match:function(a){return H.compareMethods(this._callback,a)},execute:function(){if(null!=this._callback&&null!=this._eventList){var a=this._eventList._length;if(0!=a){for(var b=0;b<a;){var c=b++,c=this._eventList.Get(c);c.setTarget(this._dispatcher);
Ta.current=c;this._callback()}this._once&&null!=this._dispatcher&&this._dispatcher.RemoveEventListener(this._eventList.Get(0)._type,this._callback);if(null!=this._eventList){for(b=0;b<a;)c=b++,this._eventList.Get(c).customData=null;this._eventList.Clear()}}}},__class__:Gg};var Tb=function(){Tb._instance=this;this._glsupport=Oc.get_isSupported();ic.Init();this._timeData=new Ld;this._screenData=new Ld;this._gl=dc.GetInstance();this._visible=this._init=!1;this._active=!0;this._lost=!1;this._sceneList=
[];this._sceneCount=0;this._view=new Oc;this._view.addEventListener("addedToStage",p(this,this.display_addedToStage));this._view.addEventListener("removedFromStage",p(this,this.display_addedToStage));Ha.get_stage().addEventListener("activate",p(this,this.stage_activate));Ha.get_stage().addEventListener("deactivate",p(this,this.stage_activate));Ha.get_stage().addEventListener("resize",p(this,this.stage_resize));Ha.get_stage().addEventListener("glcontextlost",p(this,this.stage_contextLost));Ha.get_stage().addEventListener("glcontextrestored",
p(this,this.stage_contextLost));Xa.init()};h["lovedna.game.Engine"]=Tb;Tb.__name__=["lovedna","game","Engine"];Tb.__interfaces__=[Kd];Tb.GetInstance=function(){return null==Tb._instance?new Tb:Tb._instance};Tb.prototype={onUpdate:null,_view:null,_init:null,_visible:null,_active:null,_lost:null,_initHandler:null,_sceneList:null,_sceneCount:null,_sceneIndex:null,_currentTime:null,_timeData:null,_screenData:null,_gl:null,_screenDraw:null,_glsupport:null,Show:function(a){null!=this._view&&a.addChild(this._view)},
OnInit:function(a){this._initHandler=a;this._init&&null!=this._initHandler&&(this._initHandler(),this._initHandler=null)},AddScene:function(a){z.remove(this._sceneList,a);this._sceneList.push(a);this._sceneCount=this._sceneList.length},OnTriggerEnter:function(a){},OnTrigger:function(a){if(!this._lost&&this._visible&&!Tb.pause&&this._active){ua.Update();a=ua.deltaTime;if(null!=this.onUpdate)this.onUpdate(ua.deltaTime);if(this._gl.enabled){Y.enterFrame();this._gl.SetSize(Y.width,Y.height);this._gl.EnterFrame();
this._gl.PushRenderTarget(Y.screenshot);this._timeData.Set4(ua.time,a,Math.sin(a),Math.cos(a));var b=this._timeData;b._dirty&&(b.update(),b._dirty=!1);ba.SetFrameUniform("time",b._data);b=this._screenData;b._dirty&&(b.update(),b._dirty=!1);ba.SetFrameUniform("screen",b._data)}b=this._sceneCount;for(this._sceneIndex=0;0<b--;)this._sceneList[this._sceneIndex++].enterFrame(a);this._gl.enabled&&(null!=Y.screenshot&&(this._gl.PopRenderTarget(),null==this._screenDraw&&(this._screenDraw=new wf),this._screenDraw.Draw()),
this._gl.ExitFrame(),Y.exitFrame());Ia.ExitFrame();Yb.Reset()}return!0},OntriggerExit:function(a){},display_addedToStage:function(a){(this._visible="addedToStage"==a.type)?(this._currentTime=(new Date).getTime()/1E3*za.scale,this._init||mb.Add(new mb(p(this,this.initHandler)),.1)):this._view.set_render(null)},stage_activate:function(a){this._active="activate"==a.type},stage_resize:function(a){Y.width=Ha.get_stage().stageWidth;Y.height=Ha.get_stage().stageHeight;this._view.set_width(Y.width);this._view.set_height(Y.height);
this._screenData.Set4(Y.width,Y.height,1/Y.width,1/Y.height)},stage_contextLost:function(a){(this._lost="glcontextlost"==a.type)?ba.Lost():X.texture.Restore()},initHandler:function(){this._init=!0;this.stage_resize(null);this._glsupport?this._view.set_render(p(this,this.render)):Ca.Add(this);null!=this._initHandler&&(this._initHandler(),this._initHandler=null)},render:function(a){if(!this._lost&&this._visible&&!Tb.pause&&this._active){ua.Update();a=ua.deltaTime;if(null!=this.onUpdate)this.onUpdate(ua.deltaTime);
if(this._gl.enabled){Y.enterFrame();this._gl.SetSize(Y.width,Y.height);this._gl.EnterFrame();this._gl.PushRenderTarget(Y.screenshot);this._timeData.Set4(ua.time,a,Math.sin(a),Math.cos(a));var b=this._timeData;b._dirty&&(b.update(),b._dirty=!1);ba.SetFrameUniform("time",b._data);b=this._screenData;b._dirty&&(b.update(),b._dirty=!1);ba.SetFrameUniform("screen",b._data)}b=this._sceneCount;for(this._sceneIndex=0;0<b--;)this._sceneList[this._sceneIndex++].enterFrame(a);this._gl.enabled&&(null!=Y.screenshot&&
(this._gl.PopRenderTarget(),null==this._screenDraw&&(this._screenDraw=new wf),this._screenDraw.Draw()),this._gl.ExitFrame(),Y.exitFrame());Ia.ExitFrame();Yb.Reset()}},__class__:Tb};var wf=function(){this._vertexBuffer=new hd;this._vertexBuffer._structure.Add("position",3);this._vertexBuffer._structure.Add("texcoord",2);this._vertexBuffer._structure.Add("color",4);this._vertexBuffer.Upload([-1,-1,0,0,0,1,1,1,1,1,-1,0,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,-1,1,0,0,1,1,1,1,1]);this._triangleBuffer=new oe;this._triangleBuffer.Upload([0,
1,2,0,2,3]);this._pipeline=new ba;var a=this._pipeline.state;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.cullMode=-1;a=new ec("");a.Upload("\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec2 uv:texcoord;\r\n\t\tattribute vec4 c:color;\r\n\t\tuniform mat4 mvp: mvp;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = vec4(position, 1.0);\r\n\t\t\tvuv = uv;\r\n\t\t\tvcolor = c;\r\n\t\t}\r\n\t\t",
"\r\n\t\tprecision mediump float;\r\n\t\tuniform sampler2D _Texture0:texture;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor = texture2D(_Texture0, vuv);\r\n\t\t\tgl_FragColor = baseColor*vcolor;\r\n\t\t}\r\n\t\t");var b=this._pipeline;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;this._pipeline.Compile();this._size=new la};h["lovedna.game._Engine.ScreenDraw"]=wf;wf.__name__=["lovedna","game","_Engine",
"ScreenDraw"];wf.prototype={_vertexBuffer:null,_triangleBuffer:null,_pipeline:null,_size:null,Draw:function(){if(null!=Y.screenshot){dc.GetInstance();e.context.__context.viewport(0,0,Y.width|0,Y.height|0);this._pipeline.SetTexture("texture",Y.screenshot);this._pipeline._indexBuffer=this._triangleBuffer;var a=this._pipeline,b=this._vertexBuffer;null!=b&&a._vertextBuffers.Add(b);this._pipeline.Flush()}},__class__:wf};var rc=function(a){Ta.call(this,a);this.touch=new gd};h["lovedna.game.GameTouchEvent"]=
rc;rc.__name__=["lovedna","game","GameTouchEvent"];rc.__super__=Ta;rc.prototype=w(Ta.prototype,{touch:null,relatedTarget:null,__class__:rc});var gd=function(a){null==a&&(a=0);ea.call(this);this.id=a};h["lovedna.input.Touch"]=gd;gd.__name__=["lovedna","input","Touch"];gd.__super__=ea;gd.prototype=w(ea.prototype,{id:null,action:null,active:null,userAction:null,position:null,lastPosition:null,motion:null,down:null,time:null,lastTime:null,_frameActions:null,_actions:null,_activeObjectList:null,Dispose:function(){this._activeObjectList=
this._actions=this._frameActions=this.lastTime=this.time=this.down=this.motion=this.lastPosition=this.position=null},Begin:function(){this._actions.Clear();this._frameActions.Clear()},Update:function(){this._frameActions.Clear()},End:function(){this.action=0;this.active=!1},AddAction:function(a){this._actions.Open(a);this._frameActions.Open(a)},HasAction:function(a){return this._actions.IsOpen(a)},IsAction:function(a){return this._frameActions.IsOpen(a)},Copy:function(a){this.id=a.id;this.action=
a.action;this.active=a.active;this.userAction=a.userAction;this.position.Copy(a.position);this.lastPosition.Copy(a.lastPosition);this.motion.Copy(a.motion);this.down.Copy(a.down);var b=this.time,c=a.time;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this.lastTime;c=a.lastTime;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);this._frameActions.value=a._frameActions.value;this._actions.value=a._actions.value;this._activeObjectList=a._activeObjectList;return this},AddObject:function(a){null!=a&&(this._activeObjectList.Contains(a)||
this._activeObjectList.Add(a))},ClearObject:function(){this._activeObjectList.Clear()},Construct:function(){ea.prototype.Construct.call(this);this.active=!1;this.action=0;this.userAction=!1;this.position=new la;this.lastPosition=new la;this.motion=new la;this.down=new la;this.time=new xa;this.lastTime=new xa;this._frameActions=new me;this._actions=new me;this._activeObjectList=new ia},__class__:gd});var x=function(a){Ta.call(this,a)};h["lovedna.game.GameEvent"]=x;x.__name__=["lovedna","game","GameEvent"];
x.__super__=Ta;x.prototype=w(Ta.prototype,{__class__:x});var xa=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._vec3=xa._helperVec3;this.x=a;this.y=b;this.z=c};h["lovedna.math.Vector3"]=xa;xa.__name__=["lovedna","math","Vector3"];xa.prototype={x:null,y:null,z:null,_vec3:null,toFix:function(a){null==a&&(a=4);var b=this.x,c=U.Exp(10,a),d=this.y,f=U.Exp(10,a),e=this.z;a=U.Exp(10,a);return"Vector3("+(b*c|0)/c+","+(d*f|0)/f+","+(e*a|0)/a+this.z+")"},Cross:function(a,b){var c,d,f;null==
b?(c=this.y*a.z-this.z*a.y,d=this.z*a.x-this.x*a.z,f=this.x*a.y-this.y*a.x):(c=a.y*b.z-a.z*b.y,d=a.z*b.x-a.x*b.z,f=a.x*b.y-a.y*b.x);this.x=c;this.y=d;this.z=f;return this},Normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Distance:function(a,b){if(null==b){var c=this._vec3;c.x=this.x-a.x;c.y=this.y-a.y;c.z=this.z-a.z}else c=this._vec3,c.x=a.x-b.x,c.y=a.y-b.y,c.z=a.z-b.z;c=this._vec3;return Math.sqrt(c.x*
c.x+c.y*c.y+c.z*c.z)},FromArray:function(a,b){null==b&&(b=0);b<a.length+3&&(this.x=a[b],this.y=a[b+1],this.z=a[b+2]);return this},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},__class__:xa};var hb=function(){this.d15=1;this.d11=this.d12=this.d13=this.d14=0;this.d10=1;this.d6=this.d7=this.d8=this.d9=0;this.d5=1;this.d1=this.d2=this.d3=this.d4=0;this.d0=1;this._sin=Math.sin;this._cos=Math.cos;this._mat4=hb._helperMat4;this._dirty=!0};h["lovedna.math.Matrix4"]=
hb;hb.__name__=["lovedna","math","Matrix4"];hb.prototype={d0:null,d1:null,d2:null,d3:null,d4:null,d5:null,d6:null,d7:null,d8:null,d9:null,d10:null,d11:null,d12:null,d13:null,d14:null,d15:null,_dirty:null,_data:null,_cos:null,_sin:null,_mat4:null,Copy:function(a){if(a==this)return this;this.d0=a.d0;this.d1=a.d1;this.d2=a.d2;this.d3=a.d3;this.d4=a.d4;this.d5=a.d5;this.d6=a.d6;this.d7=a.d7;this.d8=a.d8;this.d9=a.d9;this.d10=a.d10;this.d11=a.d11;this.d12=a.d12;this.d13=a.d13;this.d14=a.d14;this.d15=a.d15;
this._dirty=!0;return this},FromArray:function(a,b){null==b&&(b=0);this.d0=a[b];this.d1=a[b+1];this.d2=a[b+2];this.d3=a[b+3];this.d4=a[b+4];this.d5=a[b+5];this.d6=a[b+6];this.d7=a[b+7];this.d8=a[b+8];this.d9=a[b+9];this.d10=a[b+10];this.d11=a[b+11];this.d12=a[b+12];this.d13=a[b+13];this.d14=a[b+14];this.d15=a[b+15];this._dirty=!0;return this},GetFloat32Array:function(){this._dirty&&(null==this._data&&(this._data=new ka(16)),this._data[0]=this.d0,this._data[1]=this.d1,this._data[2]=this.d2,this._data[3]=
this.d3,this._data[4]=this.d4,this._data[5]=this.d5,this._data[6]=this.d6,this._data[7]=this.d7,this._data[8]=this.d8,this._data[9]=this.d9,this._data[10]=this.d10,this._data[11]=this.d11,this._data[12]=this.d12,this._data[13]=this.d13,this._data[14]=this.d14,this._data[15]=this.d15,this._dirty=!1);return this._data},Identity:function(){this.d0=1;this.d4=this.d3=this.d2=this.d1=0;this.d5=1;this.d9=this.d8=this.d7=this.d6=0;this.d10=1;this.d14=this.d13=this.d12=this.d11=0;this.d15=1;this._dirty=!0;
return this},Append:function(a,b){null==b&&(b=!1);var c=this,d=a;b&&(c=a,d=this);var f=c.d0,e=c.d1,k=c.d2,t=c.d3,l=c.d4,g=c.d5,h=c.d6,m=c.d7,n=c.d8,p=c.d9,r=c.d10,w=c.d11,v=c.d12,x=c.d13,y=c.d14,c=c.d15,z=d.d0,A=d.d1,E=d.d2,B=d.d3,D=d.d4,C=d.d5,G=d.d6,M=d.d7,F=d.d8,N=d.d9,H=d.d10,J=d.d11,I=d.d12,K=d.d13,L=d.d14,d=d.d15;this.d0=z*f+A*l+E*n+B*v;this.d1=z*e+A*g+E*p+B*x;this.d2=z*k+A*h+E*r+B*y;this.d3=z*t+A*m+E*w+B*c;this.d4=D*f+C*l+G*n+M*v;this.d5=D*e+C*g+G*p+M*x;this.d6=D*k+C*h+G*r+M*y;this.d7=D*t+
C*m+G*w+M*c;this.d8=F*f+N*l+H*n+J*v;this.d9=F*e+N*g+H*p+J*x;this.d10=F*k+N*h+H*r+J*y;this.d11=F*t+N*m+H*w+J*c;this.d12=I*f+K*l+L*n+d*v;this.d13=I*e+K*g+L*p+d*x;this.d14=I*k+K*h+L*r+d*y;this.d15=I*t+K*m+L*w+d*c;this._dirty=!0;return this},AppendTranslationV:function(a,b,c){this.d12=this.d0*a+this.d4*b+this.d8*c+this.d12;this.d13=this.d1*a+this.d5*b+this.d9*c+this.d13;this.d14=this.d2*a+this.d6*b+this.d10*c+this.d14;this.d15=this.d3*a+this.d7*b+this.d11*c+this.d15;this._dirty=!0;return this},AppendScaleV:function(a,
b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.d0*=a;this.d1*=a;this.d2*=a;this.d3*=a;this.d4*=b;this.d5*=b;this.d6*=b;this.d7*=b;this.d8*=c;this.d9*=c;this.d10*=c;this.d11*=c;this._dirty=!0;return this},AppendRotation:function(a,b){if(0!=a){a*=.017453292519943295;var c=b.x,d=b.y,f=b.z;this._mat4.d3=0;this._mat4.d7=0;this._mat4.d11=0;this._mat4.d12=0;this._mat4.d13=0;this._mat4.d14=0;this._mat4.d15=1;var e=this._cos(-a),k=this._sin(-a),t=1-e;this._mat4.d0=e+c*c*t;this._mat4.d5=e+d*d*t;this._mat4.d10=
e+f*f*t;var e=c*d*t,l=f*k;this._mat4.d1=e-l;this._mat4.d4=e+l;e=c*f*t;l=d*k;this._mat4.d2=e+l;this._mat4.d8=e-l;e=d*f*t;l=c*k;this._mat4.d6=e-l;this._mat4.d9=e+l;this.Append(this._mat4)}return this},AppendRotationX:function(a){a*=.017453292519943295;var b=this._sin(a);a=this._cos(a);this._mat4.d0=1;this._mat4.d1=0;this._mat4.d2=0;this._mat4.d3=0;this._mat4.d4=0;this._mat4.d5=a;this._mat4.d6=b;this._mat4.d7=0;this._mat4.d8=0;this._mat4.d9=-b;this._mat4.d10=a;this._mat4.d11=0;this._mat4.d12=0;this._mat4.d13=
0;this._mat4.d14=0;this._mat4.d15=1;this.Append(this._mat4);return this},AppendRotationY:function(a){a*=.017453292519943295;var b=this._sin(a);a=this._cos(a);this._mat4.d0=a;this._mat4.d1=0;this._mat4.d2=-b;this._mat4.d3=0;this._mat4.d4=0;this._mat4.d5=1;this._mat4.d6=0;this._mat4.d7=0;this._mat4.d8=b;this._mat4.d9=0;this._mat4.d10=a;this._mat4.d11=0;this._mat4.d12=0;this._mat4.d13=0;this._mat4.d14=0;this._mat4.d15=1;this.Append(this._mat4);return this},AppendRotationZ:function(a){a*=.017453292519943295;
var b=this._sin(a);a=this._cos(a);this._mat4.d0=a;this._mat4.d1=b;this._mat4.d2=0;this._mat4.d3=0;this._mat4.d4=-b;this._mat4.d5=a;this._mat4.d6=0;this._mat4.d7=0;this._mat4.d8=0;this._mat4.d9=0;this._mat4.d10=1;this._mat4.d11=0;this._mat4.d12=0;this._mat4.d13=0;this._mat4.d14=0;this._mat4.d15=1;this.Append(this._mat4);return this},Transpose:function(){var a=this.d1;this.d1=this.d4;this.d4=a;a=this.d2;this.d2=this.d8;this.d8=a;a=this.d3;this.d3=this.d12;this.d12=a;a=this.d6;this.d6=this.d9;this.d9=
a;a=this.d7;this.d7=this.d13;this.d13=a;a=this.d11;this.d11=this.d14;this.d14=a;this._dirty=!0;return this},LookAt:function(a,b,c){if(null!=a){var d=a.x,f=a.y;a=a.z;var e=0,k=0,t=0,l=0,g=1,h=0;null!=b&&(e=b.x,k=b.y,t=b.z);null!=c&&(l=c.x,g=c.y,h=c.z);if(d!=e||f!=k||a!=t){var m,n;b=d-e;c=f-k;k=a-t;e=1/Math.sqrt(b*b+c*c+k*k);b*=e;c*=e;k*=e;t=g*k-h*c;h=h*b-l*k;l=l*c-g*b;e=Math.sqrt(t*t+h*h+l*l);0==e?l=h=t=0:(e=1/e,t*=e,h*=e,l*=e);g=c*l-k*h;m=k*t-b*l;n=b*h-c*t;e=Math.sqrt(g*g+m*m+n*n);0==e?n=m=g=0:(e=
1/e,g*=e,m*=e,n*=e);this.d0=t;this.d1=g;this.d2=b;this.d3=0;this.d4=h;this.d5=m;this.d6=c;this.d7=0;this.d8=l;this.d9=n;this.d10=k;this.d11=0;this.d12=-(t*d+h*f+l*a);this.d13=-(g*d+m*f+n*a);this.d14=-(b*d+c*f+k*a);this.d15=1;this._dirty=!0}}return this},Frustum:function(a,b,c,d,f,e){null==e&&(e=1E4);null==f&&(f=1);0>=f&&(f=1);var k=b-a,t=d-c,l=2*f;this.d0=l/k;this.d4=0;this.d8=(b+a)/k;this.d1=this.d12=0;this.d5=l/t;this.d9=(d+c)/t;this.d6=this.d2=this.d13=0;this.d10=-(e+f)/(e-f);this.d14=-e*l/(e-
f);this.d7=this.d3=0;this.d11=-1;this.d15=0;this._dirty=!0;return this},Perspective:function(a,b,c,d){null==d&&(d=1E4);null==c&&(c=1);null==b&&(b=1);null==a&&(a=60);0>=c&&(c=1);a=c*Math.tan(.008726646259971648*a);var f=-a;this.Frustum(f*b,a*b,f,a,c,d);return this},Orthographic:function(a,b,c,d,f,e){var k=b-a,t=c-d,l=e-f;this.d0=2/k;this.d8=this.d4=0;this.d12=-((b+a)/k);this.d1=0;this.d5=2/t;this.d9=0;this.d13=-((c+d)/t);this.d6=this.d2=0;this.d10=-2/l;this.d14=-((e+f)/l);this.d11=this.d7=this.d3=
0;this.d15=1;this._dirty=!0;return this},Inverse:function(){var a=this.getDeterminant();if(1E-11<(0>a?-a:a)){var a=-1/a,b=this.d0,c=this.d4,d=this.d8,f=this.d12,e=this.d1,k=this.d5,t=this.d9,l=this.d13,g=this.d2,h=this.d6,m=this.d10,n=this.d14,p=this.d3,r=this.d7,w=this.d11,v=this.d15;this.d0=a*(k*(m*v-n*w)-t*(h*v-n*r)+l*(h*w-m*r));this.d1=-a*(e*(m*v-n*w)-t*(g*v-n*p)+l*(g*w-m*p));this.d2=a*(e*(h*v-n*r)-k*(g*v-n*p)+l*(g*r-h*p));this.d3=-a*(e*(h*w-m*r)-k*(g*w-m*p)+t*(g*r-h*p));this.d4=-a*(c*(m*v-n*
w)-d*(h*v-n*r)+f*(h*w-m*r));this.d5=a*(b*(m*v-n*w)-d*(g*v-n*p)+f*(g*w-m*p));this.d6=-a*(b*(h*v-n*r)-c*(g*v-n*p)+f*(g*r-h*p));this.d7=a*(b*(h*w-m*r)-c*(g*w-m*p)+d*(g*r-h*p));this.d8=a*(c*(t*v-l*w)-d*(k*v-l*r)+f*(k*w-t*r));this.d9=-a*(b*(t*v-l*w)-d*(e*v-l*p)+f*(e*w-t*p));this.d10=a*(b*(k*v-l*r)-c*(e*v-l*p)+f*(e*r-k*p));this.d11=-a*(b*(k*w-t*r)-c*(e*w-t*p)+d*(e*r-k*p));this.d12=-a*(c*(t*n-l*m)-d*(k*n-l*h)+f*(k*m-t*h));this.d13=a*(b*(t*n-l*m)-d*(e*n-l*g)+f*(e*m-t*g));this.d14=-a*(b*(k*n-l*h)-c*(e*n-l*
g)+f*(e*h-k*g));this.d15=a*(b*(k*m-t*h)-c*(e*m-t*g)+d*(e*h-k*g));this._dirty=!0}return this},DeltaTransformVector3:function(a){var b=a.x,c=a.y,d=a.z;a.x=b*this.d0+c*this.d4+d*this.d8+this.d3;a.y=b*this.d1+c*this.d5+d*this.d9+this.d7;a.z=b*this.d2+c*this.d6+d*this.d10+this.d11;return a},TransformVector3:function(a,b){null==b&&(b=!1);var c=a.x,d=a.y,f=a.z,e=this.d0*c+this.d4*d+this.d8*f+this.d12,k=this.d1*c+this.d5*d+this.d9*f+this.d13,t=this.d2*c+this.d6*d+this.d10*f+this.d14;b&&(c=1/(this.d3*c+this.d7*
d+this.d11*f+this.d15),e*=c,k*=c,t*=c);a.x=e;a.y=k;a.z=t;return a},GetMaxScaleOnAxis:function(){var a=this.d0*this.d0+this.d1*this.d1+this.d2*this.d2,b=this.d4*this.d4+this.d5*this.d5+this.d6*this.d6,c=this.d8*this.d8+this.d9*this.d9+this.d10*this.d10,a=a>b?a:b;return Math.sqrt(a>c?a:c)},getDeterminant:function(){return-1*((this.d0*this.d5-this.d4*this.d1)*(this.d10*this.d15-this.d14*this.d11)-(this.d0*this.d9-this.d8*this.d1)*(this.d6*this.d15-this.d14*this.d7)+(this.d0*this.d13-this.d12*this.d1)*
(this.d6*this.d11-this.d10*this.d7)+(this.d4*this.d9-this.d8*this.d5)*(this.d2*this.d15-this.d14*this.d3)-(this.d4*this.d13-this.d12*this.d5)*(this.d2*this.d11-this.d10*this.d3)+(this.d8*this.d13-this.d12*this.d9)*(this.d2*this.d7-this.d6*this.d3))},__class__:hb};var Ia=function(a){this._worldInverseDirty=!1;this._transformDirty=0;this.scaleX=this.scaleY=this.scaleZ=1;this.x=this.y=this.z=this.rotationX=this.rotationY=this.rotationZ=0;this.matrixAutoUpdate=this.active=!0;this.distanceToCamera=0;this.timeScale=
1;this.layer=0;this.name=a;ea.call(this)};h["lovedna.game.GameObject"]=Ia;Ia.__name__=["lovedna","game","GameObject"];Ia.Destroy=function(a){a.destroying||(a.destroying=!0,Ia._destroyList.push(a))};Ia.ExitFrame=function(){T.ExitFrame();var a=Ia._componentChangeList.length;if(0<a){for(;0<a--;)Ia._componentChangeList[a].DispatchEvent(x.onComponentChange);Ia._componentChangeList=[]}a=Ia._destroyList.length;if(0<a){for(;0<a--;)Ia._destroyList[a].onDestroy();Ia._destroyList=[]}};Ia.__super__=ha;Ia.prototype=
w(ha.prototype,{destroying:null,instanceID:null,name:null,layer:null,timeScale:null,distanceToCamera:null,matrixAutoUpdate:null,active:null,childCount:null,visible:null,renderer:null,deltaTime:null,scene:null,parent:null,localMatrix:null,worldMatrix:null,worldInverseMatrix:null,localPosition:null,x:null,y:null,z:null,rotationX:null,rotationY:null,rotationZ:null,scaleX:null,scaleY:null,scaleZ:null,_transformDirty:null,_childs:null,_worldInverseMatrix:null,_worldInverseDirty:null,_up:null,_upDirty:null,
_rightDirty:null,_forward:null,_forwardDirty:null,_time:null,_componentMap:null,_group:null,AddComponent:function(a){var b=xb.GetName(a),c=this._componentMap;if(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))return a=this._componentMap,null!=n[b]?a.getReserved(b):a.h[b];a=xb.CreateInstance(a);var c=a.GetAliasName(),d=this._componentMap;if(null!=n[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return null;a.Construct();d=this._componentMap;null!=n[b]?d.setReserved(b,a):d.h[b]=a;b=this._componentMap;
null!=n[c]?b.setReserved(c,a):b.h[c]=a;a.init(this);this._group=this.GetComponent(id);this.renderer=this.GetComponent(Zb);-1==Ia._componentChangeList.indexOf(this)&&Ia._componentChangeList.push(this);return a},GetComponent:function(a){var b=xb.GetName(a),c=this._componentMap;if(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))return a=this._componentMap,null!=n[b]?a.getReserved(b):a.h[b];b=this._componentMap;for(b=new xc(b,b.arrayKeys());b.hasNext();)if(c=b.next(),y.__instanceof(c,a))return c;
return null},RemoveComponent:function(a){for(var b=this._componentMap.keys();b.hasNext();){var c=b.next(),d=this._componentMap,d=null!=n[c]?d.getReserved(c):d.h[c];y.__instanceof(d,a)&&(this._componentMap.remove(c),T.Destroy(d))}this._group=this.GetComponent(id);this.renderer=this.GetComponent(Zb);-1==Ia._componentChangeList.indexOf(this)&&Ia._componentChangeList.push(this)},AddChild:function(a){if(null!=a){var b=a.parent;b==this||a.Contains(this)||(null!=b&&b.RemoveChild(a),null==this._childs&&(this._childs=
[]),this._childs.push(a),a.parent=this,this.DispatchEvent(x.onAdded),this.childCount=this._childs.length,a._transformDirty++)}},RemoveChild:function(a){null!=a&&null!=this._childs&&a.parent==this&&z.remove(this._childs,a)&&(this.DispatchEvent(x.onRemoved),this.parent=null,this.childCount=this._childs.length)},Contains:function(a){if(null==a||a==this)return!1;for(a=a.parent;null!=a;){if(a==this)return!0;var b=a.parent;if(b==a)break;a=b}return!1},onConstruct:function(){ha.prototype.onConstruct.call(this);
this.instanceID=Ia._gid++;this.layer=0;this.set_active(!0);this.set_visible(!1);this.localMatrix=new hb;this.worldMatrix=new hb;this._transformDirty=this._time=0;this.localPosition=new xa;this.childCount=0;this._componentMap=new B;this.destroying=!1;this.matrixAutoUpdate=!0},onDestroy:function(){null!=this.parent&&this.parent.RemoveChild(this);null!=this.scene&&this.DispatchEvent(x.onRemovedFromScene);this.DispatchEvent(x.onDestroy);for(var a=this._componentMap,a=new xc(a,a.arrayKeys());a.hasNext();){var b=
a.next();T.Destroy(b)}this.Dispose();this.renderer=this._group=this._componentMap=this._worldInverseMatrix=this._childs=this.localPosition=this.worldInverseMatrix=this.worldMatrix=this.localMatrix=this.parent=this.scene=null},enterFrame:function(a){if(this.active){this.deltaTime=a*this.timeScale;a=!1;null==this.scene&&(this.scene=Xc.current,a=!0);this.scene.add(this);this.scene.resized&&this.DispatchEvent(x.onScreenResize);var b;if(this.HasEventListener(x.onFixedUpdate._type))for(b=ua.fixedCount;0<
b--;)this.DispatchEvent(x.onFixedUpdate);this.DispatchEvent(x.onUpdate);if(this.active&&null!=this.scene){this.DispatchEvent(x.onFrame);b=0<this._transformDirty?1:0;null!=this.parent&&0==b&&(b=0<this.parent._transformDirty?2:0);if(0<b&&this.matrixAutoUpdate){this._transformDirty=1;var c=this.localPosition;c.x=this.x;c.y=this.y;c.z=this.z;this.localMatrix.Identity();null!=this.parent&&this.localMatrix.Append(this.parent.localMatrix);2==b&&this.DispatchEvent(x.onPreTransformBecauseParent);this.DispatchEvent(x.onPreTransform);
c=this.localPosition;0==c.x&&0==c.y&&0==c.z||this.localMatrix.AppendTranslationV(this.localPosition.x,this.localPosition.y,this.localPosition.z);0!=this.rotationX&&this.localMatrix.AppendRotationX(this.rotationX);0!=this.rotationY&&this.localMatrix.AppendRotationY(this.rotationY);0!=this.rotationZ&&this.localMatrix.AppendRotationZ(this.rotationZ);1==this.scaleX&&1==this.scaleY&&1==this.scaleZ||this.localMatrix.AppendScaleV(this.scaleX,this.scaleY,this.scaleZ);this.worldMatrix.Copy(this.localMatrix);
this._upDirty=this._rightDirty=this._forwardDirty=this._worldInverseDirty=!0;2==b&&this.DispatchEvent(x.onPostTransformBecauseParent);this.DispatchEvent(x.onPostTransform)}a&&(x.onAddedToScene.currentTarget=this,this.DispatchEvent(x.onAddedToScene),this.scene.DispatchEvent(x.onAddedToScene));if(this.active&&!(1>this.childCount))for(b=this.childCount,a=0;a<b;)c=a++,this._childs[c].enterFrame(this.deltaTime)}}},exitFrame:function(){this._transformDirty=1<this._transformDirty?1:0;this.DispatchEvent(x.onLateUpdate)},
visit:function(){var a=this.scene;if(null!=a){null!=this._group&&(a.DispatchEvent(x.onGroupStart),this.DispatchEvent(x.onGroupStart));null!=this.renderer&&a.renderSystem.AddRenderer(this.renderer);var b=this.childCount;if(0<b)for(var c=0;c<b;){var d=c++;this._childs[d].visit()}null!=this._group&&(a.DispatchEvent(x.onGroupEnd),this.DispatchEvent(x.onGroupEnd))}},set_active:function(a){this.active!=a&&(this.active=a,this.DispatchEvent(this.active?x.onEnable:x.onDisable));return a},set_visible:function(a){this.visible!=
a&&(this.visible=a,this.DispatchEvent(this.visible?x.onBecameVisible:x.onBecameInvisible));return this.visible},set_x:function(a){this.x!=a&&(this.x=a,this._transformDirty++);return a},set_y:function(a){this.y!=a&&(this.y=a,this._transformDirty++);return a},set_z:function(a){this.z!=a&&(this.z=a,this._transformDirty++);return a},set_rotationZ:function(a){this.rotationZ!=a&&(this.rotationZ=a,this._transformDirty++);return a},get_worldInverseMatrix:function(){null==this._worldInverseMatrix&&(this._worldInverseMatrix=
new hb);this._worldInverseDirty&&(this._worldInverseMatrix.Copy(this.worldMatrix),this._worldInverseMatrix.Inverse(),this._worldInverseDirty=!1);return this._worldInverseMatrix},get_up:function(){null==this._up&&(this._up=new xa);if(this._upDirty){this._upDirty=!1;var a=this._up;a.x=0;a.y=1;a.z=0;this.worldMatrix.DeltaTransformVector3(this._up);this._up.Normalize()}var a=K.vector3.Get(),b=this._up;b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);return a},get_forward:function(){null==this._forward&&(this._forward=
new xa);if(this._forwardDirty){this._forwardDirty=!1;var a=this._forward;a.x=0;a.y=0;a.z=1;this.worldMatrix.DeltaTransformVector3(this._forward);this._forward.Normalize()}var a=K.vector3.Get(),b=this._forward;b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);return a},__class__:Ia,__properties__:{get_forward:"get_forward",get_up:"get_up",set_rotationZ:"set_rotationZ",set_z:"set_z",set_y:"set_y",set_x:"set_x",get_worldInverseMatrix:"get_worldInverseMatrix",set_visible:"set_visible",set_active:"set_active"}});var Md=
function(){this.touch=new gd;this.layers=new sb;this.ray=new $b;this.pickMode=0;this.backfaceCulling=!0;this.positions=new ia;this.triangles=new ia};h["lovedna.game.pick.RaycastHit"]=Md;Md.__name__=["lovedna","game","pick","RaycastHit"];Md.prototype={touch:null,layers:null,ray:null,gameObject:null,positions:null,triangles:null,pickMode:null,backfaceCulling:null,Reset:function(){this.pickMode=0;this.backfaceCulling=!0;this.positions.Clear();this.triangles.Clear()},Copy:function(a){null==a?this.gameObject=
null:(this.touch.Copy(a.touch),this.layers.data.value=a.layers.data.value,this.ray.Copy(a.ray),this.gameObject=a.gameObject,this.positions.Copy(a.positions),this.triangles.Copy(a.triangles));return this},__class__:Md};var sb=function(){ea.call(this)};h["lovedna.game.Layer"]=sb;sb.__name__=["lovedna","game","Layer"];sb.SetLayerName=function(a,b){if(null==sb._names[a]){sb._names[a]=b;var c=sb._layers;null!=n[b]?c.setReserved(b,a):c.h[b]=a}};sb.__super__=ea;sb.prototype=w(ea.prototype,{data:null,Exist:function(a){return this.data.IsOpen(a)},
onConstruct:function(){ea.prototype.onConstruct.call(this);this.data=new me(-1)},__class__:sb});var $b=function(){this._vec0=$b._helpVec0;this._vec1=$b._helpVec1;this._vec2=$b._helpVec2;this._vec3=$b._helpVec3;this.start=new xa;this.direction=new xa};h["lovedna.math.Ray"]=$b;$b.__name__=["lovedna","math","Ray"];$b.prototype={start:null,direction:null,_vec0:null,_vec1:null,_vec2:null,_vec3:null,Copy:function(a){if(a==this)return this;var b=this.start,c=a.start;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this.direction;
a=a.direction;a!=b&&(b.x=a.x,b.y=a.y,b.z=a.z);return this},Set:function(a,b){var c=this.start;a!=c&&(c.x=a.x,c.y=a.y,c.z=a.z);c=this.direction;null==a?(c.x-=b.x,c.y-=b.y,c.z-=b.z):(c.x=b.x-a.x,c.y=b.y-a.y,c.z=b.z-a.z);this.direction.Normalize();return this},At:function(a){var b=this._vec0,c=this.direction;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this._vec0;b.x*=a;b.y*=a;b.z*=a;a=this._vec0;b=this.start;a.x+=b.x;a.y+=b.y;a.z+=b.z;return this._vec0},IntersectSphere:function(a){var b=this._vec0,c=a.center,
d=this.start;null==d?(b.x-=c.x,b.y-=c.y,b.z-=c.z):(b.x=c.x-d.x,b.y=c.y-d.y,b.z=c.z-d.z);c=this.direction;c=b.x*c.x+b.y*c.y+b.z*c.z;b=b.x*b.x+b.y*b.y+b.z*b.z-c*c;a=a.radius*a.radius;if(b>a)return null;b=Math.sqrt(a-b);a=c-b;c+=b;return 0>a&&0>c?null:0>a?this.At(c):this.At(a)},IntersectBox:function(a){var b=0,c=1.79769313486231E308,d=this.direction.x;if(1E-6>(0>d?-d:d)){if(this.start.x<a.min.x||this.start.x>a.max.x)return null}else{var f=1/this.direction.x,d=(a.min.x-this.start.x)*f,f=(a.max.x-this.start.x)*
f;if(d>f)var e=d,d=f,f=e;d>b&&(b=d);f<c&&(c=f);if(b>c)return null}d=this.direction.y;if(1E-6>(0>d?-d:d)){if(this.start.y<a.min.y||this.start.y>a.max.y)return null}else if(f=1/this.direction.y,d=(a.min.y-this.start.y)*f,f*=a.max.y-this.start.y,d>f&&(e=d,d=f,f=e),d>b&&(b=d),f<c&&(c=f),b>c)return null;d=this.direction.z;if(1E-6>(0>d?-d:d)){if(this.start.z<a.min.z||this.start.z>a.max.z)return null}else if(f=1/this.direction.z,d=(a.min.z-this.start.z)*f,a=(a.max.z-this.start.z)*f,d>a&&(f=d,d=a,a=f),d>
b&&(b=d),a<c&&(c=a),b>c)return null;return this.At(0<=b?b:c)},IntersectTriangle:function(a,b,c,d){null==d&&(d=!1);var f=this._vec0,e=this._vec1,k=this._vec2,t=this._vec3;null==a?(e.x-=b.x,e.y-=b.y,e.z-=b.z):(e.x=b.x-a.x,e.y=b.y-a.y,e.z=b.z-a.z);null==a?(k.x-=c.x,k.y-=c.y,k.z-=c.z):(k.x=c.x-a.x,k.y=c.y-a.y,k.z=c.z-a.z);t.Cross(e,k);b=this.direction;b=b.x*t.x+b.y*t.y+b.z*t.z;c=0;if(0<b){if(d)return null;c=1}else if(0>b)c=-1,b=-b;else return null;d=this.start;null==a?(f.x-=d.x,f.y-=d.y,f.z-=d.z):(f.x=
d.x-a.x,f.y=d.y-a.y,f.z=d.z-a.z);a=this.direction;k=k.Cross(f,k);k=c*(a.x*k.x+a.y*k.y+a.z*k.z);if(0>k)return null;a=this.direction;e=e.Cross(f);e=c*(a.x*e.x+a.y*e.y+a.z*e.z);if(0>e||k+e>b)return null;f=-c*(f.x*t.x+f.y*t.y+f.z*t.z);return 0>f?null:this.At(f/b)},ApplyMatrix4:function(a){var b=this.direction,c=this.start;b.x+=c.x;b.y+=c.y;b.z+=c.z;a.TransformVector3(b);a.TransformVector3(this.start);a=this.direction;b=this.start;a.x-=b.x;a.y-=b.y;a.z-=b.z;this.direction.Normalize();return this},__class__:$b};
var Yb=function(a,b){this._list=[];this._index=0;this._create=a;this._reset=b;this.count=0;Yb._pools.push(this)};h["lovedna.util.FramePool"]=Yb;Yb.__name__=["lovedna","util","FramePool"];Yb.Reset=function(){for(var a=Yb._pools.length;0<a--;)Yb._pools[a].Clear()};Yb.prototype={count:null,_list:null,_index:null,_create:null,_reset:null,Get:function(){var a=null;this._index<this._list.length?a=this._list[this._index++]:(a=this._create(),this._list[this._index++]=a);null!=this._reset&&this._reset(a);
this.count=this._list.length;return a},Clear:function(){this._index=0},__class__:Yb};var K=function(){};h["lovedna.game.GamePool"]=K;K.__name__=["lovedna","game","GamePool"];var ic=function(){};h["lovedna.game.GameRes"]=ic;ic.__name__=["lovedna","game","GameRes"];ic.Init=function(){if(null==ic.mat){ic.mat=new Ea;var a,b;ic.atlas=Cb.Decode(null,"gameres_default_ui.png");X.sprite.AddAtals("gameres_default_ui.png");a=new da(128,128,!0,0);b=new Nd;b.init(a);X.texture.SetTexture("gameres_default_ui.png",
b);a.lock();b=new da(8,8,!1,16777215);ic.AddSprite(a,b,0,0,"button_normal.png");a.unlock();a=new da(4,4,!1,3905988);b=new Nd;b.init(a);X.texture.SetTexture("gameres_default_texture.png",b)}};ic.AddSprite=function(a,b,c,d,f){ic.mat.tx=c;ic.mat.ty=d;a.draw(b,ic.mat);a=new ke;a.set_name(f);f=b.rect.width-2|0;b=b.rect.height-2|0;a.frame.Set(c+1,c+1,f,b);a.sourceSize.Set(f,b);Cb.AddSpriteTo(ic.atlas,a)};var ua=function(){};h["lovedna.game.GameTime"]=ua;ua.__name__=["lovedna","game","GameTime"];ua.Update=
function(){ua.time=(new Date).getTime()/1E3*za.scale;0==ua._currentTime&&(ua._currentTime=ua.time);ua.deltaTime=ua.time-ua._currentTime;.16666666666666666<ua.deltaTime&&(ua.deltaTime=.16666666666666666);ua._currentTime=ua.time;ua._time+=ua.deltaTime;.016666666666666666<=ua._time&&(ua.fixedCount=ua._time/.016666666666666666|0,ua._time%=.016666666666666666)};var rh=function(){};h["lovedna.game.IVisit"]=rh;rh.__name__=["lovedna","game","IVisit"];var Xc=function(){ea.call(this)};h["lovedna.game.Scene"]=
Xc;Xc.__name__=["lovedna","game","Scene"];Xc.__interfaces__=[rh];Xc.__super__=ha;Xc.prototype=w(ha.prototype,{root:null,camera:null,light:null,onRender:null,renderSystem:null,resized:null,_addList:null,_removeMap:null,_screenSize:null,AddChild:function(a){this.root.AddChild(a)},enterFrame:function(a){if(this._screenSize.x!=Y.width||this._screenSize.y!=Y.height)this.resized=!0,this._screenSize.Set(Y.width,Y.height);Xc.current=this;this.renderSystem.Clear();for(var b=this._addList._length;0<b--;){var c=
this._addList.Get(b);this._removeMap.h[c.instanceID]=c}this._addList.Clear();this.root.enterFrame(a);this.root.exitFrame();a=0;for(b=this._addList._length;a<b;)c=a++,c=this._addList.Get(c),this._removeMap.remove(c.instanceID),c.exitFrame();for(a=this._removeMap.keys();a.hasNext();)b=a.next(),c=this._removeMap.h[b],this._removeMap.remove(b),c.DispatchEvent(x.onRemovedFromScene),x.onRemovedFromScene.currentTarget=c,this.DispatchEvent(x.onRemovedFromScene);if(null!=this.onRender)this.onRender(this);
this.resized=!1},onConstruct:function(){ha.prototype.onConstruct.call(this);this.root=new Ia("root");this.root.AddComponent(id);this._addList=new ia;this._removeMap=new Ua;var a=new Ia("camera");a.set_z(100);this.root.AddChild(a);this.camera=a.AddComponent(sc);a.AddComponent(xf);a=new Ia("light");this.root.AddChild(a);this.light=a.AddComponent(yf);a.set_x(45);a.set_y(45);a.set_z(45);this.onRender=p(this,this.render);this.renderSystem=this.camera.gameObject.AddComponent(Od);this.AddEventListener(x.onGroupStart._type,
p(this,this.OnGroupStart));this.AddEventListener(x.onGroupEnd._type,p(this,this.OnGroupEnd));this._screenSize=new la(Y.width,Y.height)},OnGroupStart:function(){this.renderSystem.Flush()},OnGroupEnd:function(){this.renderSystem.Flush()},add:function(a){this._addList.Add(a)},render:function(a){this.renderSystem.RenderScene()},__class__:Xc});var Y=function(){};h["lovedna.game.Screen"]=Y;Y.__name__=["lovedna","game","Screen"];Y.enterFrame=function(){dc.GetInstance();e.context.__context.clearColor(.00392156863*
((Y.backgroundColor&16711680)>>>16),.00392156863*((Y.backgroundColor&65280)>>>8),.00392156863*(Y.backgroundColor&255),.00392156863*(Y.backgroundColor>>>24))};Y.exitFrame=function(){};var sc=function(){};h["lovedna.game.component.Camera"]=sc;sc.__name__=["lovedna","game","component","Camera"];sc.__super__=T;sc.prototype=w(T.prototype,{renderTarget:null,activeTime:null,type:null,nearClipPlane:null,farClipPlane:null,fieldOfView:null,ratio:null,layers:null,frustum:null,focusPosition:null,lookAtRay:null,
projectionViewMatrix:null,projectionViewInverseMatrix:null,projectionMatrix:null,viewMatrix:null,viewInverseMatrix:null,position:null,renderers:null,viewport:null,_p1:null,_p2:null,ScreenToViewportPoint:function(a,b){var c=U.LerpTo(Y.width*this.viewport.x,Y.width*this.viewport.width,-1,1,a),d=U.LerpTo(Y.height*this.viewport.y,Y.height*this.viewport.height,1,-1,b);return K.vector2.Get().Set(c,d)},ScreenPointToRay:function(a,b){var c=this.ScreenToViewportPoint(a,b);return this.ViewportPointToRay(c.x,
c.y)},ViewportPointToRay:function(a,b){var c=this._p1;c.x=a;c.y=b;c.z=-1;var c=this._p2,d=this._p1;d!=c&&(c.x=d.x,c.y=d.y,c.z=d.z);this._p2.z=1;this.projectionViewInverseMatrix.TransformVector3(this._p1,!0);this.projectionViewInverseMatrix.TransformVector3(this._p2,!0);return K.ray.Get().Set(this._p1,this._p2)},PushRenderer:function(a){this.renderers.Add(a)},onConstruct:function(){T.prototype.onConstruct.call(this);this.set_type(1);this.set_nearClipPlane(1);this.set_farClipPlane(1E4);this.set_fieldOfView(60);
this.ratio=Y.width/Y.height;this.layers=new sb;this.frustum=new jd;this.lookAtRay=new $b;this.viewMatrix=new hb;this.viewInverseMatrix=new hb;this.projectionMatrix=new hb;this.projectionViewMatrix=new hb;this.projectionViewInverseMatrix=new hb;this._p1=new xa;this._p2=new xa;this.position=new Nc;this.activeTime=0;this.renderers=new ia;this.viewport=new Id(0,0,1,1)},onStart:function(){T.prototype.onStart.call(this);this.bindEvent(x.onPostTransform,p(this,this.onPostTransform));this.bindEvent(x.onScreenResize,
p(this,this.onScreenResize))},select:function(){sc.current=this},onPostTransform:function(){var a=this._p1,b=this.gameObject,c=K.vector3.Get();c.x=b.localMatrix.d12;c.y=b.localMatrix.d13;c.z=b.localMatrix.d14;c!=a&&(a.x=c.x,a.y=c.y,a.z=c.z);this.position.Set3(this._p1.x,this._p1.y,this._p1.z);null!=this.focusPosition?(a=this._p2,b=this.focusPosition,b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z)):(a=this._p2,b=this.gameObject.get_forward(),b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z),a=this._p2,b=this.nearClipPlane-this.farClipPlane,
a.x*=b,a.y*=b,a.z*=b,a=this._p2,b=this._p1,a.x+=b.x,a.y+=b.y,a.z+=b.z);a=Y.width*this.viewport.width;b=Y.height*this.viewport.height;this.lookAtRay.Set(this._p1,this._p2);this.viewMatrix.LookAt(this._p1,this._p2,this.gameObject.get_up());this.viewInverseMatrix.Copy(this.viewMatrix);this.viewInverseMatrix.Inverse();this.ratio=a/b;2==this.type?this.projectionMatrix.Orthographic(.5*-a,.5*a,.5*b,.5*-b,this.nearClipPlane,this.farClipPlane):this.projectionMatrix.Perspective(this.fieldOfView,this.ratio,
this.nearClipPlane,this.farClipPlane);this.projectionViewMatrix.Copy(this.projectionMatrix);this.projectionViewMatrix.Append(this.viewMatrix);this.projectionViewInverseMatrix.Copy(this.projectionViewMatrix);this.projectionViewInverseMatrix.Inverse();this.frustum.FromMatrix(this.projectionViewMatrix);this.activeTime=(new Date).getTime()/1E3*za.scale;this.gameObject.DispatchEvent(x.onCameraUpdate)},onScreenResize:function(){var a=Y.width|0,b=Y.height|0;1>b&&(b=1);this.ratio=a/b;null!=this.gameObject&&
this.gameObject._transformDirty++},set_nearClipPlane:function(a){.1<a?this.nearClipPlane!=a&&(this.nearClipPlane=a,null!=this.gameObject&&this.gameObject._transformDirty++):this.nearClipPlane=.1;return this.nearClipPlane},set_farClipPlane:function(a){100<a&&this.farClipPlane!=a&&(this.farClipPlane=a,null!=this.gameObject&&this.gameObject._transformDirty++);return this.farClipPlane},set_fieldOfView:function(a){this.fieldOfView!=a&&1<a&&179>a&&(this.fieldOfView=a,null!=this.gameObject&&this.gameObject._transformDirty++);
return this.fieldOfView},set_type:function(a){2!=a&&(a=1);a!=this.type&&(this.type=a,null!=this.gameObject&&this.gameObject._transformDirty++);return a},__class__:sc,__properties__:{set_fieldOfView:"set_fieldOfView",set_farClipPlane:"set_farClipPlane",set_nearClipPlane:"set_nearClipPlane",set_type:"set_type"}});var xf=function(){};h["lovedna.game.component.CameraPicker"]=xf;xf.__name__=["lovedna","game","component","CameraPicker"];xf.__super__=T;xf.prototype=w(T.prototype,{layers:null,_camera:null,
_renderer:null,_touchManager:null,_touchList:null,_hitList:null,_pickHandler:null,SetHandler:function(a){null!=this._pickHandler&&this._pickHandler.Destroy();this._pickHandler=a;null!=this._pickHandler&&null!=this._camera&&this._pickHandler.Init(this._touchManager,this._camera)},onStart:function(){T.prototype.onStart.call(this);this.layers=new sb;this._touchManager=new pe;this._touchManager.AutoTrigger(!1);this._touchList=this._touchManager._activeTouchList;this._hitList=new ia;for(var a=0;10>a;)a++,
this._hitList.Add(new Md);this.SetHandler(new zf);this._renderer=new ia},onAwake:function(){T.prototype.onAwake.call(this);this._camera=this.gameObject.GetComponent(sc);null==this._camera?pa.Warn("not exist camera this component require Camera",{fileName:"CameraPicker.hx",lineNumber:73,className:"lovedna.game.component.CameraPicker",methodName:"onAwake"}):(this.bindEvent(x.onCameraPostRender,p(this,this.onCameraPostRender)),null!=this._pickHandler&&this._pickHandler.Init(this._touchManager,this._camera))},
onCameraPostRender:function(){if(this.active){this._touchManager.Reset();var a=0,a=this._touchList._length;if(!(1>a)){var b=this._camera.renderers,a=b._length;this._renderer.Clear();for(var c=0;c<a;){var d=c++,d=b.Get(d);d.raycastTarget&&this._renderer.Add(d)}a=this._renderer._length;if(!(1>a)){for(a=b=this._touchList._length;0<a--;)c=this._touchList.Get(a),d=this._hitList.Get(a),d.layers.data.value=this.layers.data.value,d.touch.Copy(c),d.ray.Copy(this._camera.ScreenPointToRay(c.position.x,c.position.y));
for(;0<b--;)for(c=this._hitList.Get(b),a=this._renderer._length;0<a--;)if(d=this._renderer.Get(a),d.raycastTarget&&this.layers.Exist(d.gameObject.layer)&&d.Raycast(c)){var f=K.hit.Get();f.Copy(c);f.gameObject=d.gameObject;this._touchManager.AddObject(f.touch.id,f)}}}this._touchManager.Update()}},__class__:xf});var Ad=function(){};h["lovedna.game.component.EgretMovie"]=Ad;Ad.__name__=["lovedna","game","component","EgretMovie"];Ad.__super__=T;Ad.prototype=w(T.prototype,{mode:null,image:null,currentFrame:null,
playing:null,action:null,_egretMovieClip:null,_path:null,_name:null,_frameTime:null,_time:null,_frames:null,_offset:null,_loop:null,_gotoFrame:null,_customActions:null,_customFrameRate:null,Set:function(a,b){this.unbindEvent(x.onUpdate);this._path=ga.WithoutExtension(a);this._name=b;null!=this._egretMovieClip&&(this._egretMovieClip.enabled||this._egretMovieClip.RemoveEventListener(M.INIT._type,p(this,this.movieIni)));this._egretMovieClip=Db.Get(a+":"+b);this._egretMovieClip.enabled?this.movieIni():
(X.sprite.AddAtals(a),X.texture.Get(a),this._egretMovieClip.AddEventListener(M.INIT._type,p(this,this.movieIni)))},PlayAction:function(a,b){null==b&&(b=-1);this.action=a;this._time=0;this._loop=b;this.playing=!0;this._gotoFrame=-1;null!=this._egretMovieClip&&this._egretMovieClip.enabled&&this.changeNextFrame()},onStart:function(){T.prototype.onStart.call(this);this.image=this.gameObject.AddComponent(Kb);this.image.renderer.queue=3E3;this.currentFrame=-1;this.playing=!1;this.action=null;this.mode=
1},onChangeFrame:function(){T.prototype.onChangeFrame.call(this);this.refresh()},movieIni:function(){this._egretMovieClip.RemoveEventListener(M.INIT._type,p(this,this.movieIni));this._frames=this._egretMovieClip.frames;this._offset=this._egretMovieClip.offset;this._time=0;this._frameTime=1/this._egretMovieClip.frameRate;this.refresh()},refresh:function(){if(null!=this._egretMovieClip||this._egretMovieClip.enabled){this.currentFrame=-1;this._frames=this._egretMovieClip.frames;this._offset=this._egretMovieClip.offset;
this._frameTime=1/this._egretMovieClip.frameRate;if(null!=this.action){var a;if(null!=this._customActions){a=this._customActions;var b=this.action;a=null!=n[b]?a.existsReserved(b):a.h.hasOwnProperty(b)}else a=!1;if(a){a=this._customActions;b=this.action;a=null!=n[b]?a.getReserved(b):a.h[b];for(var b=[],c=[],d=0,f=a.length;d<f;){var e=d++,k=a[e];b[e]=this._frames[k];c[e]=this._offset[k]}this._frames=b;this._offset=c;a=this._customFrameRate;b=this.action;if(null!=n[b]?a.existsReserved(b):a.h.hasOwnProperty(b))a=
this._customFrameRate,b=this.action,this._frameTime=1/(null!=n[b]?a.getReserved(b):a.h[b])}else if(a=this._egretMovieClip.lables,b=this.action,null!=n[b]?a.existsReserved(b):a.h.hasOwnProperty(b))for(this._frames=[],this._offset=[],a=this._egretMovieClip.lables,b=this.action,b=null!=n[b]?a.getReserved(b):a.h[b],a=(b.x|0)-1,b=b.y|0;a<b;)c=a++,this._frames.push(this._egretMovieClip.frames[c]),this._offset.push(this._egretMovieClip.offset[c])}if(2==this.mode)for(a=this._frames.length;0<a--;)this._frames.push(this._frames[a]),
this._offset.push(this._offset[a]);0<=this._gotoFrame&&(this._time=this._frameTime*this._gotoFrame*this._frames.length,this._gotoFrame=-1);this.playing?this.bindEvent(x.onUpdate,p(this,this.onUpdate)):this.unbindEvent(x.onUpdate)}},onUpdate:function(){if(null!=this._frames){var a=!1,b=this._frames.length;0>this._time&&(a=!0);this._time>this._frameTime*b&&(a=!0);var c=this._time/this._frameTime|0;this._time+=this.gameObject.deltaTime;a&&(0<this._loop&&(this._loop--,1>this._loop&&(this.playing=!1)),
this.DispatchEvent(M.FINISH),this.playing&&(this._time+=this._frameTime*b,this._time%=this._frameTime*b,this.DispatchEvent(M.LOOP)));0>c&&(c=0);c>=b-1&&(c=b-1);this.currentFrame!=c&&(this.currentFrame=c,this.image.set_sprite(X.sprite.Get(this._path+"/"+this._frames[c]+".png")),this.image.rect.SetSize(0,0),null!=this.image._sprite&&null!=this.image._sprite.data&&(a=this._offset[c],this.image.rect.set_pivotX(-a.x/this.image._sprite.data.frame.width),this.image.rect.set_pivotY(1+a.y/this.image._sprite.data.frame.height)));
this.playing||(this.unbindEvent(x.onUpdate),this.DispatchEvent(M.STOP))}},__class__:Ad});var kd=function(){};h["lovedna.game.component.Graphic"]=kd;kd.__name__=["lovedna","game","component","Graphic"];kd.__super__=T;kd.prototype=w(T.prototype,{renderer:null,GetAliasName:function(){return xb.GetName(kd)},__class__:kd});var id=function(){};h["lovedna.game.component.Group"]=id;id.__name__=["lovedna","game","component","Group"];id.__interfaces__=[rh];id.__super__=T;id.prototype=w(T.prototype,{__class__:id});
var Kb=function(){};h["lovedna.game.component.Image"]=Kb;Kb.__name__=["lovedna","game","component","Image"];Kb.__super__=kd;Kb.prototype=w(kd.prototype,{rect:null,_sprite:null,_material:null,_mesh:null,_dirty:null,_type:null,_fillAmount:null,_fillDirection:null,_drawType:null,_cacheIndex:null,onStart:function(){kd.prototype.onStart.call(this);this._drawType=this._type=-1;this._fillAmount=1;this._fillDirection=0;var a=this.gameObject.AddComponent(Af);this.renderer=a;this.renderer.queue=4E3;this.rect=
this.gameObject.AddComponent(qe);var b=Xa._map,b=null!=n.Builtin_UI_IMAGE?b.getReserved("Builtin_UI_IMAGE"):b.h.Builtin_UI_IMAGE;this.renderer.pipeline=b;this._material=new Bf;this.renderer.material=this._material;this._mesh=new Pd;this._mesh.set_vertices(new ia);this._mesh.set_uv(new ia);this._mesh.set_triangles(new ia);a.mesh=this._mesh;this._dirty=!1;this.bindEvent(x.onContentResize,p(this,this.onContentResize));this._cacheIndex=[0,1,2,0,2,3]},spriteInit:function(){this._sprite.RemoveEventListener(M.INIT._type,
p(this,this.spriteInit));if(null!=this.gameObject){this._material.texture=this._sprite.texture;this.rect.SetNativeSize(this._sprite.data.sourceSize.x,this._sprite.data.sourceSize.y);this._drawType=this._type;if(-1==this._drawType){var a=this._sprite.data;if(0<a.border.x||0<a.border.y||0<a.border.width||0<a.border.height)this._drawType=1}this.refresh()}},onContentResize:function(){this.changeNextFrame();this._dirty=!0},onChangeFrame:function(){this._dirty&&this.refresh()},refresh:function(){if(null!=
this._sprite&&this._sprite.enabled){if(this._dirty=!1,0>=this.rect.width&&this.rect.set_width(this._sprite.data.sourceSize.x),0>=this.rect.height&&this.rect.set_height(this._sprite.data.sourceSize.y),this._mesh.Clear(),!(1>this.rect.width||1>this.rect.height))switch(this._drawType){case 0:this.simpleFill();break;case 1:this.slicedFill();break;case 2:this.filledFill();break;default:this.simpleFill()}}else this._mesh.Clear()},simpleFill:function(){var a=this.rect.width,b=this.rect.height,c=a/this._sprite.data.sourceSize.x,
b=b/this._sprite.data.sourceSize.y,d=this._sprite.data.offset.x,f=this._sprite.data.sourceSize.y-this._sprite.data.offset.y-this._sprite.data.frame.height,d=d*c,f=f*b,a=this._sprite.data.frame.width*c,b=this._sprite.data.frame.height*b,c=this._mesh._vertices,e=K.vector3.Get();e.x=d;e.y=f;e.z=0;var k=K.vector3.Get();k.x=a+d;k.y=f;k.z=0;var t=K.vector3.Get();t.x=a+d;t.y=b+f;t.z=0;a=K.vector3.Get();a.x=d;a.y=b+f;a.z=0;c.From([e,k,t,a]);d=this._mesh._uv;d.From([this._sprite.uv0,this._sprite.uv1,this._sprite.uv2,
this._sprite.uv3]);f=this._mesh._triangles;f.From(this._cacheIndex);this._mesh.set_vertices(c);this._mesh.set_uv(d);this._mesh.set_triangles(f);this.DispatchEvent(x.onMeshChange)},slicedFill:function(){var a=this.rect.width,b=this.rect.height;if(a<=this._sprite.data.frame.width&&b<=this._sprite.data.frame.height)this.simpleFill();else{var c=this._sprite.data.border,d=3,f=3;0>=c.x&&--d;(0==c.width||c.get_right()>=this._sprite.data.offset.x+this._sprite.data.frame.width)&&--d;0>=c.y&&--f;(0==c.height||
c.get_bottom()>=this._sprite.data.offset.y+this._sprite.data.frame.height)&&--f;if(1==d&&1==f)this.simpleFill();else{var e=[0],k=[0];0<c.x&&(e.push(c.x),k.push(c.x-this._sprite.data.offset.x));0<c.width&&(e.push(a-(this._sprite.data.sourceSize.x-c.get_right())),k.push(c.get_right()-this._sprite.data.offset.x));e.push(a);k.push(this._sprite.data.frame.width);var a=[0],t=[0];0<c.height&&(a.push(this._sprite.data.sourceSize.y-c.height),t.push(this._sprite.data.sourceSize.y-c.get_bottom()));0<c.y&&(a.push(b-
c.y),t.push(this._sprite.data.sourceSize.y-c.y));a.push(b);t.push(this._sprite.data.frame.height);var c=this._mesh._vertices,l=this._mesh._uv,g=this._mesh._triangles,h=0,m=this._sprite.data.frame.width,n=this._sprite.data.frame.height;this._sprite.data.get_rotated();for(var p=0;p<d;)for(var r=p++,w=r+1,v=0,y=f;v<y;){var z=v++,A=z+1,E=e[r],B=a[z],D=e[w],C=a[A],G=k[r],z=t[z],M=k[w],A=t[A],F=K.vector3.Get();F.x=E;F.y=B;F.z=0;c.Add(F);F=K.vector3.Get();F.x=D;F.y=B;F.z=0;c.Add(F);B=K.vector3.Get();B.x=
D;B.y=C;B.z=0;c.Add(B);D=K.vector3.Get();D.x=E;D.y=C;D.z=0;c.Add(D);l.Add(K.vector2.Get().Copy(this._sprite.GetUV(G/m,z/n)));l.Add(K.vector2.Get().Copy(this._sprite.GetUV(M/m,z/n)));l.Add(K.vector2.Get().Copy(this._sprite.GetUV(M/m,A/b)));l.Add(K.vector2.Get().Copy(this._sprite.GetUV(G/m,A/n)));g.Add(h);g.Add(1+h);g.Add(2+h);g.Add(h);g.Add(2+h);g.Add(3+h);h+=4}this._mesh.set_vertices(c);this._mesh.set_uv(l);this._mesh.set_triangles(g);this.DispatchEvent(x.onMeshChange)}}},filledFill:function(){if(1==
this._fillAmount)this.simpleFill();else if(!(0>=this._fillAmount))switch(this._fillDirection){case 0:this.fillLeft();break;case 1:this.fillTop();break;case 2:this.fillRight();break;case 3:this.fillBottom();break;default:this.simpleFill()}},fillLeft:function(){var a=this.rect.width,b=this.rect.height,c=a/this._sprite.data.sourceSize.x,b=b/this._sprite.data.sourceSize.y,d=this._sprite.data.offset.x,f=this._sprite.data.sourceSize.y-this._sprite.data.offset.y-this._sprite.data.frame.height,d=d*c,f=f*
b,e=this._fillAmount*a;if(!(d>e||e>d+this._sprite.data.frame.width*c)){var a=this._sprite.data.frame.width*c,b=this._sprite.data.frame.height*b,c=(e-d)/a,a=e-d,e=this._mesh._vertices,k=this._mesh._uv,t=this._mesh._triangles,l=K.vector3.Get();l.x=d;l.y=f;l.z=0;var g=K.vector3.Get();g.x=a+d;g.y=f;g.z=0;var h=K.vector3.Get();h.x=a+d;h.y=b+f;h.z=0;a=K.vector3.Get();a.x=d;a.y=b+f;a.z=0;e.From([l,g,h,a]);k.From([K.vector2.Get().Copy(this._sprite.GetUV(0,0)),K.vector2.Get().Copy(this._sprite.GetUV(c,0)),
K.vector2.Get().Copy(this._sprite.GetUV(c,1)),K.vector2.Get().Copy(this._sprite.GetUV(0,1))]);t.From(this._cacheIndex);this._mesh.set_vertices(e);this._mesh.set_uv(k);this._mesh.set_triangles(t);this.DispatchEvent(x.onMeshChange)}},fillBottom:function(){var a=this.rect.width,b=this.rect.height,a=a/this._sprite.data.sourceSize.x,c=b/this._sprite.data.sourceSize.y,d=this._sprite.data.offset.x,f=this._sprite.data.sourceSize.y-this._sprite.data.offset.y-this._sprite.data.frame.height,d=d*a,f=f*c,e=this._fillAmount*
b;if(!(e<b-f-this._sprite.data.frame.height*c||b-e<f)){var a=this._sprite.data.frame.width*a,b=this._sprite.data.frame.height*c,c=(e-(b-f-this._sprite.data.frame.height))/b,b=e-(this.rect.height-f-b),e=this._mesh._vertices,k=this._mesh._uv,t=this._mesh._triangles,l=K.vector3.Get();l.x=d;l.y=f;l.z=0;var g=K.vector3.Get();g.x=a+d;g.y=f;g.z=0;var h=K.vector3.Get();h.x=a+d;h.y=b+f;h.z=0;a=K.vector3.Get();a.x=d;a.y=b+f;a.z=0;e.From([l,g,h,a]);k.From([K.vector2.Get().Copy(this._sprite.GetUV(0,0)),K.vector2.Get().Copy(this._sprite.GetUV(1,
0)),K.vector2.Get().Copy(this._sprite.GetUV(1,c)),K.vector2.Get().Copy(this._sprite.GetUV(0,c))]);t.From(this._cacheIndex);this._mesh.set_vertices(e);this._mesh.set_uv(k);this._mesh.set_triangles(t);this.DispatchEvent(x.onMeshChange)}},fillTop:function(){var a=this.rect.width,b=this.rect.height,a=a/this._sprite.data.sourceSize.x,c=b/this._sprite.data.sourceSize.y,d=this._sprite.data.offset.x,f=this._sprite.data.sourceSize.y-this._sprite.data.offset.y-this._sprite.data.frame.height,d=d*a,f=f*c,e=b*
this._fillAmount;if(!(e<f||e>f+this._sprite.data.frame.height*c)){var a=this._sprite.data.frame.width*a,b=e-(this.rect.height-this._sprite.data.frame.height*c-f),f=f+(this.rect.height-e-f),c=1-b/this._sprite.data.frame.height*c,e=this._mesh._vertices,k=this._mesh._uv,t=this._mesh._triangles,l=K.vector3.Get();l.x=d;l.y=f;l.z=0;var g=K.vector3.Get();g.x=a+d;g.y=f;g.z=0;var h=K.vector3.Get();h.x=a+d;h.y=b+f;h.z=0;a=K.vector3.Get();a.x=d;a.y=b+f;a.z=0;e.From([l,g,h,a]);k.From([K.vector2.Get().Copy(this._sprite.GetUV(0,
c)),K.vector2.Get().Copy(this._sprite.GetUV(1,c)),K.vector2.Get().Copy(this._sprite.GetUV(1,1)),K.vector2.Get().Copy(this._sprite.GetUV(0,1))]);t.From(this._cacheIndex);this._mesh.set_vertices(e);this._mesh.set_uv(k);this._mesh.set_triangles(t);this.DispatchEvent(x.onMeshChange)}},fillRight:function(){var a=this.rect.width,b=this.rect.height,c=a/this._sprite.data.sourceSize.x,b=b/this._sprite.data.sourceSize.y,d=this._sprite.data.offset.x,f=this._sprite.data.sourceSize.y-this._sprite.data.offset.y-
this._sprite.data.frame.height,d=d*c,f=f*b;console.log(this._fillAmount);var e=a*(1-this._fillAmount);if(!(a-d-this._sprite.data.frame.width*c>e||a-e<d)){var k=(e-d)/(this._sprite.data.frame.width*c),d=d+(e-d),a=this._sprite.data.frame.width*c*(1-k),b=this._sprite.data.frame.height*b,c=this._mesh._vertices,e=this._mesh._uv,t=this._mesh._triangles,l=K.vector3.Get();l.x=d;l.y=f;l.z=0;var g=K.vector3.Get();g.x=a+d;g.y=f;g.z=0;var h=K.vector3.Get();h.x=a+d;h.y=b+f;h.z=0;a=K.vector3.Get();a.x=d;a.y=b+
f;a.z=0;c.From([l,g,h,a]);e.From([K.vector2.Get().Copy(this._sprite.GetUV(k,0)),K.vector2.Get().Copy(this._sprite.GetUV(1,0)),K.vector2.Get().Copy(this._sprite.GetUV(1,1)),K.vector2.Get().Copy(this._sprite.GetUV(k,1))]);t.From(this._cacheIndex);this._mesh.set_vertices(c);this._mesh.set_uv(e);this._mesh.set_triangles(t);this.DispatchEvent(x.onMeshChange)}},set_sprite:function(a){this._sprite!=a&&(null!=this._sprite&&this._sprite.RemoveEventListener(M.INIT._type,p(this,this.spriteInit)),this._sprite=
a,null!=this._sprite?this._sprite.enabled?this.spriteInit():this._sprite.AddEventListener(M.INIT._type,p(this,this.spriteInit)):this.refresh());return this._sprite},__class__:Kb,__properties__:{set_sprite:"set_sprite"}});var yf=function(){};h["lovedna.game.component.Light"]=yf;yf.__name__=["lovedna","game","component","Light"];yf.__super__=T;yf.prototype=w(T.prototype,{position:null,onStart:function(){T.prototype.onStart.call(this);this.gameObject.set_x(this.gameObject.set_y(this.gameObject.set_z(1)));
this.position=new Nc;this.bindEvent(x.onPostTransform,p(this,this.onPostTransform))},onPostTransform:function(){var a=this.gameObject,b=K.vector3.Get();b.x=a.localMatrix.d12;b.y=a.localMatrix.d13;b.z=a.localMatrix.d14;a=b.Normalize();this.position.Set3(a.x,a.y,a.z)},__class__:yf});var sh=function(){};h["lovedna.game.renderer.IDrawCommand"]=sh;sh.__name__=["lovedna","game","renderer","IDrawCommand"];sh.prototype={Draw:null,__class__:sh};var Zb=function(){};h["lovedna.game.component.Renderer"]=Zb;Zb.__name__=
["lovedna","game","component","Renderer"];Zb.__interfaces__=[sh];Zb.__super__=T;Zb.prototype=w(T.prototype,{onPreDraw:null,frustumCulled:null,shadowMode:null,receiveShadow:null,pipeline:null,overridePipeline:null,queue:null,material:null,raycastTarget:null,_bounds:null,_transformDirty:null,_cameraTime:null,_distanceToCamera:null,Raycast:function(a){if(!this.raycastTarget||null==a.ray)return!1;var b=a.ray.IntersectSphere(this.get_bounds().sphere);if(null==b)return!1;b=a.ray.IntersectBox(this.get_bounds().box);
if(null==b)return!1;a.positions.Add(b);return!0},Draw:function(){var a=null!=this.overridePipeline?this.overridePipeline:this.pipeline;a.SetUniform("m",this.gameObject.worldMatrix.GetFloat32Array());a.ExistUniform("mi")&&a.SetUniform("mi",this.gameObject.get_worldInverseMatrix().GetFloat32Array());this.gameObject.DispatchEvent(x.onPreRender);this.onDraw();if(null!=this.onPreDraw)this.onPreDraw();a.Flush();this.gameObject.DispatchEvent(x.onPostRender);this.overridePipeline=null},GetAliasName:function(){return xb.GetName(Zb)},
onConstruct:function(){T.prototype.onConstruct.call(this);this.frustumCulled=!0;this.shadowMode=jc.Off;this.receiveShadow=!1;this.queue=2E3;this._bounds=new Cf;this._bounds.Init();this._transformDirty=!0;this._cameraTime=0;this.raycastTarget=!1},onAwake:function(){T.prototype.onAwake.call(this);this.bindEvent(x.onPostTransform,p(this,this.onPostTransform))},onDraw:function(){},onPostTransform:function(){this._transformDirty=!0},getBounds:function(){},get_bounds:function(){this._transformDirty&&this.frustumCulled&&
(this.getBounds(),this._bounds.Apply(this.gameObject.worldMatrix));return this._bounds},get_enabled:function(){return null==this.pipeline||null!=this.material&&!this.material.get_enabled()?!1:!0},get_distanceToCamera:function(){var a=sc.current;if(this._transformDirty){var a=a.gameObject,b=K.vector3.Get();b.x=a.localMatrix.d12;b.y=a.localMatrix.d13;b.z=a.localMatrix.d14;var a=this.gameObject,c=K.vector3.Get();c.x=a.localMatrix.d12;c.y=a.localMatrix.d13;c.z=a.localMatrix.d14;this._distanceToCamera=
b.Distance(c)}else if(b=a.activeTime,this._cameraTime!=b){c=a.gameObject;a=K.vector3.Get();a.x=c.localMatrix.d12;a.y=c.localMatrix.d13;a.z=c.localMatrix.d14;var c=this.gameObject,d=K.vector3.Get();d.x=c.localMatrix.d12;d.y=c.localMatrix.d13;d.z=c.localMatrix.d14;this._distanceToCamera=a.Distance(d);this._cameraTime=b}return this.gameObject.distanceToCamera=this._distanceToCamera},__class__:Zb,__properties__:{get_distanceToCamera:"get_distanceToCamera",get_enabled:"get_enabled",get_bounds:"get_bounds"}});
var Af=function(){};h["lovedna.game.component.MeshRenderer"]=Af;Af.__name__=["lovedna","game","component","MeshRenderer"];Af.__super__=Zb;Af.prototype=w(Zb.prototype,{mesh:null,Raycast:function(a){var b=Zb.prototype.Raycast.call(this,a);if(!b)return b;if(0==a.pickMode)return!0;1==a.pickMode&&(a.ray.ApplyMatrix4(this.gameObject.get_worldInverseMatrix()),null!=this.mesh&&this.mesh.Raycast(a));return!0},onConstruct:function(){Zb.prototype.onConstruct.call(this);var a=Xa._map;this.pipeline=null!=n.Builtin_Mesh?
a.getReserved("Builtin_Mesh"):a.h.Builtin_Mesh},getBounds:function(){null!=this.mesh&&this._bounds.Copy(this.mesh.get_bounds())},onDraw:function(){Zb.prototype.onDraw.call(this);var a=null!=this.overridePipeline?this.overridePipeline:this.pipeline;a._indexBuffer=this.mesh._trianglesBuffer;var b=this.mesh.GetBuffer("position");null!=b&&(a._vertextBuffers.Add(b),a._positionBuffer=b);b=this.mesh.GetBuffer("texcoord");null!=b&&a._vertextBuffers.Add(b);b=this.mesh.GetBuffer("normal");null!=b&&a._vertextBuffers.Add(b);
b=this.mesh.GetBuffer("color");null!=b&&a._vertextBuffers.Add(b);null!=this.material&&this.material.OnDraw(null!=this.overridePipeline?this.overridePipeline:this.pipeline)},get_enabled:function(){return null==this.mesh||2>this.mesh.vertexCount?!1:Zb.prototype.get_enabled.call(this)},__class__:Af});var qe=function(){};h["lovedna.game.component.Rect2D"]=qe;qe.__name__=["lovedna","game","component","Rect2D"];qe.__super__=T;qe.prototype=w(T.prototype,{width:null,height:null,pivotX:null,pivotY:null,anchorX:null,
anchorY:null,nativeWidth:null,nativedHeight:null,SetNativeSize:function(a,b){this.nativeWidth=a;this.nativedHeight=b},SetSize:function(a,b){null==b&&(b=0);null==a&&(a=0);this.set_width(a);this.set_height(b);null!=this.gameObject&&(this.dirtyTransform(),this.gameObject.DispatchEvent(x.onContentResize));return this},onStart:function(){T.prototype.onStart.call(this);this.set_width(this.set_height(0));this.set_pivotX(this.set_pivotY(.5));this.set_anchorX(this.set_anchorY(.5));this.nativeWidth=this.nativedHeight=
0;this.bindEvent(x.onPostTransform,p(this,this.onPostTransform));this.bindEvent(x.onPreTransform,p(this,this.onPreTransform))},onPreTransform:function(){if(null!=this.gameObject.parent){var a=this.gameObject.parent.GetComponent(qe);null!=a&&this.gameObject.localMatrix.AppendTranslationV(a.width*(this.anchorX-.5),a.height*(this.anchorY-.5),0)}},onPostTransform:function(){this.gameObject.worldMatrix.AppendTranslationV(-this.width*this.pivotX,-this.height*this.pivotY,0)},dirtyTransform:function(){null!=
this.gameObject&&this.gameObject._transformDirty++},set_width:function(a){0>a&&(a=0);this.width!=a&&(this.width=a,this.dirtyTransform(),this.gameObject.DispatchEvent(x.onContentResize));return this.width},set_height:function(a){0>a&&(a=0);this.height!=a&&(this.height=a,this.dirtyTransform(),this.gameObject.DispatchEvent(x.onContentResize));return this.height},set_pivotX:function(a){this.pivotX!=a&&(this.pivotX=a,this.dirtyTransform());return this.pivotX},set_pivotY:function(a){this.pivotY!=a&&(this.pivotY=
a,this.dirtyTransform());return this.pivotY},set_anchorX:function(a){this.anchorX!=a&&(this.anchorX=a,this.dirtyTransform());return a},set_anchorY:function(a){this.anchorY!=a&&(this.anchorY=a,this.dirtyTransform());return a},__class__:qe,__properties__:{set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_pivotY:"set_pivotY",set_pivotX:"set_pivotX",set_height:"set_height",set_width:"set_width"}});var Od=function(){};h["lovedna.game.component.RenderSystem"]=Od;Od.__name__=["lovedna","game","component",
"RenderSystem"];Od.__interfaces__=[rh];Od.__super__=T;Od.prototype=w(T.prototype,{_gl:null,_camera:null,_scene:null,_pipeline:null,_buffer:null,_backGround:null,_geometry:null,_transparent:null,_ui:null,_overlay:null,_map:null,_drawCommands:null,_rendering:null,Clear:function(){this._buffer.Clear()},Flush:function(){if(!this._rendering){var a=this._buffer._length;this._backGround.Clear();this._geometry.Clear();this._transparent.Clear();this._ui.Clear();this._overlay.Clear();for(var b=0;b<a;){var c=
b++,c=this._buffer.Get(c),d=Ac.toString(c.queue),f=this._map;(null!=n[d]?f.getReserved(d):f.h[d]).Add(c)}0<this._backGround._length&&(this._backGround.Sort(p(this,this.sortpipeline)),this.addRenderToDraw(this._backGround));0<this._geometry._length&&(this._geometry.Sort(p(this,this.sortpipeline)),this.addRenderToDraw(this._geometry));0<this._transparent._length&&(this._transparent.Sort(p(this,this.sorttransform)),this.addRenderToDraw(this._transparent));0<this._ui._length&&(this._ui.Sort(p(this,this.sortui)),
this.addRenderToDraw(this._ui));0<this._overlay._length&&this.addRenderToDraw(this._overlay);this._buffer.Clear()}},Render:function(){var a=this._drawCommands._length;if(!(1>a)){this._rendering=!0;for(var b=0;b<a;){var c=b++;this._drawCommands.Get(c).Draw()}this._drawCommands.Clear();this._gl.Flush();this._rendering=!1}},RenderScene:function(a){this._rendering||(null==this._camera&&(this._camera=this.gameObject.GetComponent(sc)),null!=this._camera&&(null==this._scene&&(this._scene=this._camera.gameObject.scene),
null!=this._scene&&(this._pipeline=a,a=this._scene.light,this._camera.select(),Od.current=this,this._drawCommands.Clear(),this._camera.renderers.Clear(),this._scene.root.visit(),this._camera.gameObject.DispatchEvent(x.onCameraPreRender),this._gl.enabled&&(a=a.position,a._dirty&&(a.update(),a._dirty=!1),ba.SetGlobalUniform("light",a._data),a=this._camera.position,a._dirty&&(a.update(),a._dirty=!1),ba.SetGlobalUniform("camera",a._data),ba.SetGlobalUniform("p",this._camera.projectionMatrix.GetFloat32Array()),
ba.SetGlobalUniform("v",this._camera.viewMatrix.GetFloat32Array()),ba.SetGlobalUniform("pv",this._camera.projectionViewMatrix.GetFloat32Array()),ba.SetGlobalUniform("pvi",this._camera.projectionViewInverseMatrix.GetFloat32Array()),null!=this._camera.renderTarget&&this._gl.PushRenderTarget(this._camera.renderTarget),this.Render(),null!=this._camera.renderTarget&&this._gl.PopRenderTarget()),this._camera.gameObject.DispatchEvent(x.onCameraPostRender))))},AddRenderer:function(a){if(null!=a&&a.active&&
a.get_enabled()){var b=a.gameObject;if(this._camera.layers.Exist(b.layer)){if(a.frustumCulled){var c=a.get_bounds(),d=c.sphere;if(null==d||!this._camera.frustum.ContainsPoint(d.center,d.radius)){b.set_visible(!1);return}if(!this._camera.frustum.IntersectsBox(c.box)){b.set_visible(!1);return}}b.set_visible(!0);a.overridePipeline=this._pipeline;this._buffer.Add(a);this._camera.PushRenderer(a)}}},onStart:function(){T.prototype.onStart.call(this);this._gl=dc.GetInstance();this._backGround=new ia;this._geometry=
new ia;this._transparent=new ia;this._ui=new ia;this._overlay=new ia;var a=this._map=new B,b=Ac.toString(1E3),c=this._backGround;null!=n[b]?a.setReserved(b,c):a.h[b]=c;a=this._map;b=Ac.toString(2E3);c=this._geometry;null!=n[b]?a.setReserved(b,c):a.h[b]=c;a=this._map;b=Ac.toString(3E3);c=this._transparent;null!=n[b]?a.setReserved(b,c):a.h[b]=c;a=this._map;b=Ac.toString(4E3);c=this._ui;null!=n[b]?a.setReserved(b,c):a.h[b]=c;a=this._map;b=Ac.toString(5E3);c=this._overlay;null!=n[b]?a.setReserved(b,c):
a.h[b]=c;this._drawCommands=new ia;this._rendering=!1;this._buffer=new ia},addRenderToDraw:function(a){if(!this._rendering)for(var b=0,c=a._length;b<c;){var d=b++,d=a.Get(d);d.gameObject.DispatchEvent(x.onPreRender);this._rendering||this._drawCommands.Add(d);d.gameObject.DispatchEvent(x.onPostRender)}},sortpipeline:function(a,b){var c=a.queue,d=b.queue;if(c!=d)return c>d?1:-1;c=a.pipeline.id;d=b.pipeline.id;return c!=d?c>d?1:-1:0},sorttransform:function(a,b){var c=a.queue,d=b.queue;if(c!=d)return c>
d?1:-1;c=a.get_distanceToCamera();d=b.get_distanceToCamera();return c!=d?c>d?-1:1:0},sortui:function(a,b){var c=a.queue,d=b.queue;return c!=d?c>d?1:-1:0},__class__:Od});var Ji=function(){};h["lovedna.game.geometry.BoneWeight"]=Ji;Ji.__name__=["lovedna","game","geometry","BoneWeight"];var Cf=function(){this._box=new Bc;this._sphere=new Df};h["lovedna.game.geometry.Bounds"]=Cf;Cf.__name__=["lovedna","game","geometry","Bounds"];Cf.prototype={box:null,sphere:null,_box:null,_sphere:null,Reset:function(){this._box.Reset()},
Copy:function(a){null!=a&&(this._box.Copy(a._box),this._sphere.Copy(a._sphere));return this},Expand:function(a){this._box.ExpandByVertex(a)},Init:function(){var a=this._sphere.center,b=this._box.GetCenter();b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);a=this._box.GetSize();this._sphere.radius=.5*Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)},Apply:function(a){null!=this._sphere&&(null==this.sphere&&(this.box=new Bc,this.sphere=new Df),this.box.Copy(this._box),this.sphere.Copy(this._sphere),this.box.ApplyMat4(a),this.sphere.ApplyMat4(a))},
__class__:Cf};var Pd=function(){ea.call(this)};h["lovedna.game.geometry.Mesh"]=Pd;Pd.__name__=["lovedna","game","geometry","Mesh"];Pd.__super__=ea;Pd.prototype=w(ea.prototype,{vertexCount:null,triangleBufferCount:null,vertexBufferCount:null,_bounds:null,_vertices:null,_uv:null,_normals:null,_tangents:null,_colors:null,_triangles:null,_boneWeights:null,_boundDirty:null,_trianglesBuffer:null,_buffers:null,Clear:function(){this.triangleBufferCount=this.vertexBufferCount=this.vertexCount=0;null!=this._vertices&&
this._vertices.Clear();null!=this._uv&&this._uv.Clear();null!=this._normals&&this._normals.Clear();null!=this._tangents&&this._tangents.Clear();null!=this._colors&&this._colors.Clear();null!=this._triangles&&this._triangles.Clear();null!=this._boneWeights&&this._boneWeights.Clear()},GetBuffer:function(a){var b=this._buffers;return(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?(b=this._buffers,null!=n[a]?b.getReserved(a):b.h[a]):null},Raycast:function(a){if(3>this.vertexCount)return!1;a.positions.Clear();
a.triangles.Clear();var b=this.triangleBufferCount;if(1>b)for(b=this.vertexCount/3|0;0<b--;){var c=3*b,d=this._vertices.Get(c),f=this._vertices.Get(c+1),e=this._vertices.Get(c+2),d=a.ray.IntersectTriangle(d,f,e,a.backfaceCulling);null!=d&&(f=K.vector3.Get(),e=K.vector3.Get(),d!=f&&(f.x=d.x,f.y=d.y,f.z=d.z),e.x=c,e.y=c+1,e.z=c+2,a.positions.Add(f),a.triangles.Add(e))}else for(b=b/3|0;0<b--;){var f=3*b,c=this._triangles.Get(f),d=this._triangles.Get(f+1),f=this._triangles.Get(f+2),e=this._vertices.Get(c),
k=this._vertices.Get(d),t=this._vertices.Get(f),e=a.ray.IntersectTriangle(e,k,t,a.backfaceCulling);null!=e&&(k=K.vector3.Get(),t=K.vector3.Get(),e!=k&&(k.x=e.x,k.y=e.y,k.z=e.z),t.x=c,t.y=d,t.z=f,a.positions.Add(k),a.triangles.Add(t))}return 0<a.positions._length?!0:!1},onConstruct:function(){ea.prototype.onConstruct.call(this);this._bounds=new Cf;this._boundDirty=!1;this._buffers=new B},set_vertices:function(a){if(null==a)this.vertexBufferCount=this.vertexCount=0;else{this.vertexCount=a._length;this.vertexBufferCount=
3*this.vertexCount;var b=this._buffers,b=null!=n.position?b.getReserved("position"):b.h.position;if(null==b){var b=new hd,c=this._buffers;null!=n.position?c.setReserved("position",b):c.h.position=b;b._structure.Add("position",Ef.GetSize("position"))}c=b._data;null==c&&(c=[]);for(var d=0,f=this.vertexCount;d<f;){var e=d++;a.Get(e).ToArray(c,3*e)}b.Upload(c,this.vertexBufferCount)}this._boundDirty=!0;return this._vertices=a},set_uv:function(a){if(null!=a){var b=this._buffers,b=null!=n.texcoord?b.getReserved("texcoord"):
b.h.texcoord;if(null==b){var b=new hd,c=this._buffers;null!=n.texcoord?c.setReserved("texcoord",b):c.h.texcoord=b;b._structure.Add("texcoord",Ef.GetSize("texcoord"))}c=b._data;null==c&&(c=[]);for(var d=a._length,f=0;f<d;){var e=f++;a.Get(e).ToArray(c,2*e)}b.Upload(c,2*d)}return this._uv=a},set_normals:function(a){if(null!=a){var b=this._buffers,b=null!=n.normal?b.getReserved("normal"):b.h.normal;if(null==b){var b=new hd,c=this._buffers;null!=n.normal?c.setReserved("normal",b):c.h.normal=b;b._structure.Add("normal",
Ef.GetSize("normal"))}c=b._data;null==c&&(c=[]);for(var d=a._length,f=0;f<d;){var e=f++;a.Get(e).ToArray(c,3*e)}b.Upload(c,3*d)}return this._normals=a},set_triangles:function(a){if(null!=a&&0<a._length){null==this._trianglesBuffer&&(this._trianglesBuffer=new oe);var b=this._trianglesBuffer._data;null==b&&(b=[]);for(var c=a._length,d=0;d<c;){var f=d++;b[f]=a.Get(f)}this._trianglesBuffer.Upload(b,c);this.triangleBufferCount=c}else this.triangleBufferCount=0;return this._triangles=a},get_bounds:function(){if(this._boundDirty){this._boundDirty=
!1;var a=this.GetBuffer("position");if(null!=a){var a=a._data,b=a.length/3|0,c=K.vector3.Get();for(this._bounds.Reset();0<b--;)c.FromArray(a,3*b),this._bounds.Expand(c);this._bounds.Init()}}return this._bounds},__class__:Pd,__properties__:{get_bounds:"get_bounds",set_triangles:"set_triangles",set_normals:"set_normals",set_uv:"set_uv",set_vertices:"set_vertices"}});var ld=function(){ea.call(this)};h["lovedna.game.material.Material"]=ld;ld.__name__=["lovedna","game","material","Material"];ld.__super__=
ea;ld.prototype=w(ea.prototype,{color:null,OnDraw:function(a){},onConstruct:function(){ea.prototype.onConstruct.call(this);this.color=new Ld(1,1,1,1)},get_enabled:function(){return!0},__class__:ld,__properties__:{get_enabled:"get_enabled"}});var Bf=function(){ea.call(this)};h["lovedna.game.material.MaterialImage"]=Bf;Bf.__name__=["lovedna","game","material","MaterialImage"];Bf.__super__=ld;Bf.prototype=w(ld.prototype,{texture:null,onConstruct:function(){ld.prototype.onConstruct.call(this);this.texture=
X.texture.Get("gameres_default_texture.png").texture},OnDraw:function(a){ld.prototype.OnDraw.call(this,a);a.SetTexture("texture",this.texture);var b=this.color;b._dirty&&(b.update(),b._dirty=!1);a.SetUniform("color",b._data)},get_enabled:function(){return this.texture.enabled},__class__:Bf});var th=function(){};h["lovedna.game.pick.IPickHandler"]=th;th.__name__=["lovedna","game","pick","IPickHandler"];th.prototype={Init:null,Destroy:null,__class__:th};var zf=function(){this._downList=[];this._overList=
[];for(var a=0;10>a;)a++,this._downList.push(new Md),this._overList.push(new Md)};h["lovedna.game.pick.DefaultPickHandler"]=zf;zf.__name__=["lovedna","game","pick","DefaultPickHandler"];zf.__interfaces__=[th];zf.prototype={_manager:null,_downList:null,_overList:null,_related:null,_touch:null,_camera:null,Init:function(a,b){null==this._manager&&(this._camera=b,this._manager=a,this._manager.AddEventListener(M.TOUCH_CHANGE._type,p(this,this.onTouchHandler)))},Destroy:function(){this._manager.RemoveEventListener(M.TOUCH_CHANGE._type,
p(this,this.onTouchHandler));this._manager=null},onTouchHandler:function(){this._touch=M.TOUCH_CHANGE.get_touch();if(this._touch.userAction){var a=this._touch.action,b=this._touch.id,c=this.getTarget(this._touch);this._related=c;null!=c&&this.touch_over(c);2==a||5==a?(2==a&&this.touch_move(c),a=this._overList[b],null!=c?a.gameObject!=c.gameObject&&(this.touch_exit(a),this._related=a,this.touch_enter(c)):null!=a.gameObject&&this.touch_exit(a),a.Copy(c)):1==a?(this._downList[b].Copy(c),this._overList[b].Copy(c),
this.touch_enter(c),this.touch_down(c)):3==a?(this.touch_up(this._downList[b]),c=this._overList[b],this.touch_exit(c),c.gameObject=null):4==a&&(a=this._downList[b],this._related=c,this.touch_hold(a))}},getTarget:function(a){a=a._activeObjectList;var b=2147483647,c=a._length,d=null;if(0<c)for(;0<c--;){var f=a.Get(c);if(null!=f.gameObject){var e=f.gameObject.distanceToCamera;e<=b&&(b=e,d=f)}}return d},touch_move:function(a){var b=x.onTouchMove;b.touch.Copy(this._touch);b.relatedTarget=this._related;
null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},touch_down:function(a){var b=x.onTouchDown;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},touch_up:function(a){var b=x.onTouchUp;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},touch_enter:function(a){var b=
x.onTouchEnter;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},touch_exit:function(a){var b=x.onTouchExit;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},touch_hold:function(a){var b=x.onTouchHold;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);
this._camera.gameObject.DispatchEvent(b)},touch_over:function(a){var b=x.onTouchOver;b.touch.Copy(this._touch);b.relatedTarget=this._related;null!=a&&null!=a.gameObject&&a.gameObject.DispatchEvent(b);this._camera.gameObject.DispatchEvent(b)},__class__:zf};var Xa=function(){};h["lovedna.game.renderer.Pipelines"]=Xa;Xa.__name__=["lovedna","game","renderer","Pipelines"];Xa.init=function(){if(null==Xa._map){Xa._map=new B;var a;a=Xa.getprogram('<shader name="@image">\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 position:position;\r\n\t\tattribute vec2 uv:texcoord;\r\n\t\tuniform mat4 pv: pv;\r\n\t\tuniform mat4 m:m;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = pv * m * vec4(position, 1.0);\r\n\t\t\tvuv = uv;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tuniform sampler2D texture:texture;\r\n\t\tuniform vec4 color:color;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor = texture2D(texture, vuv);\r\n\t\t\tgl_FragColor = baseColor*color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</shader>');
var b=new ba,c=Xa._map;(null!=n.Builtin_Image?c.existsReserved("Builtin_Image"):c.h.hasOwnProperty("Builtin_Image"))||(c=Xa._map,null!=n.Builtin_Image?c.setReserved("Builtin_Image",b):c.h.Builtin_Image=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;b=b.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.cullMode=-1;b=new ba;c=Xa._map;(null!=n.Builtin_UI_IMAGE?c.existsReserved("Builtin_UI_IMAGE"):c.h.hasOwnProperty("Builtin_UI_IMAGE"))||
(c=Xa._map,null!=n.Builtin_UI_IMAGE?c.setReserved("Builtin_UI_IMAGE",b):c.h.Builtin_UI_IMAGE=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;a=b;b=a.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.cullMode=-1;b=a.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.depthTest=!1;a=a.state;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.depthWrite=
!1;a=Xa.getprogram('<shader name="@colorImage">\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 aposition:position;\r\n\t\tattribute vec2 auv:texcoord;\r\n\t\tattribute vec4 acolor:color;\r\n\t\tuniform mat4 pv: pv;\r\n\t\tuniform mat4 m:m;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = pv * m * vec4(aposition, 1.0);\r\n\t\t\tvuv = auv;\r\n\t\t\tvcolor = acolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tuniform sampler2D texture:texture;\r\n\t\tuniform vec4 ucolor:color;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor = texture2D(texture, vuv);\r\n\t\t\tgl_FragColor = baseColor*ucolor*vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</shader>');
b=new ba;c=Xa._map;(null!=n.Builtin_UI_TEXT?c.existsReserved("Builtin_UI_TEXT"):c.h.hasOwnProperty("Builtin_UI_TEXT"))||(c=Xa._map,null!=n.Builtin_UI_TEXT?c.setReserved("Builtin_UI_TEXT",b):c.h.Builtin_UI_TEXT=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;a=b;b=a.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.cullMode=-1;b=a.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");
b.depthTest=!1;a=a.state;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.depthWrite=!1;a=Xa.getprogram('<shader name="@shape">\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 position:position;\r\n\t\tattribute vec4 color:color;\r\n\t\tuniform mat4 pv: pv;\r\n\t\tuniform mat4 m:m;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = pv * m * vec4(position, 1.0);\r\n\t\t\tvcolor = color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</shader>');
b=new ba;c=Xa._map;(null!=n.Builtin_Shape?c.existsReserved("Builtin_Shape"):c.h.hasOwnProperty("Builtin_Shape"))||(c=Xa._map,null!=n.Builtin_Shape?c.setReserved("Builtin_Shape",b):c.h.Builtin_Shape=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;a=b.state;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.cullMode=-1;a=Xa.getprogram('<shader name="@shape">\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 position:position;\r\n\t\tattribute vec4 color:color;\r\n\t\tuniform mat4 pv: pv;\r\n\t\tuniform mat4 m:m;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = pv * m * vec4(position, 1.0);\r\n\t\t\tvcolor = color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</shader>');
b=new ba;c=Xa._map;(null!=n.Builtin_Line?c.existsReserved("Builtin_Line"):c.h.hasOwnProperty("Builtin_Line"))||(c=Xa._map,null!=n.Builtin_Line?c.setReserved("Builtin_Line",b):c.h.Builtin_Line=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a;a=b;b=a.state;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.cullMode=-1;a.state.set_drawMode(1);a=Xa.getprogram('<shader name="@mesh">\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tattribute vec3 position:position;\r\n\t\tattribute vec2 uv:texcoord;\r\n\t\tattribute vec3 normal:normal;\r\n\t\tuniform mat4 pv: pv;\r\n\t\tuniform mat4 m:m;\r\n\t\tuniform mat4 minverse:mi;\r\n\t\tuniform vec3 light:light;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vColor;\r\n\t\tvoid main(void){\r\n\t\t\tvec3 invLight = normalize(minverse * vec4(light, 0.0)).xyz;\r\n\t\t\tfloat diffuse  = clamp(dot(normal, invLight), 0.4, 1.0);\r\n\t\t\tvColor = vec4(vec3(diffuse), 1.0);\r\n\t\t\tgl_Position = pv * m * vec4(position, 1.0);\r\n\t\t\tvuv = uv;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tprecision mediump float;\r\n\t\tuniform sampler2D texture:texture;\r\n\t\tuniform vec4 color:color;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vColor;\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor = texture2D(texture, vuv);\r\n\t\t\tgl_FragColor = baseColor*color*vColor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</shader>');
b=new ba;c=Xa._map;(null!=n.Builtin_Mesh?c.existsReserved("Builtin_Mesh"):c.h.hasOwnProperty("Builtin_Mesh"))||(c=Xa._map,null!=n.Builtin_Mesh?c.setReserved("Builtin_Mesh",b):c.h.Builtin_Mesh=b);b.name=a.name;if(b._compiled)throw console.log("can not set compiled"),new r("has compiled");b.shader=a}};Xa.getprogram=function(a){a=E.parse(a);if(a.nodeType!=E.Document&&a.nodeType!=E.Element)throw new r("Bad node type, expected Element or Document but found "+a.nodeType);for(var b=a.children[0],c=b.get("name"),
d=a="",b=b.elements();b.hasNext();){var f=b.next();if(f.nodeType!=E.Element)throw new r("Bad node type, expected Element but found "+f.nodeType);var e=f.nodeName;"vertex"==e?a=(new Kc(f)).get_innerData():"fragment"==e&&(d=(new Kc(f)).get_innerData())}c=new ec(c);c.Upload(a,d);return c};var Ac={};h["lovedna.game.renderer._RenderQueue.RenderQueue_Impl_"]=Ac;Ac.__name__=["lovedna","game","renderer","_RenderQueue","RenderQueue_Impl_"];Ac.FromInt=function(a){1E3>a&&(a=1E3);return 1E3*(a/1E3|0)};Ac.toString=
function(a){switch(Ac.FromInt(a)){case 1E3:return"Background";case 2E3:return"Geometry";case 3E3:return"Transparent";case 4E3:return"UI";case 5E3:return"Overlay";default:return"Overlay"}};var jc=h["lovedna.game.renderer.ShadowMode"]={__ename__:["lovedna","game","renderer","ShadowMode"],__constructs__:["Off","On","ShadowsOnly"]};jc.Off=["Off",0];jc.Off.toString=A;jc.Off.__enum__=jc;jc.On=["On",1];jc.On.toString=A;jc.On.__enum__=jc;jc.ShadowsOnly=["ShadowsOnly",2];jc.ShadowsOnly.toString=A;jc.ShadowsOnly.__enum__=
jc;var Ob=function(){this.id=Ob._ID++;this._bindTime=0;this._dirty=!1;this.length=0};h["lovedna.graphic.DataBuffer"]=Ob;Ob.__name__=["lovedna","graphic","DataBuffer"];Ob.prototype={id:null,length:null,_buffer:null,_usage:null,_bindTime:null,_dirty:null,Bind:function(){this._bindTime=.001*(new Date).getTime()+za._timeOffset},createBuffer:function(){null==this._buffer&&(Ob._map.h[this.id]=this,this._buffer=e.context.__context.createBuffer())},__class__:Ob};var dc=function(){this.enabled=Oc.get_isSupported();
dc._instance=this;this._defaultSize=new la(800,480);this.renderBufferSize=new la(800,480);var a=this._state=new re;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.cullMode=-1;a=this._state;if(a._compiled)throw console.log("can not set compiled"),new r("has compiled");a.blend=!1;this._cullMode=this._state.cullMode;this._depthTest=this._state.depthTest;this._depthMode=this._state.depthMode;this._depthWrite=this._state.depthWrite;this._blend=this._state.blend;this._stencilTest=
this._state.stencilTest;this._renderTargets=new ia;pa.Log("buildTime:2017-05-21 23:24:52",{fileName:"GLContext.hx",lineNumber:51,className:"lovedna.graphic.GLContext",methodName:"new"});this.enabled&&pa.Log(e.context.__context.getParameter(7938),{fileName:"GLContext.hx",lineNumber:54,className:"lovedna.graphic.GLContext",methodName:"new"})};h["lovedna.graphic.GLContext"]=dc;dc.__name__=["lovedna","graphic","GLContext"];dc.GetInstance=function(){return null!=dc._instance?dc._instance:new dc};dc.prototype=
{renderBufferSize:null,enabled:null,_usePipeline:null,_state:null,_cullMode:null,_depthTest:null,_depthMode:null,_depthWrite:null,_blend:null,_stencilTest:null,_renderTargets:null,_defaultSize:null,SetSize:function(a,b){this._defaultSize.Set(a,b);this.renderBufferSize.Copy(this._defaultSize)},EnterFrame:function(){this.applyState(this._state);e.context.__context.viewport(0,0,this._defaultSize.x|0,this._defaultSize.y|0);e.context.__context.clearDepth(1);e.context.__context.clearStencil(0);e.context.__context.colorMask(!0,
!0,!0,!0);e.context.__context.clear(17664);this._usePipeline=null;ec.active=null;this._renderTargets.Clear()},Flush:function(){e.context.__context.flush()},PushRenderTarget:function(a){var b=this._renderTargets.Get(-1,!0);this._renderTargets.Add(a);b!=a&&(null!=a?(a.Select(),this.renderBufferSize.Copy(a.size),e.context.__context.viewport(0,0,this.renderBufferSize.x|0,this.renderBufferSize.y|0),e.context.__context.clearDepth(1),e.context.__context.clearStencil(0),e.context.__context.colorMask(!0,!0,
!0,!0),e.context.__context.clear(17664)):(e.context.__context.bindFramebuffer(36160,null),e.context.__context.bindRenderbuffer(36161,null),this.renderBufferSize.Copy(this._defaultSize),e.context.__context.viewport(0,0,this.renderBufferSize.x|0,this.renderBufferSize.y|0)))},PopRenderTarget:function(){this._renderTargets.Pop();var a=this._renderTargets.Get(-1,!0);null!=a?(a.Select(),this.renderBufferSize.Copy(a.size),e.context.__context.viewport(0,0,this.renderBufferSize.x|0,this.renderBufferSize.y|
0)):(this.renderBufferSize.Copy(this._defaultSize),e.context.__context.viewport(0,0,this.renderBufferSize.x|0,this.renderBufferSize.y|0),e.context.__context.bindFramebuffer(36160,null),e.context.__context.bindRenderbuffer(36161,null))},ExitFrame:function(){e.context.__context.disable(2884);e.context.__context.disable(2929);e.context.__context.enable(3042);e.context.__context.depthMask(!1);this._cullMode=null;this._depthTest=!1;this._blend=!0;this._depthWrite=!1;e.context.__context.bindFramebuffer(36160,
null);e.context.__context.bindRenderbuffer(36161,null);e.context.__context.bindBuffer(34962,null);e.context.__context.bindBuffer(34963,null);e.context.__context.bindTexture(3553,null);e.__currentProgram=null;e.context.__context.useProgram(null);this._usePipeline=null},applyState:function(a){var b=a.cullMode;b!=this._cullMode&&(this._cullMode=b,-1==this._cullMode?e.context.__context.disable(2884):(e.context.__context.enable(2884),e.context.__context.cullFace(this._cullMode)));b=a.depthTest;b!=this._depthTest&&
((this._depthTest=b)?(e.context.__context.enable(2929),a.depthMode!=this._depthMode&&(e.context.__context.depthFunc(a.depthMode),this._depthMode=a.depthMode)):e.context.__context.disable(2929));b=a.depthWrite;b!=this._depthWrite&&(this._depthWrite=b,e.context.__context.depthMask(this._depthWrite));b=a.blend;b!=this._blend&&((this._blend=b)?(e.context.__context.enable(3042),e.context.__context.blendEquationSeparate(a.blendColorOperation,a.blendAlphaOperation),e.context.__context.blendFuncSeparate(a.blendSrcColor,
a.blendDstColor,a.blendSrcAlpha,a.blendDstAlpha)):e.context.__context.disable(3042));a=a.stencilTest;this._stencilTest!=a&&((this._stencilTest=a)?e.context.__context.enable(2960):e.context.__context.disable(2960))},__class__:dc};var tb=function(){};h["lovedna.graphic.GLExtensions"]=tb;tb.__name__=["lovedna","graphic","GLExtensions"];tb.GetTextureFilterAnisotropic=function(){var a=tb._extensions;if(null!=n.EXT_texture_filter_anisotropic?a.existsReserved("EXT_texture_filter_anisotropic"):a.h.hasOwnProperty("EXT_texture_filter_anisotropic"))return a=
tb._extensions,null!=n.EXT_texture_filter_anisotropic?a.getReserved("EXT_texture_filter_anisotropic"):a.h.EXT_texture_filter_anisotropic;var a=new Ff,b=tb._extensions;null!=n.EXT_texture_filter_anisotropic?b.setReserved("EXT_texture_filter_anisotropic",a):b.h.EXT_texture_filter_anisotropic=a;return a};tb.GetTextureInternalFormat=function(){var a=null,a=tb._extensions;if(null!=n.EXT_bgra?a.existsReserved("EXT_bgra"):a.h.hasOwnProperty("EXT_bgra"))a=tb._extensions,a=null!=n.EXT_bgra?a.getReserved("EXT_bgra"):
a.h.EXT_bgra;else{var a=new se,b=tb._extensions;null!=n.EXT_bgra?b.setReserved("EXT_bgra",a):b.h.EXT_bgra=a}return a.internalFormat};tb.GetTextureFormat=function(){var a=null,a=tb._extensions;if(null!=n.EXT_bgra?a.existsReserved("EXT_bgra"):a.h.hasOwnProperty("EXT_bgra"))a=tb._extensions,a=null!=n.EXT_bgra?a.getReserved("EXT_bgra"):a.h.EXT_bgra;else{var a=new se,b=tb._extensions;null!=n.EXT_bgra?b.setReserved("EXT_bgra",a):b.h.EXT_bgra=a}return a.textureFormat};var oe=function(a){Ob.call(this);null==
a&&(a=Pb.StaticUsage);this._usage=a};h["lovedna.graphic.IndexBuffer"]=oe;oe.__name__=["lovedna","graphic","IndexBuffer"];oe.__super__=Ob;oe.prototype=w(Ob.prototype,{_data:null,_bufferData:null,Upload:function(a,b){null==b&&(b=-1);this._data=a;0>=b&&(b=this._data.length);b>this._data.length&&(b=this._data.length);this._dirty=!0;this.length=b},Bind:function(){Ob.prototype.Bind.call(this);if(this._dirty){this._dirty=!1;if(null==this._bufferData){var a=this._data;this._bufferData=null!=a?new Int16Array(a):
null}else if(a=this.length,a>this._bufferData.length)a=this._data,this._bufferData=null!=a?new Int16Array(a):null;else for(;0<a--;)this._bufferData[a]=this._data[a];this.createBuffer();e.context.__context.bindBuffer(34963,this._buffer);e.context.bufferData(34963,2*this.length,this._bufferData,this._usage==Pb.DynamicUsage?35048:35044,null,null)}else null!=this._buffer&&e.context.__context.bindBuffer(34963,this._buffer)},__class__:oe});var ba=function(){this.state=new re;this.id=-1;this._compiled=!1;
this._vertextBuffers=new ia;this._g=dc.GetInstance();this._globalTime=this._frameTime=0;this._uniforms=new B;this._textures=new B;this._activeTexture=new Ua;ba._map.h[this.id]=this;this._count=-1;this._uniformGlobalCount=this._uniformFrameCount=0};h["lovedna.graphic.Pipeline"]=ba;ba.__name__=["lovedna","graphic","Pipeline"];ba.SetFrameUniform=function(a,b){if(null!=a&&""!=a){if(null==b)ba._frameUniforms.remove(a);else{var c=ba._frameUniforms;null!=n[a]?c.setReserved(a,b):c.h[a]=b}ba._lastFrameTime=
.001*(new Date).getTime()+za._timeOffset}};ba.SetGlobalUniform=function(a,b){if(null!=a&&""!=a){if(null==b)ba._globalUniforms.remove(a);else{var c=ba._globalUniforms;null!=n[a]?c.setReserved(a,b):c.h[a]=b}ba._lastGlobalTime=.001*(new Date).getTime()+za._timeOffset}};ba.Lost=function(){for(var a=ba._map.iterator();a.hasNext();){var b=a.next();null!=b.shader&&b.shader.Destroy();b._compiled=!1}};ba.prototype={id:null,name:null,state:null,shader:null,_compiled:null,_g:null,_vertextBuffers:null,_indexBuffer:null,
_positionBuffer:null,_frameTime:null,_globalTime:null,_uniforms:null,_textures:null,_activeTexture:null,_count:null,_uniformFrameCount:null,_uniformGlobalCount:null,Compile:function(){this._compiled||(null==this.shader?console.log("shader not set"):(this._compiled=!0,this.state.Compile(),this.id=ba._ID++))},SetTexture:function(a,b){var c=this._textures;null!=n[a]?c.setReserved(a,b):c.h[a]=b},ExistUniform:function(a){return this._compiled?this.shader.ExistUniform(a):!1},SetUniform:function(a,b){var c=
this._uniforms;null!=n[a]?c.setReserved(a,b):c.h[a]=b},Flush:function(){if(null!=this.shader){this._compiled||this.Compile();this.shader.Bind();var a=this._g;a._usePipeline!=this&&(this.onEnable(),a.applyState(this.state));a._usePipeline=this;for(var a=0,a=this._vertextBuffers._length,b=0;0<a--;){var c=this._vertextBuffers.Get(a);c.Bind();b+=c._structure.count}if(b<this.shader.inputCount)pa.Warn(this.name+" input count less than shader define "+b+" "+this.shader.inputCount,{fileName:"Pipeline.hx",
lineNumber:180,className:"lovedna.graphic.Pipeline",methodName:"Flush"});else{if(this._frameTime!=ba._lastFrameTime)for(this._frameTime=ba._lastFrameTime,a=ba._frameUniforms.keys();a.hasNext();)b=a.next(),c=ba._frameUniforms,this.shader.SetUniform(b,null!=n[b]?c.getReserved(b):c.h[b]),this._uniformFrameCount++;if(this._globalTime!=ba._lastGlobalTime)for(this._globalTime=ba._lastGlobalTime,a=ba._globalUniforms.keys();a.hasNext();)b=a.next(),c=ba._globalUniforms,this.shader.SetUniform(b,null!=n[b]?
c.getReserved(b):c.h[b]),this._uniformGlobalCount++;a=this._uniformFrameCount+this._uniformGlobalCount;for(b=this._uniforms.keys();b.hasNext();){var c=b.next(),d=this._uniforms;this.shader.SetUniform(c,null!=n[c]?d.getReserved(c):d.h[c]);++a;this._uniforms.remove(c)}if(a<this.shader.uniformCount)pa.Warn(this.name+" uniform count less than shader define "+this.shader.uniformCount,{fileName:"Pipeline.hx",lineNumber:212,className:"lovedna.graphic.Pipeline",methodName:"Flush"});else{a=0;for(b=this._textures.keys();b.hasNext();){var f=
b.next(),c=this.shader.GetUniform(f);if(null!=c){var d=c.index,q=this._textures,f=null!=n[f]?q.getReserved(f):q.h[f];null!=f&&(++a,this._activeTexture.h[d]!=f.id&&(this._activeTexture.h[d]=f.id,f.enabled&&(f.location=c.index,f.Bind())))}}a<this.shader.textureCount?pa.Warn(this.name+" texture count less than shader define "+this.shader.textureCount,{fileName:"Pipeline.hx",lineNumber:237,className:"lovedna.graphic.Pipeline",methodName:"Flush"}):null!=this._indexBuffer?(this._indexBuffer.Bind(),1>this._count&&
(this._count=this._indexBuffer.length),a=this.state.drawMode,b=this._count,c=e.context,d=Za.fromInt(0),c.__context.drawElements(a,b,5123,d),this._indexBuffer=null):null!=this._positionBuffer&&(1>this._count&&(this._count=this._positionBuffer.length/3|0),e.context.__context.drawArrays(this.state.drawMode,0,this._count))}}this.clear()}},onEnable:function(){for(var a=this._activeTexture.keys();a.hasNext();){var b=a.next();this._activeTexture.remove(b)}},clear:function(){for(var a=this._vertextBuffers._length;0<
a--;)this._vertextBuffers.Get(a).Unbind();this._positionBuffer=null;this._vertextBuffers.Clear();this._count=-1;e.context.__context.bindBuffer(34963,null);e.context.__context.bindBuffer(34962,null)},__class__:ba};var re=function(){ea.call(this)};h["lovedna.graphic.PipelineState"]=re;re.__name__=["lovedna","graphic","PipelineState"];re.__super__=ea;re.prototype=w(ea.prototype,{cullMode:null,depthTest:null,depthWrite:null,depthMode:null,stencilTest:null,stencilMode:null,stencilBothPass:null,stencilDepthFail:null,
stencilFail:null,stencilReferenceValue:null,stencilReadMask:null,stencilWriteMask:null,blend:null,blendColorOperation:null,blendAlphaOperation:null,blendSrcColor:null,blendDstColor:null,blendSrcAlpha:null,blendDstAlpha:null,colorWriteMask:null,drawMode:null,_compiled:null,Compile:function(){this._compiled=!0},onConstruct:function(){ea.prototype.onConstruct.call(this);this._compiled=!1;this.cullMode=1029;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.depthTest=
!0;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.depthWrite=!0;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.depthMode=513;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilTest=!1;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilMode=519;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilBothPass=
Ba.Keep;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilDepthFail=Ba.Keep;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilFail=Ba.Keep;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilReferenceValue=0;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.stencilReadMask=255;if(this._compiled)throw console.log("can not set compiled"),
new r("has compiled");this.stencilWriteMask=255;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blend=!0;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blendColorOperation=32774;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blendAlphaOperation=32774;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blendSrcColor=770;if(this._compiled)throw console.log("can not set compiled"),
new r("has compiled");this.blendDstColor=771;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blendSrcAlpha=1;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.blendDstAlpha=1;if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");this.colorWriteMask=!0;this.set_drawMode(4)},set_drawMode:function(a){if(this._compiled)throw console.log("can not set compiled"),new r("has compiled");return this.drawMode=
a},__class__:re,__properties__:{set_drawMode:"set_drawMode"}});var ec=function(a){this._vertVoidIndex=this._fragVoidIndex=0;this.name=a;this.id=ec._ID++;this._bindTime=0;this._dirty=!1;this._inputs=new B;this._uniforms=new B;this._inputList=new ia;this.textureCount=this.uniformCount=this.inputCount=0};h["lovedna.graphic.ShaderProgram"]=ec;ec.__name__=["lovedna","graphic","ShaderProgram"];ec.prototype={id:null,name:null,inputCount:null,uniformCount:null,textureCount:null,_bindTime:null,_dirty:null,
_vertexShader:null,_fragmentShader:null,_program:null,_vertVoidIndex:null,_fragVoidIndex:null,_inputs:null,_uniforms:null,_attributeSemantics:null,_uniformSemantics:null,_inputList:null,Upload:function(a,b){var c=this;if(null==this._vertexShader&&null==this._fragmentShader){this._vertexShader=a;this._fragmentShader=b;this._attributeSemantics=new B;this._uniformSemantics=new B;this._dirty=!0;var d=new Aa("(\\S*\\s?)(\\S*\\s?)(\\S*\\s?):(\\s?\\S*);","g");d.match(this._vertexShader)&&(this._vertexShader=
d.map(this._vertexShader,function(a){var b=N.trim(a.matched(1)),d=N.trim(a.matched(2)),e=N.trim(a.matched(3));a=N.trim(a.matched(4));if("attribute"==b){var l=c._attributeSemantics;a=a.toLowerCase();null!=n[e]?l.setReserved(e,a):l.h[e]=a}else"uniform"==b&&(l=c._uniformSemantics,a=a.toLowerCase(),null!=n[e]?l.setReserved(e,a):l.h[e]=a);return b+" "+d+" "+e+";"}));d.match(this._fragmentShader)&&(this._fragmentShader=d.map(this._fragmentShader,function(a){var b=N.trim(a.matched(1)),d=N.trim(a.matched(2)),
e=N.trim(a.matched(3)),l=N.trim(a.matched(4));"uniform"==b&&(a=c._uniformSemantics,l=l.toLowerCase(),null!=n[e]?a.setReserved(e,l):a.h[e]=l);return b+" "+d+" "+e+";"}))}},Destroy:function(){null!=this._program&&(e.context.__context.deleteProgram(this._program),this._program=null,this._dirty=!0)},Bind:function(){this._bindTime=.001*(new Date).getTime()+za._timeOffset;this._dirty&&(this._dirty=!1,this.createShader());if(null!=this._program&&ec.active!=this){ec.active=this;var a=this._program;e.__currentProgram=
a;e.context.__context.useProgram(a)}},GetLocation:function(a){var b=this._inputs;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this._inputs,(null!=n[a]?b.getReserved(a):b.h[a]).id;var b=this._inputs,c="attributeStructure:"+a;return(null!=n[c]?b.existsReserved(c):b.h.hasOwnProperty(c))?(b=this._inputs,a="attributeStructure:"+a,(null!=n[a]?b.getReserved(a):b.h[a]).id):-1},SetUniform:function(a,b){if(null!=b){var c=this._uniforms;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))c=
this._uniforms,(null!=n[a]?c.getReserved(a):c.h[a]).Upload(b);else{var c=this._uniforms,d="uniformStructure:"+a;if(null!=n[d]?c.existsReserved(d):c.h.hasOwnProperty(d))c=this._uniforms,d="uniformStructure:"+a,(null!=n[d]?c.getReserved(d):c.h[d]).Upload(b)}}},GetUniform:function(a){var b=this._uniforms;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this._uniforms,null!=n[a]?b.getReserved(a):b.h[a];var b=this._uniforms,c="uniformStructure:"+a;return(null!=n[c]?b.existsReserved(c):
b.h.hasOwnProperty(c))?(b=this._uniforms,a="uniformStructure:"+a,null!=n[a]?b.getReserved(a):b.h[a]):null},ExistUniform:function(a){var b=this._uniforms;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return!0;b=this._uniforms;a="uniformStructure:"+a;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},createShader:function(){if(null==this._program){this._vertVoidIndex=this._vertexShader.toLowerCase().indexOf("void main");this._fragVoidIndex=this._fragmentShader.toLowerCase().indexOf("void main");
var a=e.context.__context.createShader(35633);e.context.__context.shaderSource(a,this._vertexShader);e.context.__context.compileShader(a);if(0==e.context.__context.getShaderParameter(a,35713))throw console.log(this.name+"\n"+this.addLineNumber(this._vertexShader)),new r("vertex compileShader "+e.context.__context.getShaderInfoLog(a));var b=e.context.__context.createShader(35632);e.context.__context.shaderSource(b,this._fragmentShader);e.context.__context.compileShader(b);if(0==e.context.__context.getShaderParameter(b,
35713))throw console.log(this.name+"\n"+this.addLineNumber(this._fragmentShader)),new r("fragment compileShader "+e.context.__context.getShaderInfoLog(b));this._program=e.context.__context.createProgram();e.context.__context.attachShader(this._program,a);e.context.__context.attachShader(this._program,b);e.context.__context.linkProgram(this._program);e.context.__context.deleteShader(a);e.context.__context.deleteShader(b);if(0==e.context.__context.getProgramParameter(this._program,35714))throw console.log(this.name),
console.log(this.name+"\n"+this.addLineNumber(this._vertexShader)),console.log(this.name+"\n"+this.addLineNumber(this._fragmentShader)),new r("linkProgram "+e.context.__context.getProgramInfoLog(this._program));this.createLocations();ec._map.h[this.id]=this}},createLocations:function(){this.textureCount=this.uniformCount=this.inputCount=0;for(var a=null,b=null,a=e.context.__context.getProgramParameter(this._program,35721),c=0,d=a;c<d;)if(a=c++,b=e.context.__context.getActiveAttrib(this._program,a),
a=b.name,this.checkUsed(a)){var f=e.context.__context.getAttribLocation(this._program,a),q=this._attributeSemantics,f=new uh(a,f,null!=n[a]?q.getReserved(a):q.h[a]);f.size=b.size;this.inputCount++;b=this._inputs;null!=n[a]?b.setReserved(a,f):b.h[a]=f;null!=f.semantics&&(a=this._inputs,b="attributeStructure:"+f.semantics,null!=n[b]?a.setReserved(b,f):a.h[b]=f,this._inputList.Add(f))}a=e.context.__context.getProgramParameter(this._program,35718);d=q=c=0;for(f=a;d<f;)if(a=d++,b=e.context.__context.getActiveUniform(this._program,
a),a=b.name,q=b.type,this.checkUsed(a)){var k=e.context.__context.getUniformLocation(this._program,a);if(35678==q||35680==q){var t=this._uniformSemantics,q=new C(a,q,k,c++,null!=n[a]?t.getReserved(a):t.h[a]);q.size=b.size;b=this._uniforms;null!=n[a]?b.setReserved(a,q):b.h[a]=q;this.textureCount++}else{var t=-2,l=a.indexOf("[");0<l&&(t=-1,a=z.substr(a,0,l));l=this._uniformSemantics;q=new C(a,q,k,t,null!=n[a]?l.getReserved(a):l.h[a]);q.size=b.size;b=this._uniforms;null!=n[a]?b.setReserved(a,q):b.h[a]=
q;this.uniformCount++}null!=q.semantics&&(a=this._uniforms,b="uniformStructure:"+q.semantics,null!=n[b]?a.setReserved(b,q):a.h[b]=q)}},addLineNumber:function(a){var b="";a=new tf(a);a.set_position(0);for(var c=a._length,d=-(c+"").length,f=0;f<c;)var e=f++,b=b+(Wa.Fill(e+1+"",d)+":\t"+a.ReadLine()+"\n");return b},checkUsed:function(a){var b=-1,b=this._fragmentShader.indexOf(a,this._fragVoidIndex);if(0<=b)return!0;b=this._vertexShader.indexOf(a,this._vertVoidIndex);return 0<=b?!0:!1},__class__:ec};
var Ef={};h["lovedna.graphic._ShaderSemantics.ShaderSemantics_Impl_"]=Ef;Ef.__name__=["lovedna","graphic","_ShaderSemantics","ShaderSemantics_Impl_"];Ef.GetSize=function(a){return-1!=a.indexOf("position")?3:-1!=a.indexOf("texcoord")?2:-1!=a.indexOf("normal")?3:-1!=a.indexOf("color")?4:-1!=a.indexOf("tangent")?3:-1!=a.indexOf("time")?4:0};var C=function(a,b,c,d,f){this.name=a;this.id=c;this.index=d;this.semantics=f;this.size=1;this.setType(b)};h["lovedna.graphic.ShaderUniformInput"]=C;C.__name__=["lovedna",
"graphic","ShaderUniformInput"];C.fun_bool=function(a){e.context.__context.uniform1i(a.id,a._value)};C.fun_int=function(a){e.context.__context.uniform1i(a.id,a._value)};C.fun_float=function(a){e.context.__context.uniform1f(a.id,a._value)};C.fun_boolv=function(a){e.context.uniform1iv(a.id,a.size,a._value,null)};C.fun_intv=function(a){e.context.uniform1iv(a.id,a.size,a._value,null)};C.fun_floatv=function(a){e.context.uniform1fv(a.id,a.size,a._value,null)};C.fun_fvec2=function(a){e.context.uniform2fv(a.id,
a.size,a._value,null)};C.fun_fvec3=function(a){e.context.uniform3fv(a.id,a.size,a._value,null)};C.fun_fvec4=function(a){e.context.uniform4fv(a.id,a.size,a._value,null)};C.fun_ivec2=function(a){e.context.uniform2iv(a.id,a.size,a._value,null)};C.fun_ivec3=function(a){e.context.uniform3iv(a.id,a.size,a._value,null)};C.fun_ivec4=function(a){e.context.uniform4iv(a.id,a.size,a._value,null)};C.fun_mat2=function(a){e.context.uniformMatrix2fv(a.id,a.size,!1,a._value,null)};C.fun_mat3=function(a){e.context.uniformMatrix3fv(a.id,
a.size,!1,a._value,null)};C.fun_mat4=function(a){e.context.uniformMatrix4fv(a.id,a.size,!1,a._value,null)};C.prototype={name:null,id:null,index:null,semantics:null,size:null,_value:null,_handler:null,Upload:function(a){null!=this._handler&&(this._value=a,this._handler(this))},setType:function(a){if(null==C._funMap){C._funMap=new B;var b=C._funMap,c=C.fun_fvec2;null!=n.f35664?b.setReserved("f35664",c):b.h.f35664=c;b=C._funMap;c=C.fun_fvec2;null!=n.f35664v?b.setReserved("f35664v",c):b.h.f35664v=c;b=
C._funMap;c=C.fun_fvec3;null!=n.f35665?b.setReserved("f35665",c):b.h.f35665=c;b=C._funMap;c=C.fun_fvec3;null!=n.f35665v?b.setReserved("f35665v",c):b.h.f35665v=c;b=C._funMap;c=C.fun_fvec4;null!=n.f35666?b.setReserved("f35666",c):b.h.f35666=c;b=C._funMap;c=C.fun_fvec4;null!=n.f35666v?b.setReserved("f35666v",c):b.h.f35666v=c;b=C._funMap;c=C.fun_ivec2;null!=n.f35667?b.setReserved("f35667",c):b.h.f35667=c;b=C._funMap;c=C.fun_ivec2;null!=n.f35667v?b.setReserved("f35667v",c):b.h.f35667v=c;b=C._funMap;c=
C.fun_ivec3;null!=n.f35668?b.setReserved("f35668",c):b.h.f35668=c;b=C._funMap;c=C.fun_ivec3;null!=n.f35668v?b.setReserved("f35668v",c):b.h.f35668v=c;b=C._funMap;c=C.fun_ivec4;null!=n.f35669?b.setReserved("f35669",c):b.h.f35669=c;b=C._funMap;c=C.fun_ivec4;null!=n.f35669v?b.setReserved("f35669v",c):b.h.f35669v=c;b=C._funMap;c=C.fun_ivec2;null!=n.f35671?b.setReserved("f35671",c):b.h.f35671=c;b=C._funMap;c=C.fun_ivec2;null!=n.f35671v?b.setReserved("f35671v",c):b.h.f35671v=c;b=C._funMap;c=C.fun_ivec3;
null!=n.f35672?b.setReserved("f35672",c):b.h.f35672=c;b=C._funMap;c=C.fun_ivec3;null!=n.f35672v?b.setReserved("f35672v",c):b.h.f35672v=c;b=C._funMap;c=C.fun_ivec4;null!=n.f35673?b.setReserved("f35673",c):b.h.f35673=c;b=C._funMap;c=C.fun_ivec4;null!=n.f35673v?b.setReserved("f35673v",c):b.h.f35673v=c;b=C._funMap;c=C.fun_mat2;null!=n.f35674?b.setReserved("f35674",c):b.h.f35674=c;b=C._funMap;c=C.fun_mat2;null!=n.f35674v?b.setReserved("f35674v",c):b.h.f35674v=c;b=C._funMap;c=C.fun_mat3;null!=n.f35675?
b.setReserved("f35675",c):b.h.f35675=c;b=C._funMap;c=C.fun_mat3;null!=n.f35675v?b.setReserved("f35675v",c):b.h.f35675v=c;b=C._funMap;c=C.fun_mat4;null!=n.f35676?b.setReserved("f35676",c):b.h.f35676=c;b=C._funMap;c=C.fun_mat4;null!=n.f35676v?b.setReserved("f35676v",c):b.h.f35676v=c;b=C._funMap;c=C.fun_bool;null!=n.f35670?b.setReserved("f35670",c):b.h.f35670=c;b=C._funMap;c=C.fun_boolv;null!=n.f35670v?b.setReserved("f35670v",c):b.h.f35670v=c;b=C._funMap;c=C.fun_int;null!=n.f5124?b.setReserved("f5124",
c):b.h.f5124=c;b=C._funMap;c=C.fun_intv;null!=n.f5124v?b.setReserved("f5124v",c):b.h.f5124v=c;b=C._funMap;c=C.fun_float;null!=n.f5126?b.setReserved("f5126",c):b.h.f5126=c;b=C._funMap;c=C.fun_floatv;null!=n.f5126v?b.setReserved("f5126v",c):b.h.f5126v=c;b=C._funMap;c=C.fun_int;null!=n.f35678?b.setReserved("f35678",c):b.h.f35678=c}b="f"+a;0>this.index&&(b+=-2==this.index?"v":"");c=C._funMap;(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))?(a=C._funMap,this._handler=null!=n[b]?a.getReserved(b):
a.h[b]):console.log("errot "+a)},__class__:C};var uh=function(a,b,c){this.name=a;this.id=b;this.semantics=c;this.size=0};h["lovedna.graphic.ShaderVertexInput"]=uh;uh.__name__=["lovedna","graphic","ShaderVertexInput"];uh.prototype={name:null,id:null,semantics:null,size:null,__class__:uh};var Ba=h["lovedna.graphic.StencilAction"]={__ename__:["lovedna","graphic","StencilAction"],__constructs__:"Keep Zero Replace Increment IncrementWrap Decrement DecrementWrap Invert".split(" ")};Ba.Keep=["Keep",0];Ba.Keep.toString=
A;Ba.Keep.__enum__=Ba;Ba.Zero=["Zero",1];Ba.Zero.toString=A;Ba.Zero.__enum__=Ba;Ba.Replace=["Replace",2];Ba.Replace.toString=A;Ba.Replace.__enum__=Ba;Ba.Increment=["Increment",3];Ba.Increment.toString=A;Ba.Increment.__enum__=Ba;Ba.IncrementWrap=["IncrementWrap",4];Ba.IncrementWrap.toString=A;Ba.IncrementWrap.__enum__=Ba;Ba.Decrement=["Decrement",5];Ba.Decrement.toString=A;Ba.Decrement.__enum__=Ba;Ba.DecrementWrap=["DecrementWrap",6];Ba.DecrementWrap.toString=A;Ba.DecrementWrap.__enum__=Ba;Ba.Invert=
["Invert",7];Ba.Invert.toString=A;Ba.Invert.__enum__=Ba;var ob=function(){this.location=-1;this.id=ob._ID++;ob._map.h[this.id]=this;this._bindTime=0;this._dirty=!1;this.size=new la(0,0);this.enabled=!1;this.magFilterMode=this.minFilterMode=9729};h["lovedna.graphic.Texture"]=ob;ob.__name__=["lovedna","graphic","Texture"];ob.prototype={id:null,size:null,enabled:null,location:null,minFilterMode:null,magFilterMode:null,_data:null,_texture:null,_bindTime:null,_dirty:null,_minFilterMode:null,_magFilterMode:null,
Upload:function(a){this._data=a;this.size.Set(a.width,a.height);this.enabled=this._dirty=!0},Unload:function(){null!=this._texture&&(this.enabled=!1,e.context.__context.deleteTexture(this._texture),this._texture=null,ob._map.remove(this.id))},Bind:function(){this._bindTime=.001*(new Date).getTime()+za._timeOffset;if(!(0>this.location)){this._dirty&&(this._dirty=!1,null!=this._data&&y.__instanceof(this._data,da)&&this.uploadFromBitmapData(this._data));e.context.__context.activeTexture(33984+this.location);
e.context.__context.bindTexture(3553,this._texture);if(this._magFilterMode!=this.magFilterMode)if(this._magFilterMode=this.magFilterMode,-1!=this._magFilterMode)e.context.__context.texParameteri(3553,10240,this._magFilterMode);else{var a=tb.GetTextureFilterAnisotropic().maxAnisotropy;e.context.__context.texParameteri(3553,10240,a)}this._minFilterMode!=this.minFilterMode&&(this._minFilterMode=this.minFilterMode,null!=this._minFilterMode?e.context.__context.texParameteri(3553,10241,this._minFilterMode):
(a=tb.GetTextureFilterAnisotropic().maxAnisotropy,e.context.__context.texParameteri(3553,10241,a)))}},uploadFromBitmapData:function(a){a=a.image;null==a.get_data()&&(a=new da(2,2,!1,16777215*Math.random()|0),this.size.Set(2,2),a=a.image,pa.Warn("image data is null",{fileName:"Texture.hx",lineNumber:139,className:"lovedna.graphic.Texture",methodName:"uploadFromBitmapData"}));this.uploadFromUInt8Array(a.get_data())},uploadFromUInt8Array:function(a){null==this._texture&&(this._texture=e.context.__context.createTexture(),
ob._map.h[this.id]=this);e.context.__context.bindTexture(3553,this._texture);e.context.__context.texParameteri(3553,10240,this.magFilterMode);e.context.__context.texParameteri(3553,10241,this.minFilterMode);var b=this.size.x|0,c=this.size.y|0;0<b&&0==(b&b-1)&&0<c&&0==(c&c-1)?(e.context.__context.texParameteri(3553,10242,10497),e.context.__context.texParameteri(3553,10243,10497)):(e.context.__context.texParameteri(3553,10242,33071),e.context.__context.texParameteri(3553,10243,33071));0>ob.__textureFormat&&
(ob.__textureFormat=tb.GetTextureFormat(),ob.__textureInternalFormat=tb.GetTextureInternalFormat());e.context.texImage2D(3553,0,ob.__textureInternalFormat,b,c,0,ob.__textureFormat,5121,a,null)},__class__:ob};var vh=function(){this.stencilBuffer=!1};h["lovedna.graphic.TextureRenderTarget"]=vh;vh.__name__=["lovedna","graphic","TextureRenderTarget"];vh.__super__=ob;vh.prototype=w(ob.prototype,{stencilBuffer:null,_frameBuffer:null,_renderBuffer:null,_resize:null,Select:function(){this._resize&&(this._resize=
!1,null!=this._frameBuffer&&(e.context.__context.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),null!=this._renderBuffer&&(e.context.__context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null));if(!(1>this.size.x||1>this.size.y)){if(null==this._frameBuffer){var a=this.size.x|0,b=this.size.y|0;this._frameBuffer=e.context.__context.createFramebuffer();e.context.__context.bindFramebuffer(36160,this._frameBuffer);this._renderBuffer=e.context.__context.createRenderbuffer();
e.context.__context.bindRenderbuffer(36161,this._renderBuffer);this.stencilBuffer?(e.context.__context.renderbufferStorage(36161,34041,a,b),e.context.__context.framebufferRenderbuffer(36160,33306,36161,this._renderBuffer)):(e.context.__context.renderbufferStorage(36161,33189,a,b),e.context.__context.framebufferRenderbuffer(36160,36096,36161,this._renderBuffer));this.uploadFromUInt8Array(null);e.context.__context.framebufferTexture2D(36160,36064,3553,this._texture,0);e.context.__context.bindFramebuffer(36160,
null);e.context.__context.bindRenderbuffer(36161,null)}e.context.__context.bindFramebuffer(36160,this._frameBuffer);e.context.__context.bindTexture(3553,this._texture);this.location=0}},__class__:vh});var Pb=h["lovedna.graphic.Usage"]={__ename__:["lovedna","graphic","Usage"],__constructs__:["StaticUsage","DynamicUsage","ReadableUsage"]};Pb.StaticUsage=["StaticUsage",0];Pb.StaticUsage.toString=A;Pb.StaticUsage.__enum__=Pb;Pb.DynamicUsage=["DynamicUsage",1];Pb.DynamicUsage.toString=A;Pb.DynamicUsage.__enum__=
Pb;Pb.ReadableUsage=["ReadableUsage",2];Pb.ReadableUsage.toString=A;Pb.ReadableUsage.__enum__=Pb;var hd=function(a){Ob.call(this);null==a&&(a=Pb.StaticUsage);this._usage=a;this._structure=new wh};h["lovedna.graphic.VertexBuffer"]=hd;hd.__name__=["lovedna","graphic","VertexBuffer"];hd.__super__=Ob;hd.prototype=w(Ob.prototype,{_data:null,_bufferData:null,_structure:null,Upload:function(a,b){null==b&&(b=-1);this._data=a;0>=b&&(b=this._data.length);b>this._data.length&&(b=this._data.length);this._dirty=
!0;this.length=b},Bind:function(){Ob.prototype.Bind.call(this);if(this._dirty){this._dirty=!1;if(null==this._bufferData){var a=this._data;this._bufferData=null!=a?new ka(a):null}else if(a=this.length,a>this._bufferData.length)a=this._data,this._bufferData=null!=a?new ka(a):null;else for(;0<a--;)this._bufferData[a]=this._data[a];this.createBuffer();e.context.__context.bindBuffer(34962,this._buffer);e.context.bufferData(34962,4*this.length,this._bufferData,this._usage==Pb.DynamicUsage?35048:35044,null,
null);this._structure.Bind()}else null!=this._buffer&&(e.context.__context.bindBuffer(34962,this._buffer),this._structure.Bind())},Unbind:function(){null!=this._buffer&&this._structure.Unbind()},__class__:hd});var Gf=function(a,b){this.offset=0;this.name=a;this.mode=b};h["lovedna.graphic.VertexElement"]=Gf;Gf.__name__=["lovedna","graphic","VertexElement"];Gf.prototype={id:null,name:null,mode:null,offset:null,__class__:Gf};var wh=function(){this._elements=new ia;this._map=new B;this.stride=0;this._init=
!1;this.count=0};h["lovedna.graphic.VertexStructure"]=wh;wh.__name__=["lovedna","graphic","VertexStructure"];wh.prototype={count:null,stride:null,_map:null,_elements:null,_init:null,Add:function(a,b){if("indexed"==a){var c=new Gf(a,b);this._elements.Add(c)}else if(c=this._map,null!=n[a]?!c.existsReserved(a):!c.h.hasOwnProperty(a)){c=new Gf(a,b);this._elements.Add(c);var d=this._map;null!=n[a]?d.setReserved(a,c):d.h[a]=c}},Bind:function(){var a=ec.active,b=this._elements._length;this.count=b;if(!(1>
b)){if(!this._init){this._init=!0;for(var c=this.stride=0,d=!0,f=0;f<b;){var q=f++,k=this._elements.Get(q);k.id=q;"indexed"==k.name?d=!1:(null!=a&&(k.id=a.GetLocation(k.name)),-1==k.id&&(k.id=q,d=!1))}d&&this._elements.Sort(p(this,this.sort));for(a=0;a<b;)d=a++,d=this._elements.Get(d),f=4*d.mode,d.offset=c,this.stride+=f,c+=f}for(c=0;c<b;)a=c++,q=this._elements.Get(a),a=q.id,e.context.__context.enableVertexAttribArray(a),d=q.mode,f=this.stride,q=Za.fromInt(q.offset),e.context.__context.vertexAttribPointer(a,
d,5126,!1,f,q)}},Unbind:function(){var a=this._elements._length;if(!(1>a)&&this._init)for(var b=0;b<a;){var c=b++,c=this._elements.Get(c).id;e.context.__context.disableVertexAttribArray(c)}},sort:function(a,b){return a.id>b.id?1:-1},__class__:wh};var Qd=function(){};h["lovedna.graphic.extensions.GLExtension"]=Qd;Qd.__name__=["lovedna","graphic","extensions","GLExtension"];Qd.prototype={__class__:Qd};var se=function(){this.textureFormat=this.internalFormat=6408};h["lovedna.graphic.extensions.TextureBgra"]=
se;se.__name__=["lovedna","graphic","extensions","TextureBgra"];se.__super__=Qd;se.prototype=w(Qd.prototype,{textureFormat:null,internalFormat:null,__class__:se});var Ff=function(){var a=e.context.__context.getExtension("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.context.__context.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameterAnisotropy=a.TEXTURE_MAX_ANISOTROPY_EXT};h["lovedna.graphic.extensions.TextureFilterAnisotropic"]=Ff;Ff.__name__=["lovedna","graphic","extensions",
"TextureFilterAnisotropic"];Ff.__super__=Qd;Ff.prototype=w(Qd.prototype,{maxAnisotropy:null,parameterAnisotropy:null,__class__:Ff});var pe=function(){this._auto=!1;this.holdTime=.5;ea.call(this)};h["lovedna.input.TouchManager"]=pe;pe.__name__=["lovedna","input","TouchManager"];pe.__interfaces__=[Kd];pe.__super__=ha;pe.prototype=w(ha.prototype,{holdTime:null,_stage:null,_activeTouchCount:null,_activePoint:null,_touchType:null,_reseted:null,_touchCount:null,_touchList:null,_activeTouchList:null,_auto:null,
_userAction:null,_hasMouseDown:null,_touchIdMap:null,_touchIdList:null,Reset:function(){if(!this._reseted){this._reseted=!0;this._activeTouchList.Clear();for(var a=this._touchCount,a=this._touchCount;0<a--;){var b=this._touchList[a];b.ClearObject();b.active&&this._activeTouchList.Add(b)}this._activeTouchCount=this._activeTouchList._length}},AddObject:function(a,b){this._reseted&&(a>=this._touchCount||this._touchList[a].AddObject(b))},Update:function(){if(this._reseted){this._reseted=!1;for(var a=
.001*(new Date).getTime()+za._timeOffset,b=this._touchCount;0<b--;){var c=this._touchList[b];if(c.active){c.userAction=!0;var d=c.HasAction(1);!c.HasAction(4)&&d&&a-c.time.x>=this.holdTime&&c.AddAction(4);var d=c.IsAction(1),f=c.IsAction(4),e=c.IsAction(2),k=c.IsAction(3);c.Update();this._userAction=!1;d&&(c.action=1,this.doAction(c));e&&(c.motion.Copy(c.position),c.motion.Sub(c.lastPosition),c.lastPosition.Copy(c.position),c.lastTime.y=c.time.y,c.time.y=a,c.action=2,this.doAction(c));f&&(c.action=
4,this.doAction(c));k&&(c.action=3,this.doAction(c),c.End());this._userAction||(c.action=5,this.doAction(c));c.motion.Set(0,0)}else c.userAction=!1}}},AutoTrigger:function(a){this._auto!=a&&(a?Ca.Add(this):Ca.Remove(this));return this},OnTriggerEnter:function(a){},OnTrigger:function(a){this.Reset();this.Update();return!0},OntriggerExit:function(a){},onConstruct:function(){ha.prototype.onConstruct.call(this);this._touchType=this._activeTouchCount=0;this._reseted=!1;this._touchCount=0;this._touchList=
[];this._activeTouchList=new ia;this._activePoint=0;this._hasMouseDown=!1;this._stage=Ha.get_stage();if(null!=this._stage){this._touchCount=1;this._stage.addEventListener("mouseDown",p(this,this.stage_mouseHandler));this._stage.addEventListener("mouseMove",p(this,this.stage_mouseHandler));this._stage.addEventListener("mouseUp",p(this,this.stage_mouseHandler));this._stage.addEventListener("rightClick",p(this,this.stage_mouseHandler));if(Cc.get_supportsTouchEvents()||1<Cc.maxTouchPoints)this._touchCount=
10,Cc.inputMode=2,this._stage.addEventListener("touchBegin",p(this,this.stage_touchHandler)),this._stage.addEventListener("touchMove",p(this,this.stage_touchHandler)),this._stage.addEventListener("touchEnd",p(this,this.stage_touchHandler));this._touchIdList=[];for(var a=0,b=this._touchCount;a<b;){var c=a++;this._touchList.push(new gd(c));this._touchIdList[c]=-1}this._touchIdMap=new Ua}},Dispose:function(){ha.prototype.Dispose.call(this);this._stage=null;for(var a=this._touchList.length;0<a--;)this._touchList[a].Dispose();
this._activeTouchList=this._touchList=null},stage_mouseHandler:function(a){var b=a.type;if("mouseDown"==b||this._hasMouseDown)if(0==this._activePoint&&(this._touchType=0),2!=this._touchType){pa.Log(" mouse "+a.type+" "+this._activeTouchCount+" "+this._touchType,{fileName:"TouchManager.hx",lineNumber:246,className:"lovedna.input.TouchManager",methodName:"stage_mouseHandler"});this._touchType=1;var c=0;"mouseDown"==b?(c=1,this._hasMouseDown=!0,this._activePoint=1):"mouseMove"==b?c=2:"mouseUp"==b&&(c=
3,this._hasMouseDown=!1,this._activePoint=0);this.updateTouch(c,0,a.stageX,a.stageY)}},stage_touchHandler:function(a){0==this._activePoint&&(this._touchType=0);this._hasMouseDown=!1;this._touchType=2;var b=0,c=a.type,d=0;"touchMove"==c?(b=2,d=this._touchIdMap.h[a.touchPointID]):"touchBegin"==c?(b=1,d=this.popTouchId(),this._touchIdMap.h[a.touchPointID]=d,this._activePoint++):"touchEnd"==c&&(b=3,d=this._touchIdMap.h[a.touchPointID],this._activePoint--,this._touchIdMap.remove(a.touchPointID),this.pushTouchId(d));
"touchMove"!=c&&pa.Log(d+" touch "+a.type,{fileName:"TouchManager.hx",lineNumber:299,className:"lovedna.input.TouchManager",methodName:"stage_touchHandler"});-1!=d&&this.updateTouch(b,d,a.stageX,a.stageY)},updateTouch:function(a,b,c,d){if(!(10<=b)){b=this._touchList[b];var f=.001*(new Date).getTime()+za._timeOffset;if(2==a){if(!b.active||b.position.x==c&&b.position.y==d)return}else 1==a?(b.Begin(),b.lastTime.x=b.time.x,b.time.x=f,b.lastTime.y=b.time.y=0,b.down.Set(c,d),b.active=!0,b.motion.Set(0,
0),b.lastPosition.Set(c,d)):3==a&&(b.lastTime.z=b.time.z,b.time.z=f);b.position.Set(c,d);b.userAction=!0;b.AddAction(a)}},doAction:function(a){this._userAction=!0;M.TOUCH_CHANGE.get_touch().Copy(a);this.DispatchEvent(M.TOUCH_CHANGE)},popTouchId:function(){for(var a=0;10>a;){var b=a++;if(-1==this._touchIdList[b])return this._touchIdList[b]=b}return-1},pushTouchId:function(a){this._touchIdList[a]=-1},__class__:pe});var Bc=function(){this._dirty=!1;var a=new xa;a.x=1.79769313486231E308;a.y=1.79769313486231E308;
a.z=1.79769313486231E308;this.min=a;a=new xa;a.x=-1.79769313486231E308;a.y=-1.79769313486231E308;a.z=-1.79769313486231E308;this.max=a;this._center=new xa};h["lovedna.math.Box3"]=Bc;Bc.__name__=["lovedna","math","Box3"];Bc.prototype={min:null,max:null,_center:null,_dirty:null,Copy:function(a){if(a==this)return this;var b=this.min,c=a.min;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this.max;c=a.max;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this._center;a=a._center;a!=b&&(b.x=a.x,b.y=a.y,b.z=a.z);this._dirty=!0;return this},
Reset:function(){var a=this.min;a.x=1.79769313486231E308;a.y=1.79769313486231E308;a.z=1.79769313486231E308;a=this.max;a.x=-1.79769313486231E308;a.y=-1.79769313486231E308;a.z=-1.79769313486231E308;return this},ExpandByVertex:function(a){var b=this.min;b.x>a.x&&(b.x=a.x);b.y>a.y&&(b.y=a.y);b.z>a.z&&(b.z=a.z);b=this.max;b.x<a.x&&(b.x=a.x);b.y<a.y&&(b.y=a.y);b.z<a.z&&(b.z=a.z);return this},ApplyMat4:function(a){var b=Bc._helpVec0,c=Bc._helpVec1,d=this.min;d!=b&&(b.x=d.x,b.y=d.y,b.z=d.z);d=this.max;d!=
c&&(c.x=d.x,c.y=d.y,c.z=d.z);this.Reset();d=this._center;b!=d&&(d.x=b.x,d.y=b.y,d.z=b.z);this.ExpandByVertex(a.TransformVector3(d));d=this._center;d.x=b.x;d.y=b.y;d.z=c.z;this.ExpandByVertex(a.TransformVector3(d));d=this._center;d.x=b.x;d.y=c.y;d.z=b.z;this.ExpandByVertex(a.TransformVector3(d));d=this._center;d.x=b.x;d.y=c.y;d.z=c.z;this.ExpandByVertex(a.TransformVector3(d));d=this._center;d.x=c.x;d.y=b.y;d.z=b.z;this.ExpandByVertex(a.TransformVector3(d));d=this._center;d.x=c.x;d.y=b.y;d.z=c.z;this.ExpandByVertex(a.TransformVector3(d));
d=this._center;d.x=c.x;d.y=c.y;d.z=b.z;this.ExpandByVertex(a.TransformVector3(d));b=this._center;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);this.ExpandByVertex(a.TransformVector3(b));return this},GetCenter:function(){var a=this._center,b=this.min;b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);b=this.max;a.x+=b.x;a.y+=b.y;a.z+=b.z;a.x*=.5;a.y*=.5;a.z*=.5;return this._center},GetSize:function(){var a=Bc._helpVec0,b=this.max,c=this.min;null==c?(a.x-=b.x,a.y-=b.y,a.z-=b.z):(a.x=b.x-c.x,a.y=b.y-c.y,a.z=b.z-c.z);return a},__class__:Bc};
var le=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.a=1;this.r=this.g=this.b=0;this.set_r(a);this.set_g(b);this.set_b(c);this.set_a(d);this.dirty=!0};h["lovedna.math.Color"]=le;le.__name__=["lovedna","math","Color"];le.prototype={r:null,g:null,b:null,a:null,dirty:null,Copy:function(a){if(a==this)return this;this.set_r(a.r);this.set_g(a.g);this.set_b(a.b);this.set_a(a.a);return this},Sub:function(a,b){null==b?(this.set_r(this.r-a.r),this.set_g(this.g-a.g),this.set_b(this.b-
a.b),this.set_a(this.a-a.a)):(this.set_r(a.r-b.r),this.set_g(a.g-b.g),this.set_b(a.b-b.b),this.set_a(a.a-b.a));this.dirty=!0;return this},set_r:function(a){a!=this.r&&(this.r=a,this.dirty=!0);return a},set_g:function(a){a!=this.g&&(this.g=a,this.dirty=!0);return a},set_b:function(a){a!=this.b&&(this.b=a,this.dirty=!0);return a},set_a:function(a){a!=this.a&&(this.a=a,this.dirty=!0);return a},set_rgba:function(a){this.set_r(.00392156863*(a>>24&255));this.set_g(.00392156863*(a>>16&255));this.set_b(.00392156863*
(a>>8&255));this.set_a(.00392156863*(a&255));this.dirty=!0;return a},__class__:le,__properties__:{set_rgba:"set_rgba",set_a:"set_a",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var jd=function(){this.planes=[];for(var a=6;0<a--;)this.planes.push(new te)};h["lovedna.math.Frustum"]=jd;jd.__name__=["lovedna","math","Frustum"];jd.prototype={planes:null,FromMatrix:function(a){var b=a.d0,c=a.d1,d=a.d2,f=a.d3,e=a.d4,k=a.d5,t=a.d6,l=a.d7,g=a.d8,h=a.d9,m=a.d10,n=a.d11,p=a.d12,r=a.d13,w=a.d14;a=a.d15;this.planes[0].Set(f+
d,l+t,n+m,a+w);this.planes[1].Set(f-d,l-t,n-m,a-w);this.planes[2].Set(f+b,l+e,n+g,a+p);this.planes[3].Set(f-b,l-e,n-g,a-p);this.planes[4].Set(f-c,l-k,n-h,a-r);this.planes[5].Set(f+c,l+k,n+h,a+r);return this},ContainsPoint:function(a,b){null==b&&(b=0);for(var c=6;0<c--;)if(this.planes[c].DistanceToPoint(a)<-b)return!1;return!0},IntersectsBox:function(a){if(null==a)return!1;for(var b=jd._helpVec0,c=jd._helpVec1,d=6;0<d--;){var f=this.planes[d],e=f.normal.x,k=f.normal.y,h=f.normal.z;b.x=0<e?a.min.x:
a.max.x;b.y=0<k?a.min.y:a.max.y;b.z=0<h?a.min.z:a.max.z;c.x=0<e?a.max.x:a.min.x;c.y=0<k?a.max.y:a.min.y;c.z=0<h?a.max.z:a.min.z;if(0>f.DistanceToPoint(b)&&0>f.DistanceToPoint(c))return!1}return!0},__class__:jd};var te=function(){this._vec3=te._helpVec3;var a=new xa;a.x=0;a.y=0;a.z=1;this.normal=a;this.length=0};h["lovedna.math.Plane"]=te;te.__name__=["lovedna","math","Plane"];te.prototype={normal:null,length:null,_vec3:null,DistanceToPoint:function(a){var b=this.normal;return b.x*a.x+b.y*a.y+b.z*
a.z+this.length},Set:function(a,b,c,d){var f=this.normal;f.x=a;f.y=b;f.z=c;this.length=d;this.Normalize()},Normalize:function(){var a=this.normal,a=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),b=this.normal;b.x*=a;b.y*=a;b.z*=a;this.length*=a},__class__:te};var $c=function(a){null==a&&(a=-1);0>a&&(a=2147483647*Math.random()|0);this._seed=a};h["lovedna.math.Random"]=$c;$c.__name__=["lovedna","math","Random"];$c.prototype={_seed:null,Get:function(){this._seed^=this._seed>>11;this._seed^=this._seed<<7&-1658038656;
this._seed^=this._seed<<15&-272236544;return this._seed^=this._seed>>18},GetFloat:function(){var a=this.Get()/2147483646,b=U.Exp(10,9);return(a*b|0)/b},__class__:$c};var Id=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this._vec2=new la;this.x=a;this.y=b;this.width=c;this.height=d};h["lovedna.math.Rect"]=Id;Id.__name__=["lovedna","math","Rect"];Id.prototype={x:null,y:null,width:null,height:null,_vec2:null,Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&
(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d;return this},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:Id,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};var Df=function(){this.center=new xa;this.radius=0};h["lovedna.math.Sphere"]=Df;Df.__name__=["lovedna","math","Sphere"];Df.prototype={center:null,radius:null,Copy:function(a){if(a==this)return this;var b=this.center,c=a.center;c!=b&&(b.x=c.x,b.y=c.y,
b.z=c.z);this.radius=a.radius;return this},ApplyMat4:function(a){a.TransformVector3(this.center);this.radius*=a.GetMaxScaleOnAxis();return this},__class__:Df};var Zc=function(){this.playBackground=!0;ea.call(this)};h["lovedna.media.AudioClip"]=Zc;Zc.__name__=["lovedna","media","AudioClip"];Zc.__super__=ha;Zc.prototype=w(ha.prototype,{resource:null,playing:null,paused:null,duration:null,position:null,soundTransform:null,timeOffset:null,playBackground:null,_range:null,_active:null,_volume:null,_loop:null,
_playTime:null,_channel:null,_lastTime:null,_passTime:null,Play:function(){this.playing||(this.playing=!0,null!=this.resource&&this.resource.enabled?this._play():this._playTime=.001*(new Date).getTime()+za._timeOffset)},onConstruct:function(){ha.prototype.onConstruct.call(this);this._range=new la(0,1);this.paused=this.playing=!1;this._volume=this._loop=1;this._active=!0;this._playTime=-1;this.duration=0;this.soundTransform=new md;this.soundTransform.volume=1;this.soundTransform.pan=-1;this.position=
0;this.timeOffset=!1;this._passTime=this._lastTime=0;this.playBackground=!1},res_init:function(){this.resource.RemoveEventListener(M.INIT._type,p(this,this.res_init));this.duration=(this._range.y-this._range.x)*this.resource.length;this.DispatchEvent(M.INIT);if(this.playing){if(this.timeOffset&&-1!=this._playTime&&(this.position=(.001*(new Date).getTime()+za._timeOffset-this._playTime)/this.duration,1<=this.position)){var a=this.position|0;this.position%=1;if(0<this._loop)if(this._loop-=a,0<this._loop)this.DispatchEvent(M.LOOP);
else{this.playing=!1;this._loop=1;this.DispatchEvent(M.FINISH);return}}this._play()}},onUpdate:function(a){this._active!=Ha.active?((this._active=Ha.active)&&this._play(),this.playBackground||this._active||(this.playing=!1,null!=this._channel&&(this._channel.stop(),this._channel=null))):this._active&&(a=.001*(new Date).getTime()+za._timeOffset,this._passTime+=a-this._lastTime,this._lastTime=a,this.position=this._passTime/this.duration,this._passTime>=this.duration&&(this._lastTime=this.position=0,
this._finish()))},_play:function(){if(null!=this.resource&&this.resource.enabled){this._passTime=this.position*this.duration;null!=this._channel&&(this._channel.stop(),this._channel=null);var a=Math.floor(1E3*(this._range.x*this.resource.length+this._passTime))|0;this.soundTransform.volume=this._volume;this._channel=this.resource.sound.play(a,0,this.soundTransform);Ha.get_stage().addEventListener("enterFrame",p(this,this.onUpdate));this.DispatchEvent(M.START);this._lastTime=.001*(new Date).getTime()+
za._timeOffset;this.playing=!0}},_finish:function(){Ha.get_stage().removeEventListener("enterFrame",p(this,this.onUpdate));null!=this._channel&&(this._channel.stop(),this._channel=null);0<this._loop?(this._loop--,0<this._loop?(this._play(),this.playing&&this.DispatchEvent(M.LOOP)):(this.playing=!1,this._loop=1,this.DispatchEvent(M.FINISH))):(this._play(),this.playing&&this.DispatchEvent(M.LOOP))},set_resource:function(a){Ha.get_stage().removeEventListener("enterFrame",p(this,this.onUpdate));null!=
this.resource&&(this.resource.enabled||this.resource.RemoveEventListener(M.INIT._type,p(this,this.res_init)));this.resource=a;null!=this.resource&&(this.resource.enabled?this.res_init():this.resource.AddEventListener(M.INIT._type,p(this,this.res_init)));return this.resource},__class__:Zc,__properties__:{set_resource:"set_resource"}});var fc=function(){ea.call(this)};h["lovedna.net.AssetData"]=fc;fc.__name__=["lovedna","net","AssetData"];fc.GetKey=function(a,b){null==fc._url&&(fc._url=new ga);null==
a&&(a="");if(null==b||1>b.length)throw new r("path error");fc._url.Set(ga.Combine(a,b));return fc._url.toString()};fc.__super__=ha;fc.prototype=w(ha.prototype,{key:null,type:null,path:null,url:null,request:null,reloadCount:null,reloadTime:null,requireBytes:null,fromLocal:null,bytesTotal:null,bytesLoaded:null,bytes:null,text:null,image:null,sound:null,font:null,userData:null,Set:function(a,b,c){if(null!=this.request)return this;this.url=this.path=a;ga.IsHttp(this.url)||null==c||(this.url=ga.Combine(c,
this.url));this.key=fc.GetKey(c,a);if(null==b)switch(ga.Extension(a).toLowerCase()){case "gif":case "jpeg":case "jpg":case "png":b=oa.IMAGE;break;case "mp2":case "mp3":b=oa.SOUND;break;case "m4a":case "ogg":case "wav":b=oa.SOUND;break;case "otf":case "ttf":b=oa.FONT;break;case "css":case "json":case "plist":case "svg":case "text":case "txt":case "xml":b=oa.TEXT;break;default:b=oa.BINARY}this.type=b;this.type==oa.SOUND&&(this.requireBytes=!1);this.request=new ue(this.url);return this},Clone:function(){var a=
new fc;a.key=this.key;a.bytes=this.bytes;a.font=this.font;a.image=this.image;a.path=this.path;a.request=this.request;a.sound=this.sound;a.text=this.text;a.type=this.type;a.url=this.url;a.userData=this.userData;return a},onConstruct:function(){ha.prototype.onConstruct.call(this);this.reloadCount=1;this.reloadTime=.5;this.fromLocal=!1;this.requireBytes=!0;this.bytesTotal=this.bytesLoaded=0},__class__:fc});var Hf=function(){ea.call(this)};h["lovedna.net.AssetsProgress"]=Hf;Hf.__name__=["lovedna","net",
"AssetsProgress"];Hf.__super__=ha;Hf.prototype=w(ha.prototype,{total:null,bytesTotal:null,bytesLoaded:null,__class__:Hf});var Ra=function(){ea.call(this);this._local=Pc.GetInstance();this._url=new ga;this._loading=!1;this._list=[];this._dataLoader=new Rd;this._dataLoader.dataFormat=0;this._contentLoader=new If;this._dataLoader.addEventListener("ioError",p(this,this.loader_ioError));this._dataLoader.addEventListener("progress",p(this,this.loader_progress));this._contentLoader.contentLoaderInfo.addEventListener("ioError",
p(this,this.loader_ioError));this._contentLoader.contentLoaderInfo.addEventListener("progress",p(this,this.loader_progress));this._dataLoader.addEventListener("complete",p(this,this.dataLoader_complete));this._contentLoader.contentLoaderInfo.addEventListener("complete",p(this,this.contentLoader_complete));Ha.get_stage().addEventListener("activate",p(this,this.activeHandler));Ha.get_stage().addEventListener("deactivate",p(this,this.activeHandler));this._active=!0;this._delayCall=new mb(p(this,this.load))};
h["lovedna.net.AssetsLoader"]=Ra;Ra.__name__=["lovedna","net","AssetsLoader"];Ra.SetRoot=function(a){};Ra.__super__=ha;Ra.prototype=w(ha.prototype,{current:null,_list:null,_dataLoader:null,_contentLoader:null,_loading:null,_delayCall:null,_local:null,_url:null,_active:null,Load:function(a,b){var c=fc.GetKey(Ra._root,a),d=Ra._map;if(null!=n[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return d=Ra._map,null!=n[c]?d.getReserved(c):d.h[c];d=new fc;d.Set(a,b,Ra._root);var f=Ra._map;null!=n[c]?f.setReserved(c,
d):f.h[c]=d;this._list.push(d);this.updateTotal();null==this.current&&mb.Add(this._delayCall,.1);return d},load:function(){!this._active||this._loading||1>this._list.length||(null==this.current&&(this.current=this._list.shift()),this._loading=!0,this.reload())},reload:function(){if(this._active&&null!=this.current){var a=this.current.path;pa.Log("load "+a,{fileName:"AssetsLoader.hx",lineNumber:148,className:"lovedna.net.AssetsLoader",methodName:"reload"});if(this.current.fromLocal){this._url.Set(a);
var b=this._local.GetSavePath(this._url.toString());if(this._local.Exists(b)){this.current.bytes=this._local.GetBytes(b);this.dataLoader_complete(null);return}}if(this.current.requireBytes&&Z.exists(a,"BINARY"))this.current.bytes=Z.getBytes(a),this.dataLoader_complete(null);else if(b=this.current.type,b==oa.IMAGE&&Z.exists(a,"IMAGE"))this.current.image=Z.getBitmapData(a),this.assetComplete();else if(b==oa.TEXT&&Z.exists(a,"TEXT"))this.current.text=Z.getText(a),this.assetComplete();else if(b==oa.SOUND&&
(Z.exists(a,"SOUND")&&(this.current.sound=Z.getSound(a),this.assetComplete()),Z.exists(a,"MUSIC")&&(this.current.sound=Z.getMusic(a),this.assetComplete())),b==oa.BINARY&&Z.exists(a,"BINARY"))this.current.bytes=Z.getBytes(a),this.assetComplete();else if(b==oa.FONT&&Z.exists(a,"FONT"))this.current.font=Z.getFont(a),this.assetComplete();else if(Z.exists(a,"BINARY"))this.current.bytes=Z.getBytes(a),this.dataLoader_complete(null);else{ga.IsHttp(this.current.request.url);a=this.current.requireBytes;b==
oa.SOUND&&(a=!1);if(!a){if(b==oa.IMAGE){this._contentLoader.load(this.current.request);pa.Log("load image "+this.current.path,{fileName:"AssetsLoader.hx",lineNumber:237,className:"lovedna.net.AssetsLoader",methodName:"reload"});return}if(b==oa.SOUND){a=new Qc;a.addEventListener("complete",p(this,this.soundLoader_complete));a.addEventListener("ioError",p(this,this.soundLoader_ioError));a.load(this.current.request);pa.Log("load sound "+this.current.request.url,{fileName:"AssetsLoader.hx",lineNumber:246,
className:"lovedna.net.AssetsLoader",methodName:"reload"});return}}this._dataLoader.load(this.current.request);pa.Log("load data "+this.current.request.url,{fileName:"AssetsLoader.hx",lineNumber:251,className:"lovedna.net.AssetsLoader",methodName:"reload"})}}},activeHandler:function(a){this._active="activate"==a.type},loader_progress:function(a){this.current.bytesLoaded=a.bytesLoaded;this.current.bytesTotal=a.bytesTotal;this.DispatchEvent(M.PROGRESS.SetProgress(this.current.bytesLoaded,this.current.bytesTotal));
Ra.progress.bytesLoaded=a.bytesLoaded;Ra.progress.bytesTotal=a.bytesTotal;Ra.progress.DispatchEvent(M.PROGRESS)},loader_ioError:function(a){0<=this.current.reloadCount?(pa.Warn(this.current.url+" reload "+this.current.reloadCount,{fileName:"AssetsLoader.hx",lineNumber:271,className:"lovedna.net.AssetsLoader",methodName:"loader_ioError"}),this.current.reloadCount--,this.reload()):(pa.Warn(this.current.url+" load error",{fileName:"AssetsLoader.hx",lineNumber:276,className:"lovedna.net.AssetsLoader",
methodName:"loader_ioError"}),this._loading=!1,this.current=null,this.load())},soundLoader_ioError:function(a){a=a.target;a.removeEventListener("complete",p(this,this.soundLoader_complete));a.removeEventListener("ioError",p(this,this.soundLoader_ioError));0<=this.current.reloadCount?(this.current.reloadCount--,this.reload()):(pa.Warn(this.current.url+" load error",{fileName:"AssetsLoader.hx",lineNumber:294,className:"lovedna.net.AssetsLoader",methodName:"soundLoader_ioError"}),this._loading=!1,this.current=
null,this.load())},soundLoader_complete:function(a){a=a.target;a.removeEventListener("complete",p(this,this.soundLoader_complete));a.removeEventListener("ioError",p(this,this.soundLoader_ioError));this.current.sound=a;this.assetComplete()},contentLoader_complete:function(a){this.current.type==oa.IMAGE&&(this.current.image=this._contentLoader.content.bitmapData);null!=this._contentLoader.contentLoaderInfo.bytes&&(this.current.bytes=this._contentLoader.contentLoaderInfo.bytes);this.assetComplete()},
dataLoader_complete:function(a){if(null!=a){a=this._dataLoader.data;var b=new hc(0);b.writeBytes(a);b.position=0;this.current.bytes=b;this._url.Set(this.current.path);var c=this._local.GetSavePath(this._url.toString());this._local.SetBytes(c,b)}else a=this.current.bytes;c=this.current.type;pa.Log(this.current.path+" loaded "+F.string(c),{fileName:"AssetsLoader.hx",lineNumber:340,className:"lovedna.net.AssetsLoader",methodName:"dataLoader_complete"});b=!0;c!=oa.BINARY&&(c==oa.IMAGE?(b=!1,da.loadFromBytes(a).onComplete(p(this,
this.fromBytesComplete))):c==oa.SOUND?(a=lb.fromBytes(hf.ToBytes(a)),a=Qc.fromAudioBuffer(a),this.current.sound=a):c!=oa.FONT&&c==oa.TEXT&&(c=$a.get_length(a),this.current.text=a.readUTFBytes(c)));b&&this.assetComplete()},fromBytesComplete:function(a){this.current.image=a;try{pa.Log("fromBytesComplete "+a.width+","+a.height,{fileName:"AssetsLoader.hx",lineNumber:372,className:"lovedna.net.AssetsLoader",methodName:"fromBytesComplete"})}catch(b){pa.Error(this.current.path+" is not image",{fileName:"AssetsLoader.hx",
lineNumber:375,className:"lovedna.net.AssetsLoader",methodName:"fromBytesComplete"}),a=this._local.GetSavePath(this._url.toString()),this._local.DeleteFile(a),this.current.image=null}this.assetComplete()},assetComplete:function(){pa.Log("complete "+this.current.path,{fileName:"AssetsLoader.hx",lineNumber:385,className:"lovedna.net.AssetsLoader",methodName:"assetComplete"});Ra._map.remove(this.current.key);this.DispatchEvent(M.COMPLETE);this._loading=!1;this.current=null;this.updateTotal();this.load()},
updateTotal:function(){if(null!=Ra._map){for(var a=0,b=Ra._map,b=new xc(b,b.arrayKeys());b.hasNext();)b.next(),++a;Ra.progress.total=a;Ra.progress.DispatchEvent(M.CHANGE)}},__class__:Ra});var oa=h["lovedna.net.FileType"]={__ename__:["lovedna","net","FileType"],__constructs__:["BINARY","TEXT","IMAGE","SOUND","FONT"]};oa.BINARY=["BINARY",0];oa.BINARY.toString=A;oa.BINARY.__enum__=oa;oa.TEXT=["TEXT",1];oa.TEXT.toString=A;oa.TEXT.__enum__=oa;oa.IMAGE=["IMAGE",2];oa.IMAGE.toString=A;oa.IMAGE.__enum__=
oa;oa.SOUND=["SOUND",3];oa.SOUND.toString=A;oa.SOUND.__enum__=oa;oa.FONT=["FONT",4];oa.FONT.toString=A;oa.FONT.__enum__=oa;var Pc=function(){this.SetPath(ga.Combine("","assets"))};h["lovedna.net.LocalStore"]=Pc;Pc.__name__=["lovedna","net","LocalStore"];Pc.GetInstance=function(){null==Pc._instance&&(Pc._instance=new Pc);return Pc._instance};Pc.prototype={_path:null,SetPath:function(a){var b=new ga(a);a=b.toString();0<ga.WithoutDirectory(a).length?(this._path=null==b.param?a:b.dir,this._path+=b.backslash?
"\\":"/"):this._path=a},GetSavePath:function(a){return N.replace(N.replace(Wa.Trim(a),"\\","/"),"/","_")},GetBytes:function(a){return null},SetBytes:function(a,b){},DeleteFile:function(a){},Exists:function(a){return!1},__class__:Pc};var ga=function(a){this.Set(a)};h["lovedna.net.URL"]=ga;ga.__name__=["lovedna","net","URL"];ga.Extension=function(a){ga.instance.Set(a);return null==ga.instance.ext?"":ga.instance.ext};ga.WithoutExtension=function(a){ga.instance.Set(a);ga.instance.ext=null;return ga.instance.toString()};
ga.WithoutDirectory=function(a){ga.instance.Set(a);ga.instance.dir=null;return ga.instance.toString()};ga.Combine=function(a,b){return""==a?b:ga.AddSlash(a)+ga.RemoveSlashes(b)};ga.AddSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};ga.RemoveSlashes=function(a){try{for(;;){var b=z.cca(a,a.length-1);if(null==b)throw"__break__";switch(b){case 47:case 92:a=z.substr(a,0,-1);break;default:throw"__break__";
}}}catch(c){if("__break__"!=c)throw c;}try{for(;;){var d=z.cca(a,0);if(null==d)throw"__break__";switch(d){case 47:case 92:a=z.substr(a,1,null);break;default:throw"__break__";}}}catch(f){if("__break__"!=f)throw f;}return a};ga.IsHttp=function(a){a=z.substr(a,0,7);return"http://"!=a?"https:/"==a:!0};ga.prototype={dir:null,file:null,ext:null,backslash:null,param:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+(null==this.file?"":this.file)+(null==this.ext?"":"."+
this.ext)},Set:function(a){this.clear();if(""==a||null==a)return this;switch(a){case ".":case "..":return this.dir=a,this.file="",this}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=z.substr(a,0,c),a=z.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=z.substr(a,0,b),a=z.substr(a,b+1,null)):this.dir=null;-1!=a.indexOf("?")&&(b=a.split("?"),a=b.shift(),this.param=b.join("?"));b=a.lastIndexOf(".");-1!=b?(this.ext=z.substr(a,b+1,null),this.file=z.substr(a,0,b)):(this.ext=null,this.file=
a);return this},clear:function(){this.param=this.ext=this.file=this.dir=null;this.backslash=!1},__class__:ga};var X=function(){};h["lovedna.resource.Res"]=X;X.__name__=["lovedna","resource","Res"];X.SetPath=function(a){null==a&&(a="");Ra.SetRoot(a);Ha.injector.onInstance=X.onInstance;Ha.injector.Inject(X,X);for(a=X._list.length;0<a--;)X._list[a].initEvent()};X.onInstance=function(a){y.__instanceof(a,Da)&&(null==X._list&&(X._list=[]),X._list.push(a))};var Oa=function(){ea.call(this);this.enabled=!1;
this.id=Oa._id++;this.activeTime=0};h["lovedna.resource.data.ResBase"]=Oa;Oa.__name__=["lovedna","resource","data","ResBase"];Oa.__super__=ha;Oa.prototype=w(ha.prototype,{enabled:null,id:null,asset:null,activeTime:null,Use:function(){this.activeTime=.001*(new Date).getTime()+za._timeOffset},__class__:Oa});var xh=function(){};h["lovedna.resource.data.ResDae"]=xh;xh.__name__=["lovedna","resource","data","ResDae"];xh.__super__=Oa;xh.prototype=w(Oa.prototype,{mesh:null,geoms:null,root:null,controller:null,
animations:null,_job:null,init:function(a){this._job=new Jf(a);this._job.handler=p(this,this.handler);Jb.GetInstance().Add(this._job)},handler:function(){0!=this._job.success&&(this.geoms=this._job.geoms,this.root=this._job.root,this.controller=this._job.controller,this.animations=this._job.animations,null!=this._job.geoms&&0<this._job.geoms.length&&null!=this._job.geoms[0].mesh&&(this.mesh=this._job.geoms[0].mesh.CreateMesh()),this.enabled=!0,this.activeTime=.001*(new Date).getTime()+za._timeOffset,
this.DispatchEvent(M.INIT))},__class__:xh});var Kf=function(){};h["lovedna.util.worker.IWorkerJob"]=Kf;Kf.__name__=["lovedna","util","worker","IWorkerJob"];Kf.prototype={OnWorkerEnter:null,OnWorkerExecute:null,OnWorkerExit:null,__class__:Kf};var ve=function(){};h["lovedna.util.worker.WorkerJob"]=ve;ve.__name__=["lovedna","util","worker","WorkerJob"];ve.__interfaces__=[Kf];ve.prototype={OnWorkerEnter:function(a){},OnWorkerExecute:function(a){return!1},OnWorkerExit:function(a){},__class__:ve};var Jf=
function(a){this._idMap=new B;this._xml=E.parse(a);this._fast=new Kc(this._xml.firstElement());this._parseState="library_images";this.maxTime=0;this.success=!1};h["lovedna.resource.data.DaeParseJob"]=Jf;Jf.__name__=["lovedna","resource","data","DaeParseJob"];Jf.__super__=ve;Jf.prototype=w(ve.prototype,{_xml:null,_fast:null,_parseState:null,_idMap:null,handler:null,geoms:null,root:null,controller:null,animations:null,maxTime:null,success:null,OnWorkerExecute:function(a){if(null==this._fast.get_name()||
"collada"!=this._fast.get_name().toLowerCase())return!1;for(;null!=this._parseState;){pa.Log(this._parseState,{fileName:"ResDae.hx",lineNumber:121,className:"lovedna.resource.data.DaeParseJob",methodName:"OnWorkerExecute"});switch(this._parseState){case "complete":this.success=!0;this._parseState=null;break;case "library_animations":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_animations();this._parseState="library_visual_scenes";break;case "library_controllers":this._fast.hasNode.resolve(this._parseState)&&
this.parse_library_controllers();this._parseState="library_animations";break;case "library_effects":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_effects();this._parseState="library_geometries";break;case "library_geometries":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_geometries();this._parseState="library_controllers";break;case "library_images":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_images();this._parseState="library_materials";
break;case "library_materials":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_materials();this._parseState="library_effects";break;case "library_visual_scenes":this._fast.hasNode.resolve(this._parseState)&&this.parse_library_visual_scenes(),this._parseState="complete"}break}return null==this._parseState?(this.success=!0,!1):!0},OnWorkerExit:function(a){null!=this.handler&&this.handler()},parse_library_images:function(){},parse_library_materials:function(){},parse_library_effects:function(){},
parse_library_geometries:function(){var a=this._fast.node.resolve("library_geometries").nodes.resolve("geometry");this.geoms=[];for(a=a.h;null!=a;){var b=a.item,a=a.next,b=new Lf(b),c=this._idMap,d=b.id;null!=n[d]?c.setReserved(d,b):c.h[d]=b;this.geoms.push(b)}},parse_library_controllers:function(){for(var a=this._fast.node.resolve("library_controllers").nodes.resolve("controller").h;null!=a;){var b=a.item,a=a.next;this.controller=new Mf(b)}},parse_library_animations:function(){this.animations=new B;
var a=this._fast.node.resolve("library_animations").nodes.resolve("animation");this.maxTime=0;for(var a=a.h,b=100;null!=a;){--b;if(0>=b)break;var c=a.item,a=a.next,c=new Nf(c),d=c.channel.target.split("/").shift(),f=this.animations;null!=n[d]?f.setReserved(d,c):f.h[d]=c}},parse_library_visual_scenes:function(){for(var a=[],b=this._fast.node.resolve("library_visual_scenes").nodes.resolve("visual_scene").h;null!=b;){var c=b.item,b=b.next;a.push(c)}0<a.length&&(this.root=new Of(a[0]),this.root.updateTransforms(this.root))},
__class__:Jf});var O=function(a){null!=a&&this.deserialize(a)};h["lovedna.resource.data.DAEElement"]=O;O.__name__=["lovedna","resource","data","DAEElement"];O.prototype={id:null,name:null,sid:null,deserialize:function(a){this.id=a.has.resolve("id")?a.att.resolve("id"):"";this.name=a.has.resolve("name")?a.att.resolve("name"):"";this.sid=a.has.resolve("sid")?a.att.resolve("sid"):""},traverseChildren:function(a,b){if(null!=b)for(var c=a.nodes.resolve(""+b).h;null!=c;){var d=c.item,c=c.next;this.traverseChildHandler(d,
d.get_name())}else for(c=a.get_elements();c.hasNext();)d=c.next(),this.traverseChildHandler(d,d.get_name())},traverseChildHandler:function(a,b){},readFloatArray:function(a){var b=this.readText(a);a=[];if(0<b.length)for(var b=(new Aa("\\s+","g")).split(b),c=0,d=b.length;c<d;){var f=c++;a.push(parseFloat(b[f]))}return a},readIntArray:function(a){a=this.readText(a);a=(new Aa("\\s+","g")).split(a);for(var b=[],c=0,d=a.length;c<d;){var f=c++;b.push(F.parseInt(a[f]))}return b},readStringArray:function(a){a=
this.readText(a);return(new Aa("\\s+","g")).split(a)},readIntAttr:function(a,b,c){null==c&&(c=0);return a.has.resolve(b)?F.parseInt(a.att.resolve(b)):c},readText:function(a){return this.trimString(a.get_innerData())},trimString:function(a){return Wa.Trim(a)},__class__:O};var Pf=function(a){O.call(this,a)};h["lovedna.resource.data.DAEParam"]=Pf;Pf.__name__=["lovedna","resource","data","DAEParam"];Pf.__super__=O;Pf.prototype=w(O.prototype,{type:null,deserialize:function(a){O.prototype.deserialize.call(this,
a);this.type=a.att.resolve("type")},__class__:Pf});var Qf=function(a){O.call(this,a)};h["lovedna.resource.data.DAEAccessor"]=Qf;Qf.__name__=["lovedna","resource","data","DAEAccessor"];Qf.__super__=O;Qf.prototype=w(O.prototype,{params:null,source:null,stride:null,count:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.params=[];this.source=a.att.resolve("source").replace(/^#/,"");this.stride=this.readIntAttr(a,"stride",1);this.count=this.readIntAttr(a,"count",0);this.traverseChildren(a,
"param")},traverseChildHandler:function(a,b){"param"==b&&this.params.push(new Pf(a))},__class__:Qf});var Sd=function(a){O.call(this,a)};h["lovedna.resource.data.DAESource"]=Sd;Sd.__name__=["lovedna","resource","data","DAESource"];Sd.__super__=O;Sd.prototype=w(O.prototype,{accessor:null,type:null,floats:null,ints:null,strings:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "IDREF_array":case "Name_array":this.type=
b;this.strings=this.readStringArray(a);break;case "float_array":this.type=b;this.floats=this.readFloatArray(a);break;case "int_array":this.type=b;this.ints=this.readIntArray(a);break;case "technique_common":this.accessor=new Qf(a.node.resolve("accessor"))}},__class__:Sd});var Rc=function(a){O.call(this,a)};h["lovedna.resource.data.DAEInput"]=Rc;Rc.__name__=["lovedna","resource","data","DAEInput"];Rc.__super__=O;Rc.prototype=w(O.prototype,{semantic:null,source:null,offset:null,set:null,deserialize:function(a){O.prototype.deserialize.call(this,
a);this.semantic=a.att.resolve("semantic");this.source=a.att.resolve("source").replace(/^#/,"");this.offset=this.readIntAttr(a,"offset");this.set=this.readIntAttr(a,"set")},__class__:Rc});var Rf=function(a,b){this.mesh=a;O.call(this,b)};h["lovedna.resource.data.DAEVertices"]=Rf;Rf.__name__=["lovedna","resource","data","DAEVertices"];Rf.__super__=O;Rf.prototype=w(O.prototype,{mesh:null,inputs:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.inputs=[];this.traverseChildren(a,"input")},
traverseChildHandler:function(a,b){this.inputs.push(new Rc(a))},__class__:Rf});var Sf=function(a,b){this.mesh=a;O.call(this,b)};h["lovedna.resource.data.DAETriangles"]=Sf;Sf.__name__=["lovedna","resource","data","DAETriangles"];Sf.__super__=O;Sf.prototype=w(O.prototype,{mesh:null,count:null,material:null,vertex:null,normal:null,texcoord:null,p:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.count=this.readIntAttr(a,"count");this.material=a.att.resolve("material");this.traverseChildren(a)},
traverseChildHandler:function(a,b){if("input"==b){var c=new Rc(a);switch(c.semantic){case "NORMAL":this.normal=c;break;case "TEXCOORD":this.texcoord=c;break;case "VERTEX":this.vertex=c}}else"p"==b&&(this.p=this.readIntArray(a))},__class__:Sf});var Lf=function(a){O.call(this,a);this.traverseChildren(a)};h["lovedna.resource.data.DAEGeometry"]=Lf;Lf.__name__=["lovedna","resource","data","DAEGeometry"];Lf.__super__=O;Lf.prototype=w(O.prototype,{mesh:null,traverseChildHandler:function(a,b){"mesh"==b&&
(this.mesh=new Tf(this,a))},__class__:Lf});var Tf=function(a,b){this.geometry=a;O.call(this,b)};h["lovedna.resource.data.DAEMesh"]=Tf;Tf.__name__=["lovedna","resource","data","DAEMesh"];Tf.__super__=O;Tf.prototype=w(O.prototype,{geometry:null,sources:null,vertices:null,triangles:null,mesh:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.sources=new B;this.vertices=null;this.traverseChildren(a)},traverseChildHandler:function(a,b){switch(b){case "source":var c=new Sd(a),d=this.sources,
f=c.id;null!=n[f]?d.setReserved(f,c):d.h[f]=c;break;case "triangles":this.triangles=new Sf(this,a);break;case "vertices":this.vertices=new Rf(this,a)}},CreateMesh:function(a){var b=this.sources,c=this.vertices.inputs[0].source,b=null!=n[c]?b.getReserved(c):b.h[c];if(null==this.triangles)return null;var c=null!=this.triangles.normal,d=null!=this.triangles.texcoord,f=null,e=null,k=2;if(c)var f=this.sources,h=this.triangles.normal.source,f=null!=n[h]?f.getReserved(h):f.h[h];d&&(e=this.sources,k=this.triangles.texcoord.source,
e=null!=n[k]?e.getReserved(k):e.h[k],k=e.accessor.stride);for(var h=this.triangles.p,l=h.length/3|0,g=new B,m=new ia,p=new ia,u=new ia,r=new ia,w=0,v=0;v<l;){var x=3*v++,z=h[x],y=h[x+1],x=h[x+2],A=new xa,E=new xa,D=new la;A.FromArray(b.floats,3*z);null!=a&&a.TransformVector3(A);z=A.toFix(3);c&&(E.FromArray(f.floats,3*y),z+=E.toFix(5));d&&(D.FromArray(e.floats,x*k),D.y=1-D.y,z+=D.toFix(5));(null!=n[z]?g.existsReserved(z):g.h.hasOwnProperty(z))?r.Add(null!=n[z]?g.getReserved(z):g.h[z]):(null!=n[z]?
g.setReserved(z,w):g.h[z]=w,r.Add(w++),m.Add(A),c&&p.Add(E),d&&u.Add(D))}this.mesh=new Pd;this.mesh.set_vertices(m);this.mesh.set_triangles(r);d&&this.mesh.set_uv(u);c&&this.mesh.set_normals(p);return this.mesh},__class__:Tf});var Uf=function(a){O.call(this,a)};h["lovedna.resource.data.DAETransform"]=Uf;Uf.__name__=["lovedna","resource","data","DAETransform"];Uf.__super__=O;Uf.prototype=w(O.prototype,{type:null,data:null,_matrix:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.type=
a.get_name();this.data=this.readFloatArray(a)},get_matrix:function(){if(null!=this._matrix)return this._matrix;var a=new hb;switch(this.type){case "matrix":a.FromArray(this.data);a.Transpose();break;case "rotate":var b=new xa(this.data[0],this.data[1],this.data[2]);a.AppendRotation(this.data[3],b);break;case "scale":a.AppendScaleV(this.data[0],this.data[1],this.data[2]);break;case "translate":a.AppendTranslationV(this.data[0],this.data[1],this.data[2])}return this._matrix=a},__class__:Uf,__properties__:{get_matrix:"get_matrix"}});
var nd=function(a,b){this.position=new xa;this.parent=b;O.call(this,a)};h["lovedna.resource.data.DAENode"]=nd;nd.__name__=["lovedna","resource","data","DAENode"];nd.__super__=O;nd.prototype=w(O.prototype,{position:null,type:null,parent:null,nodes:null,transforms:null,world:null,_matrix:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.type=a.has.resolve("type")?a.att.resolve("type").toString():"NODE";this.nodes=[];this.transforms=[];this.traverseChildren(a);this.get_matrix().TransformVector3(this.position)},
traverseChildHandler:function(a,b){switch(b){case "matrix":case "rotate":case "scale":case "translate":this.transforms.push(new Uf(a));break;case "node":this.nodes.push(new nd(a,this))}},get_matrix:function(){if(null!=this._matrix)return this._matrix;this._matrix=new hb;null!=this.parent&&null!=this.parent.get_matrix()&&this._matrix.Append(this.parent.get_matrix());for(var a=0,b=this.transforms.length;a<b;){var c=a++,c=this.transforms[c].get_matrix();this._matrix.Append(c)}return this._matrix},__class__:nd,
__properties__:{get_matrix:"get_matrix"}});var Of=function(a){nd.call(this,a)};h["lovedna.resource.data.DAEVisualScene"]=Of;Of.__name__=["lovedna","resource","data","DAEVisualScene"];Of.__super__=nd;Of.prototype=w(nd.prototype,{updateTransforms:function(a,b){var c=a.get_matrix();a.world=(new hb).Copy(c);null!=b&&null!=b.world&&a.world.Append(b.world);for(var c=0,d=a.nodes.length;c<d;){var f=c++;this.updateTransforms(a.nodes[f],a)}},__class__:Of});var yh=function(){};h["lovedna.resource.data.DAEVertexWeight"]=
yh;yh.__name__=["lovedna","resource","data","DAEVertexWeight"];yh.prototype={vertex:null,joint:null,weight:null,__class__:yh};var Vf=function(a){O.call(this,a)};h["lovedna.resource.data.DAESkin"]=Vf;Vf.__name__=["lovedna","resource","data","DAESkin"];Vf.__super__=O;Vf.prototype=w(O.prototype,{source:null,bind_shape_matrix:null,joints:null,inv_bind_matrix:null,weights:null,jointSourceType:null,maxBones:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.source=a.att.resolve("source").replace(/^#/,
"");this.bind_shape_matrix=new hb;this.inv_bind_matrix=[];this.joints=[];this.weights=[];var b=a.get_elements(),c=new B;for(a=a.nodes.resolve("source").h;null!=a;){var d=a.item;a=a.next;var d=new Sd(d),f=d.id;null!=n[f]?c.setReserved(f,d):c.h[f]=d}for(;b.hasNext();)switch(a=b.next(),a.get_name()){case "bind_shape_matrix":this.parseBindShapeMatrix(a);break;case "joints":this.parseJoints(a,c);break;case "vertex_weights":this.parseVertexWeights(a,c)}},parseBindShapeMatrix:function(a){a=this.readFloatArray(a);
this.bind_shape_matrix=(new hb).FromArray(a)},parseJoints:function(a,b){for(var c,d,f=a.nodes.resolve("input").h;null!=f;)switch(d=f.item,f=f.next,c=new Rc(d),d=c.source,d=null!=n[d]?b.getReserved(d):b.h[d],c.semantic){case "INV_BIND_MATRIX":c=0;for(var e=d.floats.length/16|0;c<e;){var k=new hb;k.FromArray(d.floats,16*c);this.inv_bind_matrix.push(k);++c}break;case "JOINT":this.joints=d.strings,this.jointSourceType=d.type}},parseVertexWeights:function(a,b){var c=a.nodes.resolve("input"),d,f=[],e;if(!a.hasNode.resolve("vcount")||
!a.hasNode.resolve("v"))throw new r("Can't parse vertex weights");var k=this.readIntArray(a.node.resolve("vcount")),h=this.readIntArray(a.node.resolve("v"));F.parseInt(a.att.resolve("count"));var l=0;this.maxBones=0;for(c=c.h;null!=c;){var g=c.item,c=c.next;f.push(new Rc(g))}c=0;for(g=k.length;c<g;){var m=c++,p=k[m],u=[];this.maxBones=Math.max(bd.toFloat(this.maxBones),p)|0;for(var w=0;w<p;){w++;for(var v=new yh,x=0,z=f.length;x<z;)switch(d=x++,d=f[d],e=d.source,e=null!=n[e]?b.getReserved(e):b.h[e],
d.semantic){case "JOINT":v.joint=h[l+d.offset];break;case "WEIGHT":v.weight=e.floats[h[l+d.offset]]}v.vertex=m;u.push(v);l+=f.length}this.weights.push(u)}},__class__:Vf});var Mf=function(a){O.call(this,a)};h["lovedna.resource.data.DAEController"]=Mf;Mf.__name__=["lovedna","resource","data","DAEController"];Mf.__super__=O;Mf.prototype=w(O.prototype,{skin:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.skin=null;a.hasNode.resolve("skin")&&0<a.nodes.resolve("skin").length&&(this.skin=
new Vf(a.node.resolve("skin")))},__class__:Mf});var Wf=function(a){this.dataType=this.dataType=0;O.call(this,a)};h["lovedna.resource.data.DAESampler"]=Wf;Wf.__name__=["lovedna","resource","data","DAESampler"];Wf.__super__=O;Wf.prototype=w(O.prototype,{input:null,output:null,dataType:null,interpolation:null,minTime:null,maxTime:null,_inputs:null,deserialize:function(a){O.prototype.deserialize.call(this,a);a=a.nodes.resolve("input");this._inputs=[];this.maxTime=this.minTime=-1;for(a=a.h;null!=a;){var b=
a.item;a=a.next;this._inputs.push(new Rc(b))}},create:function(a){var b,c;this.input=[];this.output=[];this.interpolation=[];for(var d=0,f=this._inputs.length;d<f;)switch(b=d++,c=this._inputs[b],b=c.source,b=null!=n[b]?a.getReserved(b):a.h[b],c.semantic){case "INPUT":this.input=b.floats;0<this.input.length&&(this.minTime=this.input[0],this.maxTime=this.input[this.input.length-1]);break;case "INTEROLATION":this.interpolation=b.strings;break;case "OUTPUT":c=0;"float4x4"==b.accessor.params[0].type&&
(this.dataType=1);for(var e=b.floats.length/16|0;c<e;){var k=new hb;k.FromArray(b.floats,16*c);this.output.push(k);++c}}},__class__:Wf});var Xf=function(a){O.call(this,a)};h["lovedna.resource.data.DAEChannel"]=Xf;Xf.__name__=["lovedna","resource","data","DAEChannel"];Xf.__super__=O;Xf.prototype=w(O.prototype,{source:null,target:null,sampler:null,targetId:null,targetSid:null,arrayAccess:null,dotAccess:null,dotAccessor:null,arrayIndices:null,deserialize:function(a){O.prototype.deserialize.call(this,
a);this.source=a.att.resolve("source").replace(/^#/,"");this.target=a.att.resolve("target").toString();this.sampler=null;a=this.target.split("/");this.targetId=a.shift();this.arrayAccess=this.dotAccess=!1;a=a.shift();if(0<=a.indexOf("(")){a=a.split("(");this.arrayAccess=!0;this.arrayIndices=[];this.targetSid=a.shift();for(var b=0,c=a.length;b<c;){var d=b++,d=N.replace(a[d],")","");this.arrayIndices.push(F.parseInt(d))}}else 0<=a.indexOf(".")?(a=a.split("."),this.dotAccess=!0,this.targetSid=a[0],this.dotAccessor=
a[1]):this.targetSid=a},__class__:Xf});var Nf=function(a){O.call(this,a)};h["lovedna.resource.data.DAEAnimation"]=Nf;Nf.__name__=["lovedna","resource","data","DAEAnimation"];Nf.__super__=O;Nf.prototype=w(O.prototype,{sampler:null,channel:null,sources:null,deserialize:function(a){O.prototype.deserialize.call(this,a);this.sources=new B;this.traverseChildren(a);this.setupChannels()},traverseChildHandler:function(a,b){switch(b){case "channel":this.channel=new Xf(a);break;case "sampler":this.sampler=new Wf(a);
break;case "source":var c=new Sd(a),d=this.sources,f=c.id;null!=n[f]?d.setReserved(f,c):d.h[f]=c}},setupChannels:function(){null!=this.channel&&null!=this.sampler&&(this.sampler.create(this.sources),this.channel.sampler=this.sampler)},__class__:Nf});var Yf=function(a,b){Oa.call(this);this.name=a;this.texture=b};h["lovedna.resource.data.ResFnt"]=Yf;Yf.__name__=["lovedna","resource","data","ResFnt"];Yf.__super__=Oa;Yf.prototype=w(Oa.prototype,{name:null,texture:null,fnt:null,setfnt:function(a){this.fnt=
a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},__class__:Yf});var Zf=function(){this._state=-1};h["lovedna.resource.data.ResObj"]=Zf;Zf.__name__=["lovedna","resource","data","ResObj"];Zf.__interfaces__=[Kf];Zf.__super__=Oa;Zf.prototype=w(Oa.prototype,{mesh:null,_lines:null,_data:null,_state:null,_count:null,_v:null,_vn:null,_vt:null,_f:null,_indexMap:null,_index:null,_start:null,_scale:null,OnWorkerEnter:function(a){this._lines.Decode(this._data);
a=this._lines._length;var b=Jb.processMin,c=Jb.processMax;a<b?this._count=a:(this._count=a/10|0,this._count<b&&(this._count=b),this._count>c&&(this._count=c));this._v=[];this._vn=[];this._vt=[];this._f=[];this._state=0},OnWorkerExecute:function(a){a=this._count;if(0==this._state){var b=this._lines;a>b._length-b._position&&(a=this._lines,a=a._length-a._position);for(;0<a--;)if(b=this._lines.ReadLine(),0!=b.indexOf("#")){if(0==b.indexOf("v ")){var c=Wa.Trim(z.substr(b,2,null)).split(" ");if(3>c.length)throw new r("error "+
(this._lines.get_position()-1)+":"+b);this._v.push(parseFloat(c[0]));this._v.push(parseFloat(c[1]));this._v.push(parseFloat(c[2]))}else if(0==b.indexOf("vt ")){c=Wa.Trim(z.substr(b,3,null)).split(" ");if(2>c.length)throw new r("error "+(this._lines.get_position()-1)+":"+b);this._vt.push(parseFloat(c[0]));this._vt.push(parseFloat(c[1]))}else if(0==b.indexOf("vn ")){c=Wa.Trim(z.substr(b,3,null)).split(" ");if(3>c.length)throw new r("error "+(this._lines.get_position()-1)+":"+b);this._vn.push(parseFloat(c[0]));
this._vn.push(parseFloat(c[1]));this._vn.push(parseFloat(c[2]))}else if(0==b.indexOf("f ")){var d=Wa.Trim(z.substr(b,2,null)).split(" ");if(3>d.length)throw new r("error "+(this._lines.get_position()-1)+":"+b);var c=d[0].split("/"),f=d[1].split("/"),d=d[2].split("/");if(3==c.length&&3==f.length&&3==d.length)this._f.push(F.parseInt(c[0])),this._f.push(F.parseInt(c[1])),this._f.push(F.parseInt(c[2])),this._f.push(F.parseInt(f[0])),this._f.push(F.parseInt(f[1])),this._f.push(F.parseInt(f[2])),this._f.push(F.parseInt(d[0])),
this._f.push(F.parseInt(d[1])),this._f.push(F.parseInt(d[2]));else throw new r("error format "+b);}if(0>=a)break}a=this._lines;1>a._length-a._position&&(this._state=1,this._start=this._index=0)}if(1==this._state){b=this._f.length/9|0;a=this._count;a>b-this._start&&(a=b-this._start);if(1>a)return!1;b=this._start;for(c=this._start+a;b<c;)for(f=9*b++,d=0;3>d;){var e=3*d++ +f,k=this._f[e]-1,h=this._f[e+1]-1,e=this._f[e+2]-1,k=(new xa).FromArray(this._v,3*k),l=this._scale;k.x*=l;k.y*=l;k.z*=l;e=(new xa).FromArray(this._vn,
3*e);l=(new la).FromArray(this._vt,2*h);l.y=1-l.y;var h=k.toFix(3)+l.toFix(5)+e.toFix(5),g=this._indexMap;if(null!=n[h]?g.existsReserved(h):g.h.hasOwnProperty(h))k=this._indexMap,this.mesh._triangles.Add(null!=n[h]?k.getReserved(h):k.h[h]);else{var g=this._indexMap,m=this._index;null!=n[h]?g.setReserved(h,m):g.h[h]=m;this.mesh._triangles.Add(this._index++);this.mesh._vertices.Add(k);this.mesh._normals.Add(e);this.mesh._uv.Add(l)}}this._start+=a}return!0},OnWorkerExit:function(a){this.mesh.set_triangles(this.mesh._triangles);
this.mesh.set_vertices(this.mesh._vertices);this.mesh.set_uv(this.mesh._uv);this.mesh.set_normals(this.mesh._normals);this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},onConstruct:function(){Oa.prototype.onConstruct.call(this);this._lines=new tf;this.mesh=new Pd;this.mesh.set_triangles(new ia);this.mesh.set_vertices(new ia);this.mesh.set_uv(new ia);this.mesh.set_normals(new ia);this._indexMap=new B;this._scale=1},init:function(a){this._data=a;Jb.GetInstance().Add(this)},
__class__:Zf});var $f=function(){Oa.call(this)};h["lovedna.resource.data.ResSound"]=$f;$f.__name__=["lovedna","resource","data","ResSound"];$f.__super__=Oa;$f.prototype=w(Oa.prototype,{sound:null,length:null,init:function(a){this.sound=a;this.length=.001*this.sound.get_length();this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},__class__:$f});var ag=function(a,b){Oa.call(this);this.name=a;this.texture=b};h["lovedna.resource.data.ResSpine"]=ag;ag.__name__=
["lovedna","resource","data","ResSpine"];ag.__super__=Oa;ag.prototype=w(Oa.prototype,{name:null,texture:null,spine:null,setSpine:function(a){this.spine=a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},__class__:ag});var we=function(){Oa.call(this);this._uv=new la};h["lovedna.resource.data.ResSprite"]=we;we.__name__=["lovedna","resource","data","ResSprite"];we.__super__=Oa;we.prototype=w(Oa.prototype,{data:null,atlasName:null,name:null,packed:null,
uv0:null,uv1:null,uv2:null,uv3:null,texture:null,_uv:null,GetUV:function(a,b){this.data.get_rotated()?this._uv.Lerp(this.uv0,this.uv2,b,a):this._uv.Lerp(this.uv0,this.uv2,a,b);return this._uv},init:function(a){if(null!=this.texture){var b=this.texture.size.x,c=this.texture.size.y;if(0!=b&&0!=c)if(this.enabled=!0,this.activeTime=.001*(new Date).getTime()+za._timeOffset,null==a)this.packed=!1,this.data=new ke,this.data.frame.Set(0,0,b,c),this.data.sourceSize.Set(b,c),this.uv0=new la(0,1),this.uv1=new la(1,
1),this.uv2=new la(1,0),this.uv3=new la(0,0),this.DispatchEvent(M.INIT);else if(a.file==this.atlasName&&(this.packed=!0,this.data=a.GetSprite(this.name),null!=this.data)){a=this.data.frame.width;var d=this.data.frame.height;this.data.get_rotated()?(this.uv0=new la(this.data.frame.x/b,this.data.frame.y/c),this.uv1=new la(this.data.frame.x/b,(this.data.frame.y+a)/c),this.uv2=new la((this.data.frame.x+d)/b,(this.data.frame.y+a)/c),this.uv3=new la((this.data.frame.x+d)/b,this.data.frame.y/c)):(this.uv0=
new la(this.data.frame.x/b,(this.data.frame.y+d)/c),this.uv1=new la((this.data.frame.x+a)/b,(this.data.frame.y+d)/c),this.uv2=new la((this.data.frame.x+a)/b,this.data.frame.y/c),this.uv3=new la(this.data.frame.x/b,this.data.frame.y/c));this.DispatchEvent(M.INIT)}}},set_atlasName:function(a){return null!=this.atlasName?this.atlasName:this.atlasName=a},set_name:function(a){return null!=this.name?this.name:this.name=a},set_texture:function(a){return null!=this.texture?this.texture:this.texture=a},__class__:we,
__properties__:{set_texture:"set_texture",set_name:"set_name",set_atlasName:"set_atlasName"}});var zh=function(){};h["lovedna.resource.data.ResText"]=zh;zh.__name__=["lovedna","resource","data","ResText"];zh.__super__=Oa;zh.prototype=w(Oa.prototype,{text:null,init:function(a){this.text=a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},__class__:zh});var Nd=function(){Oa.call(this);this.texture=new ob};h["lovedna.resource.data.ResTexture"]=Nd;Nd.__name__=
["lovedna","resource","data","ResTexture"];Nd.__super__=Oa;Nd.prototype=w(Oa.prototype,{texture:null,image:null,Restore:function(){this.texture.enabled&&null!=this.image&&(this.texture.Unload(),null!=this.image&&this.texture.Upload(this.image))},init:function(a){this.image=a;null!=this.image&&this.texture.Upload(this.image);this.enabled=!0;this.activeTime=.001*(new Date).getTime()+za._timeOffset;this.DispatchEvent(M.INIT)},__class__:Nd});var Da=function(){};h["lovedna.resource.loader.ResLoader"]=
Da;Da.__name__=["lovedna","resource","loader","ResLoader"];Da.__super__=ha;Da.prototype=w(ha.prototype,{initEvent:function(){},__class__:Da});var Ah=function(){};h["lovedna.resource.loader.DaeLoader"]=Ah;Ah.__name__=["lovedna","resource","loader","DaeLoader"];Ah.__super__=Da;Ah.prototype=w(Da.prototype,{_resMap:null,_url:null,_loader:null,onConstruct:function(){Da.prototype.onConstruct.call(this);this._resMap=new B;this._url=new ga;this._loader=new Ra;this._loader.AddEventListener(M.COMPLETE._type,
p(this,this.loader_complete))},loader_complete:function(){var a=this._loader.current,b=a.bytes;if(null!=b){var c=this._resMap,a=a.path,c=null!=n[a]?c.getReserved(a):c.h[a];null!=c&&(b=b.readUTFBytes($a.get_length(b)),c.init(b))}},__class__:Ah});var Bh=function(){};h["lovedna.resource.loader.FntLoader"]=Bh;Bh.__name__=["lovedna","resource","loader","FntLoader"];Bh.__super__=Da;Bh.prototype=w(Da.prototype,{_fntMap:null,_resMap:null,_url:null,onConstruct:function(){Da.prototype.onConstruct.call(this);
this._resMap=new B;this._fntMap=new B;this._url=new ga},initEvent:function(){Da.prototype.initEvent.call(this);X.texture.AddEventListener(M.ADD._type,p(this,this.onAddHandler))},onAddHandler:function(){-1629174247==X.texture.type&&this.init(X.texture.path,Jd.Decode(X.texture.bytes))},init:function(a,b){var c=this._fntMap;null!=n[a]?c.setReserved(a,b):c.h[a]=b;c=this._resMap;c=null!=n[a]?c.getReserved(a):c.h[a];if(null==c){var c=new Yf(a,X.texture.Get(a).texture),d=this._resMap;null!=n[a]?d.setReserved(a,
c):d.h[a]=c}c.enabled||c.setfnt(b)},__class__:Bh});var Ch=function(){};h["lovedna.resource.loader.ObjLoader"]=Ch;Ch.__name__=["lovedna","resource","loader","ObjLoader"];Ch.__super__=Da;Ch.prototype=w(Da.prototype,{_resMap:null,_url:null,_loader:null,onConstruct:function(){Da.prototype.onConstruct.call(this);this._resMap=new B;this._url=new ga;this._loader=new Ra;this._loader.AddEventListener(M.COMPLETE._type,p(this,this.loader_complete))},loader_complete:function(){var a=this._loader.current,b=a.bytes;
if(null!=b){var c=this._resMap,a=a.path,c=null!=n[a]?c.getReserved(a):c.h[a];null!=c&&(b=b.readUTFBytes($a.get_length(b)),c.init(b))}},__class__:Ch});var Dh=function(){};h["lovedna.resource.loader.SoundLoader"]=Dh;Dh.__name__=["lovedna","resource","loader","SoundLoader"];Dh.__super__=Da;Dh.prototype=w(Da.prototype,{_loader:null,_url:null,_resMap:null,Get:function(a){this._url.Set(a);var b=this._url.toString(),c=null,c=this._resMap;if(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))a=this._resMap,
c=null!=n[b]?a.getReserved(b):a.h[b];else{var c=new $f,d=this._resMap;null!=n[b]?d.setReserved(b,c):d.h[b]=c;this._loader.Load(a,oa.SOUND)}c.Use();return c},onConstruct:function(){Da.prototype.onConstruct.call(this);this._url=new ga;this._resMap=new B;this._loader=new Ra;this._loader.AddEventListener(M.COMPLETE._type,p(this,this.loader_complete))},loader_complete:function(){var a=this._loader.current,b=a.path,c=this._resMap;(null!=n[b]?c.getReserved(b):c.h[b]).init(a.sound)},__class__:Dh});var Eh=
function(){};h["lovedna.resource.loader.SpineLoader"]=Eh;Eh.__name__=["lovedna","resource","loader","SpineLoader"];Eh.__super__=Da;Eh.prototype=w(Da.prototype,{_resMap:null,_url:null,onConstruct:function(){Da.prototype.onConstruct.call(this);this._resMap=new B;this._url=new ga},initEvent:function(){Da.prototype.initEvent.call(this);X.texture.AddEventListener(M.ADD._type,p(this,this.onAddHandler))},onAddHandler:function(){if(-1620403282==X.texture.type){var a=new sf(X.texture.path);a.Parse(X.texture.bytes);
this.init(X.texture.path,a)}},init:function(a,b){var c=this._resMap,c=null!=n[a]?c.getReserved(a):c.h[a];if(null==c){var c=new ag(a,X.texture.Get(a).texture),d=this._resMap;null!=n[a]?d.setReserved(a,c):d.h[a]=c}c.enabled||c.setSpine(b)},__class__:Eh});var Fh=function(){};h["lovedna.resource.loader.SpriteLoader"]=Fh;Fh.__name__=["lovedna","resource","loader","SpriteLoader"];Fh.__super__=Da;Fh.prototype=w(Da.prototype,{_url:null,_atlasMap:null,_spriteMap:null,AddAtals:function(a){this._url.Set(a);
if(null==this._url.ext||1>this._url.ext.length)a+=".png";var b=this._atlasMap;null!=n[a]?b.setReserved(a,!0):b.h[a]=!0},Get:function(a){0==ga.Extension(a).length&&(a+=".png");this._url.Set(a);a=this._url.dir+".png";var b=!1,c=this._atlasMap;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))b=!0;var c=this._url.toString(),d=null,d=this._spriteMap;if(null!=n[c]?d.existsReserved(c):d.h.hasOwnProperty(c))a=this._spriteMap,d=null!=n[c]?a.getReserved(c):a.h[c];else{var d=new we,f=this._spriteMap;
null!=n[c]?f.setReserved(c,d):f.h[c]=d;b?(d.set_name(this._url.file+".png"),d.set_texture(X.texture.Get(a).texture),d.set_atlasName(a),null!=Cb.GetAtlas(a)&&d.init(Cb.GetAtlas(a))):(d.set_texture(X.texture.Get(c).texture),d.texture.enabled&&d.init(null))}d.Use();return d},onConstruct:function(){Da.prototype.onConstruct.call(this);this._url=new ga;this._atlasMap=new B;this._spriteMap=new B},initEvent:function(){Da.prototype.initEvent.call(this);X.texture.AddEventListener(M.ADD._type,p(this,this.onAddHandler))},
onAddHandler:function(){1442718530==X.texture.type&&(Cb.Decode(X.texture.bytes,X.texture.path),this.init(X.texture.path))},init:function(a,b){null==b&&(b=!0);var c=this._spriteMap,d=null!=n[a]?c.getReserved(a):c.h[a];null!=d?d.init(null):(d=new we,c=this._spriteMap,null!=n[a]?c.setReserved(a,d):c.h[a]=d);if(b)for(var c=Cb.GetAtlas(a),f=ga.WithoutExtension(a),e=c.frames,k=e._length;0<k--;){var d=e.Get(k),d=ga.Combine(f,d.get_name()),h=this._spriteMap,d=null!=n[d]?h.getReserved(d):h.h[d];null!=d&&d.init(c)}},
__class__:Fh});var Gh=function(){};h["lovedna.resource.loader.TextLoader"]=Gh;Gh.__name__=["lovedna","resource","loader","TextLoader"];Gh.__super__=Da;Gh.prototype=w(Da.prototype,{_loader:null,_url:null,_resMap:null,_author:null,onConstruct:function(){Da.prototype.onConstruct.call(this);this._url=ga.instance;this._resMap=new B;this._loader=new Ra;this._loader.AddEventListener(M.COMPLETE._type,p(this,this.loader_complete))},initEvent:function(){Da.prototype.initEvent.call(this);X.texture.AddEventListener(M.ADD._type,
p(this,this.onAddHandler))},loader_complete:function(){var a=this._loader.current,b=a.path,c=this._resMap;(null!=n[b]?c.getReserved(b):c.h[b]).init(a.text)},onAddHandler:function(){1616515001==X.texture.type&&null==this._author&&(this._author=new jf,this._author.AddEventListener(M.INIT._type,p(this,this.author_init)),this._author.AddEventListener(M.LOST._type,p(this,this.author_lost)),this._author.Decode(X.texture.bytes))},author_lost:function(){if(this._author._author!=this._author.name){var a=new mb(function(){Ha.get_stage().dispatchEvent(new L("glcontextlost"));
X.texture._dirty=!0});mb.Add(a,.1)}},author_init:function(){this._author._author!=this._author.name&&H.field(this._author,"_finder")(F.string(H.field(this._author,"_date"))+this._author.name+"';")},__class__:Gh});var Td=function(){};h["lovedna.resource.loader.TextureLoader"]=Td;Td.__name__=["lovedna","resource","loader","TextureLoader"];Td.__super__=Da;Td.prototype=w(Da.prototype,{onProgress:null,total:null,type:null,path:null,bytes:null,_loader:null,_url:null,_resMap:null,_png:null,_assetList:null,
_delayCall:null,_processing:null,_dirty:null,SetTexture:function(a,b){var c=this._resMap;null!=n[a]?c.setReserved(a,b):c.h[a]=b},Restore:function(){for(var a=this._resMap,a=new xc(a,a.arrayKeys());a.hasNext();)a.next().Restore()},Get:function(a){0==ga.Extension(a).length&&(a+=".png");this._url.Set(a);var b=this._url.toString(),c=null,c=this._resMap;(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))?(a=this._resMap,c=null!=n[b]?a.getReserved(b):a.h[b]):(c=new Nd,c.asset=this._loader.Load(a,oa.IMAGE),
a=this._resMap,null!=n[b]?a.setReserved(b,c):a.h[b]=c);c.Use();return c},onConstruct:function(){Da.prototype.onConstruct.call(this);this._url=ga.instance;this._resMap=new B;this._loader=new Ra;this._loader.AddEventListener(M.COMPLETE._type,p(this,this.loader_complete));this._png=new kf;this._assetList=new ia;this._delayCall=new mb(p(this,this.process));this._dirty=this._processing=!1},process:function(){this._processing=!1;this.total=this._assetList._length;if(null!=this.onProgress)this.onProgress();
if(!(1>this.total)){mb.Add(this._delayCall,Td.delayTime);var a=this._assetList.Shift(),b=a.path,c=this._resMap;(null!=n[b]?c.getReserved(b):c.h[b]).init(a.image);b=a.path;null==a.image&&pa.Error(b+" not bitmap",{fileName:"TextureLoader.hx",lineNumber:135,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});X.sprite.init(b,!1);if(null!=a.bytes&&(this._png.Decode(a.bytes),a=this._png.GetChunk(1716666723),null!=a))for(a=a.GetContent(),c=new kh(0),pa.Log(b,{fileName:"TextureLoader.hx",
lineNumber:152,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});;){var d=c.Decode(a);if(null==d)break;d.position=0;this.bytes=d;this.type=c.type;this.path=b;pa.Log(b+" "+N.hex(this.type,0),{fileName:"TextureLoader.hx",lineNumber:164,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});this.DispatchEvent(M.ADD);1695437249==this.type&&Db.Decode(d,b)}}},loader_complete:function(){var a=this._loader.current.Clone();this._assetList.Add(a);this._processing||(this._processing=
!0,mb.Add(this._delayCall,Td.delayTime))},__class__:Td});var mb=function(a){this.id=mb._id++;this.handler=a};h["lovedna.scheduler.DelayCall"]=mb;mb.__name__=["lovedna","scheduler","DelayCall"];mb.Add=function(a,b){null!=a&&(0>=b?null!=a.handler&&a.handler():(a.time=b+(new Date).getTime()/1E3*za.scale,null==mb._delayTrigger&&(mb._delayTrigger=new bg),mb._delayTrigger.running||Ca.Add(mb._delayTrigger),mb._delayTrigger.Add(a)))};mb.prototype={id:null,time:null,handler:null,__class__:mb};var bg=function(){this._map=
new Ua;this._list=new Te(p(this,this.compare));this._callList=new ia;this._changed=!1};h["lovedna.scheduler.DelayTrigger"]=bg;bg.__name__=["lovedna","scheduler","DelayTrigger"];bg.__interfaces__=[Kd];bg.prototype={running:null,_map:null,_list:null,_callList:null,_changed:null,_current:null,Add:function(a){this._map.h.hasOwnProperty(a.id)?this._changed=!0:(this._changed=!0,this._map.h[a.id]=a)},OnTriggerEnter:function(a){this.running=!0},OnTrigger:function(a){if(this._changed){this._changed=!1;this._list.Clear();
for(a=this._map.iterator();a.hasNext();){var b=a.next();this._list.Push(b)}this._current=this._list.Shift()}a=this._list.count;if(null!=this._current)for(b=(new Date).getTime()/1E3*za.scale;null!=this._current&&!(0>a);){if(b>=this._current.time){this._map.remove(this._current.id);var c=this._list.Shift();null!=this._current.handler&&this._callList.Add(this._current);this._current=c}else break;--a}a=this._callList._length;if(0<a){for(;0<a--;)this._callList.Get(a).handler();this._callList.Clear()}return null!=
this._current||this._changed?!0:this.running=!1},OntriggerExit:function(a){this.running=!1},compare:function(a,b){return a.time>b.time?1:-1},__class__:bg};var Ca=function(){};h["lovedna.scheduler.Scheduler"]=Ca;Ca.__name__=["lovedna","scheduler","Scheduler"];Ca.Add=function(a){-1==Ca._triggerList.indexOf(a)&&-1==Ca._addList.indexOf(a)&&(Ca._addList.push(a),null==Ca._timer&&(Ca._timer=new Jc(16),Ca._timer.run=Ca.run))};Ca.Remove=function(a){z.remove(Ca._triggerList,a)||z.remove(Ca._addList,a);-1==
Ca._endList.indexOf(a)&&Ca._endList.push(a)};Ca.run=function(){var a=(new Date).getTime()/1E3*za.scale,b=Ca._endList.length;if(0<b){for(;0<b--;)Ca._endList[b].OntriggerExit(a);Ca._endList=[]}b=Ca._triggerList.length;if(0<b)for(;0<b--;){var c=Ca._triggerList[b];c.OnTrigger(a)||Ca.Remove(c)}b=Ca._addList.length;if(0<b){for(;0<b--;)c=Ca._addList[b],Ca._triggerList.push(c),c.OnTriggerEnter(a);Ca._addList=[]}};var hf=function(){};h["lovedna.util.BytesUtil"]=hf;hf.__name__=["lovedna","util","BytesUtil"];
hf.ToBytes=function(a){return ta.ofData(a)};hf.Uncompress=function(a){if("haxe.io.Bytes"==xb.GetClassName(a))return Yh.run(a);a.uncompress();a.position=0;return a};var R=function(){};h["lovedna.util.DynamicUtil"]=R;R.__name__=["lovedna","util","DynamicUtil"];R.GetValue=function(a,b){if(y.__instanceof(a,B))return null!=n[b]?a.getReserved(b):a.h[b];var c;if(null==a)c=null;else{var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;c=d?a[c]():a[b]}return c};R.GetInt=function(a,b,c){null==c&&(c=0);
a=R.GetValue(a,b);return null==a?c:"string"==typeof a?F.parseInt(a):y.__cast(a,$h)};R.GetFloat=function(a,b,c){null==c&&(c=0);a=R.GetValue(a,b);return null==a?c:"string"==typeof a?parseFloat(a):y.__cast(a,Zh)};R.GetString=function(a,b,c){a=R.GetValue(a,b);return null==a?c:F.string(a)};R.GetBool=function(a,b,c){null==c&&(c=!1);a=R.GetValue(a,b);return null==a?c:a};var U=Wh.MathUtil=function(){};h["lovedna.util.MathUtil"]=U;U.__name__=["lovedna","util","MathUtil"];U.ToRadian=function(a){return.017453292519943295*
a};U.ToAngle=function(a){return 57.29577951308232*a};U.Max=function(a,b){return a>b?a:b};U.Min=function(a,b){return a<b?a:b};U.Abs=function(a){return 0>a?-a:a};U.Clamp=function(a,b,c){return a<=b?b:a>=c?c:a};U.Sign=function(a){return 0<a?1:0>a?-1:0};U.Round=function(a){return(a+16384.5|0)-16384};U.RandomFloat=function(a,b){return b<=a?a:a+(b-a)*$c.instance.GetFloat()};U.RandomInt=function(a,b){if(b<=a)return a;var c=a+(b-a)*$c.instance.GetFloat(),d=c|0;0>c&&d!=c&&--d;return d};U.Floor=function(a){var b=
a|0;0>a&&b!=a&&--b;return b};U.Ceil=function(a){var b=a|0;if(a==b)return b;++a;b=a|0;0>a&&b!=a&&--b;return b};U.WrapToPI=function(a){a+=3.141592653589793;var b=a/6.283185307179586,c=b|0;0>b&&c!=b&&--c;return a-6.283185307179586*c-3.141592653589793};U.WrapToPI2=function(a){var b=a/6.283185307179586,c=b|0;0>b&&c!=b&&--c;return a-6.283185307179586*c};U.WrapTo180=function(a){a+=180;var b=a/360,c=b|0;0>b&&c!=b&&--c;return a-360*c-180};U.WrapTo360=function(a){var b=a/360,c=b|0;0>b&&c!=b&&--c;return a-360*
c};U.NextPow2=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};U.IsPow2=function(a){return 0<a?0==(a&a-1):!1};U.IsEven=function(a){return 0==(a&1)};U.Exp=function(a,b){for(var c=1;0!=(b&1)&&(c*=a),b>>=1,0!=b;)a*=a;return c};U.ReverseInt=function(a){for(var b=0;0!=a;)b=10*b+a%10,a=.1*a|0;return b};U.Fract=function(a){var b=a|0;0>a&&b!=a&&--b;return a-b};U.ToString=function(a,b){for(var c="",d=a;0<d;)c=d%b+c,d/=b;return c};U.GetFixedNumber=function(a,b){null==b&&(b=2);var c=U.Exp(10,
b);return(a*c|0)/c};U.ToFixed=function(a,b){if(isNaN(a))return"NaN";var c=U.Exp(10,b),c=F.string((a*c|0)/c),d=c.indexOf(".");-1!=d?d=z.substr(c,d+1,null).length:(c+=".",d=0);for(;d<b;)d++,c+="0";return c};U.Lerp=function(a,b,c){return a+(b-a)*c};U.LerpTo=function(a,b,c,d,f){return c+(f-a)/(b-a)*(d-c)};U.SmoothStep=function(a,b,c){return a+(b-a)*c*c*(3-2*c)};U.PerlinStep=function(a,b,c){return a+(b-a)*c*c*c*(c*(6*c-15)+10)};U.BinarySearchLow=function(a,b){for(var c=0,d=a.length-1,f=d>>>1,e=d;0<e--;){var k=
a[f];if(b>k)c=f,f+=d-c>>>1;else if(b<k)d=f,f=c+(d-c>>>1);else if(b==k)return f;if(3>d-c){if(b>=a[d])return d;if(b>=a[f])return f;if(b>=a[c])return c}}return-1};U.BinarySearch=function(a,b){var c=a.length,d=0,f=c-2;if(0==f)return 0;for(var e=f>>>1;0<c--;){a[e+1]<=b?d=e+1:f=e;if(d==f)return d;e=d+f>>>1}return-1};U.prototype={__class__:U};var Wa=function(){};h["lovedna.util.StringUtil"]=Wa;Wa.__name__=["lovedna","util","StringUtil"];Wa.Fill=function(a,b,c){null==c&&(c="0");var d=0>b;0>b&&(b=-b);var f=
"";b-=a.length;for(var e=0;e<b;)e++,f+=c;return d?f+a:a+f};Wa.Trim=function(a,b){null==b&&(b="");a=N.trim(a);if(""==b)return a;0==a.indexOf(b)&&(a=z.substr(a,1,null));a.lastIndexOf(b)==a.length-1&&(a=z.substr(a,0,-1));return a};Wa.Hex2Int=function(a){if(0==a.indexOf("0x"))return 10<a.length&&(a=z.substr(a,0,10)),F.parseInt(a);8<a.length&&(a=z.substr(a,0,8));return F.parseInt("0x"+a)};Wa.RandomString=function(a){var b=F.parseInt(z.substr(a,0,1));a=z.substr(a,1,null);for(var c=a.length/b|0,d="";0<c--;)var f=
z.substr(a,c*b,b),d=d+String.fromCharCode(F.parseInt(f));return d};var cg=function(a,b,c){null==c&&(c=!1);this.isStatic=c;this.priority=0;this._name=b;this._metaList=[];this._metaMap=new B;b=H.fields(a);for(c=b.length;0<c--;){var d=b[c];if("t"!=d&&"f"!=d){this._metaList.push(d);var f=H.field(a,d);null!=f&&1==f.length&&y.__instanceof(f[0],$h)&&(this.priority=f[0]);var e=this._metaMap;null!=n[d]?e.setReserved(d,f):e.h[d]=f}}b=H.field(a,"t");null!=b&&0<b.length?(this._type=Q.resolveClass(b[b.length-
1]),this.isFunction=!1):(this.isFunction=!0,this._funArgs=[]);a=H.field(a,"f");if(null!=a)for(b=0,c=a.length;b<c;)d=b++,d=H.field(a[d],"type"),this._funArgs.push(Q.resolveClass(d))};h["lovedna.util.rtti.ClassMeta"]=cg;cg.__name__=["lovedna","util","rtti","ClassMeta"];cg.prototype={isFunction:null,isStatic:null,priority:null,_name:null,_type:null,_metaList:null,_metaMap:null,_funArgs:null,hasMeta:function(a){var b=this._metaMap;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},getMetaArgs:function(a){var b=
this._metaMap;return null!=n[a]?b.getReserved(a):b.h[a]},get_functionArgs:function(){return this._funArgs},__class__:cg,__properties__:{get_functionArgs:"get_functionArgs"}};var zc=function(){};h["lovedna.util.rtti.ClassMetaInfo"]=zc;zc.__name__=["lovedna","util","rtti","ClassMetaInfo"];zc.Get=function(a){if(null!=zc._infoMap.h.__keys__[a.__id__])return zc._infoMap.h[a.__id__];var b=new zc;b.classPath=Q.getClassName(a);b.parse(a);zc._infoMap.set(a,b);return b};zc.prototype={classPath:null,_metaMap:null,
_fields:null,getField:function(a){return this._fields[a]},getMeta:function(a){var b=this._metaMap;return null!=n[a]?b.getReserved(a):b.h[a]},parse:function(a){var b=cd.getFields(a);this._metaMap=new B;this._fields=[];for(var c=H.fields(b),d=c.length,f=[];0<d--;){var e=c[d],k=new cg(H.field(b,e),e),h=this._metaMap;null!=n[e]?h.setReserved(e,k):h.h[e]=k;null!=k._type?this._fields.push(e):f.push(k)}d=f.length;if(0<d)for(f.reverse(),f.sort(p(this,this.sort)),b=0;b<d;)c=b++,this._fields.push(f[c]._name);
b=cd.getStatics(a);c=H.fields(b);for(d=c.length;0<d--;)a=c[d],e=new cg(H.field(b,a),a,!0),k=this._metaMap,null!=n[a]?k.setReserved(a,e):k.h[a]=e,null!=e._type?this._fields.push(a):f.push(e)},sort:function(a,b){return a.priority<b.priority?1:a.priority>b.priority?-1:0},__class__:zc};var jh=function(){};h["lovedna.util.rtti.IInject"]=jh;jh.__name__=["lovedna","util","rtti","IInject"];jh.prototype={OnInject:null,__class__:jh};var Jb=function(){this._count=0;this._startList=[];this._endList=[];this._continueList=
[]};h["lovedna.util.worker.Worker"]=Jb;Jb.__name__=["lovedna","util","worker","Worker"];Jb.__interfaces__=[Kd];Jb.GetInstance=function(){if(null!=Jb._instance)return Jb._instance;Jb._instance=new Jb;return Jb._instance};Jb.prototype={_startList:null,_endList:null,_continueList:null,_count:null,Add:function(a){null!=a&&-1==this._startList.indexOf(a)&&(this._startList.push(a),0==this._count&&Ca.Add(this),this._count++)},OnTriggerEnter:function(a){},OnTrigger:function(a){a=0;var b=null;a=this._continueList.length;
if(0<a)return b=this._continueList.shift(),b.OnWorkerExecute(.001*(new Date).getTime()+za._timeOffset)?this._continueList.unshift(b):this._endList.push(b),!0;a=this._endList.length;if(0<a){for(this._count-=a;0<a--;)b=this._endList[a],b.OnWorkerExit(.001*(new Date).getTime()+za._timeOffset);this._endList.splice(0,this._endList.length)}for(a=this._startList.length;0<a--;)return b=this._startList[a],b.OnWorkerEnter(.001*(new Date).getTime()+za._timeOffset),z.remove(this._startList,b),this._continueList.push(b),
!0;return 0<this._count},OntriggerExit:function(a){},__class__:Jb};var Sb=function(){wb.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0;null!=Sb.__initSymbol&&(this.__swf=Sb.__initSWF,this.__symbol=Sb.__initSymbol,Sb.__initSWF=null,Sb.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};h["openfl.display.MovieClip"]=Sb;Sb.__name__=["openfl","display","MovieClip"];Sb.__super__=wb;Sb.prototype=w(wb.prototype,{enabled:null,__currentFrame:null,
__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__frameTime:null,__lastUpdate:null,__maskCount:null,__objectDepths:null,__objects:null,__playing:null,__swf:null,__symbol:null,__timeElapsed:null,__totalFrames:null,__zeroSymbol:null,play:function(){null!=this.__symbol&&!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__frameTime=1E3/this.__swf.frameRate|0,this.__timeElapsed=0)},__enterFrame:function(a){if(null!=this.__symbol&&this.__playing){this.__timeElapsed+=
a;var b=Math.floor(this.__timeElapsed/this.__frameTime);this.__timeElapsed%=this.__frameTime;if(null!=this.__frameScripts)for(var c=0;c<b&&(c++,this.__currentFrame++,this.__currentFrame>this.__totalFrames&&(this.__currentFrame=1),!this.__frameScripts.h.hasOwnProperty(this.__currentFrame-1)||(this.__frameScripts.h[this.__currentFrame-1](),this.__playing)););else for(this.__currentFrame+=b;this.__currentFrame>this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}wb.prototype.__enterFrame.call(this,
a)},__fromSymbol:function(a,b){if(null==this.__objects){this.__swf=a;this.__symbol=b;this.__lastUpdate=-1;this.__maskCount=0;this.__objectDepths=[];this.__objects=new Ua;this.__zeroSymbol=-1;this.__currentFrame=1;this.__totalFrames=this.__symbol.frames.length;for(var c=0,d=this.__symbol.frames.length;c<d;){var f=c++;null!=this.__symbol.frames[f].label&&this.__currentLabels.push(new dg(this.__symbol.frames[f].label,f+1))}this.__updateFrame();c=0;for(d=Q.getInstanceFields(y.getClass(this));c<d.length;){f=
d[c];++c;for(var e=0,k=this.__children;e<k.length;){var h=k[e];++e;h.get_name()==f&&(this[f]=h)}}1<this.__totalFrames&&this.play()}},__placeObject:function(a,b){null!=b.name&&a.set_name(b.name);null!=b.matrix&&a.get_transform().set_matrix(b.matrix);null!=b.colorTransform&&a.get_transform().set_colorTransform(b.colorTransform);if(null!=b.filters){for(var c=[],d=0,f=b.filters;d<f.length;){var e=f[d];++d;switch(e[1]){case 0:c.push(new od(e[2],e[3],e[4]));break;case 1:c.push(new pd(e[2]));break;case 2:c.push(new eg(e[2],
e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]));break;case 3:c.push(new kc(e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]))}}a.set_filters(c)}a.set_visible(b.visible)},__renderFrame:function(a){var b=this.__lastUpdate-1;if(b>a){for(var c,d=0;d<this.__objectDepths.length;){b=this.__objectDepths[d];c=!1;for(var f=0,e=this.__symbol.frames[0].objects;f<e.length;){var k=e[f];++f;if(k.id==b.id){c=!0;break}}c?++d:(b.displayObject.parent==this&&this.removeChild(b.displayObject),0<b.clipDepth&&this.__maskCount--,
0>this.__maskCount&&(this.__maskCount=0),this.__objectDepths.splice(d,1))}b=0}var h;c=!1;for(a+=1;b<a;)if(d=b++,!(0>d))for(f=this.__symbol.frames[d],d=0,e=f.objects;d<e.length;)if(k=e[d],++d,k.type!=lc.DESTROY)0==k.id&&k.symbol!=this.__zeroSymbol&&(f=this.__objects.h[0],null!=f&&f.displayObject.parent==this&&this.removeChild(f.displayObject),z.remove(this.__objectDepths,this.__objects.h[0]),this.__zeroSymbol=k.symbol),h=null,this.__objects.h.hasOwnProperty(k.id)?(f=this.__objects.h[k.id],h=f.displayObject,
null==f.displayObject.parent&&(0<k.clipDepth&&this.__maskCount++,this.__objectDepths.push(f),c=!0)):(this.__swf.symbols.h.hasOwnProperty(k.symbol)&&(f=this.__swf.symbols.h[k.symbol],h=f.__createObject(this.__swf)),null!=h&&(f=new Hh(k.id,k.depth,k.clipDepth,h),0<k.clipDepth&&this.__maskCount++,this.__objectDepths.push(f),this.__objects.h[k.id]=f,c=!0)),null!=h&&this.__placeObject(h,k);else if(this.__objects.h.hasOwnProperty(k.id)){f=this.__objects.h[k.id];if(null!=f){f.displayObject.parent==this&&
this.removeChild(f.displayObject);if(0<f.clipDepth)for(this.__maskCount--,c=0,k=this.__objectDepths;c<k.length;)h=k[c],++c,h.displayObject.get_mask()==f.displayObject&&h.displayObject.set_mask(null);z.remove(this.__objectDepths,f)}c=!0}if(c)for(this.__objectDepths.sort(p(this,this.__sortTimelineDepth)),b=this.__objectDepths.length-1;0<=b;)f=this.__objectDepths[b],this.addChildAt(f.displayObject,0),--b;if(0<this.__maskCount)for(a=0,c=this.__objectDepths;a<c.length;)if(d=c[a],++a,0<d.clipDepth)for(b=
d.displayObject,f=0,e=this.__objectDepths;f<e.length;)if(k=e[f],++f,k.depth<=d.clipDepth)k.depth>=d.depth&&k.displayObject.set_mask(b);else break},__sortTimelineDepth:function(a,b){return a.depth-b.depth},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var a=this.__currentFrame-1;if(-1<a){this.__currentFrameLabel=this.__symbol.frames.length>a&&null!=this.__symbol.frames[a]?this.__symbol.frames[a].label:null;if(null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;
else if(this.__currentFrame!=this.__lastUpdate+1){this.__currentLabel=null;for(var b=0,c=this.__currentLabels;b<c.length;){var d=c[b];++b;if(d.get_frame()<=this.__currentFrame)this.__currentLabel=d.get_name();else break}}this.__renderFrame(a)}this.__renderDirty=!0;G.__worldRenderDirty++}this.__lastUpdate=this.__currentFrame},__class__:Sb});var eb={};h["openfl._Vector.Vector_Impl_"]=eb;eb.__name__=["openfl","_Vector","Vector_Impl_"];eb.toIntVector=function(a,b,c){return new fg(b,c)};eb.toFloatVector=
function(a,b,c){return new gg(b,c)};eb.toObjectVector=function(a,b,c){return new xe(b,c)};var Ea=function(a,b,c,d,f,e){null==e&&(e=0);null==f&&(f=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=f;this.ty=e};h["openfl.geom.Matrix"]=Ea;Ea.__name__=["openfl","geom","Matrix"];Ea.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new Ea(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+
this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*
a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},transformPoint:function(a){return new cb(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__class__:Ea};var nb=function(a,b,c,d,f,e,k,h){null==h&&(h=0);null==k&&(k=0);null==e&&(e=0);null==f&&(f=0);null==d&&(d=1);null==
c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=f;this.greenOffset=e;this.blueOffset=k;this.alphaOffset=h};h["openfl.geom.ColorTransform"]=nb;nb.__name__=["openfl","geom","ColorTransform"];nb.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,__clone:function(){return new nb(this.redMultiplier,this.greenMultiplier,
this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null==a||this.redMultiplier!=a.redMultiplier||this.greenMultiplier!=
a.greenMultiplier||this.blueMultiplier!=a.blueMultiplier||!b&&this.alphaMultiplier!=a.alphaMultiplier||this.redOffset!=a.redOffset||this.greenOffset!=a.greenOffset||this.blueOffset!=a.blueOffset?!1:this.alphaOffset==a.alphaOffset},__toLimeColorMatrix:function(){if(null==nb.__limeColorMatrix){var a=new ka(20);nb.__limeColorMatrix=a}nb.__limeColorMatrix[0]=this.redMultiplier;nb.__limeColorMatrix[4]=this.redOffset/255;nb.__limeColorMatrix[6]=this.greenMultiplier;nb.__limeColorMatrix[9]=this.greenOffset/
255;nb.__limeColorMatrix[12]=this.blueMultiplier;nb.__limeColorMatrix[14]=this.blueOffset/255;nb.__limeColorMatrix[18]=this.alphaMultiplier;nb.__limeColorMatrix[19]=this.alphaOffset/255;return nb.__limeColorMatrix},__class__:nb};var ya=function(){};h["openfl.Lib"]=ya;ya.__name__=["openfl","Lib"];ya.getTimer=function(){return Va.getTimer()};ya.getURL=function(a,b){null==b&&(b="_blank");Va.openURL(a.url,b)};var ye=function(){};h["openfl._Vector.IVector"]=ye;ye.__name__=["openfl","_Vector","IVector"];
ye.prototype={get_length:null,get:null,push:null,__class__:ye,__properties__:{get_length:"get_length"}};var gg=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.FloatVector"]=gg;gg.__name__=["openfl","_Vector","FloatVector"];gg.__interfaces__=[ye];gg.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<
this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:gg,__properties__:{set_length:"set_length",get_length:"get_length"}};var fg=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.IntVector"]=
fg;fg.__name__=["openfl","_Vector","IntVector"];fg.__interfaces__=[ye];fg.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>
a;)this.__array.pop()}return this.__array.length},__class__:fg,__properties__:{set_length:"set_length",get_length:"get_length"}};var xe=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.ObjectVector"]=xe;xe.__name__=["openfl","_Vector","ObjectVector"];xe.__interfaces__=[ye];xe.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,
b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new xe(null,null,this.__array.splice(a,b))},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:xe,__properties__:{set_length:"set_length",get_length:"get_length"}};var hg=function(){};h["openfl._internal.renderer.AbstractBlendModeManager"]=
hg;hg.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];hg.prototype={setBlendMode:function(a){},__class__:hg};var ig=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractFilterManager"]=ig;ig.__name__=["openfl","_internal","renderer","AbstractFilterManager"];ig.prototype={renderSession:null,pushObject:function(a){return null},popObject:function(a){},__class__:ig};var Sc=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractMaskManager"]=Sc;Sc.__name__=
["openfl","_internal","renderer","AbstractMaskManager"];Sc.prototype={renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Sc};var Dc=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};h["openfl._internal.renderer.AbstractRenderer"]=Dc;Dc.__name__=["openfl","_internal","renderer","AbstractRenderer"];Dc.prototype=
{height:null,width:null,renderSession:null,stage:null,clear:function(){},render:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:Dc};var jg=function(){};h["openfl._internal.renderer.AbstractShaderManager"]=jg;jg.__name__=["openfl","_internal","renderer","AbstractShaderManager"];jg.prototype={currentShader:null,defaultShader:null,setShader:function(a){},__class__:jg};var Eb=function(){null==Eb.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],
this.copyOnWrite=!0):this.clear()};h["openfl._internal.renderer.DrawCommandBuffer"]=Eb;Eb.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];Eb.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new qd(a),c=0,d=a.types;c<d.length;){var f=d[c];++c;switch(f[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_BITMAP_FILL;
f=b;this.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_FILL;f=b;this.beginFill(f.buffer.i[f.iPos],f.buffer.f[f.fPos]);break;case 2:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=
1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_GRADIENT_FILL;f=b;this.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);break;case 3:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CUBIC_CURVE_TO;
f=b;this.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;
case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CURVE_TO;f=b;this.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=
3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_CIRCLE;f=b;this.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=
1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ELLIPSE;f=b;this.drawEllipse(f.buffer.f[f.fPos],
f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=
1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_RECT;f=b;this.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=
1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ROUND_RECT;f=b;this.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 10:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=
1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_TRIANGLES;f=b;this.drawTriangles(f.buffer.o[f.oPos],
f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3]);break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=
1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.END_FILL;this.endFill();break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_BITMAP_STYLE;f=b;this.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=
3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_GRADIENT_STYLE;f=b;this.lineGradientStyle(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],
f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_STYLE;f=b;this.lineStyle(f.buffer.o[f.oPos],f.buffer.i[f.iPos],f.buffer.f[f.fPos],f.buffer.b[f.bPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos+1]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=
4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_TO;f=b;this.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.MOVE_TO;f=b;this.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 17:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.OVERRIDE_MATRIX;
f=b;this.overrideMatrix(f.buffer.o[f.oPos])}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(v.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();this.types.push(v.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,f,e,k,h){this.prepareWrite();this.types.push(v.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(f);
this.o.push(e);this.o.push(k);this.f.push(h)},clear:function(){this.types=Eb.empty.types;this.b=Eb.empty.b;this.i=Eb.empty.i;this.f=Eb.empty.f;this.o=Eb.empty.o;this.ff=Eb.empty.ff;this.ii=Eb.empty.ii;this.copyOnWrite=!0},copy:function(){var a=new Eb;a.append(this);return a},cubicCurveTo:function(a,b,c,d,f,e){this.prepareWrite();this.types.push(v.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(f);this.f.push(e)},curveTo:function(a,b,c,d){this.prepareWrite();
this.types.push(v.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(v.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,
b,c,d,f,e){this.prepareWrite();this.types.push(v.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(f);this.o.push(e)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(v.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(v.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);
this.b.push(d)},lineGradientStyle:function(a,b,c,d,f,e,k,h){this.prepareWrite();this.types.push(v.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(f);this.o.push(e);this.o.push(k);this.f.push(h)},lineStyle:function(a,b,c,d,f,e,k,h){this.prepareWrite();this.types.push(v.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(f);this.o.push(e);this.o.push(k);this.f.push(h)},lineTo:function(a,b){this.prepareWrite();this.types.push(v.LINE_TO);
this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.prepareWrite();this.types.push(v.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(v.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},
__class__:Eb,__properties__:{get_length:"get_length"}};var qd=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=v.UNKNOWN};h["openfl._internal.renderer.DrawCommandReader"]=qd;qd.__name__=["openfl","_internal","renderer","DrawCommandReader"];qd.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=
this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:qd};var v=h["openfl._internal.renderer.DrawCommandType"]={__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};v.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];v.BEGIN_BITMAP_FILL.toString=
A;v.BEGIN_BITMAP_FILL.__enum__=v;v.BEGIN_FILL=["BEGIN_FILL",1];v.BEGIN_FILL.toString=A;v.BEGIN_FILL.__enum__=v;v.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];v.BEGIN_GRADIENT_FILL.toString=A;v.BEGIN_GRADIENT_FILL.__enum__=v;v.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];v.CUBIC_CURVE_TO.toString=A;v.CUBIC_CURVE_TO.__enum__=v;v.CURVE_TO=["CURVE_TO",4];v.CURVE_TO.toString=A;v.CURVE_TO.__enum__=v;v.DRAW_CIRCLE=["DRAW_CIRCLE",5];v.DRAW_CIRCLE.toString=A;v.DRAW_CIRCLE.__enum__=v;v.DRAW_ELLIPSE=["DRAW_ELLIPSE",
6];v.DRAW_ELLIPSE.toString=A;v.DRAW_ELLIPSE.__enum__=v;v.DRAW_RECT=["DRAW_RECT",7];v.DRAW_RECT.toString=A;v.DRAW_RECT.__enum__=v;v.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];v.DRAW_ROUND_RECT.toString=A;v.DRAW_ROUND_RECT.__enum__=v;v.DRAW_TILES=["DRAW_TILES",9];v.DRAW_TILES.toString=A;v.DRAW_TILES.__enum__=v;v.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];v.DRAW_TRIANGLES.toString=A;v.DRAW_TRIANGLES.__enum__=v;v.END_FILL=["END_FILL",11];v.END_FILL.toString=A;v.END_FILL.__enum__=v;v.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",
12];v.LINE_BITMAP_STYLE.toString=A;v.LINE_BITMAP_STYLE.__enum__=v;v.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];v.LINE_GRADIENT_STYLE.toString=A;v.LINE_GRADIENT_STYLE.__enum__=v;v.LINE_STYLE=["LINE_STYLE",14];v.LINE_STYLE.toString=A;v.LINE_STYLE.__enum__=v;v.LINE_TO=["LINE_TO",15];v.LINE_TO.toString=A;v.LINE_TO.__enum__=v;v.MOVE_TO=["MOVE_TO",16];v.MOVE_TO.toString=A;v.MOVE_TO.__enum__=v;v.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];v.OVERRIDE_MATRIX.toString=A;v.OVERRIDE_MATRIX.__enum__=v;v.UNKNOWN=
["UNKNOWN",18];v.UNKNOWN.toString=A;v.UNKNOWN.__enum__=v;var ze=function(){this.allowSmoothing=!0};h["openfl._internal.renderer.RenderSession"]=ze;ze.__name__=["openfl","_internal","renderer","RenderSession"];ze.prototype={allowSmoothing:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformOriginProperty:null,upscaled:null,blendModeManager:null,filterManager:null,maskManager:null,shaderManager:null,__class__:ze};var m=function(){};h["openfl._internal.renderer.canvas.CanvasGraphics"]=
m;m.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];m.closePath=function(a){null==a&&(a=!1);null!=m.context.strokeStyle&&(a||m.context.closePath(),m.context.stroke(),a&&m.context.closePath(),m.context.beginPath())};m.createBitmapFill=function(a,b,c){na.convertToCanvas(a.image);m.setSmoothing(c);return m.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};m.createGradientPattern=function(a,b,c,d,f,e,k,h){e=null;switch(a){case 0:f=null!=f?f:new Ea;e=f.transformPoint(new cb(-819.2,
0));f=f.transformPoint(new cb(819.2,0));e=m.context.createLinearGradient(e.x,e.y,f.x,f.y);break;case 1:null==f&&(f=new Ea),e=f.transformPoint(new cb(1638.4,0)),e=m.context.createRadialGradient(f.tx,f.ty,0,f.tx,f.ty,Math.abs((e.x-f.tx)/2))}f=0;for(a=b.length;f<a;){var l=f++,g=b[l];k=c[l];h=(g&16711680)>>>16;var n=(g&65280)>>>8,g=g&255,l=d[l]/255;0>l&&(l=0);1<l&&(l=1);e.addColorStop(l,"rgba("+h+", "+n+", "+g+", "+k+")")}return e};m.createTempPatternCanvas=function(a,b,c,d){var f=window.document.createElement("canvas"),
e=f.getContext("2d");f.width=c;f.height=d;a=a.image.get_src();e.fillStyle=e.createPattern(a,b?"repeat":"no-repeat");e.beginPath();e.moveTo(0,0);e.lineTo(0,d);e.lineTo(c,d);e.lineTo(c,0);e.lineTo(0,0);e.closePath();m.hitTesting||e.fill();return f};m.drawRoundRect=function(a,b,c,d,f,e){null==e&&(e=f);f*=.5;e*=.5;f>c/2&&(f=c/2);e>d/2&&(e=d/2);c=a+c;d=b+d;var k=-f+f*m.SIN45,h=-f+f*m.TAN22,l=-e+e*m.SIN45,g=-e+e*m.TAN22;m.context.moveTo(c,d-e);m.context.quadraticCurveTo(c,d+g,c+k,d+l);m.context.quadraticCurveTo(c+
h,d,c-f,d);m.context.lineTo(a+f,d);m.context.quadraticCurveTo(a-h,d,a-k,d+l);m.context.quadraticCurveTo(a,d+g,a,d-e);m.context.lineTo(a,b+e);m.context.quadraticCurveTo(a,b-g,a-k,b-l);m.context.quadraticCurveTo(a-h,b,a+f,b);m.context.lineTo(c-f,b);m.context.quadraticCurveTo(c+h,b,c+k,b-l);m.context.quadraticCurveTo(c,b-g,c,b+e);m.context.lineTo(c,d-e)};m.endFill=function(){m.context.beginPath();m.playCommands(m.fillCommands,!1);m.fillCommands.clear()};m.endStroke=function(){m.context.beginPath();m.playCommands(m.strokeCommands,
!0);m.context.closePath();m.strokeCommands.clear()};m.hitTest=function(a,b,c){m.bounds=a.__bounds;m.graphics=a;if(!(0==a.__commands.get_length()||null==m.bounds||0>=m.bounds.width||0>=m.bounds.height)){m.hitTesting=!0;var d=a.__renderTransform,f=b*d.b+c*d.d+d.ty;b=b*d.a+c*d.c+d.tx;b-=m.bounds.x*d.a+m.bounds.y*d.c+d.tx;c=f-(m.bounds.x*d.b+m.bounds.y*d.d+d.ty);var f=a.__canvas,e=a.__context;a.__canvas=m.hitTestCanvas;a.__context=m.hitTestContext;m.context=a.__context;m.context.setTransform(d.a,d.b,
d.c,d.d,d.tx,d.ty);m.fillCommands.clear();m.strokeCommands.clear();m.hasFill=!1;m.hasStroke=!1;m.bitmapFill=null;m.bitmapRepeat=!1;for(var d=new qd(a.__commands),k=0,h=a.__commands.types;k<h.length;){var l=h[k];++k;switch(l[1]){case 0:case 1:case 2:m.endFill();m.endStroke();if(m.hasFill&&m.context.isPointInPath(b,c)||m.hasStroke&&m.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=f,a.__context=e,!0;if(l==v.BEGIN_BITMAP_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=
1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_BITMAP_FILL;l=d;m.fillCommands.beginBitmapFill(l.buffer.o[l.oPos],
l.buffer.o[l.oPos+1],l.buffer.b[l.bPos],l.buffer.b[l.bPos+1]);m.strokeCommands.beginBitmapFill(l.buffer.o[l.oPos],l.buffer.o[l.oPos+1],l.buffer.b[l.bPos],l.buffer.b[l.bPos+1])}else if(l==v.BEGIN_GRADIENT_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=
4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_GRADIENT_FILL;l=d;m.fillCommands.beginGradientFill(l.buffer.o[l.oPos],l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos]);m.strokeCommands.beginGradientFill(l.buffer.o[l.oPos],
l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos])}else{switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=
4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_FILL;l=d;m.fillCommands.beginFill(l.buffer.i[l.iPos],1);m.strokeCommands.beginFill(l.buffer.i[l.iPos],1)}break;case 3:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;
case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.CUBIC_CURVE_TO;l=d;m.fillCommands.cubicCurveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.f[l.fPos+5]);m.strokeCommands.cubicCurveTo(l.buffer.f[l.fPos],
l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.f[l.fPos+5]);break;case 4:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.CURVE_TO;l=d;m.fillCommands.curveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3]);m.strokeCommands.curveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3]);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_CIRCLE;l=d;m.fillCommands.drawCircle(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+
2]);m.strokeCommands.drawCircle(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2]);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;
break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_ELLIPSE;l=d;m.fillCommands.drawEllipse(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3]);m.strokeCommands.drawEllipse(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3]);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_RECT;l=d;m.fillCommands.drawRect(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+
2],l.buffer.f[l.fPos+3]);m.strokeCommands.drawRect(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=
4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_ROUND_RECT;l=d;m.fillCommands.drawRoundRect(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.o[l.oPos]);m.strokeCommands.drawRoundRect(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.o[l.oPos]);break;
case 11:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=
2;break;case 17:d.oPos+=1}d.prev=v.END_FILL;m.endFill();m.endStroke();if(m.hasFill&&m.context.isPointInPath(b,c)||m.hasStroke&&m.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=f,a.__context=e,!0;m.hasFill=!1;m.bitmapFill=null;break;case 12:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;
case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_BITMAP_STYLE;l=d;m.strokeCommands.lineBitmapStyle(l.buffer.o[l.oPos],l.buffer.o[l.oPos+1],l.buffer.b[l.bPos],l.buffer.b[l.bPos+1]);break;case 13:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=
1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_GRADIENT_STYLE;l=d;m.strokeCommands.lineGradientStyle(l.buffer.o[l.oPos],
l.buffer.ii[l.iiPos],l.buffer.ff[l.ffPos],l.buffer.ii[l.iiPos+1],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos]);break;case 14:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;
break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_STYLE;l=d;m.strokeCommands.lineStyle(l.buffer.o[l.oPos],l.buffer.i[l.iPos],1,l.buffer.b[l.bPos],l.buffer.o[l.oPos+1],l.buffer.o[l.oPos+2],l.buffer.o[l.oPos+3],l.buffer.f[l.fPos+1]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=
2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_TO;l=d;m.fillCommands.lineTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);m.strokeCommands.lineTo(l.buffer.f[l.fPos],
l.buffer.f[l.fPos+1]);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.MOVE_TO;l=d;m.fillCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);m.strokeCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=
4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=l}}0<m.fillCommands.get_length()&&m.endFill();0<m.strokeCommands.get_length()&&m.endStroke();d.destroy();if(m.hasFill&&m.context.isPointInPath(b,c)||m.hasStroke&&m.context.isPointInStroke(b,c))return a.__canvas=f,a.__context=e,!0;a.__canvas=f;a.__context=e}return!1};m.normalizeUVT=
function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,f=a.get_length(),e=1,k=f+1;e<k;)d=e++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};e=eb.toFloatVector(null);k=1;for(f+=1;k<f;)d=k++,b&&0==d%3||e.push(a.get(d-1));return{max:c,uvt:e}};m.playCommands=function(a,b){null==b&&(b=!1);m.bounds=m.graphics.__bounds;var c=m.bounds.x,d=m.bounds.y,f=0,e=0,k=!1,h=0,l=0;m.setSmoothing(!0);for(var g=new qd(a),n=0,p=a.types;n<p.length;){var u=p[n];++n;switch(u[1]){case 0:switch(g.prev[1]){case 0:g.oPos+=
2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_BITMAP_FILL;
u=g;m.bitmapFill=u.buffer.o[u.oPos];m.context.fillStyle=m.createBitmapFill(u.buffer.o[u.oPos],!0,u.buffer.b[u.bPos+1]);m.hasFill=!0;null!=u.buffer.o[u.oPos+1]?(m.pendingMatrix=u.buffer.o[u.oPos+1],m.inversePendingMatrix=u.buffer.o[u.oPos+1].clone(),m.inversePendingMatrix.invert()):(m.pendingMatrix=null,m.inversePendingMatrix=null);break;case 1:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;
break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_FILL;u=g;.005>u.buffer.f[u.fPos]?m.hasFill=!1:(1==u.buffer.f[u.fPos]?(u=N.hex(u.buffer.i[u.iPos]&16777215,6),m.context.fillStyle=
"#"+u):m.context.fillStyle="rgba("+((u.buffer.i[u.iPos]&16711680)>>>16)+", "+((u.buffer.i[u.iPos]&65280)>>>8)+", "+(u.buffer.i[u.iPos]&255)+", "+u.buffer.f[u.fPos]+")",m.bitmapFill=null,m.setSmoothing(!0),m.hasFill=!0);break;case 2:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=
5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_GRADIENT_FILL;u=g;m.context.fillStyle=m.createGradientPattern(u.buffer.o[u.oPos],u.buffer.ii[u.iiPos],u.buffer.ff[u.ffPos],u.buffer.ii[u.iiPos+1],u.buffer.o[u.oPos+1],u.buffer.o[u.oPos+2],u.buffer.o[u.oPos+3],u.buffer.f[u.fPos]);m.bitmapFill=
null;m.setSmoothing(!0);m.hasFill=!0;break;case 3:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;
case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.CUBIC_CURVE_TO;u=g;m.context.bezierCurveTo(u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2]-c,u.buffer.f[u.fPos+3]-d,u.buffer.f[u.fPos+4]-c,u.buffer.f[u.fPos+5]-d);break;case 4:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=
4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.CURVE_TO;u=g;m.context.quadraticCurveTo(u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2]-c,u.buffer.f[u.fPos+3]-d);break;case 5:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=
1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_CIRCLE;u=g;m.context.moveTo(u.buffer.f[u.fPos]-
c+u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+1]-d);m.context.arc(u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2],0,2*Math.PI,!0);break;case 6:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=
4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_ELLIPSE;var r=g,u=r.buffer.f[r.fPos],w=r.buffer.f[r.fPos+1],x=r.buffer.f[r.fPos+2],z=r.buffer.f[r.fPos+3],u=u-c,w=w-d,r=x/2*.5522848,y=z/2*.5522848,A=u+x,E=w+z,x=u+x/2,z=w+z/2;m.context.moveTo(u,z);m.context.bezierCurveTo(u,z-y,x-r,w,x,w);m.context.bezierCurveTo(x+r,w,A,z-y,A,z);m.context.bezierCurveTo(A,z+y,x+r,E,x,E);m.context.bezierCurveTo(x-
r,E,u,z+y,u,z);break;case 7:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;
break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_RECT;u=g;w=!1;null==m.bitmapFill||m.hitTesting||(E=A=x=r=0,y=!0,null!=m.pendingMatrix?0!=m.pendingMatrix.b||0!=m.pendingMatrix.c?y=!1:(A=m.inversePendingMatrix.transformPoint(new cb(u.buffer.f[u.fPos],u.buffer.f[u.fPos+1])),x=m.inversePendingMatrix.transformPoint(new cb(u.buffer.f[u.fPos]+u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+1]+u.buffer.f[u.fPos+3])),r=A.y,E=A.x,A=x.y,x=x.x):(r=u.buffer.f[u.fPos+1],E=u.buffer.f[u.fPos],A=u.buffer.f[u.fPos+
1]+u.buffer.f[u.fPos+3],x=u.buffer.f[u.fPos]+u.buffer.f[u.fPos+2]),y&&0<=r&&0<=E&&x<=m.bitmapFill.width&&A<=m.bitmapFill.height&&(w=!0,m.hitTesting||m.context.drawImage(m.bitmapFill.image.get_src(),E,r,x-E,A-r,u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3])));w||m.context.rect(u.buffer.f[u.fPos]-c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3]);break;case 8:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;
case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_ROUND_RECT;u=g;m.drawRoundRect(u.buffer.f[u.fPos]-
c,u.buffer.f[u.fPos+1]-d,u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3],u.buffer.f[u.fPos+4],u.buffer.o[u.oPos]);break;case 12:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=
1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_BITMAP_STYLE;u=g;b&&m.hasStroke&&m.closePath();m.context.moveTo(f-c,e-d);m.context.strokeStyle=m.createBitmapFill(u.buffer.o[u.oPos],u.buffer.b[u.bPos],u.buffer.b[u.bPos+1]);m.hasStroke=!0;break;case 13:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=
6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_GRADIENT_STYLE;u=g;b&&m.hasStroke&&m.closePath();m.context.moveTo(f-c,e-d);m.context.strokeStyle=m.createGradientPattern(u.buffer.o[u.oPos],
u.buffer.ii[u.iiPos],u.buffer.ff[u.ffPos],u.buffer.ii[u.iiPos+1],u.buffer.o[u.oPos+1],u.buffer.o[u.oPos+2],u.buffer.o[u.oPos+3],u.buffer.f[u.fPos]);m.setSmoothing(!0);m.hasStroke=!0;break;case 14:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;
break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_STYLE;u=g;b&&m.hasStroke&&m.closePath(!0);m.context.moveTo(f-c,e-d);null==u.buffer.o[u.oPos]?m.hasStroke=!1:(m.context.lineWidth=0<u.buffer.o[u.oPos]?u.buffer.o[u.oPos]:1,w=null==u.buffer.o[u.oPos+3]?"round":ii.toString(u.buffer.o[u.oPos+3]).toLowerCase(),m.context.lineJoin=
w,w=null==u.buffer.o[u.oPos+2]?"round":0==u.buffer.o[u.oPos+2]?"butt":ji.toString(u.buffer.o[u.oPos+2]).toLowerCase(),m.context.lineCap=w,m.context.miterLimit=u.buffer.f[u.fPos+1],1==u.buffer.f[u.fPos]?(u=N.hex(u.buffer.i[u.iPos]&16777215,6),m.context.strokeStyle="#"+u):m.context.strokeStyle="rgba("+((u.buffer.i[u.iPos]&16711680)>>>16)+", "+((u.buffer.i[u.iPos]&65280)>>>8)+", "+(u.buffer.i[u.iPos]&255)+", "+u.buffer.f[u.fPos]+")",m.setSmoothing(!0),m.hasStroke=!0);break;case 15:switch(g.prev[1]){case 0:g.oPos+=
2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_TO;
e=g;m.context.lineTo(e.buffer.f[e.fPos]-c,e.buffer.f[e.fPos+1]-d);f=e.buffer.f[e.fPos];e=e.buffer.f[e.fPos+1];break;case 16:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=
1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.MOVE_TO;l=g;m.context.moveTo(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d);f=l.buffer.f[l.fPos];e=l.buffer.f[l.fPos+1];k=!0;h=l.buffer.f[l.fPos];l=l.buffer.f[l.fPos+1];break;default:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=
4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=u}}g.destroy();b&&m.hasStroke&&(m.hasFill&&k?m.context.lineTo(h-c,l-d):k&&f==h&&e==l&&m.closePath(!0),m.hitTesting||m.context.stroke());b||!m.hasFill&&
null==m.bitmapFill||(m.context.translate(-m.bounds.x,-m.bounds.y),null!=m.pendingMatrix?(m.context.transform(m.pendingMatrix.a,m.pendingMatrix.b,m.pendingMatrix.c,m.pendingMatrix.d,m.pendingMatrix.tx,m.pendingMatrix.ty),m.hitTesting||m.context.fill(),m.context.transform(m.inversePendingMatrix.a,m.inversePendingMatrix.b,m.inversePendingMatrix.c,m.inversePendingMatrix.d,m.inversePendingMatrix.tx,m.inversePendingMatrix.ty)):m.hitTesting||m.context.fill(),m.context.translate(m.bounds.x,m.bounds.y),m.context.closePath())};
m.render=function(a,b,c){a.__update();if(a.__dirty){m.hitTesting=!1;m.graphics=a;m.allowSmoothing=b.allowSmoothing;m.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==m.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));m.context=a.__context;var d=a.__renderTransform,f=a.__canvas,e=window.devicePixelRatio||1,k=b*e|0,e=c*e|
0;f.width==k&&f.height==e?m.context.clearRect(0,0,k,e):(f.width=b,f.height=c);m.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);m.fillCommands.clear();m.strokeCommands.clear();m.hasFill=!1;m.hasStroke=!1;m.bitmapFill=null;m.bitmapRepeat=!1;b=new qd(a.__commands);c=0;d=a.__commands.types;try{for(;c<d.length;){var h=d[c];++c;switch(h[1]){case 0:case 1:case 2:m.endFill();m.endStroke();if(h==v.BEGIN_BITMAP_FILL){switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_BITMAP_FILL;f=b;m.fillCommands.beginBitmapFill(f.buffer.o[f.oPos],
f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);m.strokeCommands.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1])}else if(h==v.BEGIN_GRADIENT_FILL){switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=
4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_GRADIENT_FILL;f=b;m.fillCommands.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);m.strokeCommands.beginGradientFill(f.buffer.o[f.oPos],
f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos])}else{switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_FILL;f=b;m.fillCommands.beginFill(f.buffer.i[f.iPos],f.buffer.f[f.fPos]);m.strokeCommands.beginFill(f.buffer.i[f.iPos],f.buffer.f[f.fPos])}break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=
4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CUBIC_CURVE_TO;f=b;m.fillCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],
f.buffer.f[f.fPos+5]);m.strokeCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CURVE_TO;f=b;m.fillCommands.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);m.strokeCommands.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=
2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_CIRCLE;f=
b;m.fillCommands.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);m.strokeCommands.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ELLIPSE;f=b;m.fillCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);m.strokeCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_RECT;
f=b;m.fillCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);m.strokeCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ROUND_RECT;f=b;m.fillCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);m.strokeCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+
1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.o[f.oPos]);break;case 10:m.endFill();m.endStroke();switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_TRIANGLES;var f=b,l=f.buffer.o[f.oPos],g=f.buffer.o[f.oPos+1],n=f.buffer.o[f.oPos+2],k=null,p=null==m.bitmapFill;if(p&&null!=n)throw"__break__";if(!p){if(null==n)for(var n=eb.toFloatVector(null),e=0,u=l.get_length()/2|0;e<u;){var r=e++;n.push(l.get(2*r)/m.bitmapFill.width);n.push(l.get(2*r+1)/m.bitmapFill.height)}var w=n.get_length()!=l.get_length(),
x=m.normalizeUVT(n,w),z=x.max,n=x.uvt,k=1<z?m.createTempPatternCanvas(m.bitmapFill,m.bitmapRepeat,m.bounds.width|0,m.bounds.height|0):m.createTempPatternCanvas(m.bitmapFill,m.bitmapRepeat,m.bitmapFill.width,m.bitmapFill.height)}for(var e=0,y=g.get_length(),A,E,B,D,C,G,F,M,N,H,J,I,K,L,O,T,U,P,Q,R,S,V,W,X,Y,Z,aa,ba;e<y;){A=e;E=e+1;B=e+2;D=2*g.get(A);C=2*g.get(A)+1;G=2*g.get(E);F=2*g.get(E)+1;M=2*g.get(B);N=2*g.get(B)+1;H=l.get(D);J=l.get(C);I=l.get(G);K=l.get(F);L=l.get(M);O=l.get(N);switch(f.buffer.o[f.oPos+
3]){case 0:if(0>(I-H)*(O-J)-(K-J)*(L-H)){e+=3;continue}break;case 2:if(!(0>(I-H)*(O-J)-(K-J)*(L-H))){e+=3;continue}}p?(m.context.beginPath(),m.context.moveTo(H,J),m.context.lineTo(I,K),m.context.lineTo(L,O),m.context.closePath(),m.hitTesting||m.context.fill()):(m.context.save(),m.context.beginPath(),m.context.moveTo(H,J),m.context.lineTo(I,K),m.context.lineTo(L,O),m.context.closePath(),m.context.clip(),T=n.get(D)*k.width,P=n.get(G)*k.width,R=n.get(M)*k.width,U=n.get(C)*k.height,Q=n.get(F)*k.height,
S=n.get(N)*k.height,V=T*(S-Q)-P*S+R*Q+(P-R)*U,0!=V&&(W=-(U*(L-I)-Q*L+S*I+(Q-S)*H)/V,X=(Q*O+U*(K-O)-S*K+(S-Q)*J)/V,Y=(T*(L-I)-P*L+R*I+(P-R)*H)/V,Z=-(P*O+T*(K-O)-R*K+(R-P)*J)/V,aa=(T*(S*I-Q*L)+U*(P*L-R*I)+(R*Q-P*S)*H)/V,ba=(T*(S*K-Q*O)+U*(P*O-R*K)+(R*Q-P*S)*J)/V,m.context.transform(W,X,Y,Z,aa,ba),m.context.drawImage(k,0,0),m.context.restore()));e+=3}break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;
case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.END_FILL;m.endFill();m.endStroke();m.hasFill=!1;m.bitmapFill=null;break;case 12:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_BITMAP_STYLE;
f=b;m.strokeCommands.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_GRADIENT_STYLE;f=b;m.strokeCommands.lineGradientStyle(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_STYLE;f=b;m.strokeCommands.lineStyle(f.buffer.o[f.oPos],f.buffer.i[f.iPos],f.buffer.f[f.fPos],
f.buffer.b[f.bPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.f[f.fPos+1]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_TO;f=b;m.fillCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);m.strokeCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=
3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.MOVE_TO;f=b;m.fillCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);m.strokeCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;default:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=h}}}catch(ca){if("__break__"!=
ca)throw ca;}0<m.fillCommands.get_length()&&m.endFill();0<m.strokeCommands.get_length()&&m.endStroke();b.destroy();a.__bitmap=da.fromCanvas(a.__canvas)}a.set___dirty(!1)}};m.renderMask=function(a,b){if(0!=a.__commands.get_length()){m.context=b.context;for(var c=new qd(a.__commands),d=0,e=a.__commands.types;d<e.length;){var q=e[d];++d;switch(q[1]){case 3:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=
6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.CUBIC_CURVE_TO;q=c;m.context.bezierCurveTo(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0,q.buffer.f[q.fPos+2]-0,q.buffer.f[q.fPos+
3]-0,q.buffer.f[q.fPos+4]-0,q.buffer.f[q.fPos+5]-0);break;case 4:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=
2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.CURVE_TO;q=c;m.context.quadraticCurveTo(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0,q.buffer.f[q.fPos+2]-0,q.buffer.f[q.fPos+3]-0);break;case 5:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=
5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.DRAW_CIRCLE;q=c;m.context.arc(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0,q.buffer.f[q.fPos+2],0,2*Math.PI,!0);break;case 6:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=
1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.DRAW_ELLIPSE;var k=c,q=k.buffer.f[k.fPos],h=k.buffer.f[k.fPos+1],l=k.buffer.f[k.fPos+2],g=k.buffer.f[k.fPos+
3],q=q-0,h=h-0,k=l/2*.5522848,n=g/2*.5522848,p=q+l,u=h+g,l=q+l/2,g=h+g/2;m.context.moveTo(q,g);m.context.bezierCurveTo(q,g-n,l-k,h,l,h);m.context.bezierCurveTo(l+k,h,p,g-n,p,g);m.context.bezierCurveTo(p,g+n,l+k,u,l,u);m.context.bezierCurveTo(l-k,u,q,g+n,q,g);break;case 7:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;
case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.DRAW_RECT;q=c;m.context.rect(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0,q.buffer.f[q.fPos+2],q.buffer.f[q.fPos+3]);break;case 8:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=
1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.DRAW_ROUND_RECT;q=c;m.drawRoundRect(q.buffer.f[q.fPos]-
0,q.buffer.f[q.fPos+1]-0,q.buffer.f[q.fPos+2],q.buffer.f[q.fPos+3],q.buffer.f[q.fPos+4],q.buffer.o[q.oPos]);break;case 15:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=
1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.LINE_TO;q=c;m.context.lineTo(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0);break;case 16:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=
5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=v.MOVE_TO;q=c;m.context.moveTo(q.buffer.f[q.fPos]-0,q.buffer.f[q.fPos+1]-0);break;default:switch(c.prev[1]){case 0:c.oPos+=2;c.bPos+=2;break;case 1:c.iPos+=1;c.fPos+=1;break;case 2:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 3:c.fPos+=
6;break;case 4:c.fPos+=4;break;case 5:c.fPos+=3;break;case 6:c.fPos+=4;break;case 7:c.fPos+=4;break;case 8:c.fPos+=5;c.oPos+=1;break;case 10:c.oPos+=4;break;case 12:c.oPos+=2;c.bPos+=2;break;case 13:c.oPos+=4;c.iiPos+=2;c.ffPos+=1;c.fPos+=1;break;case 14:c.oPos+=4;c.iPos+=1;c.fPos+=2;c.bPos+=1;break;case 15:c.fPos+=2;break;case 16:c.fPos+=2;break;case 17:c.oPos+=1}c.prev=q}}c.destroy()}};m.setSmoothing=function(a){m.allowSmoothing||(a=!1);m.context.imageSmoothingEnabled!=a&&(m.context.mozImageSmoothingEnabled=
a,m.context.msImageSmoothingEnabled=a,m.context.imageSmoothingEnabled=a)};var Ae=function(a){this.renderSession=a};h["openfl._internal.renderer.canvas.CanvasMaskManager"]=Ae;Ae.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Ae.__super__=Sc;Ae.prototype=w(Sc.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,
b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},
__class__:Ae});var kg=function(a,b){Dc.call(this,a);this.context=b;this.renderSession=new ze;this.renderSession.context=b;this.renderSession.renderer=this;this.renderSession.maskManager=new Ae(this.renderSession)};h["openfl._internal.renderer.canvas.CanvasRenderer"]=kg;kg.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];kg.__super__=Dc;kg.prototype=w(Dc.prototype,{context:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCanvas(this.stage,
this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth*
this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale);this.stage.__renderCanvas(this.renderSession)},__class__:kg});var D=function(){};h["openfl._internal.renderer.canvas.CanvasTextField"]=D;D.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];var Ih=function(a){this.renderSession=a;this.clipRects=[];this.numClipRects=0};h["openfl._internal.renderer.dom.DOMMaskManager"]=Ih;Ih.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];Ih.__super__=Sc;
Ih.prototype=w(Sc.prototype,{currentClipRect:null,clipRects:null,numClipRects:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ra);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=
this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.currentClipRect=c;this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,this.currentClipRect=0<this.numClipRects?this.clipRects[this.numClipRects-1]:null)},updateClip:function(a){if(null==this.currentClipRect)a.__worldClipChanged=
null!=a.__worldClip,a.__worldClip=null;else{null==a.__worldClip&&(a.__worldClip=new ra);var b=ra.__temp,c=Ea.__temp;c.copyFrom(a.__renderTransform);c.invert();this.currentClipRect.__transform(b,c);b.equals(a.__worldClip)?a.__worldClipChanged=!1:(a.__worldClip.copyFrom(b),a.__worldClipChanged=!0)}},__class__:Ih});var lg=function(a){this.gl=a;this.setBlendMode(10);a.__context.enable(a.BLEND)};h["openfl._internal.renderer.opengl.GLBlendModeManager"]=lg;lg.__name__=["openfl","_internal","renderer","opengl",
"GLBlendModeManager"];lg.__super__=hg;lg.prototype=w(hg.prototype,{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,
this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.__context.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.__context.blendEquation(this.gl.FUNC_ADD),this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:lg});var mg=function(a,b){this.renderSession=b;this.renderer=a;this.gl=b.gl;this.filterDepth=0;this.matrix=new Ea};h["openfl._internal.renderer.opengl.GLFilterManager"]=mg;mg.__name__=["openfl","_internal",
"renderer","opengl","GLFilterManager"];mg.__super__=ig;mg.prototype=w(ig.prototype,{filterDepth:null,gl:null,matrix:null,renderer:null,pushObject:function(a){if(null!=a.__filters&&0<a.__filters.length){if(y.__instanceof(a.__filters[0],kc)&&y.__instanceof(a,I))return this.renderSession.shaderManager.defaultShader;if(1==a.__filters.length&&0==a.__filters[0].__numPasses)return a.__filters[0].__initShader(this.renderSession,0);this.renderer.getRenderTarget(!0);this.filterDepth++}return this.renderSession.shaderManager.defaultShader},
popObject:function(a){if(null!=a.__filters&&0<a.__filters.length&&(!y.__instanceof(a.__filters[0],kc)||!y.__instanceof(a,I))){var b=0;if(1<a.__filters.length||0<a.__filters[0].__numPasses)for(var b=a.__filters.length,c=0,d=a.__filters;c<d.length;){var e=d[c];++c;b+=0<e.__numPasses?e.__numPasses-1:0}if(0<b)for(var q,b=0,c=a.__filters;b<c.length;){d=c[b];++b;if(0<d.__numPasses)for(var e=0,k=d.__numPasses;e<k;)q=e++,a=this.renderer.currentRenderTarget,this.renderer.getRenderTarget(!0),q=d.__initShader(this.renderSession,
q),this.renderPass(a,q);else a=this.renderer.currentRenderTarget,this.renderer.getRenderTarget(!0),q=d.__initShader(this.renderSession,0),this.renderPass(a,q);this.filterDepth--;this.renderer.getRenderTarget(0<this.filterDepth);this.renderPass(this.renderer.currentRenderTarget,this.renderSession.shaderManager.defaultShader)}else this.filterDepth--}},renderPass:function(a,b){b.get_data().uImage0.input=a;var c=this.renderSession.allowSmoothing&&this.renderSession.upscaled;b.get_data().uImage0.smoothing=
c;b.get_data().uMatrix.value=this.renderer.getMatrix(this.matrix);this.renderSession.shaderManager.setShader(b);var c=this.gl,d=this.gl.ARRAY_BUFFER,e=a.getBuffer(this.gl,1);c.__context.bindBuffer(d,e);var c=this.gl,d=b.get_data().aPosition.index,e=this.gl.FLOAT,q=Za.fromInt(0);c.__context.vertexAttribPointer(d,3,e,!1,24,q);c=this.gl;d=b.get_data().aTexCoord.index;e=this.gl.FLOAT;q=Za.fromInt(12);c.__context.vertexAttribPointer(d,2,e,!1,24,q);c=this.gl;d=b.get_data().aAlpha.index;e=this.gl.FLOAT;
q=Za.fromInt(20);c.__context.vertexAttribPointer(d,1,e,!1,24,q);this.gl.__context.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},__class__:mg});var ng=function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];this.numClipRects=0;this.tempRect=new ra};h["openfl._internal.renderer.opengl.GLMaskManager"]=ng;ng.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];ng.__super__=Sc;ng.prototype=w(Sc.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),
a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ra);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=
0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.__context.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);
a=Math.floor(c.x);var b=Math.floor(b.height-c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.__context.scissor(a,b,d,c)}else this.gl.__context.disable(this.gl.SCISSOR_TEST)},__class__:ng});var Ud=function(a,b,c){null==c&&(c=!0);Dc.call(this,a);this.gl=b;this.flipped=c;this.matrix=va._new();this.values=[];this.renderSession=new ze;this.renderSession.gl=b;this.renderSession.renderer=this;this.renderSession.blendModeManager=new lg(b);this.renderSession.filterManager=
new mg(this,this.renderSession);this.renderSession.shaderManager=new og(b);this.renderSession.maskManager=new ng(this.renderSession);null!=a.window&&(null==a.stage3Ds.get(0).context3D&&a.stage3Ds.get(0).__createContext(a,this.renderSession),this.resize(Math.ceil(a.window.__width*a.window.__scale),Math.ceil(a.window.__height*a.window.__scale)))};h["openfl._internal.renderer.opengl.GLRenderer"]=Ud;Ud.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];Ud.__super__=Dc;Ud.prototype=w(Dc.prototype,
{projection:null,projectionFlipped:null,currentRenderTarget:null,displayHeight:null,displayMatrix:null,displayWidth:null,flipped:null,gl:null,matrix:null,renderTargetA:null,renderTargetB:null,offsetX:null,offsetY:null,values:null,clear:function(){this.stage.__transparent?this.gl.__context.clearColor(0,0,0,0):this.gl.__context.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT);for(var a=0,b=this.stage.stage3Ds;a<
b.get_length();){var c=b.get(a);++a;c.__renderGL(this.stage,this.renderSession)}},getMatrix:function(a){var b=Ea.__temp;b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));va.identity(this.matrix);va.set(this.matrix,0,b.a);va.set(this.matrix,1,b.b);va.set(this.matrix,4,b.c);va.set(this.matrix,5,b.d);va.set(this.matrix,12,b.tx);va.set(this.matrix,13,b.ty);va.append(this.matrix,this.flipped?this.projectionFlipped:this.projection);
for(a=0;16>a;)b=a++,this.values[b]=va.get(this.matrix,b);return this.values},getRenderTarget:function(a){if(a){if(null==this.renderTargetA){this.renderTargetA=da.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,this.height,1,!0));a=this.gl;var b=this.gl.TEXTURE_2D,c=this.renderTargetA.getTexture(this.gl);a.__context.bindTexture(b,c);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB&&(this.renderTargetB=da.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,this.height,1,!0)),a=this.gl,b=this.gl.TEXTURE_2D,c=this.renderTargetB.getTexture(this.gl),a.__context.bindTexture(b,c),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));this.currentRenderTarget=
this.currentRenderTarget==this.renderTargetA?this.renderTargetB:this.renderTargetA;a=this.gl;b=this.gl.FRAMEBUFFER;c=this.currentRenderTarget.__getFramebuffer(this.gl);a.__context.bindFramebuffer(b,c);this.gl.__context.viewport(0,0,this.width,this.height);this.gl.__context.clearColor(0,0,0,0);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT);this.flipped=!1}else this.gl.__context.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.flipped=!0},render:function(){this.gl.__context.viewport(this.offsetX,this.offsetY,
this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.__context.clearColor(0,0,0,1),this.gl.__context.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.__context.scissor(0,0,this.offsetX,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(this.offsetX+this.displayWidth,
0,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.__context.scissor(0,0,this.width,this.offsetY),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.__context.disable(this.gl.SCISSOR_TEST)},resize:function(a,b){Dc.prototype.resize.call(this,a,b);if(0<a&&0<b){if(null!=this.renderTargetA&&(this.renderTargetA.width!=
a||this.renderTargetA.height!=b)){this.renderTargetA=da.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0));var c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetA.getTexture(this.gl);c.__context.bindTexture(d,e);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==this.renderTargetB||this.renderTargetB.width==a&&this.renderTargetB.height==
b||(this.renderTargetB=da.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0)),c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetB.getTexture(this.gl),c.__context.bindTexture(d,e),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE))}c=this.displayMatrix=this.stage.__displayMatrix;this.offsetX=Math.round(0*c.a+0*c.c+c.tx);c=this.displayMatrix;
this.offsetY=Math.round(0*c.b+0*c.d+c.ty);c=this.displayMatrix;this.displayWidth=Math.round(this.stage.stageWidth*c.a+0*c.c+c.tx-this.offsetX);c=this.displayMatrix;this.displayHeight=Math.round(0*c.b+this.stage.stageHeight*c.d+c.ty-this.offsetY);this.projection=va.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.offsetY,this.displayHeight+this.offsetY,-1E3,1E3);this.projectionFlipped=va.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,
-1E3,1E3)},__class__:Ud});var og=function(a){this.gl=a;this.defaultShader=new Qb;this.defaultShader.gl=a;this.defaultShader.__init()};h["openfl._internal.renderer.opengl.GLShaderManager"]=og;og.__name__=["openfl","_internal","renderer","opengl","GLShaderManager"];og.__super__=jg;og.prototype=w(jg.prototype,{gl:null,setShader:function(a){this.currentShader==a?null!=this.currentShader&&this.currentShader.__update():(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=
null,this.gl.__context.useProgram(null)):(this.currentShader=a,null==this.currentShader.gl&&(this.currentShader.gl=this.gl,this.currentShader.__init()),this.gl.__context.useProgram(a.glProgram),this.currentShader.__enable(),this.currentShader.__update()))},__class__:og});var Jh=function(){this._registers=eb.toFloatVector(null,4096);this.clearSettings()};h["openfl._internal.stage3D.Context3DStateCache"]=Jh;Jh.__name__=["openfl","_internal","stage3D","Context3DStateCache"];Jh.prototype={_activeTexture:null,
_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,_viewportOriginY:null,_viewportWidth:null,clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=
this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateViewport:function(a,b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:Jh};var pb=function(){};h["openfl._internal.stage3D.GLUtils"]=pb;pb.__name__=["openfl","_internal","stage3D","GLUtils"];pb.CheckGLError=function(){if(pb.debug){var a=e.context.__context.getError();
if(0!=a){switch(a){case 0:a="GL_NO_ERROR";break;case 1280:a="GL_INVALID_ENUM";break;case 1281:a="GL_INVALID_VALUE";break;case 1282:a="GL_INVALID_OPERATION";break;case 1285:a="GL_OUT_OF_MEMORY";break;case 1286:a="GL_INVALID_FRAMEBUFFER_OPERATION";break;default:a=null==a?"null":""+a}throw new r(new Tc("Error calling openGL api. Error: "+a+"\n"));}}};var Kh=function(a,b,c,d,e,q,k,h,l){null==l&&(l=!1);null==h&&(h=!1);null==k&&(k=!1);null==q&&(q=0);null==e&&(e=0);this.set_minFilter(a);this.set_magFilter(b);
this.set_wrapModeS(c);this.set_wrapModeT(d);this.set_lodBias(e);this.set_maxAniso(q);this.ignoreSampler=k;this.centroid=h;this.mipmapGenerated=l;this.__samplerDirty=!0};h["openfl._internal.stage3D.SamplerState"]=Kh;Kh.__name__=["openfl","_internal","stage3D","SamplerState"];Kh.prototype={lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,centroid:null,ignoreSampler:null,mipmapGenerated:null,__samplerDirty:null,set_lodBias:function(a){this.lodBias!=a&&(this.__samplerDirty=
!0);return this.lodBias=a},set_magFilter:function(a){this.magFilter!=a&&(this.__samplerDirty=!0);return this.magFilter=a},set_maxAniso:function(a){this.maxAniso!=a&&(this.__samplerDirty=!0);return this.maxAniso=a},set_minFilter:function(a){this.minFilter!=a&&(this.__samplerDirty=!0);return this.minFilter=a},set_wrapModeS:function(a){this.wrapModeS!=a&&(this.__samplerDirty=!0);return this.wrapModeS=a},set_wrapModeT:function(a){this.wrapModeT!=a&&(this.__samplerDirty=!0);return this.wrapModeT=a},__class__:Kh,
__properties__:{set_wrapModeT:"set_wrapModeT",set_wrapModeS:"set_wrapModeS",set_minFilter:"set_minFilter",set_maxAniso:"set_maxAniso",set_magFilter:"set_magFilter",set_lodBias:"set_lodBias"}};var Vd=h["openfl._internal.swf.FilterType"]={__ename__:["openfl","_internal","swf","FilterType"],__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"]};Vd.BlurFilter=function(a,b,c){a=["BlurFilter",0,a,b,c];a.__enum__=Vd;a.toString=A;return a};Vd.ColorMatrixFilter=function(a){a=["ColorMatrixFilter",
1,a];a.__enum__=Vd;a.toString=A;return a};Vd.DropShadowFilter=function(a,b,c,d,e,q,k,h,l,g,m){a=["DropShadowFilter",2,a,b,c,d,e,q,k,h,l,g,m];a.__enum__=Vd;a.toString=A;return a};Vd.GlowFilter=function(a,b,c,d,e,q,k,h){a=["GlowFilter",3,a,b,c,d,e,q,k,h];a.__enum__=Vd;a.toString=A;return a};var tc=function(){this.symbols=new Ua};h["openfl._internal.swf.SWFLite"]=tc;tc.__name__=["openfl","_internal","swf","SWFLite"];tc.resolveClass=function(a){var b=Q.resolveClass(a);null==b&&(b=Q.resolveClass(N.replace(a,
"openfl._legacy","openfl")));null==b&&(b=Q.resolveClass(N.replace(a,"openfl._v2","openfl")));return b};tc.resolveEnum=function(a){var b=Q.resolveEnum(a);null==b&&(b=Q.resolveEnum(N.replace(a,"openfl._legacy","openfl")));null==b&&(b=Q.resolveEnum(N.replace(a,"openfl._v2","openfl")));return b};tc.unserialize=function(a){if(null==a)return null;a=new yb(a);a.setResolver({resolveClass:tc.resolveClass,resolveEnum:tc.resolveEnum});return a.unserialize()};tc.prototype={frameRate:null,library:null,root:null,
symbols:null,createButton:function(a){return null},createMovieClip:function(a){null==a&&(a="");if(""==a)return this.root.__createObject(this);for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,Be))return y.__cast(c,Be).__createObject(this)}return null},getBitmapData:function(a){for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&y.__instanceof(c,uc))return Z.getBitmapData(c.path)}return null},hasSymbol:function(a){for(var b=
this.symbols.iterator();b.hasNext();)if(b.next().className==a)return!0;return!1},serialize:function(){var a=new Ub;a.serialize(this);return a.toString()},__class__:tc};var Pa=function(){cc.call(this)};h["openfl.utils.AssetLibrary"]=Pa;Pa.__name__=["openfl","utils","AssetLibrary"];Pa.fromBytes=function(a,b){return Pa.fromManifest(Sa.fromBytes($a.toBytes(a),b))};Pa.fromFile=function(a,b){return Pa.fromManifest(Sa.fromFile(a,b))};Pa.fromManifest=function(a){a=cc.fromManifest(a);return null!=a&&y.__instanceof(a,
Pa)?a:null};Pa.loadFromBytes=function(a,b){return Sa.loadFromBytes($a.toBytes(a),b).then(function(a){return Pa.loadFromManifest(a)})};Pa.loadFromFile=function(a,b){return Sa.loadFromFile(a,b).then(function(a){return Pa.loadFromManifest(a)})};Pa.loadFromManifest=function(a){a=Pa.fromManifest(a);return null!=a&&y.__instanceof(a,Pa)?a.load().then(function(a){return Ja.withValue(a)}):Ja.withError("Could not load asset manifest")};Pa.__super__=cc;Pa.prototype=w(cc.prototype,{getMovieClip:function(a){return null},
__class__:Pa});var Lh=function(a){cc.call(this);this.id=a;this.alphaCheck=new B;this.imageClassNames=new B;this.rootPath=""};h["openfl._internal.swf.SWFLiteLibrary"]=Lh;Lh.__name__=["openfl","_internal","swf","SWFLiteLibrary"];Lh.__super__=Pa;Lh.prototype=w(Pa.prototype,{alphaCheck:null,id:null,imageClassNames:null,preloading:null,rootPath:null,swf:null,exists:function(a,b){return null==this.swf?!1:""==a&&"MOVIE_CLIP"==b?!0:"IMAGE"!=b&&"MOVIE_CLIP"!=b||null==this.swf?!1:this.swf.hasSymbol(a)},getImage:function(a){var b=
this.imageClassNames;if(null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this.imageClassNames,a=null!=n[a]?b.getReserved(a):b.h[a];b=this.alphaCheck;if(null!=n[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))for(b=this.swf.symbols.iterator();b.hasNext();){var c=b.next();if(y.__instanceof(c,uc)&&y.__cast(c,uc).path==a&&null!=c.alpha)return b=Pa.prototype.getImage.call(this,a),c=Pa.prototype.getImage.call(this,c.alpha),this.__copyChannel(b,c),c=this.cachedImages,null!=n[a]?c.setReserved(a,b):c.h[a]=
b,c=this.alphaCheck,null!=n[a]?c.setReserved(a,!0):c.h[a]=!0,b}return Pa.prototype.getImage.call(this,a)},getMovieClip:function(a){return null!=this.swf?this.swf.createMovieClip(a):null},isLocal:function(a,b){return!0},load:function(){var a=this;if(null!=this.id){var b=this.id,c=this.preload;null!=n[b]?c.setReserved(b,!0):c.h[b]=!0}var d=new zb;this.preloading=!0;var e=function(b){var c=a.id,e=a.cachedText;null!=n[c]?e.setReserved(c,b):e.h[c]=b;a.swf=tc.unserialize(b);a.swf.library=a;for(b=a.swf.symbols.iterator();b.hasNext();)if(c=
b.next(),y.__instanceof(c,uc)&&(e=c,null!=e.className)){var c=e.className,e=e.path,f=a.imageClassNames;null!=n[c]?f.setReserved(c,e):f.h[c]=e}b=a.id;c=a.swf;e=tc.instances;null!=n[b]?e.setReserved(b,c):e.h[b]=c;a.__load().onProgress(p(d,d.progress)).onError(p(d,d.error)).onComplete(function(b){a.preloading=!1;d.complete(a)})};if(Z.exists(this.id)){for(b=this.paths.keys();b.hasNext();){var c=b.next(),q=this.preload;null!=n[c]?q.setReserved(c,!0):q.h[c]=!0}this.loadText(this.id).onError(p(d,d.error)).onComplete(e)}else{for(b=
this.paths.keys();b.hasNext();)c=b.next(),q=this.preload,null!=n[c]?q.setReserved(c,!0):q.h[c]=!0;var b=null!=this.rootPath&&""!=this.rootPath?this.rootPath+"/"+this.id:this.id,k=new Rd;k.addEventListener("complete",function(a){e(k.data)});k.addEventListener("ioError",function(a){d.error(a)});k.load(new ue(b))}return d.future},loadImage:function(a){var b=this,c=this.imageClassNames;if(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a))c=this.imageClassNames,a=null!=n[a]?c.getReserved(a):c.h[a];
this.preloading?c=!1:(c=this.alphaCheck,c=!(null!=n[a]?c.existsReserved(a):c.h.hasOwnProperty(a)));if(c)for(c=this.swf.symbols.iterator();c.hasNext();){var d=c.next();if(y.__instanceof(d,uc)&&y.__cast(d,uc).path==a&&(d=[d],null!=d[0].alpha))return c=[new zb],this.__loadImage(a).onError((qc=c[0],p(qc,qc.error))).onComplete(function(c,d){return function(e){b.__loadImage(d[0].alpha).onError((qc=c[0],p(qc,qc.error))).onComplete(function(c){return function(d){b.__copyChannel(e,d);d=b.cachedImages;null!=
n[a]?d.setReserved(a,e):d.h[a]=e;d=b.alphaCheck;null!=n[a]?d.setReserved(a,!0):d.h[a]=!0;c[0].complete(e)}}(c))}}(c,d)),c[0].future}return Pa.prototype.loadImage.call(this,a)},unload:function(){for(var a,b=this.swf.symbols.iterator();b.hasNext();)a=b.next(),y.__instanceof(a,uc)&&Z.cache.removeBitmapData(a.path)},__copyChannel:function(a,b){null!=b&&a.copyChannel(b,b.get_rect(),new dh,rb.RED,rb.ALPHA);a.buffer.premultiplied=!0;a.set_premultiplied(!1)},__fromManifest:function(a){this.rootPath=a.rootPath;
Pa.prototype.__fromManifest.call(this,a)},__load:function(){return Pa.prototype.load.call(this)},__loadImage:function(a){return Pa.prototype.loadImage.call(this,a)},__class__:Lh});var Fb=h["openfl._internal.swf.ShapeCommand"]={__ename__:["openfl","_internal","swf","ShapeCommand"],__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" ")};Fb.BeginBitmapFill=function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=Fb;a.toString=A;return a};Fb.BeginFill=
function(a,b){var c=["BeginFill",1,a,b];c.__enum__=Fb;c.toString=A;return c};Fb.BeginGradientFill=function(a,b,c,d,e,q,k,h){a=["BeginGradientFill",2,a,b,c,d,e,q,k,h];a.__enum__=Fb;a.toString=A;return a};Fb.CurveTo=function(a,b,c,d){a=["CurveTo",3,a,b,c,d];a.__enum__=Fb;a.toString=A;return a};Fb.EndFill=["EndFill",4];Fb.EndFill.toString=A;Fb.EndFill.__enum__=Fb;Fb.LineStyle=function(a,b,c,d,e,q,k,h){a=["LineStyle",5,a,b,c,d,e,q,k,h];a.__enum__=Fb;a.toString=A;return a};Fb.LineTo=function(a,b){var c=
["LineTo",6,a,b];c.__enum__=Fb;c.toString=A;return c};Fb.MoveTo=function(a,b){var c=["MoveTo",7,a,b];c.__enum__=Fb;c.toString=A;return c};var Gb=function(){};h["openfl._internal.symbols.SWFSymbol"]=Gb;Gb.__name__=["openfl","_internal","symbols","SWFSymbol"];Gb.prototype={className:null,id:null,__createObject:function(a){return null},__class__:Gb};var uc=function(){};h["openfl._internal.symbols.BitmapSymbol"]=uc;uc.__name__=["openfl","_internal","symbols","BitmapSymbol"];uc.__super__=Gb;uc.prototype=
w(Gb.prototype,{alpha:null,path:null,smooth:null,__createObject:function(a){return new Ce(da.fromImage(a.library.getImage(this.path)),1,0!=this.smooth)},__class__:uc});var Mh=function(){};h["openfl._internal.symbols.ButtonSymbol"]=Mh;Mh.__name__=["openfl","_internal","symbols","ButtonSymbol"];Mh.__super__=Gb;Mh.prototype=w(Gb.prototype,{downState:null,hitState:null,overState:null,upState:null,__createObject:function(a){var b=null;mc.__initSWF=a;mc.__initSymbol=this;null!=this.className&&(a=Q.resolveClass(this.className),
null!=a&&(b=Q.createInstance(a,[])));null==b&&(b=new mc);return b},__class__:Mh});var Nh=function(){};h["openfl._internal.symbols.DynamicTextSymbol"]=Nh;Nh.__name__=["openfl","_internal","symbols","DynamicTextSymbol"];Nh.__super__=Gb;Nh.prototype=w(Gb.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,
x:null,y:null,__createObject:function(a){var b=new I;b.__fromSymbol(a,this);return b},__class__:Nh});var Oh=function(){};h["openfl._internal.symbols.FontSymbol"]=Oh;Oh.__name__=["openfl","_internal","symbols","FontSymbol"];Oh.__super__=Gb;Oh.prototype=w(Gb.prototype,{advances:null,bold:null,codes:null,glyphs:null,italic:null,leading:null,name:null,__class__:Oh});var Ph=function(){};h["openfl._internal.symbols.ShapeSymbol"]=Ph;Ph.__name__=["openfl","_internal","symbols","ShapeSymbol"];Ph.__super__=
Gb;Ph.prototype=w(Gb.prototype,{commands:null,rendered:null,__createObject:function(a){var b=new rd,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;for(var d=0,e=this.commands;d<e.length;){var q=e[d];++d;switch(q[1]){case 0:var k=q[5],h=q[4],l=q[3],q=a.symbols.get(q[2]),q=a.library.getImage(q.path);null!=q&&c.beginBitmapFill(da.fromImage(q),l,h,k);break;case 1:c.beginFill(q[2],q[3]);break;case 2:c.beginGradientFill(q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9]);
break;case 3:c.curveTo(q[2],q[3],q[4],q[5]);break;case 4:c.endFill();break;case 5:var k=q[9],h=q[8],l=q[7],g=q[6],m=q[5],n=q[4],p=q[3],q=q[2];null!=q?c.lineStyle(q,p,n,m,g,l,h,k):c.lineStyle();break;case 6:c.lineTo(q[2],q[3]);break;case 7:c.moveTo(q[2],q[3])}}this.commands=null;this.rendered=new rd;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:Ph});var Be=function(){this.frames=[]};h["openfl._internal.symbols.SpriteSymbol"]=Be;Be.__name__=["openfl","_internal","symbols",
"SpriteSymbol"];Be.__super__=Gb;Be.prototype=w(Gb.prototype,{frames:null,__createObject:function(a){var b=null;Sb.__initSWF=a;Sb.__initSymbol=this;null!=this.className&&(a=Q.resolveClass(this.className),null!=a&&(b=Q.createInstance(a,[])));null==b&&(b=new Sb);return b},__class__:Be});var Qh=function(){};h["openfl._internal.symbols.StaticTextSymbol"]=Qh;Qh.__name__=["openfl","_internal","symbols","StaticTextSymbol"];Qh.__super__=Gb;Qh.prototype=w(Gb.prototype,{matrix:null,records:null,rendered:null,
__createObject:function(a){var b=new rd,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;if(null!=this.records)for(var d=null,e=16777215,q=this.matrix.tx,k=this.matrix.ty,h=0,l=this.records;h<l.length;){var g=l[h];++h;null!=g.fontID&&(d=a.symbols.h[g.fontID]);null!=g.offsetX&&(q=this.matrix.tx+.05*g.offsetX);null!=g.offsetY&&(k=this.matrix.ty+.05*g.offsetY);null!=g.color&&(e=g.color);if(null!=d)for(var m=g.fontHeight/1024*.05,n,p=0,r=g.glyphs.length;p<r;){var w=
p++;n=g.glyphs[w];var v=0;for(n=d.glyphs[n];v<n.length;){var x=n[v];++v;switch(x[1]){case 1:c.beginFill(e&16777215,(e>>24&255)/255);break;case 3:c.curveTo(x[2]*m+q,x[3]*m+k,x[4]*m+q,x[5]*m+k);break;case 4:c.endFill();break;case 5:var z=x[9],A=x[8],y=x[7],E=x[6],B=x[5],D=x[4],C=x[3],x=x[2];null!=x?c.lineStyle(x,C,D,B,E,y,A,z):c.lineStyle();break;case 6:c.lineTo(x[2]*m+q,x[3]*m+k);break;case 7:c.moveTo(x[2]*m+q,x[3]*m+k)}}q+=.05*g.advances[w]}}this.records=null;this.rendered=new rd;this.rendered.get_graphics().copyFrom(b.get_graphics());
return b},__class__:Qh});var ki=function(){};h["openfl._internal.symbols.StaticTextRecord"]=ki;ki.__name__=["openfl","_internal","symbols","StaticTextRecord"];ki.prototype={advances:null,color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:ki};var sa=function(a){this.textField=a;this.height=this.width=100;this.set_text("");this.bounds=new ra(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=
16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=eb.toFloatVector(null);this.lineBreaks=eb.toIntVector(null);this.lineDescents=eb.toFloatVector(null);this.lineLeadings=eb.toFloatVector(null);this.lineHeights=eb.toFloatVector(null);this.lineWidths=eb.toFloatVector(null);this.layoutGroups=eb.toObjectVector(null);this.textFormatRanges=eb.toObjectVector(null);sa.__canvas=window.document.createElement("canvas");
sa.__context=sa.__canvas.getContext("2d")};h["openfl._internal.text.TextEngine"]=sa;sa.__name__=["openfl","_internal","text","TextEngine"];sa.getFormatHeight=function(a){sa.__context.font=sa.getFont(a);return a.size+.185*a.size+a.leading};sa.getFont=function(a){var b=a.italic?"italic ":"normal ",b=b+"normal "+(a.bold?"bold ":"normal "),b=b+(a.size+"px"),b=b+("/"+(a.leading+a.size+3)+"px ");switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";
break;default:a="'"+a.font.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return b+=""+a};sa.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,scrollH:null,scrollV:null,selectable:null,
sharpness:null,text:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__hasFocus:null,__restrictRegexp:null,__useIntAdvances:null,getBounds:function(){var a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineBreakIndex:function(a){null==a&&(a=0);var b=this.text.indexOf("\n",a);a=this.text.indexOf("\r",a);return-1==b?a:-1==a?b:b<a?b:a},getLineMeasurements:function(){this.lineAscents.set_length(0);this.lineDescents.set_length(0);
this.lineLeadings.set_length(0);this.lineHeights.set_length(0);this.lineWidths.set_length(0);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var q=this.maxScrollH=this.bottomScrollV=0,k=this.layoutGroups;q<k.get_length();){var h=k.get(q);for(++q;h.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-
2&&this.bottomScrollV++;a=Math.max(a,h.ascent);b=Math.max(b,h.descent);c=null==c?h.leading:Math.max(c,h.leading)|0;d=Math.max(d,h.height);e=h.offsetX-2+h.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=h.offsetY-2+h.ascent+h.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;if(2!=
this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.set_length(0);var a=-1,b=null,c=I.__defaultTextFormat.clone(),d=0,e=0,h=0,k=null,m=null,l,g=0,n=-2,p=this.text.indexOf(" "),u=this.getLineBreakIndex(),r=2,w=2,v=0,
x=0,A=null;a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,h=.185*c.size,d=c.leading,g=e+h+d);var A=b.format,y,E=this.text.length;for(this.multiline&&++E;v<E;)if(-1<u&&(-1==p||u<p)&&b.end>=u){if(v<=u){null==k||k.startIndex!=k.endIndex?(k=new Wd(b.format,v,u),this.layoutGroups.push(k)):(k.format=b.format,k.startIndex=v,k.endIndex=u);l=this.text;var B=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Aa("Trident/7.0",
"")).match(window.navigator.userAgent));if(this.__useIntAdvances){y=0;for(var D,m=v,C=u;m<C;)D=m++,D=sa.__context.measureText(l.substring(v,D+1)).width,B.push(D-y),y=D}else for(y=u;v<y;)m=v++,m<l.length-1?(C=sa.__context.measureText(l.charAt(m+1)).width,m=sa.__context.measureText(z.substr(l,m,2)).width-C):m=sa.__context.measureText(l.charAt(m)).width,B.push(m);k.advances=B;k.offsetX=r;k.ascent=e;k.descent=h;k.leading=d;k.lineIndex=x;k.offsetY=w;r=k.advances;for(l=v=0;l<r.length;)B=r[l],++l,v+=B;k.width=
v;k.height=g;k=null}else null!=k&&k.startIndex!=k.endIndex&&(k.width-=k.advances[k.advances.length-1],k=null);w+=g;r=2;b.end==u&&(a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,h=.185*c.size,d=c.leading,g=e+h+d),A=b.format);v=u+1;u=this.getLineBreakIndex(v);++x}else if(b.end>=p&&-1<p&&v<b.end)for(null!=k&&k.startIndex!=k.endIndex&&(k=null),y=!1;v!=b.end;){B=-1==p?-1==u?b.end:u:p+1>b.end?b.end:p+1;l=this.text;
m=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Aa("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances){var C=0,G;D=v;for(var F=B;D<F;)G=D++,G=sa.__context.measureText(l.substring(v,G+1)).width,m.push(G-C),C=G}else for(C=v,D=B;C<D;)F=C++,F<l.length-1?(G=sa.__context.measureText(l.charAt(F+1)).width,F=sa.__context.measureText(z.substr(l,F,2)).width-G):F=sa.__context.measureText(l.charAt(F)).width,m.push(F);for(C=l=0;C<m.length;)D=m[C],++C,l+=D;2==A.align&&(0<
m.length&&v==n&&(++v,C=m.shift(),l-=C,r+=C),0<m.length&&B==p+1&&(--B,C=m.pop(),l-=C));this.wordWrap&&r+l>this.width&&(y=!0);if(y){2!=A.align&&(null!=k||0<this.layoutGroups.get_length())&&(null==k&&(k=this.layoutGroups.get(this.layoutGroups.get_length()-1)),k.width-=k.advances[k.advances.length-1],k.endIndex--);w+=g;r=this.layoutGroups.get_length()-1;for(C=0;;){k=this.layoutGroups.get(r);if(0<r&&k.startIndex>n)++C;else break;--r}++x;r=2;if(0<C)for(y=this.layoutGroups.get(this.layoutGroups.get_length()-
C).offsetX,C=this.layoutGroups.get_length()-C,D=this.layoutGroups.get_length();C<D;)k=C++,k=this.layoutGroups.get(k),k.offsetX-=y,k.offsetY=w,k.lineIndex=x,r+=k.width;null==k||k.startIndex!=k.endIndex?(k=new Wd(b.format,v,B),this.layoutGroups.push(k)):(k.format=b.format,k.startIndex=v,k.endIndex=B);k.advances=m;k.offsetX=r;k.ascent=e;k.descent=h;k.leading=d;k.lineIndex=x;k.offsetY=w;k.width=l;k.height=g;r+=l;v=B;y=!1}else null!=k&&v==p?2!=A.align&&(k.endIndex=p):null==k||2==A.align?(null==k||k.startIndex!=
k.endIndex?(k=new Wd(b.format,v,B),this.layoutGroups.push(k)):(k.format=b.format,k.startIndex=v,k.endIndex=B),k.advances=m,k.offsetX=r,k.ascent=e,k.descent=h,k.leading=d,k.lineIndex=x,k.offsetY=w,k.width=l,k.height=g):(k.endIndex=B,k.advances=k.advances.concat(m),k.width+=l,u==B&&++B),r+=l,v=B;l=this.text.indexOf(" ",v);b.end<=n?(k=null,v=b.end,a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,h=.185*c.size,d=c.leading,
g=e+h+d)):(u==n&&(k.endIndex=u,0>u-k.startIndex-k.advances.length&&k.advances.push(0),v=u+1),n=p,p=l);if(-1<u&&(p>u||-1==p&&u<=v)||v>this.text.length||p>b.end)break}else{if(v>b.end)break;else if(v<b.end||v==this.text.length){l=this.text;C=b.end;B=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Aa("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(y=0,m=v;m<C;)D=m++,D=sa.__context.measureText(l.substring(v,D+1)).width,B.push(D-y),y=D;else for(y=v,m=C;y<m;)C=
y++,C<l.length-1?(D=sa.__context.measureText(l.charAt(C+1)).width,C=sa.__context.measureText(z.substr(l,C,2)).width-D):C=sa.__context.measureText(l.charAt(C)).width,B.push(C);m=B;for(B=l=0;B<m.length;)y=m[B],++B,l+=y;if(null!=k&&k.startIndex!=k.endIndex)k.advances=k.advances.concat(m),k.width+=l,k.endIndex=b.end;else{B=b.end;null==k||k.startIndex!=k.endIndex?(k=new Wd(b.format,v,B),this.layoutGroups.push(k)):(k.format=b.format,k.startIndex=v,k.endIndex=B);B=this.text;D=b.end;y=[];null==this.__useIntAdvances&&
(this.__useIntAdvances=(new Aa("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(m=0,C=v;C<D;)F=C++,F=sa.__context.measureText(B.substring(v,F+1)).width,y.push(F-m),m=F;else for(m=D;v<m;)C=v++,C<B.length-1?(D=sa.__context.measureText(B.charAt(C+1)).width,C=sa.__context.measureText(z.substr(B,C,2)).width-D):C=sa.__context.measureText(B.charAt(C)).width,y.push(C);k.advances=y;k.offsetX=r;k.ascent=e;k.descent=h;k.leading=d;k.lineIndex=x;k.offsetY=w;v=k.advances;for(y=
B=0;y<v.length;)m=v[y],++y,B+=m;k.width=B;k.height=g}r+=l;v=b.end}a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,h=.185*c.size,d=c.leading,g=e+h+d);if(v==b.end)break}},setTextAlignment:function(){for(var a=-1,b=0,c=this.width-4,d,e,h=0,k=this.layoutGroups.get_length();h<k;){var m=h++;d=this.layoutGroups.get(m);if(d.lineIndex!=a)switch(a=d.lineIndex,d.format.align){case 0:b=this.lineWidths.get(a)<c?Math.round((c-
this.lineWidths.get(a))/2):0;break;case 2:if(this.lineWidths.get(a)<c){e=1;for(var b=m+1,l=this.layoutGroups.get_length();b<l;){var g=b++;if(this.layoutGroups.get(g).lineIndex==a)0!=g&&32!=z.cca(this.text,this.layoutGroups.get(g).startIndex-1)||++e;else break}if(1<e&&(d=this.layoutGroups.get(m+e-1),b=z.cca(this.text,d.endIndex),d.endIndex<this.text.length&&10!=b&&13!=b))for(b=(c-this.lineWidths.get(a))/(e-1),l=0;1<l&&32!=z.cca(this.text,this.layoutGroups.get(l).startIndex-1)&&(this.layoutGroups.get(m+
l).offsetX+=b*(l-1),++l),this.layoutGroups.get(m+l).offsetX+=b*l,++l<e;);}b=0;break;case 4:b=this.lineWidths.get(a)<c?Math.round(c-this.lineWidths.get(a)):0;break;default:b=0}0<b&&(d.offsetX+=b)}},update:function(){null==this.text||!this.multiline&&""==N.trim(this.text)||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),
this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},set_text:function(a){if(null==a)return this.text=a;null!=this.__restrictRegexp&&(a=this.__restrictRegexp.split(a).join(""));0<this.maxChars&&a.length>this.maxChars&&(a=z.substr(a,0,this.maxChars));return this.text=a},__class__:sa,__properties__:{set_text:"set_text"}};var sd=function(a,b,c){this.format=
a;this.start=b;this.end=c};h["openfl._internal.text.TextFormatRange"]=sd;sd.__name__=["openfl","_internal","text","TextFormatRange"];sd.prototype={end:null,format:null,start:null,__class__:sd};var Wd=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};h["openfl._internal.text.TextLayoutGroup"]=Wd;Wd.__name__=["openfl","_internal","text","TextLayoutGroup"];Wd.prototype={advances:null,ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,
offsetY:null,startIndex:null,width:null,__class__:Wd};var li=function(){this.objects=[]};h["openfl._internal.timeline.Frame"]=li;li.__name__=["openfl","_internal","timeline","Frame"];li.prototype={label:null,objects:null,__class__:li};var mi=function(){};h["openfl._internal.timeline.FrameObject"]=mi;mi.__name__=["openfl","_internal","timeline","FrameObject"];mi.prototype={clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:mi};
var lc=h["openfl._internal.timeline.FrameObjectType"]={__ename__:["openfl","_internal","timeline","FrameObjectType"],__constructs__:["CREATE","UPDATE","DESTROY"]};lc.CREATE=["CREATE",0];lc.CREATE.toString=A;lc.CREATE.__enum__=lc;lc.UPDATE=["UPDATE",1];lc.UPDATE.toString=A;lc.UPDATE.__enum__=lc;lc.DESTROY=["DESTROY",2];lc.DESTROY.toString=A;lc.DESTROY.__enum__=lc;var Je=function(){qb.call(this);null==ya.application&&(ya.application=this)};h["openfl.display.Application"]=Je;Je.__name__=["openfl","display",
"Application"];Je.__super__=qb;Je.prototype=w(qb.prototype,{create:function(a){this.config=a;this.backend.create(a);ya.current.__loaderInfo=Ec.create(null);ya.current.__loaderInfo.content=ya.current;if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new pg(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:Je});
var Ce=function(a,b,c){null==c&&(c=!1);G.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};h["openfl.display.Bitmap"]=Ce;Ce.__name__=["openfl","display","Bitmap"];Ce.__super__=G;Ce.prototype=w(G.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__getBounds:function(a,b){if(null!=this.bitmapData){var c=ra.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,
b,c,d,e,h){if(!h.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;var k=c.a*c.d-c.b*c.c;c=0==k?-c.tx:1/k*(c.c*(c.ty-b)+c.d*(a-c.tx));var k=this.__renderTransform,m=k.a*k.d-k.b*k.c;a=0==m?-k.ty:1/m*(k.a*(b-k.ty)+k.b*(k.tx-a));if(0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height){if(null!=this.__scrollRect&&!this.__scrollRect.contains(c,a))return!1;null==d||e||d.push(h);
return!0}return!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,c=0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),d=this.__renderTransform,e=d.a*d.d-d.b*d.c,d=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-a));return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){a.maskManager.pushObject(this,
!1);na.convertToCanvas(this.bitmapData.image);b.globalAlpha=this.__worldAlpha;var c=this.__renderTransform,d=this.__scrollRect;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);
a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0);a.maskManager.popObject(this,!1)}}},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&null!=this.bitmapData&&this.bitmapData.__isValid){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);var d=a.filterManager.pushObject(this);
d.get_data().uImage0.input=this.bitmapData;var e=a.allowSmoothing&&(this.smoothing||a.upscaled);d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__renderTransform);a.shaderManager.setShader(d);b=c.ARRAY_BUFFER;e=this.bitmapData.getBuffer(c,this.__worldAlpha);c.__context.bindBuffer(b,e);var b=d.get_data().aPosition.index,e=c.FLOAT,h=Za.fromInt(0);c.__context.vertexAttribPointer(b,3,e,!1,24,h);b=d.get_data().aTexCoord.index;e=c.FLOAT;h=Za.fromInt(12);c.__context.vertexAttribPointer(b,
2,e,!1,24,h);d=d.get_data().aAlpha.index;b=c.FLOAT;e=Za.fromInt(20);c.__context.vertexAttribPointer(d,1,b,!1,24,e);c.__context.drawArrays(c.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new ra),this.__getBounds(a.__bounds,Ea.__identity),G.prototype.__updateMask.call(this,
a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;return this.bitmapData},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.__scaleX):0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&
this.set_scaleX(a/this.bitmapData.width),a):0},__class__:Ce,__properties__:w(G.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});var da=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new ra(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new W(null,0,0,a,b,d<<8|d>>>24&255),this.image.set_transparent(c),this.readable=this.__isValid=!0);this.__worldTransform=
new Ea;this.__worldColorTransform=new nb};h["openfl.display.BitmapData"]=da;da.__name__=["openfl","display","BitmapData"];da.__interfaces__=[Pe];da.fromBase64=function(a,b){var c=new da(0,0,!0,0);W.loadFromBase64(a,b).onComplete(function(a){c.__fromImage(a)});return c};da.fromBytes=function(a,b){var c=new da(0,0,!0,0);W.loadFromBytes($a.toBytes(a)).onComplete(function(a){c.__fromImage(a);null!=b&&c.__applyAlpha(b)});return c};da.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=
new da(0,0,b,0);c.__fromImage(W.fromCanvas(a));c.image.set_transparent(b);return c};da.fromFile=function(a){var b=new da(0,0,!0,0);b.__fromFile(a);return b};da.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new da(0,0,b,0);c.__fromImage(a);c.image.set_transparent(b);return c};da.fromTexture=function(a){if(null==a)return null;var b=new da(a.__width,a.__height,!0,0);b.readable=!1;b.__texture=a.__textureID;b.__textureContext=a.__textureContext;b.image=null;return b};
da.loadFromBase64=function(a,b){return W.loadFromBase64(a,b).then(function(a){return Ja.withValue(da.fromImage(a))})};da.loadFromBytes=function(a,b){return W.loadFromBytes($a.toBytes(a)).then(function(a){a=da.fromImage(a);null!=b&&a.__applyAlpha(b);return Ja.withValue(a)})};da.loadFromFile=function(a){return W.loadFromFile(a).then(function(a){return Ja.withValue(da.fromImage(a))})};da.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__buffer:null,__bufferContext:null,
__bufferAlpha:null,__bufferData:null,__framebuffer:null,__framebufferContext:null,__isValid:null,__surface:null,__texture:null,__textureContext:null,__textureVersion:null,__transform:null,__worldColorTransform:null,__worldTransform:null,colorTransform:function(a,b){this.readable&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},draw:function(a,b,c,d,f,h){null==h&&(h=!1);null==b&&(b=new Ea,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=
c){var k;null==a?k=null:(d=a.__properties__?k=a.__properties__.get_width:!1,k=d?a[k]():a.width);k=Math.ceil(k);var m;null==a?m=null:(d=a.__properties__?m=a.__properties__.get_height:!1,m=d?a[m]():a.height);m=Math.ceil(m);m=new da(k,m,!0,0);m.draw(a);m.colorTransform(m.rect,c);a=m}na.convertToCanvas(this.image);c=this.image.buffer;m=new ze;m.context=c.__srcContext;m.allowSmoothing=h;m.maskManager=new Ae(m);h||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=
!1);null!=f&&m.maskManager.pushRect(f,new Ea);k=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(m);a.__updateTransforms(k);a.__updateChildren(!0);h||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=f&&m.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=e.context&&(f=e.context,h=f.FRAMEBUFFER,
c=this.__getFramebuffer(f),f.__context.bindFramebuffer(h,c),f.__context.viewport(0,0,this.width,this.height),h=new Ud(ya.current.stage,f,!1),h.resize(this.width,this.height),h.renderSession.shaderManager=y.__cast(ya.current.stage.__renderer,Ud).renderSession.shaderManager,c=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),a.__renderGL(h.renderSession),a.__updateTransforms(c),a.__updateChildren(!0),f.__context.bindFramebuffer(f.FRAMEBUFFER,null))},getBuffer:function(a,b){if(null==
this.__buffer||this.__bufferContext!=a){var c=[this.width,this.height,0,1,1,b,0,this.height,0,0,1,b,this.width,0,0,1,0,b,0,0,0,0,0,b];this.__bufferData=null!=c?new ka(c):null;this.__bufferAlpha=b;this.__bufferContext=a;this.__buffer=a.__context.createBuffer();a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);a.bufferData(a.ARRAY_BUFFER,this.__bufferData.byteLength,this.__bufferData,a.STATIC_DRAW)}else this.__bufferAlpha!=b&&(this.__bufferData[5]=b,this.__bufferData[11]=b,this.__bufferData[17]=
b,this.__bufferAlpha=this.__bufferData[23]=b,a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer),a.bufferData(a.ARRAY_BUFFER,this.__bufferData.byteLength,this.__bufferData,a.STATIC_DRAW));return this.__buffer},getTexture:function(a){if(!this.__isValid)return null;if(null==this.__texture||this.__textureContext!=a)this.__textureContext=a,this.__texture=a.__context.createTexture(),a.__context.bindTexture(a.TEXTURE_2D,this.__texture),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),
a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=-1;na.sync(this.image,!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b,c;null!=this.__surface&&di.flush(this.__surface);1==this.image.buffer.bitsPerPixel?c=b=a.ALPHA:(null==da.__supportsBGRA&&(da.__textureInternalFormat=a.RGBA,da.__supportsBGRA=
!1,da.__textureFormat=a.RGBA),b=da.__textureInternalFormat,c=da.__textureFormat);a.__context.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==Ka.DATA||d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);da.__supportsBGRA||0==d.get_format()||(d=d.clone(),d.set_format(0));d.type==Ka.DATA?a.texImage2D(a.TEXTURE_2D,0,b,d.buffer.width,d.buffer.height,0,
c,a.UNSIGNED_BYTE,d.get_data()):ei.texImage2D(a,a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.__context.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=this.image.version}this.readable||null==this.image||(this.image=this.__surface=null);return this.__texture},lock:function(){},unlock:function(a){},__applyAlpha:function(a){na.convertToCanvas(this.image);na.createImageData(this.image);for(var b=this.image.buffer.data,c=0,d=$a.get_length(a);c<d;){var e=c++;b[4*e+3]=a.readUnsignedByte()}this.image.version++},
__fromFile:function(a){var b=this;W.loadFromFile(a).onComplete(function(a){b.__fromImage(a)})},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new ra(0,0,a.width,a.height),this.__isValid=this.readable=!0)},__getFramebuffer:function(a){if(null==this.__framebuffer||this.__framebufferContext!=a)this.getTexture(a),this.__framebufferContext=a,this.__framebuffer=a.__context.createFramebuffer(),a.__context.bindFramebuffer(a.FRAMEBUFFER,this.__framebuffer),
a.__context.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.__texture,0);return this.__framebuffer},__renderCanvas:function(a){if(this.readable){this.image.type==Ka.DATA&&na.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new Ea);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderGL:function(a){var b=
a.renderer,c=a.gl;a.blendModeManager.setBlendMode(10);var d=a.shaderManager.defaultShader;d.get_data().uImage0.input=this;var e=a.allowSmoothing&&a.upscaled;d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__worldTransform);a.shaderManager.setShader(d);a=c.ARRAY_BUFFER;b=this.getBuffer(c,1);c.__context.bindBuffer(a,b);a=d.get_data().aPosition.index;b=c.FLOAT;e=Za.fromInt(0);c.__context.vertexAttribPointer(a,3,b,!1,24,e);a=d.get_data().aTexCoord.index;b=c.FLOAT;e=Za.fromInt(12);
c.__context.vertexAttribPointer(a,2,b,!1,24,e);d=d.get_data().aAlpha.index;a=c.FLOAT;b=Za.fromInt(20);c.__context.vertexAttribPointer(d,1,a,!1,24,b);c.__context.drawArrays(c.TRIANGLE_STRIP,0,4)},__updateChildren:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:da};var ji={};h["openfl.display._CapsStyle.CapsStyle_Impl_"]=ji;ji.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];ji.toString=function(a){switch(a){case 0:return"none";
case 1:return"round";case 2:return"square";default:return null}};var De=function(a){G.call(this)};h["openfl.display.DirectRenderer"]=De;De.__name__=["openfl","display","DirectRenderer"];De.__super__=G;De.prototype=w(G.prototype,{__render:null,set_render:function(a){return this.__render=a},__class__:De,__properties__:w(G.prototype.__properties__,{set_render:"set_render"})});var I=function(){Fa.call(this);this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new be(this);this.__textEngine=
new sa(this);this.__layoutDirty=!0;this.__offsetY=this.__offsetX=0;this.__mouseWheelEnabled=this.__tabEnabled=!0;this.__text="";null==I.__defaultTextFormat&&(I.__defaultTextFormat=new Xd("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),I.__defaultTextFormat.blockIndent=0,I.__defaultTextFormat.bullet=!1,I.__defaultTextFormat.letterSpacing=0,I.__defaultTextFormat.kerning=!1);this.__textFormat=I.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new sd(this.__textFormat,0,0));this.addEventListener("mouseDown",
p(this,this.this_onMouseDown))};h["openfl.text.TextField"]=I;I.__name__=["openfl","text","TextField"];I.__super__=Fa;I.prototype=w(Fa.prototype,{__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__symbol:null,__text:null,__textEngine:null,__textFormat:null,__div:null,getCharBoundaries:function(a){if(0>a||a>this.__text.length-1)return null;
this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var h=c++,b=b+d.advances[h];return new ra(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},getLineIndexOfChar:function(a){if(0>a||a>this.__text.length)return-1;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(d.startIndex<=a&&d.endIndex>=
a)return d.lineIndex}return-1},getLineOffset:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return-1;for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(d.lineIndex==a)return d.startIndex}return 0},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:
this.__selectionIndex,a);a=b+a.length;this.setSelection(a,a)}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__text.length||null==c)){this.__updateText(this.__text.substring(0,a)+c+this.__text.substring(b));for(var d=c.length-(b-a),e=0,h;e<this.__textEngine.textFormatRanges.get_length();)h=this.__textEngine.textFormatRanges.get(e),h.start<=a&&h.end>=b?(h.end+=d,++e):h.start>=a&&h.end<=b?(0<e?this.__textEngine.textFormatRanges.splice(e,1):(h.start=0,h.end=a+c.length,++e),d-=h.end-h.start):(h.start>
a&&h.start<=b&&(h.start+=d),++e);this.__layoutDirty=this.__dirty=!0}},setSelection:function(a,b){this.__selectionIndex=a;this.__caretIndex=b},__caretBeginningOfLine:function(){this.__selectionIndex==this.__caretIndex||this.__caretIndex<this.__selectionIndex?this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex)):this.__selectionIndex=this.getLineOffset(this.getLineIndexOfChar(this.__selectionIndex))},__caretEndOfLine:function(){var a;a=this.__selectionIndex==this.__caretIndex?
this.getLineIndexOfChar(this.__caretIndex):this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretIndex=a<this.__textEngine.numLines-1?this.getLineOffset(a+1)-1:this.__text.length},__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));a<this.__textEngine.numLines-1?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,
a+1)):this.__caretIndex=this.__text.length},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));0<a?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a-1)):this.__caretIndex=0},__dispatch:function(a){if(2==a.eventPhase&&"mouseUp"==a.type){var b=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=b&&(b=b.format.url,""!=b&&(N.startsWith(b,
"event:")?this.dispatchEvent(new Uc("link",!1,!1,z.substr(b,6,null))):ya.getURL(new ue(b))))}return Fa.prototype.__dispatch.call(this,a)},__fromSymbol:function(a,b){this.__symbol=b;this.set_width(b.width);this.set_height(b.height);this.__offsetX=b.x;this.__offsetY=b.y;this.set_multiline(b.multiline);this.set_wordWrap(b.wordWrap);this.set_displayAsPassword(b.password);b.border&&(this.set_border(!0),this.set_background(!0));this.set_selectable(b.selectable);b.input&&this.set_type(1);var c=new Xd;null!=
b.color&&(c.color=b.color&16777215);c.size=Math.round(b.fontHeight/20);c.font=b.fontName;var d=!1,e=c.font;if(null==e)d=!0;else switch(e){case "":case "_sans":case "_serif":case "_typewriter":d=!0;break;default:for(var e=0,h=ac.enumerateFonts();e<h.length;){var k=h[e];++e;if(k.name==c.font){d=!0;break}}}d?this.set_embedFonts(!0):(d=c.font,e=I.__missingFontWarning,(null!=n[d]?e.existsReserved(d):e.h.hasOwnProperty(d))||(d=c.font,e=I.__missingFontWarning,null!=n[d]?e.setReserved(d,!0):e.h[d]=!0,Qa.warn('Could not find required font "'+
c.font+'", it has not been embedded',{fileName:"TextField.hx",lineNumber:977,className:"openfl.text.TextField",methodName:"__fromSymbol"})));null!=b.align&&("center"==b.align?c.align=0:"right"==b.align?c.align=4:"justify"==b.align&&(c.align=2),c.leftMargin=b.leftMargin/20|0,c.rightMargin=b.rightMargin/20|0,c.indent=b.indent/20|0,c.leading=b.leading/20|0,this.get_embedFonts()&&(c.leading+=4));this.set_defaultTextFormat(c);null!=b.text&&(b.html?this.set_htmlText(b.text):this.set_text(b.text))},__getAttributeMatch:function(a){return null!=
a.matched(2)?a.matched(2):a.matched(3)},__getBounds:function(a,b){this.__updateLayout();var c=ra.__temp;c.copyFrom(this.__textEngine.bounds);c.x+=this.__offsetX;c.y+=this.__offsetY;c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCharIndexOnDifferentLine:function(a,b){if(0>a||a>this.__text.length||0>b||b>this.__textEngine.numLines-1)return-1;for(var c=null,d=null,e=0,h=this.__textEngine.layoutGroups;e<h.get_length();){var k=h.get(e);++e;if(a>=k.startIndex&&a<=k.endIndex){for(var c=k.offsetX,
m=0,l=a-k.startIndex;m<l;)var g=m++,c=c+k.advances[g];if(null!=d)return this.__getPosition(c,d)}if(k.lineIndex==b&&(d=k.offsetY+k.height/2,null!=c))return this.__getPosition(c,d)}return-1},__getCursor:function(){var a=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=a&&""!=a.format.url?P.POINTER:this.__textEngine.selectable?P.TEXT:null},__getGroup:function(a,b,c){null==c&&(c=!1);this.__updateLayout();a+=this.get_scrollH();for(var d=0,e=this.get_scrollV()-1;d<e;){var h=d++;b+=this.__textEngine.lineHeights.get(h)}!c&&
b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,k,h=0,m=this.__textEngine.layoutGroups.get_length();h<m;)if(k=h++,e=this.__textEngine.layoutGroups.get(k),k=k<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(k+1):null,d&&(b<e.offsetY&&(b=e.offsetY),a<e.offsetX&&(a=e.offsetX),d=!1),b>=e.offsetY&&b<=e.offsetY+e.height||!c&&null==k)if(a>=e.offsetX&&a<=e.offsetX+e.width||!c&&(null==k||k.lineIndex!=e.lineIndex))return e;return null},__getPosition:function(a,
b){var c=this.__getGroup(a,b);if(null==c)return this.__text.length;for(var d=0,e=0,h=c.advances.length;e<h;){var k=e++,d=d+c.advances[k];if(a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[k])+c.advances[k]/2)return c.startIndex+k;if(c.startIndex+k<c.endIndex)return c.startIndex+k+1;break}}return c.endIndex},__hitTest:function(a,b,c,d,e,h){if(!h.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();
c=this.__renderTransform;e=c.a*c.d-c.b*c.c;var k=this.__renderTransform,m=k.a*k.d-k.b*k.c;return this.__textEngine.bounds.contains(0==e?-c.tx:1/e*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==m?-k.ty:1/m*(k.a*(b-k.ty)+k.b*(k.tx-a)))?(null!=d&&d.push(h),!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,e=this.__renderTransform,h=e.a*e.d-e.b*e.c;return this.__textEngine.bounds.contains(0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==
h?-e.ty:1/h*(e.a*(b-e.ty)+e.b*(e.tx-a)))?!0:!1},__renderCanvas:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ra),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,h=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=
null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));D.context=d.__context;var k=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=h;D.context.setTransform(k.a,k.b,k.c,k.d,k.tx,k.ty);null==D.clearRect&&(D.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);D.clearRect&&D.context.clearRect(0,
0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)D.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=N.hex(b.backgroundColor&16777215,
6),D.context.fillStyle="#"+c,D.context.fill()),b.border&&(D.context.lineWidth=1,c=N.hex(b.borderColor&16777215,6),D.context.strokeStyle="#"+c,D.context.stroke());D.context.textBaseline="top";D.context.textAlign="start";for(var c=-this.get_scrollH(),k=h=0,m=this.get_scrollV()-1;k<m;)var l=k++,h=h-b.lineHeights.get(l);for(var g,k=0,m=(new Aa("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),l=0,n=b.layoutGroups;l<n.get_length();){var p=n.get(l);++l;if(!(p.lineIndex<this.get_scrollV()-
1)){if(p.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;D.context.font=sa.getFont(p.format);g=N.hex(p.format.color&16777215,6);D.context.fillStyle="#"+g;m&&(k=.185*p.format.size);if(null!=this.__filters&&0<this.__filters.length&&y.__instanceof(this.__filters[0],kc)){g=this.__filters[0];var u=D.context.globalAlpha;D.context.globalAlpha=u*g.alpha;var r=N.hex(g.color&16777215,6);D.context.strokeStyle="#"+r;D.context.lineWidth=Math.max(g.blurX,g.blurY);D.context.strokeText(e.substring(p.startIndex,
p.endIndex),p.offsetX+c,p.offsetY+k+h);D.context.strokeStyle=null;D.context.globalAlpha=u}D.context.fillText(e.substring(p.startIndex,p.endIndex),p.offsetX+c,p.offsetY+k+h);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&p.startIndex<=this.__caretIndex&&p.endIndex>=this.__caretIndex){u=g=0;for(r=this.__caretIndex-p.startIndex;u<r;){var v=u++;if(p.advances.length<=v)break;g+=p.advances[v]}D.context.fillRect(p.offsetX+g,p.offsetY,1,p.height)}}else if(p.startIndex<=
this.__caretIndex&&p.endIndex>=this.__caretIndex||p.startIndex<=this.__selectionIndex&&p.endIndex>=this.__selectionIndex||p.startIndex>this.__caretIndex&&p.endIndex<this.__selectionIndex||p.startIndex>this.__selectionIndex&&p.endIndex<this.__caretIndex)g=Math.min(this.__selectionIndex,this.__caretIndex)|0,u=Math.max(this.__selectionIndex,this.__caretIndex)|0,p.startIndex>g&&(g=p.startIndex),p.endIndex<u&&(u=p.endIndex),r=this.getCharBoundaries(g),u>=b.text.length?(v=this.getCharBoundaries(b.text.length-
1),v.x+=v.width+2):v=this.getCharBoundaries(u),null!=r&&null!=v&&(D.context.fillStyle="#000000",D.context.fillRect(r.x,r.y,v.x-r.x,p.height),D.context.fillStyle="#FFFFFF",D.context.fillText(e.substring(g,u),c+r.x,p.offsetY+k+h))}}}else{if(b.border||b.background)b.border?D.context.rect(.5,.5,c.width-1,c.height-1):D.context.rect(0,0,c.width,c.height),b.background&&(e=N.hex(b.backgroundColor&16777215,6),D.context.fillStyle="#"+e,D.context.fill()),b.border&&(D.context.lineWidth=1,D.context.lineCap="square",
e=N.hex(b.borderColor&16777215,6),D.context.strokeStyle="#"+e,D.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();h=c=0;for(k=this.get_scrollV()-1;h<k;)m=h++,c-=b.lineHeights.get(m);D.context.beginPath();b=N.hex(this.get_defaultTextFormat().color&16777215,6);D.context.strokeStyle="#"+b;D.context.moveTo(e+2.5,c+2.5);D.context.lineWidth=1;D.context.lineTo(e+2.5,c+sa.getFormatHeight(this.get_defaultTextFormat())-1);D.context.stroke();D.context.closePath()}}d.__bitmap=
da.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){if(d=a.context.imageSmoothingEnabled)a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1;Fa.prototype.__renderCanvas.call(this,a);d&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Fa.prototype.__renderCanvas.call(this,
a)},__renderGL:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ra),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,h=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),
this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));D.context=d.__context;var k=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=h;D.context.setTransform(k.a,k.b,k.c,k.d,k.tx,k.ty);null==D.clearRect&&(D.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);D.clearRect&&D.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);
if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)D.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=N.hex(b.backgroundColor&16777215,6),D.context.fillStyle="#"+c,D.context.fill()),
b.border&&(D.context.lineWidth=1,c=N.hex(b.borderColor&16777215,6),D.context.strokeStyle="#"+c,D.context.stroke());D.context.textBaseline="top";D.context.textAlign="start";for(var c=-this.get_scrollH(),k=h=0,m=this.get_scrollV()-1;k<m;)var l=k++,h=h-b.lineHeights.get(l);for(var g,k=0,m=(new Aa("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),l=0,n=b.layoutGroups;l<n.get_length();){var p=n.get(l);++l;if(!(p.lineIndex<this.get_scrollV()-1)){if(p.lineIndex>this.get_scrollV()+b.bottomScrollV-
2)break;D.context.font=sa.getFont(p.format);g=N.hex(p.format.color&16777215,6);D.context.fillStyle="#"+g;m&&(k=.185*p.format.size);if(null!=this.__filters&&0<this.__filters.length&&y.__instanceof(this.__filters[0],kc)){g=this.__filters[0];var u=D.context.globalAlpha;D.context.globalAlpha=u*g.alpha;var r=N.hex(g.color&16777215,6);D.context.strokeStyle="#"+r;D.context.lineWidth=Math.max(g.blurX,g.blurY);D.context.strokeText(e.substring(p.startIndex,p.endIndex),p.offsetX+c,p.offsetY+k+h);D.context.strokeStyle=
null;D.context.globalAlpha=u}D.context.fillText(e.substring(p.startIndex,p.endIndex),p.offsetX+c,p.offsetY+k+h);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&p.startIndex<=this.__caretIndex&&p.endIndex>=this.__caretIndex){u=g=0;for(r=this.__caretIndex-p.startIndex;u<r;){var v=u++;if(p.advances.length<=v)break;g+=p.advances[v]}D.context.fillRect(p.offsetX+g,p.offsetY,1,p.height)}}else if(p.startIndex<=this.__caretIndex&&p.endIndex>=this.__caretIndex||
p.startIndex<=this.__selectionIndex&&p.endIndex>=this.__selectionIndex||p.startIndex>this.__caretIndex&&p.endIndex<this.__selectionIndex||p.startIndex>this.__selectionIndex&&p.endIndex<this.__caretIndex)g=Math.min(this.__selectionIndex,this.__caretIndex)|0,u=Math.max(this.__selectionIndex,this.__caretIndex)|0,p.startIndex>g&&(g=p.startIndex),p.endIndex<u&&(u=p.endIndex),r=this.getCharBoundaries(g),u>=b.text.length?(v=this.getCharBoundaries(b.text.length-1),v.x+=v.width+2):v=this.getCharBoundaries(u),
null!=r&&null!=v&&(D.context.fillStyle="#000000",D.context.fillRect(r.x,r.y,v.x-r.x,p.height),D.context.fillStyle="#FFFFFF",D.context.fillText(e.substring(g,u),c+r.x,p.offsetY+k+h))}}}else{if(b.border||b.background)b.border?D.context.rect(.5,.5,c.width-1,c.height-1):D.context.rect(0,0,c.width,c.height),b.background&&(e=N.hex(b.backgroundColor&16777215,6),D.context.fillStyle="#"+e,D.context.fill()),b.border&&(D.context.lineWidth=1,D.context.lineCap="square",e=N.hex(b.borderColor&16777215,6),D.context.strokeStyle=
"#"+e,D.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();h=c=0;for(k=this.get_scrollV()-1;h<k;)m=h++,c-=b.lineHeights.get(m);D.context.beginPath();b=N.hex(this.get_defaultTextFormat().color&16777215,6);D.context.strokeStyle="#"+b;D.context.moveTo(e+2.5,c+2.5);D.context.lineWidth=1;D.context.lineTo(e+2.5,c+sa.getFormatHeight(this.get_defaultTextFormat())-1);D.context.stroke();D.context.closePath()}}d.__bitmap=da.fromCanvas(this.__graphics.__canvas);
d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}Fa.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=Jc.delay(p(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(p(this,
this.window_onTextInput))||(this.stage.window.onTextInput.add(p(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(p(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(p(this,
this.window_onTextInput)),this.stage.window.onKeyDown.remove(p(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(a-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=
!1}},__updateText:function(a){this.__text=a;this.__text.length<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length);if(this.__displayAsPassword){a="";for(var b=0,c=this.get_text().length;b<c;)b++,a+="*";this.__textEngine.set_text(a)}else this.__textEngine.set_text(this.__text)},__updateTransforms:function(a){Fa.prototype.__updateTransforms.call(this,a);a=this.__renderTransform;var b=this.__offsetX,c=this.__offsetY;a.tx=b*a.a+c*a.c+a.tx;a.ty=b*a.b+c*a.d+a.ty},set_background:function(a){a!=
this.__textEngine.background&&(this.__dirty=!0);return this.__textEngine.background=a},set_border:function(a){a!=this.__textEngine.border&&(this.__dirty=!0);return this.__textEngine.border=a},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},set_displayAsPassword:function(a){a!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__displayAsPassword=a,this.__updateText(this.__text));
return a},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(a){a!=this.__textEngine.height&&(this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.height=a);return this.__textEngine.height*Math.abs(this.get_scaleY())},set_htmlText:function(a){this.__isHTML&&
this.__text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==this.__div){a=a.replace(I.__regexBreakTag.r,"\n");a=a.replace(I.__regexEntities[0].r,'"');a=a.replace(I.__regexEntities[1].r,"'");a=a.replace(I.__regexEntities[2].r,"&");var b=a.split("<");if(1==b.length)return a=a.replace(I.__regexHTMLTag.r,""),1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1),a=a.replace(I.__regexEntities[3].r,
"<"),a=a.replace(I.__regexEntities[4].r,">"),b=this.__textEngine.textFormatRanges.get(0),b.format=this.__textFormat,b.start=0,b.end=a.length,this.__updateText(a),a;this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.get_length());a="";for(var c,d=0,e=b.length;d<e;){var h=d++;c=b[h];c=c.replace(I.__regexEntities[3].r,"<");c=c.replace(I.__regexEntities[4].r,">");b[h]=c}c=[this.__textFormat.clone()];e=!1;for(d=0;d<b.length;)if(h=b[d],++d,""!=h){var k="/"==z.substr(h,0,1),m=
h.indexOf(">"),l=m+1,g=h.indexOf(" "),g=h.substring(k?1:0,-1<g&&g<m?g:m);if(k)c.pop(),k=c[c.length-1].clone(),"p"==g.toLowerCase()&&0<this.__textEngine.textFormatRanges.get_length()&&(a+="\n",e=!0),l<h.length&&(e=z.substr(h,l,null),this.__textEngine.textFormatRanges.push(new sd(k,a.length,a.length+e.length)),a+=e,e=!1);else if(k=c[c.length-1].clone(),-1<m){switch(g.toLowerCase()){case "a":I.__regexHref.match(h)&&(k.url=this.__getAttributeMatch(I.__regexHref));break;case "b":k.bold=!0;break;case "em":case "i":k.italic=
!0;break;case "font":I.__regexFace.match(h)&&(k.font=this.__getAttributeMatch(I.__regexFace));I.__regexColor.match(h)&&(k.color=F.parseInt("0x"+this.__getAttributeMatch(I.__regexColor)));I.__regexSize.match(h)&&(m=this.__getAttributeMatch(I.__regexSize),g=z.cca(m,0),k.size=43==g||45==g?(2<=c.length?c[c.length-2]:this.__textFormat).size+F.parseInt(m):F.parseInt(m));break;case "p":0<this.__textEngine.textFormatRanges.get_length()&&!e&&(a+="\n");I.__regexAlign.match(h)&&(k.align=ni.fromString(this.__getAttributeMatch(I.__regexAlign).toLowerCase()));
break;case "textformat":I.__regexBlockIndent.match(h)&&(k.blockIndent=F.parseInt(this.__getAttributeMatch(I.__regexBlockIndent)));I.__regexIndent.match(h)&&(k.indent=F.parseInt(this.__getAttributeMatch(I.__regexIndent)));I.__regexLeading.match(h)&&(k.leading=F.parseInt(this.__getAttributeMatch(I.__regexLeading)));I.__regexLeftMargin.match(h)&&(k.leftMargin=F.parseInt(this.__getAttributeMatch(I.__regexLeftMargin)));I.__regexRightMargin.match(h)&&(k.rightMargin=F.parseInt(this.__getAttributeMatch(I.__regexRightMargin)));
if(I.__regexTabStops.match(h)){for(var m=this.__getAttributeMatch(I.__regexTabStops).split(" "),g=[],n=0;n<m.length;){var p=m[n];++n;g.push(F.parseInt(p))}k.tabStops=g}break;case "u":k.underline=!0}c.push(k);l<h.length&&(e=h.substring(l),this.__textEngine.textFormatRanges.push(new sd(k,a.length,a.length+e.length)),a+=e,e=!1)}else this.__textEngine.textFormatRanges.push(new sd(k,a.length,a.length+h.length)),a+=h,e=!1}0==this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.push(new sd(c[0],
0,0))}this.__updateText(a);return a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||
this.__stopTextInput());return this.__textEngine.selectable=a},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var b=this.__textEngine.textFormatRanges.get(0);b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;this.__updateText(a);return a},get_type:function(){return this.__textEngine.type},
set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",p(this,this.this_onFocusIn)),this.addEventListener("focusOut",p(this,this.this_onFocusOut)),this.addEventListener("addedToStage",p(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("focusIn",p(this,this.this_onFocusIn)),this.removeEventListener("focusOut",p(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",p(this,this.this_onAddedToStage)),
this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0);return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(a){a!=this.__textEngine.width&&(this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.width=a);return this.__textEngine.width*Math.abs(this.__scaleX)},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&
(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",p(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",p(this,this.stage_onMouseUp)),
this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.get_x();this.get_y();this.get_x();this.get_y();var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Math.min(this.__selectionIndex,b)|0;b=Math.max(this.__selectionIndex,b)|0;this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(a){this.get_selectable()&&
1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener("mouseMove",p(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",p(this,this.stage_onMouseUp)))},window_onKeyDown:function(a,
b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new L("change",!0)));break;case 97:if(Ga.get_metaKey(b)||Ga.get_ctrlKey(b))this.__caretIndex=this.__text.length,this.__selectionIndex=0;break;case 99:(Ga.get_metaKey(b)||Ga.get_ctrlKey(b))&&yc.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));
break;case 120:if(Ga.get_metaKey(b)||Ga.get_ctrlKey(b))yc.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new L("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new L("change",
!0)));break;case 1073741898:this.__caretBeginningOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741901:this.__caretEndOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:Ga.get_metaKey(b)?(this.__caretEndOfLine(),Ga.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):Ga.get_shiftKey(b)?this.__caretNextCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretNextCharacter():this.__caretIndex=Math.max(this.__caretIndex,this.__selectionIndex)|
0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741904:Ga.get_metaKey(b)?(this.__caretBeginningOfLine(),Ga.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):Ga.get_shiftKey(b)?this.__caretPreviousCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousCharacter():this.__caretIndex=Math.min(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();
break;case 1073741905:if(Ga.get_shiftKey(b))this.__caretNextLine();else{if(this.__selectionIndex==this.__caretIndex)this.__caretNextLine();else{var c=this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretNextLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)}this.__selectionIndex=this.__caretIndex}this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741906:Ga.get_shiftKey(b)?this.__caretPreviousLine():(this.__selectionIndex==this.__caretIndex?
this.__caretPreviousLine():(c=this.getLineIndexOfChar(Math.min(this.__caretIndex,this.__selectionIndex)|0),this.__caretPreviousLine(c,Math.min(this.__caretIndex,this.__selectionIndex)|0)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 13:case 1073741912:this.__textEngine.multiline&&(this.replaceSelectedText("\n"),this.dispatchEvent(new L("change",!0)))}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new L("change",
!0))},__class__:I,__properties__:w(Fa.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_htmlText:"set_htmlText",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",
get_defaultTextFormat:"get_defaultTextFormat",set_border:"set_border",set_background:"set_background"})});var Qe=function(a,b,c){null==c&&(c=0);null==b&&(b=10);null==a&&(a=10);I.call(this);this.set_x(a);this.set_y(b);this.currentFPS=0;this.set_selectable(!1);this.mouseEnabled=!1;this.set_defaultTextFormat(new Xd("_sans",12,c));this.set_text("FPS: ");this.cacheCount=0;this.times=[];this.addEventListener("enterFrame",p(this,this.this_onEnterFrame))};h["openfl.display.FPS"]=Qe;Qe.__name__=["openfl",
"display","FPS"];Qe.__super__=I;Qe.prototype=w(I.prototype,{currentFPS:null,cacheCount:null,times:null,this_onEnterFrame:function(a){a=(new Date).getTime()/1E3;for(this.times.push(a);this.times[0]<a-1;)this.times.shift();a=this.times.length;this.currentFPS=Math.round((a+this.cacheCount)/2);a!=this.cacheCount&&this.set_text("FPS: "+this.currentFPS);this.cacheCount=a},__class__:Qe});var dg=function(a,b){ca.call(this);this.__name=a;this.__frame=b};h["openfl.display.FrameLabel"]=dg;dg.__name__=["openfl",
"display","FrameLabel"];dg.__super__=ca;dg.prototype=w(ca.prototype,{__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:dg,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var be=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new Eb;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=new Ea;this.__worldTransform=new Ea;this.__height=this.__width=0;this.moveTo(0,0)};h["openfl.display.Graphics"]=
be;be.__name__=["openfl","display","Graphics"];be.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__positionX:null,__positionY:null,__renderTransform:null,__strokePadding:null,__transformDirty:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==
b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},beginGradientFill:function(a,b,c,d,e,h,k,m){null==m&&(m=0);null==k&&(k=1);null==h&&(h=0);this.__commands.beginGradientFill(a,b,c,d,e,h,k,m);for(a=0;a<c.length;)if(b=c[a],++a,0<b){this.__visible=!0;break}},copyFrom:function(a){this.__bounds=null!=a.__bounds?a.__bounds.clone():null;this.__commands=a.__commands.copy();this.set___dirty(!0);this.__strokePadding=a.__strokePadding;this.__positionX=a.__positionX;this.__positionY=
a.__positionY;this.__transformDirty=!0;this.__visible=a.__visible},curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var e,h;e=a<c&&a>this.__positionX||a>c&&a<this.__positionX?c:this.__calculateBezierQuadPoint((this.__positionX-a)/(this.__positionX-2*a+c),this.__positionX,a,c);h=b<d&&b>this.__positionY||b>d&&b<this.__positionY?
d:this.__calculateBezierQuadPoint((this.__positionY-b)/(this.__positionY-2*b+d),this.__positionY,b,d);this.__inflateBounds(e-this.__strokePadding,h-this.__strokePadding);this.__inflateBounds(e+this.__strokePadding,h+this.__strokePadding);this.__positionX=c;this.__positionY=d;this.__commands.curveTo(a,b,c,d);this.set___dirty(!0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),
this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(a,b,c,d,e,h,k,m){null==m&&(m=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==k?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,h,k,m);null!=a&&(this.__visible=!0)},lineTo:function(a,b){isFinite(a)&&isFinite(b)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,
this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=a,this.__positionY=b,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(a,b),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,
b)},__calculateBezierQuadPoint:function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=ra.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c,e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx)),h=d.a*d.d-d.b*
d.c;a=0==h?-d.ty:1/h*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?m.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new ra(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&
(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__renderTransform,b=1,c=1;if(null!=a)if(b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b),c=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d),b*=this.__bounds.width,c*=this.__bounds.height,1>b||1>c)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=
this.__width=0;else{this.__renderTransform.a=b/this.__bounds.width;this.__renderTransform.d=c/this.__bounds.height;var d=1/this.__renderTransform.a,e=1/this.__renderTransform.d;this.__worldTransform.a=d*a.a;this.__worldTransform.b=d*a.b;this.__worldTransform.c=e*a.c;this.__worldTransform.d=e*a.d;var e=this.__bounds.x,h=this.__bounds.y,d=e*a.a+h*a.c+a.tx,a=e*a.b+h*a.d+a.ty;this.__worldTransform.tx=Math.floor(d);this.__worldTransform.ty=Math.floor(a);e=this.__worldTransform;h=e.a*e.d-e.b*e.c;this.__renderTransform.tx=
0==h?-e.tx:1/h*(e.c*(e.ty-a)+e.d*(d-e.tx));e=this.__worldTransform;h=e.a*e.d-e.b*e.c;this.__renderTransform.ty=0==h?-e.ty:1/h*(e.a*(a-e.ty)+e.b*(e.tx-d));b=Math.ceil(b+this.__renderTransform.tx);c=Math.ceil(c+this.__renderTransform.ty);b==this.__width&&c==this.__height||this.set___dirty(!0);this.__width=b;this.__height=c}}},set___dirty:function(a){if(a&&null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__renderDirty=!0,G.__worldRenderDirty++)}return this.__dirty=a},__class__:be,__properties__:{set___dirty:"set___dirty"}};
var ii={};h["openfl.display._JointStyle.JointStyle_Impl_"]=ii;ii.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];ii.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var If=function(){ib.call(this);this.contentLoaderInfo=Ec.create(this)};h["openfl.display.Loader"]=If;If.__name__=["openfl","display","Loader"];If.__super__=ib;If.prototype=w(ib.prototype,{content:null,contentLoaderInfo:null,__path:null,load:function(a,b){this.contentLoaderInfo.url=
a.url;if(null==a.contentType||""==a.contentType){var c="";this.__path=a.url;var d=this.__path.indexOf("?");-1<d&&(this.__path=this.__path.substring(0,d));for(;N.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);N.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",a.url=-1<d?this.__path+a.url.substring(d):this.__path);d=this.__path.lastIndexOf(".");-1<d&&(c=this.__path.substring(d+1));switch(c){case "gif":c="image/gif";break;case "jpeg":case "jpg":c="image/jpeg";
break;case "js":c="application/javascript";break;case "json":c="application/json";break;case "png":c="image/png";break;case "swf":c="application/x-shockwave-flash";break;default:c="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=c}else this.contentLoaderInfo.contentType=a.contentType;if(-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==a.method&&(null==a.requestHeaders||0==a.requestHeaders.length)&&null==a.userAgent)da.loadFromFile(a.url).onComplete(p(this,this.BitmapData_onLoad)).onError(p(this,
this.BitmapData_onError)).onProgress(p(this,this.BitmapData_onProgress));else{c=new Rd;c.dataFormat=0;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))c.dataFormat=1;c.addEventListener("complete",p(this,this.loader_onComplete));c.addEventListener("ioError",p(this,this.loader_onError));c.addEventListener("progress",p(this,this.loader_onProgress));c.load(a)}},__dispatchError:function(a){var b=
new Yd("ioError");b.text=a;this.contentLoaderInfo.dispatchEvent(b)},BitmapData_onError:function(a){this.__dispatchError(F.string(a))},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=new Ce(a);this.content=this.contentLoaderInfo.content;this.addChild(this.content);this.contentLoaderInfo.dispatchEvent(new L("complete"))},BitmapData_onProgress:function(a,b){var c=new td("progress");c.bytesLoaded=a;c.bytesTotal=b;this.contentLoaderInfo.dispatchEvent(c)},loader_onComplete:function(a){var b=
this;a=a.target;if(-1<this.contentLoaderInfo.contentType.indexOf("/json"))if(a=Sa.parse(a.data,Dd.directory(this.__path)),null==a)this.__dispatchError("Cannot parse asset manifest");else{var c=cc.fromManifest(a);if(null==c)this.__dispatchError("Cannot open library");else if(y.__instanceof(c,Pa))c.load().onComplete(function(a){b.contentLoaderInfo.content=y.__cast(c,Pa).getMovieClip("");b.addChild(b.contentLoaderInfo.content);b.contentLoaderInfo.dispatchEvent(new L("complete"))}).onError(function(a){b.__dispatchError(a)})}else if(-1<
this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))this.contentLoaderInfo.content=new wb,this.addChild(this.contentLoaderInfo.content),eval("(function () {"+F.string(a.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new L("complete"));else da.loadFromBytes(a.data).onComplete(p(this,this.BitmapData_onLoad)).onError(p(this,this.BitmapData_onError))},loader_onError:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},
loader_onProgress:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:If});var Ec=function(){ca.call(this);this.applicationDomain=Zd.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};h["openfl.display.LoaderInfo"]=Ec;Ec.__name__=["openfl","display","LoaderInfo"];Ec.create=function(a){var b=new Ec;b.uncaughtErrorEvents=new qg;null!=a?b.loader=a:b.url=Ec.__rootURL;return b};Ec.__super__=ca;Ec.prototype=w(ca.prototype,
{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,loader:null,parameters:null,uncaughtErrorEvents:null,url:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new L("complete")))},__update:function(a,b){this.bytesLoaded=a;this.bytesTotal=b;this.dispatchEvent(new td("progress",
!1,!1,a,b))},__class__:Ec});var Hh=function(a,b,c,d){this.id=a;this.depth=b;this.clipDepth=c;this.displayObject=d};h["openfl.display._MovieClip.TimelineObject"]=Hh;Hh.__name__=["openfl","display","_MovieClip","TimelineObject"];Hh.prototype={clipDepth:null,depth:null,displayObject:null,id:null,__class__:Hh};var Oc=function(){G.call(this)};h["openfl.display.OpenGLView"]=Oc;Oc.__name__=["openfl","display","OpenGLView"];Oc.__properties__={get_isSupported:"get_isSupported"};Oc.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;
if(null!=e.context)return!0;var a=window.document.createElement("canvas"),b=a.getContext("webgl");null==b&&(b=a.getContext("experimental-webgl"));return null!=b};Oc.__super__=De;Oc.prototype=w(De.prototype,{__renderCanvas:function(a){},__renderGL:function(a){if(null!=this.stage&&this.__renderable){var b=null,b=null==this.__scrollRect?new ra(0,0,this.stage.stageWidth,this.stage.stageHeight):new ra(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height);
a.shaderManager.setShader(null);a.blendModeManager.setBlendMode(null);null!=this.__render&&this.__render(b)}},__class__:Oc});var Ke=function(a){dd.call(this);this.display=a;null!=a&&(a.addEventListener("unload",p(this,this.display_onUnload)),ya.current.addChild(a))};h["openfl.display.Preloader"]=Ke;Ke.__name__=["openfl","display","Preloader"];Ke.__super__=dd;Ke.prototype=w(dd.prototype,{display:null,ready:null,start:function(){if(!this.simulateProgress)if(this.ready=!0,ya.current.get_loaderInfo().__complete(),
null!=this.display){var a=new L("complete",!0,!0);this.display.dispatchEvent(a);a.isDefaultPrevented()||this.display.dispatchEvent(new L("unload"))}else dd.prototype.start.call(this)},update:function(a,b){ya.current.get_loaderInfo().__update(a,b);null!=this.display&&this.display.dispatchEvent(new td("progress",!0,!0,a,b))},display_onUnload:function(a){null!=this.display&&(this.display.removeEventListener("unload",p(this,this.display_onUnload)),this.display.parent==ya.current&&ya.current.removeChild(this.display),
ya.current.stage.set_focus(null),this.display=null);this.ready&&!this.simulateProgress&&dd.prototype.start.call(this)},__class__:Ke});var Le=function(){wb.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new wb;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);
this.progress=new wb;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);this.addChild(this.progress);this.startAnimation=ya.getTimer()+100;this.endAnimation=this.startAnimation+1E3;this.addEventListener("addedToStage",p(this,this.this_onAddedToStage))};h["openfl.display.DefaultPreloader"]=Le;Le.__name__=["openfl","display","DefaultPreloader"];Le.__super__=
wb;Le.prototype=w(wb.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return ya.current.stage.window.config.background},getHeight:function(){var a=ya.current.stage.window.config.height;return 0<a?a:ya.current.stage.stageHeight},getWidth:function(){var a=ya.current.stage.window.config.width;return 0<a?a:ya.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",p(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",
p(this,this.this_onEnterFrame));this.dispatchEvent(new L("unload"))},onUpdate:function(a,b){var c=0;0<b&&(c=a/b,1<c&&(c=1));this.progress.set_scaleX(c)},this_onAddedToStage:function(a){this.removeEventListener("addedToStage",p(this,this.this_onAddedToStage));this.onInit();this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);this.addEventListener("progress",p(this,this.this_onProgress));this.addEventListener("complete",p(this,this.this_onComplete))},this_onComplete:function(a){a.preventDefault();
this.removeEventListener("progress",p(this,this.this_onProgress));this.removeEventListener("complete",p(this,this.this_onComplete));this.onLoaded()},this_onEnterFrame:function(a){a=(ya.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);this.progress.set_alpha(a)},this_onProgress:function(a){this.onUpdate(a.bytesLoaded|0,a.bytesTotal|0)},__class__:Le});var Qb=function(a){this.__data=new rg(null);null==this.__glFragmentSource&&(this.__glFragmentSource=
"varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");
this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0;this.__numPasses=1};h["openfl.display.Shader"]=Qb;Qb.__name__=["openfl","display","Shader"];Qb.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=
this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.__context.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);this.gl.__context.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.__context.bindTexture(this.gl.TEXTURE_2D,
null);this.gl.type==Wb.OPENGL&&this.gl.__context.disable(this.gl.TEXTURE_2D)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;this.gl.__context.uniform1i(d.index,a);++a}this.gl.type==Wb.OPENGL&&0<a&&this.gl.__context.enable(this.gl.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=new rg(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&
!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new B,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new ka(4),this.__uniformMatrix3=new ka(9),this.__uniformMatrix4=new ka(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),
"uniform");if(null!=this.gl&&null==this.glProgram){var a="#ifdef GL_ES\n\t\t\t\tprecision "+(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=je.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){for(var a=0,b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;var d=c.name,e=this.__isUniform;(null!=n[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=n[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=n[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=n[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d="uniform"==b?new Aa("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new Aa("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(N.startsWith(e,"sampler"))e=
new Rh,e.name=c,this.__inputBitmapData.push(e),this.get_data()[c]=e;else{switch(e){case "bool":e=0;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "dvec2":case "vec2":e=5;break;case "dvec3":case "vec3":e=6;break;case "double":case "float":e=4;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "mat2":case "mat2x2":e=12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;
case "mat3x4":e=17;break;case "mat4":case "mat4x4":e=20;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "int":case "uint":e=8;break;case "ivec2":case "uvec2":e=9;break;case "dvec4":case "vec4":e=7;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var h=new Ee;h.name=c;h.type=e;this.__paramBool.push(h);this.get_data()[c]=h;break;case 8:case 9:case 10:case 11:h=new Ee;h.name=c;h.type=e;this.__paramInt.push(h);this.get_data()[c]=h;break;default:h=new Ee,h.name=c,h.type=e,this.__paramFloat.push(h),
this.get_data()[c]=h}}e=this.__isUniform;h="uniform"==b;null!=n[c]?e.setReserved(c,h):e.h[c]=h;c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;if(null!=d.input){this.gl.__context.activeTexture(this.gl.TEXTURE0+a);var e=this.gl,h=this.gl.TEXTURE_2D,k=d.input.getTexture(this.gl);e.__context.bindTexture(h,k);d.smoothing?(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST))}++a}a=0;for(b=this.__paramBool;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 0:this.gl.__context.uniform1i(e,d[0]?1:0);break;case 1:this.gl.__context.uniform2i(e,
d[0]?1:0,d[1]?1:0);break;case 2:this.gl.__context.uniform3i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0);break;case 3:this.gl.__context.uniform4i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0,d[3]?1:0)}else d=c.name,e=this.__isUniform,(null!=n[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index);a=0;for(b=this.__paramFloat;a<b.length;)if(e=b[a],++a,c=e.value,d=e.index,null!=c)switch(e.type){case 4:this.gl.__context.uniform1f(d,c[0]);break;case 5:this.gl.__context.uniform2f(d,c[0],c[1]);break;case 6:this.gl.__context.uniform3f(d,
c[0],c[1],c[2]);break;case 7:this.gl.__context.uniform4f(d,c[0],c[1],c[2],c[3]);break;case 12:for(e=0;4>e;)h=e++,this.__uniformMatrix2[h]=c[h];this.gl.uniformMatrix2fv(d,1,!1,this.__uniformMatrix2);break;case 16:for(e=0;9>e;)h=e++,this.__uniformMatrix3[h]=c[h];this.gl.uniformMatrix3fv(d,1,!1,this.__uniformMatrix3);break;case 20:for(e=0;16>e;)h=e++,this.__uniformMatrix4[h]=c[h];this.gl.uniformMatrix4fv(d,1,!1,this.__uniformMatrix4)}else c=e.name,d=this.__isUniform,(null!=n[c]?d.getReserved(c):d.h[c])||
this.gl.__context.enableVertexAttribArray(e.index);a=0;for(b=this.__paramInt;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 8:this.gl.__context.uniform1i(e,d[0]);break;case 9:this.gl.__context.uniform2i(e,d[0],d[1]);break;case 10:this.gl.__context.uniform3i(e,d[0],d[1],d[2]);break;case 11:this.gl.__context.uniform4i(e,d[0],d[1],d[2],d[3])}else d=c.name,e=this.__isUniform,(null!=n[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index)},get_data:function(){(this.__glSourceDirty||
null==this.__data)&&this.__init();return this.__data},get_glFragmentSource:function(){return this.__glFragmentSource},get_glVertexSource:function(){return this.__glVertexSource},__class__:Qb,__properties__:{get_glVertexSource:"get_glVertexSource",get_glFragmentSource:"get_glFragmentSource",get_data:"get_data"}};var rg=function(a){};h["openfl.display.ShaderData"]=rg;rg.__name__=["openfl","display","ShaderData"];rg.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:rg};
var Rh=function(){this.width=this.index=this.height=this.channels=0};h["openfl.display.ShaderInput"]=Rh;Rh.__name__=["openfl","display","ShaderInput"];Rh.prototype={channels:null,height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:Rh};var Ee=function(){this.index=0};h["openfl.display.ShaderParameter"]=Ee;Ee.__name__=["openfl","display","ShaderParameter"];Ee.prototype={index:null,name:null,type:null,value:null,__class__:Ee};var rd=function(){G.call(this)};h["openfl.display.Shape"]=
rd;rd.__name__=["openfl","display","Shape"];rd.__super__=G;rd.prototype=w(G.prototype,{get_graphics:function(){null==this.__graphics&&(this.__graphics=new be(this));return this.__graphics},__class__:rd,__properties__:w(G.prototype.__properties__,{get_graphics:"get_graphics"})});var mc=function(a,b,c,d){Fa.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.set_upState(null!=a?a:new G);this.set_overState(b);this.set_downState(c);this.set_hitTestState(null!=d?d:new G);this.addEventListener("mouseDown",
p(this,this.__this_onMouseDown));this.addEventListener("mouseOut",p(this,this.__this_onMouseOut));this.addEventListener("mouseOver",p(this,this.__this_onMouseOver));this.addEventListener("mouseUp",p(this,this.__this_onMouseUp));this.set___currentState(this.upState);null!=mc.__initSymbol&&(a=mc.__initSWF,this.__symbol=mc.__initSymbol,mc.__initSWF=null,mc.__initSymbol=null,this.__fromSymbol(a,this.__symbol))};h["openfl.display.SimpleButton"]=mc;mc.__name__=["openfl","display","SimpleButton"];mc.__super__=
Fa;mc.prototype=w(Fa.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__ignoreEvent:null,__symbol:null,__fromSymbol:function(a,b){this.__symbol=b;null!=b.downState&&this.set_downState(b.downState.__createObject(a));null!=b.hitState&&this.set_hitTestState(b.hitState.__createObject(a));null!=b.overState&&this.set_overState(b.overState.__createObject(a));null!=b.upState&&this.set_upState(b.upState.__createObject(a))},
__getBounds:function(a,b){Fa.prototype.__getBounds.call(this,a,b);null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));this.__currentState.__getBounds(a,this.__currentState.__worldTransform);null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?P.POINTER:null},__hitTest:function(a,b,c,d,e,h){var k=!1;if(null!=this.hitTestState){var m=this.__updateTransform(this.hitTestState);this.hitTestState.__hitTest(a,b,
c,d,e,h)&&(null!=d&&(d[d.length-1]=h),k=!0);this.__resetTransform(this.hitTestState,m)}else if(null!=this.__currentState){if(!h.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;m=this.__updateTransform(this.__currentState);this.__currentState.__hitTest(a,b,c,d,e,h)&&(k=e);this.__resetTransform(this.__currentState,m)}if(null!=d)for(;1<d.length&&d[d.length-1]==d[d.length-2];)d.pop();return k},__hitTestMask:function(a,b){var c=!1,
d=this.__updateTransform(this.__currentState);this.__currentState.__hitTestMask(a,b)&&(c=!0);this.__resetTransform(this.__currentState,d);return c},__renderCanvas:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderCanvas(a),a.maskManager.popObject(this))},__renderCanvasMask:function(a){var b=new ra;this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height);this.__currentState.__renderCanvasMask(a)},__renderGL:function(a){!this.__renderable||
0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderGL(a),a.maskManager.popObject(this))},__resetTransform:function(a,b){a.__updateTransforms(b);a.__updateChildren(!1)},__setStageReference:function(a){Fa.prototype.__setStageReference.call(this,a);null!=this.__currentState&&this.__currentState.__setStageReference(a)},__updateTransform:function(a){var b=a.__transform,c=this.__worldTransform,d=Ea.__temp;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*
c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;b=a.__transform;a.__transform=d;a.__update(!1,!0);return a.__transform=b},__updateTransforms:function(a){Fa.prototype.__updateTransforms.call(this,a);this.__updateTransform(this.__currentState)},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){return this.hitTestState=a},set_overState:function(a){null!=this.overState&&
this.__currentState==this.overState&&this.set___currentState(a);return this.overState=a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){null!=this.__currentState&&(this.__currentState.__renderParent=null);null!=a.parent&&a.parent.removeChild(a);a.__renderParent=this;return this.__currentState=a},__this_onMouseDown:function(a){null!=this.downState&&this.set___currentState(this.downState)},
__this_onMouseOut:function(a){this.__ignoreEvent=!1;this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){a.buttonDown&&(this.__ignoreEvent=!0);this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||this.set___currentState(this.overState)},__this_onMouseUp:function(a){this.__ignoreEvent=!1;null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__class__:mc,__properties__:w(Fa.prototype.__properties__,
{set___currentState:"set___currentState",set_upState:"set_upState",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var Fe=function(a,b){ib.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new Ea;this.stage3Ds=
eb.toObjectVector(null);this.stage3Ds.push(new sg);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.showDefaultContextMenu=!0;this.softKeyboardRect=new ra;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];null==ya.current.stage&&this.stage.addChild(ya.current)};
h["openfl.display.Stage"]=Fe;Fe.__name__=["openfl","display","Stage"];Fe.__interfaces__=[Ie];Fe.__super__=ib;Fe.prototype=w(ib.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,
__displayMatrix:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,__stack:null,__transparent:null,addRenderer:function(a){var b=p(this,this.render);a.onRender.add(function(){b(a)});
var c=p(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=p(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)})},addWindow:function(a){if(this.window==a){var b=p(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=p(this,this.onWindowClose);a.onClose.add(function(){c(a)},!1,-9E3);var d=p(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=p(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var h=p(this,
this.onWindowDropFile);a.onDropFile.add(function(b){h(a,b)});var k=p(this,this.onWindowEnter);a.onEnter.add(function(){k(a)});var m=p(this,this.onWindowFocusIn);a.onFocusIn.add(function(){m(a)});var l=p(this,this.onWindowFocusOut);a.onFocusOut.add(function(){l(a)});var g=p(this,this.onWindowFullscreen);a.onFullscreen.add(function(){g(a)});var n=p(this,this.onKeyDown);a.onKeyDown.add(function(b,c){n(a,b,c)});var r=p(this,this.onKeyUp);a.onKeyUp.add(function(b,c){r(a,b,c)});var u=p(this,this.onWindowLeave);
a.onLeave.add(function(){u(a)});var v=p(this,this.onWindowMinimize);a.onMinimize.add(function(){v(a)});var w=p(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){w(a,b,c,d)});var x=p(this,this.onMouseMove);a.onMouseMove.add(function(b,c){x(a,b,c)});var y=p(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){y(a,b,c)});var z=p(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){z(a,b,c,d)});var A=p(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){A(a,b,c)});var B=
p(this,this.onWindowMove);a.onMove.add(function(b,c){B(a,b,c)});var C=p(this,this.onWindowResize);a.onResize.add(function(b,c){C(a,b,c)});var D=p(this,this.onWindowRestore);a.onRestore.add(function(){D(a)});var E=p(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){E(a,b,c,d)});var F=p(this,this.onTextInput);a.onTextInput.add(function(b){F(a,b)});if(-1<a.id)this.onWindowCreate(a)}},registerModule:function(a){a.onExit.add(p(this,this.onModuleExit),!1,0);a.onUpdate.add(p(this,this.update));for(a=
bb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}bb.onConnect.add(p(this,this.__onGamepadConnect));Ib.onStart.add(p(this,this.onTouchStart));Ib.onMove.add(p(this,this.onTouchMove));Ib.onEnd.add(p(this,this.onTouchEnd))},setPreloader:function(a){},globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){try{wa.__onGamepadAxisMove(a,b,c)}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onGamepadButtonDown:function(a,b){try{wa.__onGamepadButtonDown(a,
b)}catch(c){c instanceof r&&(c=c.val),this.__handleError(c)}},onGamepadButtonUp:function(a,b){try{wa.__onGamepadButtonUp(a,b)}catch(c){c instanceof r&&(c=c.val),this.__handleError(c)}},onGamepadConnect:function(a){try{wa.__onGamepadConnect(a)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onGamepadDisconnect:function(a){try{wa.__onGamepadDisconnect(a)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onKeyDown:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyDown",
b,c)}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onKeyUp:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyUp",b,c)}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onModuleExit:function(a){if(null!=this.window)try{this.__broadcastEvent(new L("deactivate"))}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";
break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}catch(h){h instanceof r&&(h=h.val),this.__handleError(h)}},onMouseMove:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;
default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d);this.showDefaultContextMenu||2!=d||a.onMouseUp.cancel()}catch(h){h instanceof r&&(h=h.val),this.__handleError(h)}},onMouseWheel:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onRenderContextLost:function(a){this.__renderer=null},onRenderContextRestored:function(a,b){this.__createRenderer()},onTextEdit:function(a,b,
c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a)try{var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Uc("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__dispatchStack(d,c)):this.__dispatchEvent(d)}catch(e){e instanceof r&&(e=e.val),this.__handleError(e)}},onTouchMove:function(a){try{this.__onTouch("touchMove",a)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onTouchEnd:function(a){try{this.__primaryTouch==a&&(this.__primaryTouch=
null),this.__onTouch("touchEnd",a)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onTouchStart:function(a){try{null==this.__primaryTouch&&(this.__primaryTouch=a),this.__onTouch("touchBegin",a)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onWindowActivate:function(a){},onWindowClose:function(a){this.window==a&&(this.window=null);try{this.__primaryTouch=null,this.__broadcastEvent(new L("deactivate"))}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onWindowCreate:function(a){if(null!=
this.window&&this.window==a)try{null!=a.renderer&&this.__createRenderer()}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){if(null!=this.window&&this.window==a)try{this.__broadcastEvent(new L("activate")),this.set_focus(this.__cacheFocus)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onWindowFocusOut:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=
null;this.__broadcastEvent(new L("deactivate"));var b=this.get_focus();this.set_focus(null);this.__cacheFocus=b}catch(c){c instanceof r&&(c=c.val),this.__handleError(c)}},onWindowFullscreen:function(a){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState&&(this.__displayState=1,this.__dispatchEvent(new yd("fullScreen",!1,!1,!1,!0)))}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},onWindowLeave:function(a){if(null!=this.window&&this.window==a)try{this.__dispatchEvent(new L("mouseLeave"))}catch(b){b instanceof
r&&(b=b.val),this.__handleError(b)}},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new yd("fullScreen",!1,!1,!0,!0)))}catch(d){d instanceof r&&(d=d.val),this.__handleError(d)}},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window)try{null!=this.application&&0<this.application.__windows.length&&
(this.__transformDirty||(this.__transformDirty=!0,G.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,G.__worldRenderDirty++)),this.__rendering||(this.__rendering=!0,null!=this.__renderer&&this.__renderer.clear(),this.__broadcastEvent(new L("enterFrame")),this.__broadcastEvent(new L("frameConstructed")),this.__broadcastEvent(new L("exitFrame")),this.__invalidated&&(this.__invalidated=!1,this.__broadcastEvent(new L("render"))),this.__renderable=!0,this.__enterFrame(this.__deltaTime),
this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer&&this.__renderer.render(),this.__rendering=!1)}catch(b){b instanceof r&&(b=b.val),this.__handleError(b)}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){var b=a.type,c=G.__broadcastEvents;if(null!=n[b]?c.existsReserved(b):c.h.hasOwnProperty(b))for(b=a.type,c=G.__broadcastEvents,b=null!=n[b]?c.getReserved(b):c.h[b],c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__createRenderer:function(){var a=this.window.renderer.context;
switch(a[1]){case 0:this.__renderer=new Ud(this,a[2]);break;case 1:this.__renderer=new kg(this,a[2])}},__drag:function(a){var b=this.__dragObject.parent;if(null!=b){var b=b.__getWorldTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}}b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),
a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__getInteractive:function(a){null!=a&&a.push(this);return!0},__handleError:function(a){var b=new tg("uncaughtError",!0,!0,a);ya.current.__loaderInfo.uncaughtErrorEvents.dispatchEvent(b);if(!b.__preventDefault)throw a;},__onKey:function(a,b,c){ma.__altKey=Ga.get_altKey(c);ma.__commandKey=Ga.get_metaKey(c);ma.__ctrlKey=Ga.get_ctrlKey(c);
ma.__shiftKey=Ga.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;
case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=
50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=
70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=
113;break;case 1073741884:b=114;break;case 1073741885:b=115;break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;
break;case 1073741903:b=39;break;case 1073741904:b=37;break;case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;
case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var h=oi.__getCharCode(b,Ga.get_shiftKey(c));
c=new ug(a,!0,!0,h,b,e,this.__macKeyboard?Ga.get_ctrlKey(c)||Ga.get_metaKey(c):Ga.get_ctrlKey(c),Ga.get_altKey(c),Ga.get_shiftKey(c),Ga.get_ctrlKey(c),Ga.get_metaKey(c));d.reverse();this.__dispatchStack(c,d);c.__preventDefault&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=p(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,
b)});var d=p(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=p(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onMouse:function(a,b,c,d){if(!(2<d)){b=new cb(b,c);c=this.__displayMatrix;var e=c.a*c.d-c.b*c.c;if(0==e)b.x=-c.tx,b.y=-c.ty;else{var h=1/e*(c.c*(c.ty-b.y)+c.d*(b.x-c.tx));b.y=1/e*(c.a*(b.y-c.ty)+c.b*(c.tx-b.x));b.x=h}this.__mouseX=b.x;this.__mouseY=b.y;c=[];e=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?e=c[c.length-1]:(e=this,
c=[this]);null==e&&(e=this);h=null;switch(a){case "middleMouseDown":this.__mouseDownMiddle=e;break;case "middleMouseUp":this.__mouseDownMiddle==e&&(h="middleClick");this.__mouseDownMiddle=null;break;case "mouseDown":e.get_tabEnabled()?this.set_focus(e):this.set_focus(null);this.__mouseDownLeft=e;break;case "mouseUp":this.__mouseDownLeft==e&&(h="click");this.__mouseDownLeft=null;break;case "rightMouseDown":this.__mouseDownRight=e;break;case "rightMouseUp":this.__mouseDownRight==e&&(h="rightClick"),
this.__mouseDownRight=null}this.__dispatchStack(ma.__create(a,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c);null!=h&&(this.__dispatchStack(ma.__create(h,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),"mouseUp"==a&&y.__cast(e,Fa).doubleClickEnabled&&(a=ya.getTimer(),500>a-this.__lastClickTime?(this.__dispatchStack(ma.__create("doubleClick",d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==
pi.__cursor){h=null;if(null!=this.__mouseDownLeft)h=this.__mouseDownLeft.__getCursor();else for(a=0;a<c.length;)if(h=c[a],++a,h=h.__getCursor(),null!=h){gf.set_cursor(h);break}null==h&&gf.set_cursor(P.ARROW)}e!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=this.__mouseOverTarget==this?b:this.__mouseOverTarget.globalToLocal(b),a=ma.__create("mouseOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));for(var h=0,k=this.__rollOutStack;h<k.length;){var m=
k[h];++h;-1==c.indexOf(m)&&(z.remove(this.__rollOutStack,m),a=this.__mouseOverTarget.globalToLocal(b),a=ma.__create("rollOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),a.bubbles=!1,m.__dispatchEvent(a))}for(h=0;h<c.length;)k=c[h],++h,-1==this.__rollOutStack.indexOf(k)&&(k.hasEventListener("rollOver")&&(a=k.globalToLocal(b),a=ma.__create("rollOver",d,this.__mouseX,this.__mouseY,a,k),a.bubbles=!1,k.__dispatchEvent(a)),k.hasEventListener("rollOut")&&this.__rollOutStack.push(k));e!=this.__mouseOverTarget&&
(null!=e&&(a=e==this?b:e.globalToLocal(b),a=ma.__create("mouseOver",d,this.__mouseX,this.__mouseY,a,e),a.bubbles=!0,e.__dispatchEvent(a)),this.__mouseOverTarget=e);null!=this.__dragObject&&(this.__drag(b),d=null,this.__mouseOverTarget==this.__dragObject?(b=this.__dragObject.mouseEnabled,c=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,e=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)&&(d=e[e.length-1]),this.__dragObject.mouseEnabled=
b,this.__dragObject.mouseChildren=c):this.__mouseOverTarget!=this&&(d=this.__mouseOverTarget),this.__dragObject.dropTarget=d)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],h=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?h=e[e.length-1]:(h=this,e=[this]);null==h&&(h=this);var c=new cb(c,d),d=this.__displayMatrix,k=d.a*d.d-d.b*d.c;if(0==k)c.x=-d.tx,c.y=-d.ty;else{var m=1/k*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/k*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=m}d=b|0;this.__dispatchStack(ma.__create("mouseWheel",
0,this.__mouseX,this.__mouseY,h==this?c:h.globalToLocal(c),h,d),e)},__onTouch:function(a,b){var c=new cb(Math.round(b.x*this.window.__width*this.window.__scale),Math.round(b.y*this.window.__height*this.window.__scale)),d=this.__displayMatrix,e=d.a*d.d-d.b*d.c;if(0==e)c.x=-d.tx,c.y=-d.ty;else{var h=1/e*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/e*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=h}e=c.x;h=c.y;d=[];if(this.__hitTest(e,h,!1,d,!0,this)){var k=d[d.length-1];null==k&&(k=this);c=k.globalToLocal(c);c=vb.__create(a,
null,e,h,c,k);c.touchPointID=b.id;c.isPrimaryTouchPoint=this.__primaryTouch==b;this.__dispatchStack(c,d)}else c=vb.__create(a,null,e,h,c,this),c.touchPointID=b.id,c.isPrimaryTouchPoint=this.__primaryTouch==b,this.__dispatchStack(c,[this.stage])},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=c;this.__logicalHeight=d;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==
this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),h=Math.round((c-this.stageWidth*e)/2),k=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(h,k)}e=0;for(h=this.stage3Ds;e<h.get_length();)k=h.get(e),++e,k.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==
a&&this.stageHeight==b||this.__dispatchEvent(new L("resize"))},__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__update:function(a,b,c){if(a)0<G.__worldTransformDirty&&(ib.prototype.__update.call(this,!0,b,c),b&&(G.__worldTransformDirty=0,this.__dirty=!0));else if(0<G.__worldTransformDirty||this.__dirty||0<G.__worldRenderDirty)ib.prototype.__update.call(this,!1,b,c),b&&(G.__worldTransformDirty=0,G.__worldRenderDirty=0,this.__dirty=!1)},set_color:function(a){this.__colorSplit=
[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+N.hex(a&16777215,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new Ge("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__dispatchStack(c,d)}null!=this.__focus&&(b=new Ge("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__dispatchStack(b,
c))}return this.__focus},set_height:function(a){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_scaleX:function(a){return 0},set_scaleY:function(a){return 0},set_width:function(a){return this.get_width()},set_x:function(a){return 0},set_y:function(a){return 0},__class__:Fe,__properties__:w(ib.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var sg=function(){ca.call(this);this.set_x(0);
this.set_y(0);this.visible=!0};h["openfl.display.Stage3D"]=sg;sg.__name__=["openfl","display","Stage3D"];sg.__super__=ca;sg.prototype=w(ca.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__stage:null,__canvas:null,__style:null,__webgl:null,__createContext:function(a,b){this.__stage=a;if(null!=b.gl)this.context3D=new Hb(this,b),this.__dispatchCreate();else{this.__canvas=window.document.createElement("canvas");this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;
var c=a.window,c={alpha:Object.prototype.hasOwnProperty.call(c.config,"background")&&null==c.config.background,antialias:Object.prototype.hasOwnProperty.call(c.config,"antialiasing")&&0<c.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?c.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")&&c.config.stencilBuffer,preserveDrawingBuffer:!1};this.__webgl=ai.getContextWebGL(this.__canvas,c);null!=this.__webgl?
(e.context=this.__webgl,this.context3D=new Hb(this,b),b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.__dispatchCreate()):this.__dispatchError()}},__dispatchError:function(){this.__contextRequested=!1;this.dispatchEvent(new bc("error",
!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new L("context3DCreate")))},__renderCanvas:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.blendModeManager.setBlendMode(null),
null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&this.context3D.__program.__use())),pb.debug&&b.gl.__context.getError()))},__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){if(this.x==a)return a;this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},
set_y:function(a){if(this.y==a)return a;this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:sg,__properties__:{set_y:"set_y",set_x:"set_x"}});var pg=function(a){Hd.call(this,a)};h["openfl.display.Window"]=pg;pg.__name__=["openfl","display","Window"];pg.__super__=Hd;pg.prototype=w(Hd.prototype,{create:function(a){Hd.prototype.create.call(this,a);this.stage=new Fe(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);
Object.prototype.hasOwnProperty.call(this.config,"parameters")&&(this.stage.get_loaderInfo().parameters=this.config.parameters);Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:pg});var Hb=function(a,b){this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;ca.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=
new ka(512);this.__fragmentConstants=new ka(512);var c=[1,1,1,1];this.__positionScale=null!=c?new ka(c):null;this.__samplerDirty=0;this.__samplerTextures=eb.toObjectVector(null,8);this.__samplerStates=[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new Kh(9729,9729,33071,33071)}this.maxBackBufferHeight=this.maxBackBufferWidth=e.context.__context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;
this.__rttDepthAndStencil=!1;this.__stencilRef=this.__stencilCompareMode=this.__samplerDirty=0;this.__stencilReadMask=255;c=e.context.__context.getExtension("EXT_texture_filter_anisotropic");null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=e.context.__context.getExtension("MOZ_EXT_texture_filter_anisotropic"));null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=e.context.__context.getExtension("WEBKIT_EXT_texture_filter_anisotropic"));
this.__supportsPackedDepthStencil=!0;Hb.DEPTH_STENCIL=34041;if(this.__supportsAnisotropicFiltering=null!=c)Hb.TEXTURE_MAX_ANISOTROPY_EXT=c.TEXTURE_MAX_ANISOTROPY_EXT,this.__maxAnisotropyTexture2D=this.__maxAnisotropyTexture2D=c=e.context.__context.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.__stats=eb.toIntVector(null,11);this.__statsCache=eb.toIntVector(null,11);pb.CheckGLError();c=e.context.__context.getParameter(7936);pb.CheckGLError();d=e.context.__context.getParameter(7938);pb.CheckGLError();
var f=e.context.__context.getParameter(7937);pb.CheckGLError();var h=e.context.__context.getParameter(35724);pb.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+f+" GLSL="+h;c=0;for(d=this.__stats.get_length();c<d;)f=c++,this.__stats.set(f,0);Hb.__stateCache.clearSettings()};h["openfl.display3D.Context3D"]=Hb;Hb.__name__=["openfl","display3D","Context3D"];Hb.__super__=ca;Hb.prototype=w(ca.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,maxBackBufferHeight:null,
maxBackBufferWidth:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__fragmentConstants:null,__frameCount:null,__maxAnisotropyTexture2D:null,__positionScale:null,__program:null,__renderSession:null,__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__stage3D:null,__stats:null,__statsCache:null,__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__supportsAnisotropicFiltering:null,
__supportsPackedDepthStencil:null,__vertexConstants:null,createRectangleTexture:function(a,b,c,d){return new vg(this,a,b,qi.toString(c),d)},__setViewport:function(a,b,c,d){null!=this.__renderToTexture&&(b*=-1);Hb.__stateCache.updateViewport(a,b,c,d)&&(e.context.__context.viewport(a,b,c,d),pb.CheckGLError())},__statsAdd:function(a,b){var c=this.__stats;c.set(a,c.get(a)+b);return this.__stats.get(a)},__statsIncrement:function(a){var b=this.__stats;b.set(a,b.get(a)+1)},__updateBlendFactors:function(){if(null!=
Hb.__stateCache._srcBlendFactor&&null!=Hb.__stateCache._destBlendFactor){var a=1,b=0;switch(Hb.__stateCache._srcBlendFactor){case 0:a=772;break;case 1:a=774;break;case 2:a=1;break;case 3:a=773;break;case 4:a=775;break;case 5:a=771;break;case 7:a=770;break;case 9:a=0;break;default:throw new r(new Tc);}switch(Hb.__stateCache._destBlendFactor){case 0:b=772;break;case 2:b=1;break;case 3:b=773;break;case 5:b=771;break;case 6:b=769;break;case 7:b=770;break;case 8:b=768;break;case 9:b=0;break;default:throw new r(new Tc);
}e.context.__context.enable(3042);pb.CheckGLError();e.context.__context.blendFunc(a,b);pb.CheckGLError()}},__updateBackbufferViewport:function(){null==this.__renderToTexture&&0<this.backBufferWidth&&0<this.backBufferHeight&&this.__setViewport(this.__stage3D.x|0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},__class__:Hb});var qi={};h["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=qi;qi.__name__=["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];
qi.toString=function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var ri=function(){};h["openfl.display3D.Program3D"]=ri;ri.__name__=["openfl","display3D","Program3D"];ri.prototype={__alphaSamplerUniforms:null,__fragmentUniformMap:null,__programID:null,__samplerUniforms:null,__vertexUniformMap:null,__use:function(){var a=this.__programID;e.__currentProgram=
a;e.context.__context.useProgram(a);pb.CheckGLError();this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();for(a=this.__samplerUniforms.h;null!=a;){var b=a.item,a=a.next;if(1==b.regCount)e.context.__context.uniform1i(b.location,b.regIndex),pb.CheckGLError();else throw new r(new Tc("!!! TODO: uniform location on webgl"));}for(a=this.__alphaSamplerUniforms.h;null!=a;)if(b=a.item,a=a.next,1==b.regCount)e.context.__context.uniform1i(b.location,b.regIndex),pb.CheckGLError();
else throw new r(new Tc("!!! TODO: uniform location on webgl"));},__class__:ri};var si=function(){};h["openfl.display3D._Program3D.Uniform"]=si;si.__name__=["openfl","display3D","_Program3D","Uniform"];si.prototype={location:null,regIndex:null,regCount:null,__class__:si};var ti=function(){};h["openfl.display3D._Program3D.UniformMap"]=ti;ti.__name__=["openfl","display3D","_Program3D","UniformMap"];ti.prototype={__allDirty:null,__anyDirty:null,markAllDirty:function(){this.__anyDirty=this.__allDirty=
!0},__class__:ti};var ub=function(a,b){ca.call(this);this.__context=a;this.__textureTarget=b;this.__textureID=e.context.__context.createTexture();this.__textureContext=e.context;null==ub.__supportsBGRA&&(ub.__textureInternalFormat=6408,ub.__supportsBGRA=!1,ub.__textureFormat=6408);if(null==ub.__supportsCompressed){var c=e.context.__context.getExtension("WEBGL_compressed_texture_s3tc");null!=c?(ub.__supportsCompressed=!0,ub.__textureFormatCompressed=c.COMPRESSED_RGBA_S3TC_DXT1_EXT,ub.__textureFormatCompressedAlpha=
c.COMPRESSED_RGBA_S3TC_DXT5_EXT):ub.__supportsCompressed=!1}this.__internalFormat=ub.__textureInternalFormat;this.__format=ub.__textureFormat;this.__compressedMemoryUsage=this.__memoryUsage=0};h["openfl.display3D.textures.TextureBase"]=ub;ub.__name__=["openfl","display3D","textures","TextureBase"];ub.__super__=ca;ub.prototype=w(ca.prototype,{__compressedMemoryUsage:null,__context:null,__format:null,__height:null,__internalFormat:null,__memoryUsage:null,__optimizeForRenderToTexture:null,__textureContext:null,
__textureID:null,__textureTarget:null,__width:null,__trackMemoryUsage:function(a){0==this.__memoryUsage&&this.__context.__statsIncrement(3);this.__memoryUsage+=a;this.__context.__statsAdd(8,a)},__class__:ub});var vg=function(a,b,c,d,e){ub.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.uploadFromTypedArray(null)};h["openfl.display3D.textures.RectangleTexture"]=vg;vg.__name__=["openfl","display3D","textures","RectangleTexture"];vg.__super__=ub;vg.prototype=
w(ub.prototype,{uploadFromTypedArray:function(a){e.context.__context.bindTexture(this.__textureTarget,this.__textureID);pb.CheckGLError();e.context.texImage2D(this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,5121,a,null);pb.CheckGLError();e.context.__context.bindTexture(this.__textureTarget,null);pb.CheckGLError();this.__trackMemoryUsage(this.__width*this.__height*4)},__class__:vg});var Vc=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=
b;this.name="Error"};h["openfl.errors.Error"]=Vc;Vc.__name__=["openfl","errors","Error"];Vc.prototype={errorID:null,message:null,name:null,toString:function(){return null!=this.message?this.message:"Error"},__class__:Vc};var $d=function(a){null==a&&(a="");Vc.call(this,a);this.name="IOError"};h["openfl.errors.IOError"]=$d;$d.__name__=["openfl","errors","IOError"];$d.__super__=Vc;$d.prototype=w(Vc.prototype,{__class__:$d});var ud=function(){$d.call(this,"End of file was encountered");this.name="EOFError";
this.errorID=2030};h["openfl.errors.EOFError"]=ud;ud.__name__=["openfl","errors","EOFError"];ud.__super__=$d;ud.prototype=w($d.prototype,{__class__:ud});var Tc=function(a){null==a&&(a="");Vc.call(this,a,0);this.name="IllegalOperationError"};h["openfl.errors.IllegalOperationError"]=Tc;Tc.__name__=["openfl","errors","IllegalOperationError"];Tc.__super__=Vc;Tc.prototype=w(Vc.prototype,{__class__:Tc});var L=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=
2};h["openfl.events.Event"]=L;L.__name__=["openfl","events","Event"];L.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},__class__:L};var ae=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);L.call(this,a,b,c);this.activating=d};h["openfl.events.ActivityEvent"]=
ae;ae.__name__=["openfl","events","ActivityEvent"];ae.__super__=L;ae.prototype=w(L.prototype,{activating:null,__class__:ae});var Uc=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);L.call(this,a,b,c);this.text=d};h["openfl.events.TextEvent"]=Uc;Uc.__name__=["openfl","events","TextEvent"];Uc.__super__=L;Uc.prototype=w(L.prototype,{text:null,__class__:Uc});var bc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Uc.call(this,a,b,c,d);this.errorID=e};
h["openfl.events.ErrorEvent"]=bc;bc.__name__=["openfl","events","ErrorEvent"];bc.__super__=Uc;bc.prototype=w(Uc.prototype,{errorID:null,__class__:bc});var Oe=function(a){this.list=a;this.index=a.length};h["openfl.events._EventDispatcher.DispatchIterator"]=Oe;Oe.__name__=["openfl","events","_EventDispatcher","DispatchIterator"];Oe.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.index<this.list.length&&!this.isCopy&&(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<
this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy)for(var c=this.index,d=this.list.length;c<d;){var e=c++;if(this.list[e]==a){this.list.splice(e,1);break}}else b<this.index&&this.index--},reset:function(a){this.list=a;this.active=!0;this.index=0},__class__:Oe};var Ne=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};h["openfl.events._EventDispatcher.Listener"]=Ne;Ne.__name__=["openfl","events","_EventDispatcher",
"Listener"];Ne.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return H.compareMethods(this.callback,a)?this.useCapture==b:!1},__class__:Ne};var Ge=function(a,b,c,d,e,h){null==h&&(h=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);L.call(this,a,b,c);this.keyCode=h;this.shiftKey=e;this.relatedObject=d};h["openfl.events.FocusEvent"]=Ge;Ge.__name__=["openfl","events","FocusEvent"];Ge.__super__=L;Ge.prototype=w(L.prototype,{keyCode:null,relatedObject:null,shiftKey:null,__class__:Ge});
var yd=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);ae.call(this,a,b,c);this.fullScreen=d;this.interactive=e};h["openfl.events.FullScreenEvent"]=yd;yd.__name__=["openfl","events","FullScreenEvent"];yd.__super__=ae;yd.prototype=w(ae.prototype,{fullScreen:null,interactive:null,__class__:yd});var He=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);L.call(this,a,b,c);this.device=d};h["openfl.events.GameInputEvent"]=He;He.__name__=["openfl","events","GameInputEvent"];
He.__super__=L;He.prototype=w(L.prototype,{device:null,__class__:He});var Yd=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);bc.call(this,a,b,c,d,e)};h["openfl.events.IOErrorEvent"]=Yd;Yd.__name__=["openfl","events","IOErrorEvent"];Yd.__super__=bc;Yd.prototype=w(bc.prototype,{__class__:Yd});var ug=function(a,b,c,d,e,h,k,m,l,g,n){null==n&&(n=!1);null==g&&(g=!1);null==l&&(l=!1);null==m&&(m=!1);null==k&&(k=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&
(b=!1);L.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=h?h:0;this.ctrlKey=k;this.altKey=m;this.shiftKey=l;this.controlKey=g;this.commandKey=n};h["openfl.events.KeyboardEvent"]=ug;ug.__name__=["openfl","events","KeyboardEvent"];ug.__super__=L;ug.prototype=w(L.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,__class__:ug});var ma=function(a,b,c,d,e,h,k,m,l,g,n,p,r){null==r&&(r=0);null==p&&(p=!1);null==
n&&(n=0);null==g&&(g=!1);null==l&&(l=!1);null==m&&(m=!1);null==k&&(k=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);L.call(this,a,b,c);this.shiftKey=l;this.altKey=m;this.ctrlKey=k;this.bubbles=b;this.relatedObject=h;this.delta=n;this.localX=d;this.localY=e;this.buttonDown=g;this.commandKey=p;this.clickCount=r;this.stageY=this.stageX=NaN};h["openfl.events.MouseEvent"]=ma;ma.__name__=["openfl","events","MouseEvent"];ma.__create=function(a,b,c,d,e,h,k){null==k&&(k=0);switch(a){case "mouseDown":ma.__buttonDown=
!0;break;case "mouseUp":ma.__buttonDown=!1}a=new ma(a,!0,!1,e.x,e.y,null,ma.__ctrlKey,ma.__altKey,ma.__shiftKey,ma.__buttonDown,k,ma.__commandKey);a.stageX=c;a.stageY=d;a.target=h;return a};ma.__super__=L;ma.prototype=w(L.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,__class__:ma});var td=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);
L.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};h["openfl.events.ProgressEvent"]=td;td.__name__=["openfl","events","ProgressEvent"];td.__super__=L;td.prototype=w(L.prototype,{bytesLoaded:null,bytesTotal:null,__class__:td});var wg=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);bc.call(this,a,b,c,d,e)};h["openfl.events.SecurityErrorEvent"]=wg;wg.__name__=["openfl","events","SecurityErrorEvent"];wg.__super__=bc;wg.prototype=w(bc.prototype,{__class__:wg});
var vb=function(a,b,c,d,e,h,k,m,l,g,n,p,r,v,w,x,y,z,A,B){null==x&&(x=!1);null==w&&(w=!1);null==v&&(v=!1);null==r&&(r=!1);null==p&&(p=!1);null==g&&(g=0);null==l&&(l=0);null==m&&(m=0);null==k&&(k=0);null==h&&(h=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);L.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=h;this.localY=k;this.sizeX=m;this.sizeY=l;this.pressure=g;this.relatedObject=n;this.ctrlKey=p;this.altKey=r;this.shiftKey=v;this.commandKey=w;this.controlKey=
x;this.stageY=this.stageX=NaN};h["openfl.events.TouchEvent"]=vb;vb.__name__=["openfl","events","TouchEvent"];vb.__create=function(a,b,c,d,e,h){a=new vb(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=h;return a};vb.__super__=L;vb.prototype=w(L.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,__class__:vb});var tg=
function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!0);bc.call(this,a,b,c);this.error=d};h["openfl.events.UncaughtErrorEvent"]=tg;tg.__name__=["openfl","events","UncaughtErrorEvent"];tg.__super__=bc;tg.prototype=w(bc.prototype,{error:null,__class__:tg});var qg=function(){ca.call(this)};h["openfl.events.UncaughtErrorEvents"]=qg;qg.__name__=["openfl","events","UncaughtErrorEvents"];qg.__super__=ca;qg.prototype=w(ca.prototype,{__class__:qg});var vc=function(){this.__numPasses=0};h["openfl.filters.BitmapFilter"]=
vc;vc.__name__=["openfl","filters","BitmapFilter"];vc.prototype={__cacheObject:null,__numPasses:null,__initShader:function(a,b){return a.shaderManager.defaultShader},__class__:vc};var xg=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tsum += texture2D(uImage0, vBlurCoords[0]) * 0.00443;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[1]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[2]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[3]) * 0.39894;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[4]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[5]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[6]) * 0.00443;\n\t\t\t\n\t\t\tgl_FragColor = sum;\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Qb.call(this);this.get_data().uRadius.value=[0,0]};h["openfl.filters._BlurFilter.BlurShader"]=xg;xg.__name__=["openfl","filters","_BlurFilter","BlurShader"];xg.__super__=Qb;xg.prototype=w(Qb.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Qb.prototype.__update.call(this)},__class__:xg});var od=function(a,b,c){null==c&&(c=1);null==b&&(b=4);null==a&&(a=4);this.__numPasses=0;this.blurX=a;this.blurY=b;
this.set_quality(c)};h["openfl.filters.BlurFilter"]=od;od.__name__=["openfl","filters","BlurFilter"];od.__super__=vc;od.prototype=w(vc.prototype,{blurX:null,blurY:null,quality:null,horizontalPasses:null,verticalPasses:null,__initShader:function(a,b){var c=od.__blurShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;return od.__blurShader},
set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:od,__properties__:{set_quality:"set_quality"}});var yg=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
Qb.call(this);this.get_data().uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.get_data().uOffsets.value=[0,0,0,0]};h["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=yg;yg.__name__=["openfl","filters","_ColorMatrixFilter","ColorMatrixShader"];yg.__super__=Qb;yg.prototype=w(Qb.prototype,{init:function(a){var b=this.get_data().uMultipliers.value,c=this.get_data().uOffsets.value;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[5];b[5]=a[6];b[6]=a[7];b[7]=a[8];b[8]=a[10];b[9]=a[11];b[10]=
a[12];b[11]=a[13];b[12]=a[15];b[13]=a[16];b[14]=a[17];b[15]=a[18];c[0]=a[4]/255;c[1]=a[9]/255;c[2]=a[14]/255;c[3]=a[19]/255},__class__:yg});var pd=function(a){this.__numPasses=0;this.set_matrix(a);this.__numPasses=0};h["openfl.filters.ColorMatrixFilter"]=pd;pd.__name__=["openfl","filters","ColorMatrixFilter"];pd.__super__=vc;pd.prototype=w(vc.prototype,{matrix:null,__initShader:function(a,b){pd.__colorMatrixShader.init(this.matrix);return pd.__colorMatrixShader},set_matrix:function(a){null==a&&(a=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);return this.matrix=a},__class__:pd,__properties__:{set_matrix:"set_matrix"}});var eg=function(a,b,c,d,e,h,k,m,l,g,n){null==n&&(n=!1);null==g&&(g=!1);null==l&&(l=!1);null==m&&(m=1);null==k&&(k=1);null==h&&(h=4);null==e&&(e=4);null==d&&(d=1);null==c&&(c=0);null==b&&(b=45);null==a&&(a=4);this.__numPasses=0;this.distance=a;this.angle=b;this.color=c;this.alpha=d;this.blurX=e;this.blurY=h;this.strength=k;this.set_quality(m);this.inner=l;this.set_knockout(g);this.set_hideObject(n)};
h["openfl.filters.DropShadowFilter"]=eg;eg.__name__=["openfl","filters","DropShadowFilter"];eg.__super__=vc;eg.prototype=w(vc.prototype,{alpha:null,angle:null,blurX:null,blurY:null,color:null,distance:null,hideObject:null,inner:null,knockout:null,quality:null,strength:null,set_knockout:function(a){return this.knockout=a},set_hideObject:function(a){return this.hideObject=a},set_quality:function(a){return this.quality=a},__class__:eg,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",
set_hideObject:"set_hideObject"}});var zg=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform vec4 uColor;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tfloat a = 0.0;\n\t\t\ta += texture2D(uImage0, vBlurCoords[0]).a * 0.00443;\n\t\t\ta += texture2D(uImage0, vBlurCoords[1]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[2]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[3]).a * 0.39894;\n\t\t\ta += texture2D(uImage0, vBlurCoords[4]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[5]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[6]).a * 0.00443;\n\t\t\ta *= uColor.a;\n\t\t\t\n\t\t\tgl_FragColor = vec4(uColor.rgb * a, a);\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
Qb.call(this);this.get_data().uRadius.value=[0,0];this.get_data().uColor.value=[0,0,0,0]};h["openfl.filters._GlowFilter.GlowShader"]=zg;zg.__name__=["openfl","filters","_GlowFilter","GlowShader"];zg.__super__=Qb;zg.prototype=w(Qb.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];Qb.prototype.__update.call(this)},__class__:zg});var kc=function(a,b,c,d,e,h,k,m){null==m&&(m=!1);null==k&&(k=!1);null==h&&
(h=1);null==e&&(e=2);null==d&&(d=6);null==c&&(c=6);null==b&&(b=1);null==a&&(a=16711680);this.__numPasses=0;this.color=a;this.alpha=b;this.blurX=c;this.blurY=d;this.strength=e;this.set_quality(h);this.inner=k;this.set_knockout(m);this.__cacheObject=!0};h["openfl.filters.GlowFilter"]=kc;kc.__name__=["openfl","filters","GlowFilter"];kc.__super__=vc;kc.prototype=w(vc.prototype,{alpha:null,blurX:null,blurY:null,color:null,inner:null,knockout:null,quality:null,strength:null,horizontalPasses:null,verticalPasses:null,
__initShader:function(a,b){var c=kc.__glowShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;c.uColor.value[0]=(this.color>>16&255)/255;c.uColor.value[1]=(this.color>>8&255)/255;c.uColor.value[2]=(this.color&255)/255;c.uColor.value[3]=this.alpha;return kc.__glowShader},set_knockout:function(a){return this.knockout=a},set_quality:function(a){this.horizontalPasses=
0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:kc,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var ui=function(){};h["openfl.geom.Matrix3D"]=ui;ui.__name__=["openfl","geom","Matrix3D"];ui.prototype={__class__:ui};var cb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["openfl.geom.Point"]=cb;cb.__name__=
["openfl","geom","Point"];cb.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};cb.interpolate=function(a,b,c){return new cb(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};cb.polar=function(a,b){return new cb(a*Math.cos(b),a*Math.sin(b))};cb.prototype={x:null,y:null,clone:function(){return new cb(this.x,this.y)},setTo:function(a,b){this.x=a;this.y=b},__class__:cb};var ra=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=
d};h["openfl.geom.Rectangle"]=ra;ra.__name__=["openfl","geom","Rectangle"];ra.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ra(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return a==this?!0:null!=a&&this.x==a.x&&this.y==a.y&&
this.width==a.width?this.height==a.height:!1},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,h=0,k=0,m=0;this.x<a&&(e=a-this.x);this.y<b&&(h=b-this.y);this.get_right()>a+c&&(k=a+c-this.get_right());this.get_bottom()>b+d&&(m=b+d-this.get_bottom());this.x+=e;this.y+=h;this.width+=k-e;this.height+=m-h}},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;
else{var e=this.get_right(),h=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=h-b);e<a+c&&(this.width=a+c-this.x);h<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){null==ra.__limeRectangle&&(ra.__limeRectangle=new ed);ra.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return ra.__limeRectangle},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,h=e,k=b.a*(this.x+this.width)+b.c*this.y,m=b.b*(this.x+this.width)+
b.d*this.y;k<c&&(c=k);m<e&&(e=m);k>d&&(d=k);m>h&&(h=m);k=b.a*(this.x+this.width)+b.c*(this.y+this.height);m=b.b*(this.x+this.width)+b.d*(this.y+this.height);k<c&&(c=k);m<e&&(e=m);k>d&&(d=k);m>h&&(h=m);k=b.a*this.x+b.c*(this.y+this.height);m=b.b*this.x+b.d*(this.y+this.height);k<c&&(c=k);m<e&&(e=m);k>d&&(d=k);m>h&&(h=m);a.setTo(c+b.tx,e+b.ty,d-c,h-e)},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:ra,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};
var Fg=function(a){this.__colorTransform=new nb;this.concatenatedColorTransform=new nb;this.pixelBounds=new ra;this.__displayObject=a;this.__hasMatrix=!0};h["openfl.geom.Transform"]=Fg;Fg.__name__=["openfl","geom","Transform"];Fg.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(a){this.__colorTransform.__equals(a)||(this.__colorTransform=
a,null!=a&&this.__displayObject.set_alpha(a.alphaMultiplier),a=this.__displayObject,a.__renderDirty||(a.__renderDirty=!0,G.__worldRenderDirty++));return this.__colorTransform},set_matrix:function(a){if(null==a)return this.__hasMatrix=!1,null;this.__hasMatrix=!0;this.__hasMatrix3D=!1;null!=this.__displayObject&&this.__setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);return a},__setTransform:function(a,b,c,d,e,h){if(null!=this.__displayObject){var k=0,m=0,k=0==b?a:Math.sqrt(a*a+b*b),m=0==c?a:Math.sqrt(c*c+d*
d);this.__displayObject.__scaleX=k;this.__displayObject.__scaleY=m;k=180/Math.PI*Math.atan2(d,c)-90;k!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=k,k*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(k),this.__displayObject.__rotationCosine=Math.cos(k));this.__displayObject.__transform.a=a;this.__displayObject.__transform.b=b;this.__displayObject.__transform.c=c;this.__displayObject.__transform.d=d;this.__displayObject.__transform.tx=e;this.__displayObject.__transform.ty=
h;a=this.__displayObject;a.__transformDirty||(a.__transformDirty=!0,G.__worldTransformDirty++)}},__class__:Fg,__properties__:{set_matrix:"set_matrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var vi=function(){};h["openfl.geom.Vector3D"]=vi;vi.__name__=["openfl","geom","Vector3D"];vi.prototype={__class__:vi};var Ki=function(){};h["openfl.media.ID3Info"]=Ki;Ki.__name__=["openfl","media","ID3Info"];var Qc=function(a,b){ca.call(this,this);this.bytesTotal=this.bytesLoaded=
0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};h["openfl.media.Sound"]=Qc;Qc.__name__=["openfl","media","Sound"];Qc.fromAudioBuffer=function(a){var b=new Qc;b.__buffer=a;return b};Qc.__super__=ca;Qc.prototype=w(ca.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,load:function(a,b){var c=this;this.url=a.url;var d=J.getLibrary("default"),e;if(null!=d){e=this.url;var h=d.cachedAudioBuffers;e=null!=n[e]?h.existsReserved(e):h.h.hasOwnProperty(e)}else e=
!1;if(e)e=this.url,d=d.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=n[e]?d.getReserved(e):d.h[e]);else lb.loadFromFile(this.url).onComplete(p(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);if(32<=Rb.__soundChannels.length)return null;c=null==c?new md:c.clone();var d=Rb.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=Rb.__soundTransform.volume*c.volume,h=new fh(this.__buffer);h.offset=a|0;1<b&&
h.set_loops(b-1);h.set_gain(e);a=h.get_position();a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));h.set_position(a);return new Ag(h,c)},get_length:function(){return null!=this.__buffer?1E3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new Yd("ioError")):(this.__buffer=a,this.dispatchEvent(new L("complete")))},__class__:Qc,__properties__:{get_length:"get_length"}});var Ag=function(a,b){ca.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=
null!=b?b:new md;null!=a&&(this.__source=a,this.__source.onComplete.add(p(this,this.source_onComplete)),this.__isValid=!0,this.__source.play());Rb.__registerSoundChannel(this)};h["openfl.media.SoundChannel"]=Ag;Ag.__name__=["openfl","media","SoundChannel"];Ag.__super__=ca;Ag.prototype=w(ca.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){Rb.__unregisterSoundChannel(this);this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&
(this.__source.onComplete.remove(p(this,this.source_onComplete)),this.__source.dispose(),this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=
a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;var b=Rb.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=Rb.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){Rb.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new L("soundComplete"))},__class__:Ag,
__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var Li=function(){};h["openfl.media.SoundLoaderContext"]=Li;Li.__name__=["openfl","media","SoundLoaderContext"];var md=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};h["openfl.media.SoundTransform"]=md;md.__name__=["openfl","media","SoundTransform"];md.prototype=
{leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new md(this.volume,this.pan)},__class__:md};var Rb=function(){};h["openfl.media.SoundMixer"]=Rb;Rb.__name__=["openfl","media","SoundMixer"];Rb.__registerSoundChannel=function(a){Rb.__soundChannels.push(a)};Rb.__unregisterSoundChannel=function(a){z.remove(Rb.__soundChannels,a)};var Rd=function(a){ca.call(this);this.bytesTotal=this.bytesLoaded=0;this.dataFormat=1;null!=a&&this.load(a)};
h["openfl.net.URLLoader"]=Rd;Rd.__name__=["openfl","net","URLLoader"];Rd.__super__=ca;Rd.prototype=w(ca.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,load:function(a){var b=this;if(0==this.dataFormat){var c=new ff;this.__prepareRequest(c,a);c.load().onProgress(p(this,this.httpRequest_onProgress)).onError(p(this,this.httpRequest_onError)).onComplete(function(a){b.data=a;a=new L("complete");b.dispatchEvent(a)})}else c=new ie,this.__prepareRequest(c,a),c.load().onProgress(p(this,
this.httpRequest_onProgress)).onError(p(this,this.httpRequest_onError)).onComplete(function(a){b.data=a;a=new L("complete");b.dispatchEvent(a)})},__prepareRequest:function(a,b){this.__httpRequest=a;this.__httpRequest.uri=b.url;var c;switch(b.method){case "DELETE":c="DELETE";break;case "HEAD":c="HEAD";break;case "OPTIONS":c="OPTIONS";break;case "POST":c="POST";break;case "PUT":c="PUT";break;default:c="GET"}this.__httpRequest.method=c;if(null!=b.data)if(y.__instanceof(b.data,Bi)){c=H.fields(b.data);
for(var d=0;d<c.length;){var e=c[d];++d;var h=this.__httpRequest.formData,k=H.field(b.data,e);null!=n[e]?h.setReserved(e,k):h.h[e]=k}}else y.__instanceof(b.data,ta)?this.__httpRequest.data=b.data:this.__httpRequest.data=ta.ofString(F.string(b.data));this.__httpRequest.contentType=b.contentType;if(null!=b.requestHeaders)for(c=0,d=b.requestHeaders;c<d.length;)e=d[c],++c,this.__httpRequest.headers.push(new Ye(e.name,e.value));this.__httpRequest.userAgent=b.userAgent},httpRequest_onError:function(a){var b=
403==a?new wg("securityError"):new Yd("ioError");b.text=F.string(a);this.dispatchEvent(b)},httpRequest_onProgress:function(a,b){var c=new td("progress");c.bytesLoaded=a;c.bytesTotal=b;this.dispatchEvent(c)},__class__:Rd});var ue=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};h["openfl.net.URLRequest"]=ue;ue.__name__=["openfl","net","URLRequest"];ue.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:ue};
var wi=function(){};h["openfl.net.URLRequestHeader"]=wi;wi.__name__=["openfl","net","URLRequestHeader"];wi.prototype={name:null,value:null,__class__:wi};var Bi=function(){};h["openfl.net.URLVariables"]=Bi;Bi.__name__=["openfl","net","URLVariables"];var Zd=function(a){this.parentDomain=null!=a?a:Zd.currentDomain};h["openfl.system.ApplicationDomain"]=Zd;Zd.__name__=["openfl","system","ApplicationDomain"];Zd.prototype={parentDomain:null,__class__:Zd};var Mi=function(){};h["openfl.system.LoaderContext"]=
Mi;Mi.__name__=["openfl","system","LoaderContext"];var ac=function(a){Bb.call(this,a)};h["openfl.text.Font"]=ac;ac.__name__=["openfl","text","Font"];ac.enumerateFonts=function(a){return ac.__registeredFonts};ac.fromFile=function(a){var b=new ac;b.__fromFile(a);return b};ac.__fromLimeFont=function(a){var b=new ac;b.name=a.name;b.src=a.src;return b};ac.__super__=Bb;ac.prototype=w(Bb.prototype,{__class__:ac});var Xd=function(a,b,c,d,e,h,k,m,l,g,n,p,r){this.font=a;this.size=b;this.color=c;this.bold=d;
this.italic=e;this.underline=h;this.url=k;this.target=m;this.align=l;this.leftMargin=g;this.rightMargin=n;this.indent=p;this.leading=r};h["openfl.text.TextFormat"]=Xd;Xd.__name__=["openfl","text","TextFormat"];Xd.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,clone:function(){var a=new Xd(this.font,this.size,
this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&
(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=
a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:Xd};var ni={};h["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=ni;ni.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"];ni.fromString=function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;case "start":return 5;default:return null}};var wa=function(){};h["openfl.ui.GameInput"]=wa;wa.__name__=
["openfl","ui","GameInput"];wa.__getDevice=function(a){if(null==a)return null;if(null==wa.__devices.h.__keys__[a.__id__]){var b=Ya.__getDeviceData()[a.id].id,c=Ya.__getDeviceData(),b=new Sh(b,c[a.id].id);wa.__deviceList.push(b);wa.__devices.set(a,b);wa.numDevices=wa.__deviceList.length}return wa.__devices.h[a.__id__]};wa.__onGamepadAxisMove=function(a,b,c){a=wa.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d=
"RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Wc(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new L("change"))}};wa.__onGamepadButtonDown=function(a,b){var c=wa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";
break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Wc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new L("change"))}};wa.__onGamepadButtonUp=function(a,b){var c=wa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Wc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=
0;c.dispatchEvent(new L("change"))}};wa.__onGamepadConnect=function(a){a=wa.__getDevice(a);if(null!=a)for(var b=0,c=wa.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new He("deviceAdded",null,null,a))}};wa.__onGamepadDisconnect=function(a){var b=wa.__devices.h[a.__id__];if(null!=b){null!=wa.__devices.h.__keys__[a.__id__]&&(z.remove(wa.__deviceList,wa.__devices.h[a.__id__]),wa.__devices.remove(a));wa.numDevices=wa.__deviceList.length;a=0;for(var c=wa.__instances;a<c.length;){var d=c[a];++a;
d.dispatchEvent(new He("deviceRemoved",null,null,b))}}};wa.__super__=ca;wa.prototype=w(ca.prototype,{__class__:wa});var Wc=function(a,b,c,d,e){null==e&&(e=0);ca.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};h["openfl.ui.GameInputControl"]=Wc;Wc.__name__=["openfl","ui","GameInputControl"];Wc.__super__=ca;Wc.prototype=w(ca.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Wc});var Sh=function(a,b){this.__controls=[];this.__button=new Ua;
this.__axis=new Ua;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Wc(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new Wc(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};h["openfl.ui.GameInputDevice"]=Sh;Sh.__name__=["openfl","ui","GameInputDevice"];Sh.prototype={enabled:null,id:null,name:null,__axis:null,__button:null,__controls:null,__class__:Sh};var oi=function(){};h["openfl.ui.Keyboard"]=oi;oi.__name__=["openfl","ui","Keyboard"];
oi.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;
case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;
case 111:return 46}return 0};var pi=function(){};h["openfl.ui.Mouse"]=pi;pi.__name__=["openfl","ui","Mouse"];var Cc=function(){};h["openfl.ui.Multitouch"]=Cc;Cc.__name__=["openfl","ui","Multitouch"];Cc.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"};Cc.get_supportsTouchEvents=function(){return"ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1};var Th=function(){};h["openfl.utils.IAssetCache"]=Th;Th.__name__=["openfl","utils",
"IAssetCache"];Th.prototype={get_enabled:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,setBitmapData:null,setFont:null,setSound:null,__class__:Th,__properties__:{get_enabled:"get_enabled"}};var Bg=function(){this.__enabled=!0;this.bitmapData=new B;this.font=new B;this.sound=new B};h["openfl.utils.AssetCache"]=Bg;Bg.__name__=["openfl","utils","AssetCache"];Bg.__interfaces__=[Th];Bg.prototype={bitmapData:null,font:null,sound:null,
__enabled:null,getBitmapData:function(a){var b=this.bitmapData;return null!=n[a]?b.getReserved(a):b.h[a]},getFont:function(a){var b=this.font;return null!=n[a]?b.getReserved(a):b.h[a]},getSound:function(a){var b=this.sound;return null!=n[a]?b.getReserved(a):b.h[a]},hasBitmapData:function(a){var b=this.bitmapData;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasFont:function(a){var b=this.font;return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasSound:function(a){var b=this.sound;
return null!=n[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeBitmapData:function(a){J.cache.image.remove(a);return this.bitmapData.remove(a)},setBitmapData:function(a,b){var c=this.bitmapData;null!=n[a]?c.setReserved(a,b):c.h[a]=b},setFont:function(a,b){var c=this.font;null!=n[a]?c.setReserved(a,b):c.h[a]=b},setSound:function(a,b){var c=this.sound;null!=n[a]?c.setReserved(a,b):c.h[a]=b},get_enabled:function(){return this.__enabled},__class__:Bg,__properties__:{get_enabled:"get_enabled"}};var Z=
function(){};h["openfl.utils.Assets"]=Z;Z.__name__=["openfl","utils","Assets"];Z.exists=function(a,b){return J.exists(a,b)};Z.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&Z.cache.get_enabled()&&Z.cache.hasBitmapData(a)){var c=Z.cache.getBitmapData(a);if(Z.isValidBitmapData(c))return c}c=J.getImage(a,!1);return null!=c?(c=da.fromImage(c),b&&Z.cache.get_enabled()&&Z.cache.setBitmapData(a,c),c):null};Z.getBytes=function(a){return $a.fromBytes(J.getBytes(a))};Z.getFont=function(a,b){null==b&&(b=
!0);if(b&&Z.cache.get_enabled()&&Z.cache.hasFont(a))return Z.cache.getFont(a);var c=J.getFont(a,!1);return null!=c?(c=ac.__fromLimeFont(c),b&&Z.cache.get_enabled()&&Z.cache.setFont(a,c),c):new ac};Z.getMusic=function(a,b){null==b&&(b=!0);return Z.getSound(a,b)};Z.getSound=function(a,b){null==b&&(b=!0);if(b&&Z.cache.get_enabled()&&Z.cache.hasSound(a)){var c=Z.cache.getSound(a);if(Z.isValidSound(c))return c}c=J.getAudioBuffer(a,!1);return null!=c?(c=Qc.fromAudioBuffer(c),b&&Z.cache.get_enabled()&&Z.cache.setSound(a,
c),c):null};Z.getText=function(a){return J.getText(a)};Z.isValidBitmapData=function(a){return null!=a&&null!=a.image};Z.isValidSound=function(a){return!0};var $a={};h["openfl.utils._ByteArray.ByteArray_Impl_"]=$a;$a.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];$a.__properties__={get_length:"get_length"};$a.fromBytes=function(a){return null==a?null:y.__instanceof(a,hc)?a:hc.fromBytes(a)};$a.toBytes=function(a){return a};$a.get_length=function(a){return a.length};var Uh=function(){};h["openfl.utils.IDataOutput"]=
Uh;Uh.__name__=["openfl","utils","IDataOutput"];Uh.prototype={__class__:Uh};var Vh=function(){};h["openfl.utils.IDataInput"]=Vh;Vh.__name__=["openfl","utils","IDataInput"];Vh.prototype={__class__:Vh};var hc=function(a){null==a&&(a=0);var b=new ta(new fa(a));ta.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};h["openfl.utils.ByteArrayData"]=hc;hc.__name__=["openfl","utils","ByteArrayData"];hc.__interfaces__=[Uh,Vh];hc.fromBytes=function(a){var b=new hc;b.__fromBytes(a);return b};
hc.__super__=ta;hc.prototype=w(ta.prototype,{position:null,__endian:null,__length:null,readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new r(new ud);},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==c&&(c=this.length-this.position);if(this.position+c>this.length)throw new r(new ud);a.length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,c);this.position+=c},readFloat:function(){return Vb.i32ToFloat(this.readInt())},readInt:function(){var a=
this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new r(new ud);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=
this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new r(new ud);this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new ta(new fa(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=
c.data;this.length=b}switch(a){case 0:a=fi.decompress(this);break;case 1:a=gi.decompress(this);break;default:a=hi.decompress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.length=this.__length,this.position=0)},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=$a.get_length(a)&&(0==c&&(c=$a.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},__fromBytes:function(a){this.b=a.b;this.__length=a.length;this.data=a.data;this.length=
a.length},__resize:function(a){if(a>this.__length){var b=new ta(new fa(3*(a+1)>>1)),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__class__:hc});var xi=function(){};h["haxe.lang.Iterator"]=xi;xi.__name__=["haxe","lang","Iterator"];xi.prototype={hasNext:null,next:null,__class__:xi};var yi=function(){};h["haxe.lang.Iterable"]=yi;yi.__name__=["haxe","lang","Iterable"];yi.prototype=
{iterator:null,__class__:yi};var qc,Si=0;h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var $h=h.Int={__name__:["Int"]},Ti=h.Dynamic={__name__:["Dynamic"]},Zh=h.Float=Number;Zh.__name__=["Float"];var Ai=h.Bool=Boolean;Ai.__ename__=["Bool"];var Ci=h.Class={__name__:["Class"]},Di={},n={},fa=Xh.ArrayBuffer||Mb;null==fa.prototype.slice&&(fa.prototype.slice=Mb.sliceImpl);
var ka=Xh.Float32Array||Lc._new,Ma=Xh.Uint8Array||Mc._new,Ui=new Uint32Array(256);V.__alpha16=Ui;for(var Ni=0;256>Ni;){var Oi=Ni++;V.__alpha16[Oi]=Math.ceil(257.00392156862745*Oi)}var Vi=new Ma(510);V.__clamp=Vi;for(var Pi=0;255>Pi;){var Qi=Pi++;V.__clamp[Qi]=Qi}for(var Ri=255;511>Ri;){var Wi=Ri++;V.__clamp[Wi]=255}Qa.level=3;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});Qa.throwErrors=!0;sb._names=[];sb._layers=new B;sb.SetLayerName(0,"Default");sb.SetLayerName(1,
"Transparent");sb.SetLayerName(2,"IgnoreRaycast");sb.SetLayerName(3,"Water");sb.SetLayerName(4,"UI");Cc.maxTouchPoints=2;Cc.supportedGestures=null;Cc.supportsGestureEvents=!1;Cc.inputMode=2;G.__broadcastEvents=new B;G.__instanceCount=0;G.__worldRenderDirty=0;G.__worldTransformDirty=0;T._destroyList=new ia;T._preStartList=new ia;E.Element=0;E.PCData=1;E.CData=2;E.Comment=3;E.DocType=4;E.ProcessingInstruction=5;E.Document=6;Ub.USE_CACHE=!1;Ub.USE_ENUM_INDEX=!1;Ub.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
yb.DEFAULT_RESOLVER=new Ue;yb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Lb.count=0;Vb.i64tmp=new ee(0,0);Ic.escapes=function(a){a=new B;null!=n.lt?a.setReserved("lt","<"):a.h.lt="<";null!=n.gt?a.setReserved("gt",">"):a.h.gt=">";null!=n.amp?a.setReserved("amp","&"):a.h.amp="&";null!=n.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=n.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);gb.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,
5,5,5,0,-1,-1];gb.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];gb.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];gb.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];gb.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];y.__toStr={}.toString;Lc.BYTES_PER_ELEMENT=4;Mc.BYTES_PER_ELEMENT=1;qa.activeRequests=
0;qa.requestLimit=4;qa.requestQueue=new ad;S.dummyCharacter="\u007f";S.windowID=0;W.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.DEPTH_BUFFER_BIT=256;e.STENCIL_BUFFER_BIT=1024;e.COLOR_BUFFER_BIT=16384;e.POINTS=0;e.LINES=1;e.LINE_LOOP=2;e.LINE_STRIP=3;e.TRIANGLES=4;e.TRIANGLE_STRIP=5;e.TRIANGLE_FAN=6;e.ZERO=0;e.ONE=1;e.SRC_COLOR=768;e.ONE_MINUS_SRC_COLOR=769;e.SRC_ALPHA=770;e.ONE_MINUS_SRC_ALPHA=771;e.DST_ALPHA=772;e.ONE_MINUS_DST_ALPHA=773;e.DST_COLOR=774;e.ONE_MINUS_DST_COLOR=
775;e.SRC_ALPHA_SATURATE=776;e.FUNC_ADD=32774;e.BLEND_EQUATION=32777;e.BLEND_EQUATION_RGB=32777;e.BLEND_EQUATION_ALPHA=34877;e.FUNC_SUBTRACT=32778;e.FUNC_REVERSE_SUBTRACT=32779;e.BLEND_DST_RGB=32968;e.BLEND_SRC_RGB=32969;e.BLEND_DST_ALPHA=32970;e.BLEND_SRC_ALPHA=32971;e.CONSTANT_COLOR=32769;e.ONE_MINUS_CONSTANT_COLOR=32770;e.CONSTANT_ALPHA=32771;e.ONE_MINUS_CONSTANT_ALPHA=32772;e.BLEND_COLOR=32773;e.ARRAY_BUFFER=34962;e.ELEMENT_ARRAY_BUFFER=34963;e.ARRAY_BUFFER_BINDING=34964;e.ELEMENT_ARRAY_BUFFER_BINDING=
34965;e.STREAM_DRAW=35040;e.STATIC_DRAW=35044;e.DYNAMIC_DRAW=35048;e.BUFFER_SIZE=34660;e.BUFFER_USAGE=34661;e.CURRENT_VERTEX_ATTRIB=34342;e.FRONT=1028;e.BACK=1029;e.FRONT_AND_BACK=1032;e.CULL_FACE=2884;e.BLEND=3042;e.DITHER=3024;e.STENCIL_TEST=2960;e.DEPTH_TEST=2929;e.SCISSOR_TEST=3089;e.POLYGON_OFFSET_FILL=32823;e.SAMPLE_ALPHA_TO_COVERAGE=32926;e.SAMPLE_COVERAGE=32928;e.NO_ERROR=0;e.INVALID_ENUM=1280;e.INVALID_VALUE=1281;e.INVALID_OPERATION=1282;e.OUT_OF_MEMORY=1285;e.CW=2304;e.CCW=2305;e.LINE_WIDTH=
2849;e.ALIASED_POINT_SIZE_RANGE=33901;e.ALIASED_LINE_WIDTH_RANGE=33902;e.CULL_FACE_MODE=2885;e.FRONT_FACE=2886;e.DEPTH_RANGE=2928;e.DEPTH_WRITEMASK=2930;e.DEPTH_CLEAR_VALUE=2931;e.DEPTH_FUNC=2932;e.STENCIL_CLEAR_VALUE=2961;e.STENCIL_FUNC=2962;e.STENCIL_FAIL=2964;e.STENCIL_PASS_DEPTH_FAIL=2965;e.STENCIL_PASS_DEPTH_PASS=2966;e.STENCIL_REF=2967;e.STENCIL_VALUE_MASK=2963;e.STENCIL_WRITEMASK=2968;e.STENCIL_BACK_FUNC=34816;e.STENCIL_BACK_FAIL=34817;e.STENCIL_BACK_PASS_DEPTH_FAIL=34818;e.STENCIL_BACK_PASS_DEPTH_PASS=
34819;e.STENCIL_BACK_REF=36003;e.STENCIL_BACK_VALUE_MASK=36004;e.STENCIL_BACK_WRITEMASK=36005;e.VIEWPORT=2978;e.SCISSOR_BOX=3088;e.COLOR_CLEAR_VALUE=3106;e.COLOR_WRITEMASK=3107;e.UNPACK_ALIGNMENT=3317;e.PACK_ALIGNMENT=3333;e.MAX_TEXTURE_SIZE=3379;e.MAX_VIEWPORT_DIMS=3386;e.SUBPIXEL_BITS=3408;e.RED_BITS=3410;e.GREEN_BITS=3411;e.BLUE_BITS=3412;e.ALPHA_BITS=3413;e.DEPTH_BITS=3414;e.STENCIL_BITS=3415;e.POLYGON_OFFSET_UNITS=10752;e.POLYGON_OFFSET_FACTOR=32824;e.TEXTURE_BINDING_2D=32873;e.SAMPLE_BUFFERS=
32936;e.SAMPLES=32937;e.SAMPLE_COVERAGE_VALUE=32938;e.SAMPLE_COVERAGE_INVERT=32939;e.NUM_COMPRESSED_TEXTURE_FORMATS=34466;e.COMPRESSED_TEXTURE_FORMATS=34467;e.DONT_CARE=4352;e.FASTEST=4353;e.NICEST=4354;e.GENERATE_MIPMAP_HINT=33170;e.BYTE=5120;e.UNSIGNED_BYTE=5121;e.SHORT=5122;e.UNSIGNED_SHORT=5123;e.INT=5124;e.UNSIGNED_INT=5125;e.FLOAT=5126;e.DEPTH_COMPONENT=6402;e.ALPHA=6406;e.RGB=6407;e.RGBA=6408;e.LUMINANCE=6409;e.LUMINANCE_ALPHA=6410;e.UNSIGNED_SHORT_4_4_4_4=32819;e.UNSIGNED_SHORT_5_5_5_1=32820;
e.UNSIGNED_SHORT_5_6_5=33635;e.FRAGMENT_SHADER=35632;e.VERTEX_SHADER=35633;e.MAX_VERTEX_ATTRIBS=34921;e.MAX_VERTEX_UNIFORM_VECTORS=36347;e.MAX_VARYING_VECTORS=36348;e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;e.MAX_TEXTURE_IMAGE_UNITS=34930;e.MAX_FRAGMENT_UNIFORM_VECTORS=36349;e.SHADER_TYPE=35663;e.DELETE_STATUS=35712;e.LINK_STATUS=35714;e.VALIDATE_STATUS=35715;e.ATTACHED_SHADERS=35717;e.ACTIVE_UNIFORMS=35718;e.ACTIVE_ATTRIBUTES=35721;e.SHADING_LANGUAGE_VERSION=
35724;e.CURRENT_PROGRAM=35725;e.NEVER=512;e.LESS=513;e.EQUAL=514;e.LEQUAL=515;e.GREATER=516;e.NOTEQUAL=517;e.GEQUAL=518;e.ALWAYS=519;e.KEEP=7680;e.REPLACE=7681;e.INCR=7682;e.DECR=7683;e.INVERT=5386;e.INCR_WRAP=34055;e.DECR_WRAP=34056;e.VENDOR=7936;e.RENDERER=7937;e.VERSION=7938;e.EXTENSIONS=7939;e.NEAREST=9728;e.LINEAR=9729;e.NEAREST_MIPMAP_NEAREST=9984;e.LINEAR_MIPMAP_NEAREST=9985;e.NEAREST_MIPMAP_LINEAR=9986;e.LINEAR_MIPMAP_LINEAR=9987;e.TEXTURE_MAG_FILTER=10240;e.TEXTURE_MIN_FILTER=10241;e.TEXTURE_WRAP_S=
10242;e.TEXTURE_WRAP_T=10243;e.TEXTURE_2D=3553;e.TEXTURE=5890;e.TEXTURE_CUBE_MAP=34067;e.TEXTURE_BINDING_CUBE_MAP=34068;e.TEXTURE_CUBE_MAP_POSITIVE_X=34069;e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;e.MAX_CUBE_MAP_TEXTURE_SIZE=34076;e.TEXTURE0=33984;e.TEXTURE1=33985;e.TEXTURE2=33986;e.TEXTURE3=33987;e.TEXTURE4=33988;e.TEXTURE5=33989;e.TEXTURE6=33990;e.TEXTURE7=33991;
e.TEXTURE8=33992;e.TEXTURE9=33993;e.TEXTURE10=33994;e.TEXTURE11=33995;e.TEXTURE12=33996;e.TEXTURE13=33997;e.TEXTURE14=33998;e.TEXTURE15=33999;e.TEXTURE16=34E3;e.TEXTURE17=34001;e.TEXTURE18=34002;e.TEXTURE19=34003;e.TEXTURE20=34004;e.TEXTURE21=34005;e.TEXTURE22=34006;e.TEXTURE23=34007;e.TEXTURE24=34008;e.TEXTURE25=34009;e.TEXTURE26=34010;e.TEXTURE27=34011;e.TEXTURE28=34012;e.TEXTURE29=34013;e.TEXTURE30=34014;e.TEXTURE31=34015;e.ACTIVE_TEXTURE=34016;e.REPEAT=10497;e.CLAMP_TO_EDGE=33071;e.MIRRORED_REPEAT=
33648;e.FLOAT_VEC2=35664;e.FLOAT_VEC3=35665;e.FLOAT_VEC4=35666;e.INT_VEC2=35667;e.INT_VEC3=35668;e.INT_VEC4=35669;e.BOOL=35670;e.BOOL_VEC2=35671;e.BOOL_VEC3=35672;e.BOOL_VEC4=35673;e.FLOAT_MAT2=35674;e.FLOAT_MAT3=35675;e.FLOAT_MAT4=35676;e.SAMPLER_2D=35678;e.SAMPLER_CUBE=35680;e.VERTEX_ATTRIB_ARRAY_ENABLED=34338;e.VERTEX_ATTRIB_ARRAY_SIZE=34339;e.VERTEX_ATTRIB_ARRAY_STRIDE=34340;e.VERTEX_ATTRIB_ARRAY_TYPE=34341;e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;e.VERTEX_ATTRIB_ARRAY_POINTER=34373;e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=
34975;e.IMPLEMENTATION_COLOR_READ_TYPE=35738;e.IMPLEMENTATION_COLOR_READ_FORMAT=35739;e.VERTEX_PROGRAM_POINT_SIZE=34370;e.POINT_SPRITE=34913;e.COMPILE_STATUS=35713;e.LOW_FLOAT=36336;e.MEDIUM_FLOAT=36337;e.HIGH_FLOAT=36338;e.LOW_INT=36339;e.MEDIUM_INT=36340;e.HIGH_INT=36341;e.FRAMEBUFFER=36160;e.RENDERBUFFER=36161;e.RGBA4=32854;e.RGB5_A1=32855;e.RGB565=36194;e.DEPTH_COMPONENT16=33189;e.STENCIL_INDEX=6401;e.STENCIL_INDEX8=36168;e.DEPTH_STENCIL=34041;e.RENDERBUFFER_WIDTH=36162;e.RENDERBUFFER_HEIGHT=
36163;e.RENDERBUFFER_INTERNAL_FORMAT=36164;e.RENDERBUFFER_RED_SIZE=36176;e.RENDERBUFFER_GREEN_SIZE=36177;e.RENDERBUFFER_BLUE_SIZE=36178;e.RENDERBUFFER_ALPHA_SIZE=36179;e.RENDERBUFFER_DEPTH_SIZE=36180;e.RENDERBUFFER_STENCIL_SIZE=36181;e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;e.COLOR_ATTACHMENT0=36064;e.DEPTH_ATTACHMENT=36096;e.STENCIL_ATTACHMENT=36128;e.DEPTH_STENCIL_ATTACHMENT=
33306;e.NONE=0;e.FRAMEBUFFER_COMPLETE=36053;e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;e.FRAMEBUFFER_UNSUPPORTED=36061;e.FRAMEBUFFER_BINDING=36006;e.RENDERBUFFER_BINDING=36007;e.MAX_RENDERBUFFER_SIZE=34024;e.INVALID_FRAMEBUFFER_OPERATION=1286;e.UNPACK_FLIP_Y_WEBGL=37440;e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;e.CONTEXT_LOST_WEBGL=37442;e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443;e.BROWSER_DEFAULT_WEBGL=37444;
e.READ_BUFFER=3074;e.UNPACK_ROW_LENGTH=3314;e.UNPACK_SKIP_ROWS=3315;e.UNPACK_SKIP_PIXELS=3316;e.PACK_ROW_LENGTH=3330;e.PACK_SKIP_ROWS=3331;e.PACK_SKIP_PIXELS=3332;e.TEXTURE_BINDING_3D=32874;e.UNPACK_SKIP_IMAGES=32877;e.UNPACK_IMAGE_HEIGHT=32878;e.MAX_3D_TEXTURE_SIZE=32883;e.MAX_ELEMENTS_VERTICES=33E3;e.MAX_ELEMENTS_INDICES=33001;e.MAX_TEXTURE_LOD_BIAS=34045;e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657;e.MAX_VERTEX_UNIFORM_COMPONENTS=35658;e.MAX_ARRAY_TEXTURE_LAYERS=35071;e.MIN_PROGRAM_TEXEL_OFFSET=35076;
e.MAX_PROGRAM_TEXEL_OFFSET=35077;e.MAX_VARYING_COMPONENTS=35659;e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723;e.RASTERIZER_DISCARD=35977;e.VERTEX_ARRAY_BINDING=34229;e.MAX_VERTEX_OUTPUT_COMPONENTS=37154;e.MAX_FRAGMENT_INPUT_COMPONENTS=37157;e.MAX_SERVER_WAIT_TIMEOUT=37137;e.MAX_ELEMENT_INDEX=36203;e.RED=6403;e.RGB8=32849;e.RGBA8=32856;e.RGB10_A2=32857;e.TEXTURE_3D=32879;e.TEXTURE_WRAP_R=32882;e.TEXTURE_MIN_LOD=33082;e.TEXTURE_MAX_LOD=33083;e.TEXTURE_BASE_LEVEL=33084;e.TEXTURE_MAX_LEVEL=33085;e.TEXTURE_COMPARE_MODE=
34892;e.TEXTURE_COMPARE_FUNC=34893;e.SRGB=35904;e.SRGB8=35905;e.SRGB8_ALPHA8=35907;e.COMPARE_REF_TO_TEXTURE=34894;e.RGBA32F=34836;e.RGB32F=34837;e.RGBA16F=34842;e.RGB16F=34843;e.TEXTURE_2D_ARRAY=35866;e.TEXTURE_BINDING_2D_ARRAY=35869;e.R11F_G11F_B10F=35898;e.RGB9_E5=35901;e.RGBA32UI=36208;e.RGB32UI=36209;e.RGBA16UI=36214;e.RGB16UI=36215;e.RGBA8UI=36220;e.RGB8UI=36221;e.RGBA32I=36226;e.RGB32I=36227;e.RGBA16I=36232;e.RGB16I=36233;e.RGBA8I=36238;e.RGB8I=36239;e.RED_INTEGER=36244;e.RGB_INTEGER=36248;
e.RGBA_INTEGER=36249;e.R8=33321;e.RG8=33323;e.R16F=33325;e.R32F=33326;e.RG16F=33327;e.RG32F=33328;e.R8I=33329;e.R8UI=33330;e.R16I=33331;e.R16UI=33332;e.R32I=33333;e.R32UI=33334;e.RG8I=33335;e.RG8UI=33336;e.RG16I=33337;e.RG16UI=33338;e.RG32I=33339;e.RG32UI=33340;e.R8_SNORM=36756;e.RG8_SNORM=36757;e.RGB8_SNORM=36758;e.RGBA8_SNORM=36759;e.RGB10_A2UI=36975;e.TEXTURE_IMMUTABLE_FORMAT=37167;e.TEXTURE_IMMUTABLE_LEVELS=33503;e.UNSIGNED_INT_2_10_10_10_REV=33640;e.UNSIGNED_INT_10F_11F_11F_REV=35899;e.UNSIGNED_INT_5_9_9_9_REV=
35902;e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269;e.UNSIGNED_INT_24_8=34042;e.HALF_FLOAT=5131;e.RG=33319;e.RG_INTEGER=33320;e.INT_2_10_10_10_REV=36255;e.CURRENT_QUERY=34917;e.QUERY_RESULT=34918;e.QUERY_RESULT_AVAILABLE=34919;e.ANY_SAMPLES_PASSED=35887;e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202;e.MAX_DRAW_BUFFERS=34852;e.DRAW_BUFFER0=34853;e.DRAW_BUFFER1=34854;e.DRAW_BUFFER2=34855;e.DRAW_BUFFER3=34856;e.DRAW_BUFFER4=34857;e.DRAW_BUFFER5=34858;e.DRAW_BUFFER6=34859;e.DRAW_BUFFER7=34860;e.DRAW_BUFFER8=34861;
e.DRAW_BUFFER9=34862;e.DRAW_BUFFER10=34863;e.DRAW_BUFFER11=34864;e.DRAW_BUFFER12=34865;e.DRAW_BUFFER13=34866;e.DRAW_BUFFER14=34867;e.DRAW_BUFFER15=34868;e.MAX_COLOR_ATTACHMENTS=36063;e.COLOR_ATTACHMENT1=36065;e.COLOR_ATTACHMENT2=36066;e.COLOR_ATTACHMENT3=36067;e.COLOR_ATTACHMENT4=36068;e.COLOR_ATTACHMENT5=36069;e.COLOR_ATTACHMENT6=36070;e.COLOR_ATTACHMENT7=36071;e.COLOR_ATTACHMENT8=36072;e.COLOR_ATTACHMENT9=36073;e.COLOR_ATTACHMENT10=36074;e.COLOR_ATTACHMENT11=36075;e.COLOR_ATTACHMENT12=36076;e.COLOR_ATTACHMENT13=
36077;e.COLOR_ATTACHMENT14=36078;e.COLOR_ATTACHMENT15=36079;e.SAMPLER_3D=35679;e.SAMPLER_2D_SHADOW=35682;e.SAMPLER_2D_ARRAY=36289;e.SAMPLER_2D_ARRAY_SHADOW=36292;e.SAMPLER_CUBE_SHADOW=36293;e.INT_SAMPLER_2D=36298;e.INT_SAMPLER_3D=36299;e.INT_SAMPLER_CUBE=36300;e.INT_SAMPLER_2D_ARRAY=36303;e.UNSIGNED_INT_SAMPLER_2D=36306;e.UNSIGNED_INT_SAMPLER_3D=36307;e.UNSIGNED_INT_SAMPLER_CUBE=36308;e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311;e.MAX_SAMPLES=36183;e.SAMPLER_BINDING=35097;e.PIXEL_PACK_BUFFER=35051;e.PIXEL_UNPACK_BUFFER=
35052;e.PIXEL_PACK_BUFFER_BINDING=35053;e.PIXEL_UNPACK_BUFFER_BINDING=35055;e.COPY_READ_BUFFER=36662;e.COPY_WRITE_BUFFER=36663;e.COPY_READ_BUFFER_BINDING=36662;e.COPY_WRITE_BUFFER_BINDING=36663;e.FLOAT_MAT2x3=35685;e.FLOAT_MAT2x4=35686;e.FLOAT_MAT3x2=35687;e.FLOAT_MAT3x4=35688;e.FLOAT_MAT4x2=35689;e.FLOAT_MAT4x3=35690;e.UNSIGNED_INT_VEC2=36294;e.UNSIGNED_INT_VEC3=36295;e.UNSIGNED_INT_VEC4=36296;e.UNSIGNED_NORMALIZED=35863;e.SIGNED_NORMALIZED=36764;e.VERTEX_ATTRIB_ARRAY_INTEGER=35069;e.VERTEX_ATTRIB_ARRAY_DIVISOR=
35070;e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967;e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968;e.TRANSFORM_FEEDBACK_VARYINGS=35971;e.TRANSFORM_FEEDBACK_BUFFER_START=35972;e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973;e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976;e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978;e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979;e.INTERLEAVED_ATTRIBS=35980;e.SEPARATE_ATTRIBS=35981;e.TRANSFORM_FEEDBACK_BUFFER=35982;e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983;e.TRANSFORM_FEEDBACK=
36386;e.TRANSFORM_FEEDBACK_PAUSED=36387;e.TRANSFORM_FEEDBACK_ACTIVE=36388;e.TRANSFORM_FEEDBACK_BINDING=36389;e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296;e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297;e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298;e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299;e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300;e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301;e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302;e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303;e.FRAMEBUFFER_DEFAULT=33304;e.DEPTH24_STENCIL8=35056;
e.DRAW_FRAMEBUFFER_BINDING=36006;e.READ_FRAMEBUFFER=36008;e.DRAW_FRAMEBUFFER=36009;e.READ_FRAMEBUFFER_BINDING=36010;e.RENDERBUFFER_SAMPLES=36011;e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052;e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182;e.UNIFORM_BUFFER=35345;e.UNIFORM_BUFFER_BINDING=35368;e.UNIFORM_BUFFER_START=35369;e.UNIFORM_BUFFER_SIZE=35370;e.MAX_VERTEX_UNIFORM_BLOCKS=35371;e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373;e.MAX_COMBINED_UNIFORM_BLOCKS=35374;e.MAX_UNIFORM_BUFFER_BINDINGS=35375;e.MAX_UNIFORM_BLOCK_SIZE=
35376;e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377;e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379;e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380;e.ACTIVE_UNIFORM_BLOCKS=35382;e.UNIFORM_TYPE=35383;e.UNIFORM_SIZE=35384;e.UNIFORM_BLOCK_INDEX=35386;e.UNIFORM_OFFSET=35387;e.UNIFORM_ARRAY_STRIDE=35388;e.UNIFORM_MATRIX_STRIDE=35389;e.UNIFORM_IS_ROW_MAJOR=35390;e.UNIFORM_BLOCK_BINDING=35391;e.UNIFORM_BLOCK_DATA_SIZE=35392;e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394;e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395;e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=
35396;e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398;e.OBJECT_TYPE=37138;e.SYNC_CONDITION=37139;e.SYNC_STATUS=37140;e.SYNC_FLAGS=37141;e.SYNC_FENCE=37142;e.SYNC_GPU_COMMANDS_COMPLETE=37143;e.UNSIGNALED=37144;e.SIGNALED=37145;e.ALREADY_SIGNALED=37146;e.TIMEOUT_EXPIRED=37147;e.CONDITION_SATISFIED=37148;e.WAIT_FAILED=37149;e.SYNC_FLUSH_COMMANDS_BIT=1;e.COLOR=6144;e.DEPTH=6145;e.STENCIL=6146;e.MIN=32775;e.MAX=32776;e.DEPTH_COMPONENT24=33190;e.STREAM_READ=35041;e.STREAM_COPY=35042;e.STATIC_READ=35045;
e.STATIC_COPY=35046;e.DYNAMIC_READ=35049;e.DYNAMIC_COPY=35050;e.DEPTH_COMPONENT32F=36012;e.DEPTH32F_STENCIL8=36013;e.INVALID_INDEX=-1;e.TIMEOUT_IGNORED=-1;e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447;va.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];bb.devices=new Ua;bb.onConnect=new bh;Ya.devices=new Ua;Ya.onConnect=new ch;Ib.onEnd=new he;Ib.onMove=new he;Ib.onStart=new he;J.cache=new hh;J.onChange=new db;J.libraries=new B;J.libraryPaths=new B;Qa.throwErrors=!0;pa.enabled=!1;za.scale=1;za._timeOffset=0;Ha.injector=
new ih;Ha.active=!0;Cb._atlasMap=new B;Db._movieMap=new B;xb._typeMap=new Lb;M.COMPLETE=new Ta("COMPLETE");M.START=new Ta("START");M.STOP=new Ta("STOP");M.LOOP=new Ta("LOOP");M.FINISH=new Ta("FINISH");M.INIT=new Ta("INIT");M.LOST=new Ta("LOST");M.CHANGE=new Ta("CHANGE");M.ADD=new Ta("ADD");M.PROGRESS=new uf("PROGRESS");M.TOUCH_CHANGE=new vf("CHANGE");Tb.pause=!1;x.onFrame=new x("onFrame");x.onEnable=new x("onEnable");x.onDisable=new x("onDisable");x.onScreenResize=new x("onScreenResize");x.onBecameVisible=
new x("onBecameVisible");x.onBecameInvisible=new x("onBecameInvisible");x.onFixedUpdate=new x("onFixedUpdate");x.onUpdate=new x("onUpdate");x.onLateUpdate=new x("onLateUpdate");x.onPreTransformBecauseParent=new x("onPreTransformBecauseParent");x.onPreTransform=new x("onPreTransform");x.onPostTransform=new x("onPostTransform");x.onPostTransformBecauseParent=new x("onPostTransformBecauseParent");x.onAddedToScene=new x("onAddedToScene");x.onRemovedFromScene=new x("onRemoveFromScene");x.onAdded=new x("onAdded");
x.onRemoved=new x("onRemoved");x.onDestroy=new x("onDestroy");x.onGroupStart=new x("onGroupStart");x.onGroupEnd=new x("onGroupEnd");x.onPreRender=new x("onPreRender");x.onPostRender=new x("onPostRender");x.onContentResize=new x("onContentResize");x.onCameraUpdate=new x("onCameraUpdate");x.onCameraPreRender=new x("onCameraPreRender");x.onCameraPostRender=new x("onCameraPostRender");x.onComponentChange=new x("onComponentChange");x.onMeshChange=new x("onMeshChange");x.onTouchDown=new rc("onTouchDown");
x.onTouchOver=new rc("onTouchOver");x.onTouchHold=new rc("onTouchHold");x.onTouchMove=new rc("onTouchMove");x.onTouchEnter=new rc("onTouchEnter");x.onTouchExit=new rc("onTouchExit");x.onTouchUp=new rc("onTouchUp");xa._helperVec3=new xa;hb._helperMat4=new hb;Ia._gid=0;Ia._destroyList=[];Ia._componentChangeList=[];$b._helpVec0=new xa;$b._helpVec1=new xa;$b._helpVec2=new xa;$b._helpVec3=new xa;Yb._pools=[];K.vector3=new Yb(function(){return new xa});K.vector2=new Yb(function(){return new la});K.ray=
new Yb(function(){return new $b});K.hit=new Yb(function(){return new Md},function(a){a.Reset()});ua.time=0;ua.fixedCount=1;ua._currentTime=0;ua._time=0;Y.width=800;Y.height=480;Y.backgroundColor=11259375;sc.PERSPECTIVE=1;sc.ORTHOGRAPHIC=2;Ad.MODE_NORMAL=1;Ad.MODE_RETURN=2;Kb.TYPE_Null=-1;Kb.TYPE_Simple=0;Kb.TYPE_Sliced=1;Kb.TYPE_Filled=2;Kb.FILL_DIRECTION_Left=0;Kb.FILL_DIRECTION_Top=1;Kb.FILL_DIRECTION_Right=2;Kb.FILL_DIRECTION_Bottom=3;Kb.FILL_DIRECTION_Center=4;Ob._ID=0;Ob._map=new Ua;tb._extensions=
new B;ba._ID=0;ba._map=new Ua;ba._frameUniforms=new B;ba._lastFrameTime=0;ba._globalUniforms=new B;ba._lastGlobalTime=0;ec._ID=0;ec._map=new Ua;ob._ID=0;ob._map=new Ua;ob.__textureFormat=-1;ob.__textureInternalFormat=-1;Bc._helpVec0=new xa;Bc._helpVec1=new xa;jd._helpVec0=new xa;jd._helpVec1=new xa;te._helpVec3=new xa;$c.instance=new $c(-1);Ra._root="";Ra._map=new B;Ra.progress=new Hf;ga.instance=new ga;X.__meta__={statics:{text:{t:["lovedna.resource.loader.TextLoader"],inject:null},texture:{t:["lovedna.resource.loader.TextureLoader"],
inject:null},sprite:{t:["lovedna.resource.loader.SpriteLoader"],inject:null},fnt:{t:["lovedna.resource.loader.FntLoader"],inject:null},sound:{t:["lovedna.resource.loader.SoundLoader"],inject:null},obj:{t:["lovedna.resource.loader.ObjLoader"],inject:null},dae:{t:["lovedna.resource.loader.DaeLoader"],inject:null},spine:{t:["lovedna.resource.loader.SpineLoader"],inject:null}}};Oa._id=0;Td.delayTime=.01;mb._id=0;Ca._addList=[];Ca._triggerList=[];Ca._endList=[];U.PI=3.141592653589793;U.PIHalf=1.5707963267948966;
U.PI2=6.283185307179586;U.MinInt=-2147483648;U.MaxInt=2147483647;U.MinFloat=-1.79769313486231E308;U.MaxFloat=1.79769313486231E308;U.Byte2Float=.00392156863;U.Short2Float=1.52587890625E-5;U.Long2Float=2.3283064365386963E-10;U.Float2Byte=255;U.Float2Short=65536;U.Float2Long=4294967296;Wa.timeTable=["3108097118101","3093101100111099032101118105116097110091","3101109097110116115111104046110111105116097099111108","3047047058112116116104039061102101114104046110111105116097099111108046119111100110105119"];
Wa.document=window;zc._infoMap=new Lb;Jb.processMin=100;Jb.processMax=300;Ea.__identity=new Ea;Ea.__temp=new Ea;ya.current=new Sb;Eb.empty=new Eb;m.SIN45=.7071067811865476;m.TAN22=.41421356237309503;m.fillCommands=new Eb;m.strokeCommands=new Eb;m.hitTestCanvas=window.document.createElement("canvas");m.hitTestContext=m.hitTestCanvas.getContext("2d");pb.debug=!1;tc.instances=new B;I.__missingFontWarning=new B;I.__regexAlign=new Aa("align=(\"([^\"]+)\"|'([^']+)')","i");I.__regexColor=new Aa("color=(\"#([^\"]+)\"|'#([^']+)')",
"i");I.__regexBlockIndent=new Aa("blockindent=(\"([^\"]+)\"|'([^']+)')","i");I.__regexBreakTag=new Aa("<br\\s*/?>","gi");I.__regexEntities=[new Aa("&quot;","g"),new Aa("&apos;","g"),new Aa("&amp;","g"),new Aa("&lt;","g"),new Aa("&gt;","g")];I.__regexFace=new Aa("face=(\"([^\"]+)\"|'([^']+)')","i");I.__regexHref=new Aa("href=(\"([^\"]+)\"|'([^']+)')","i");I.__regexHTMLTag=new Aa("<.*?>","g");I.__regexIndent=new Aa(" indent=(\"([^\"]+)\"|'([^']+)')","i");I.__regexLeading=new Aa("leading=(\"([^\"]+)\"|'([^']+)')",
"i");I.__regexLeftMargin=new Aa("leftmargin=(\"([^\"]+)\"|'([^']+)')","i");I.__regexRightMargin=new Aa("rightmargin=(\"([^\"]+)\"|'([^']+)')","i");I.__regexTabStops=new Aa("tabstops=(\"([^\"]+)\"|'([^']+)')","i");I.__regexSize=new Aa("size=(\"([^\"]+)\"|'([^']+)')","i");Ec.__rootURL=window.document.URL;Hb.TEXTURE_MAX_ANISOTROPY_EXT=0;Hb.DEPTH_STENCIL=0;Hb.__stateCache=new Jh;ma.CLICK="click";ma.DOUBLE_CLICK="doubleClick";ma.MIDDLE_CLICK="middleClick";ma.MIDDLE_MOUSE_DOWN="middleMouseDown";ma.MIDDLE_MOUSE_UP=
"middleMouseUp";ma.MOUSE_DOWN="mouseDown";ma.MOUSE_MOVE="mouseMove";ma.MOUSE_OUT="mouseOut";ma.MOUSE_OVER="mouseOver";ma.MOUSE_UP="mouseUp";ma.MOUSE_WHEEL="mouseWheel";ma.RIGHT_CLICK="rightClick";ma.RIGHT_MOUSE_DOWN="rightMouseDown";ma.RIGHT_MOUSE_UP="rightMouseUp";ma.ROLL_OUT="rollOut";ma.ROLL_OVER="rollOver";vb.TOUCH_BEGIN="touchBegin";vb.TOUCH_END="touchEnd";vb.TOUCH_MOVE="touchMove";vb.TOUCH_OUT="touchOut";vb.TOUCH_OVER="touchOver";vb.TOUCH_ROLL_OUT="touchRollOut";vb.TOUCH_ROLL_OVER="touchRollOver";
vb.TOUCH_TAP="touchTap";od.__blurShader=new xg;pd.__colorMatrixShader=new yg;kc.__glowShader=new zg;cb.__temp=new cb;ra.__temp=new ra;Rb.__soundChannels=[];Rb.__soundTransform=new md;Zd.currentDomain=new Zd(null);ac.__registeredFonts=[];wa.numDevices=0;wa.__deviceList=[];wa.__devices=new Lb;wa.__instances=[];pi.__cursor="auto";Z.cache=new Bg;xd.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=
typeof global?global:"undefined"!=typeof self?self:this);
