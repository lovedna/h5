(function(Ma,jc,vh){function n(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function k(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Sh++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}jc.Ease=jc.Ease||{};jc.openfl=jc.openfl||{};jc.lime=jc.lime||
{};var g={},u=function(){return K.__string_rec(this,"")},ea=function(){};g.ApplicationMain=ea;ea.__name__=["ApplicationMain"];ea.main=function(){ea.config={build:"461",company:"liwei",file:"ninja3",fps:60,name:"ninja",orientation:"",packageName:"net.lovedna.game.ninja3",version:"1.0.0",windows:[{allowHighDPI:!1,antialiasing:0,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,hidden:null,maximized:null,minimized:null,parameters:"{}",resizable:!0,stencilBuffer:!0,
title:"ninja",vsync:!1,width:0,x:null,y:null}]}};ea.create=function(){var a=new Wd;a.create(ea.config);ea.preloader=new Xd(new Ad);ea.preloader.onComplete.add(ea.registerLibrary);a.setPreloader(ea.preloader);ea.preloader.onComplete.add(ea.init);ea.preloader.create(ea.config);var b=[],c=[];if(null!=ea.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;"FONT"!=c[f]&&(b[f]=ea.config.assetsPrefix+b[f])}ea.preloader.load(b,c);a.exec()};ea.embed=jc.lime.embed=function(a,b,c,d,e){var f=null,f="string"==
typeof a?window.document.getElementById(K.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&""!=d&&(d=na.replace(d,"#",""),a=-1<d.indexOf("0x")?Ca.parseInt(d):Ca.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);ea.config.windows[0].background=a;ea.config.windows[0].element=f;ea.config.windows[0].width=b;ea.config.windows[0].height=c;ea.config.assetsPrefix=e;ea.create()};ea._embed=jc.openfl.embed=function(a,b,c,d,e){ea.embed(a,b,c,d,e)};ea.init=function(){ea.preloader=
null;ea.start()};ea.registerLibrary=function(){G.registerLibrary("default",new Yd)};ea.start=function(){new Zd;ja.current.stage.dispatchEvent(new J("resize",!1,!1));ja.current.stage.window.__fullscreen&&ja.current.stage.dispatchEvent(new Zc("fullScreen",!1,!1,!0,!0))};var $c=function(){};g["openfl.events.IEventDispatcher"]=$c;$c.__name__=["openfl","events","IEventDispatcher"];$c.prototype={addEventListener:null,removeEventListener:null,__class__:$c};var ba=function(a){null!=a&&(this.__targetDispatcher=
a)};g["openfl.events.EventDispatcher"]=ba;ba.__name__=["openfl","events","EventDispatcher"];ba.__interfaces__=[$c];ba.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};ba.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=new R,this.__iterators=new R),this.__eventMap.exists(a)){e=this.__eventMap.get(a);for(var f=0,E=e.length;f<
E;){var g=f++;if(e[g].match(b,c))return}a=this.__iterators.get(a);for(f=0;f<a.length;)E=a[f],++f,E.active&&E.copy();e.push(new $d(b,c,d));e.sort(ba.__sortByPriority)}else e=[],e.push(new $d(b,c,d)),b=new ae(e),this.__eventMap.set(a,e),this.__iterators.set(a,[b])},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==this.__eventMap?!1:this.__eventMap.exists(a)},removeEventListener:function(a,
b,c){null==c&&(c=!1);if(null!=this.__eventMap&&null!=b){var d=this.__eventMap.get(a);if(null!=d){for(var e=this.__iterators.get(a),f=0,E=d.length;f<E;){var g=f++;if(d[g].match(b,c)){for(b=0;b<e.length;)c=e[b],++b,c.remove(d[g],g);d.splice(g,1);break}}0==d.length&&(this.__eventMap.remove(a),this.__iterators.remove(a));this.__eventMap.iterator().hasNext()||(this.__iterators=this.__eventMap=null)}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;var b=a.type,c=this.__eventMap.get(b);
if(null==c)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;var d=1==a.eventPhase,b=this.__iterators.get(b),e=b[0];e.active&&(e=new ae(c),b.push(e));for(e.reset(c);e.hasNext()&&(c=e.next(),null==c||c.useCapture!=d||(c.callback(a),!a.__isCanceledNow)););e!=b[0]&&q.remove(b,e);return!0},__class__:ba};var Ng=function(){};g["openfl.display.IBitmapDrawable"]=Ng;Ng.__name__=["openfl","display","IBitmapDrawable"];var F=function(){ba.call(this);
this.__alpha=1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new ka;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__rotationCosine=1;this.__worldTransform=new ka;this.__worldColorTransform=new Kc;this.__renderTransform=new ka;this.__worldVisible=!0;this.set_name("instance"+ ++F.__instanceCount)};g["openfl.display.DisplayObject"]=F;F.__name__=["openfl","display","DisplayObject"];F.__interfaces__=[Ng];F.__super__=ba;F.prototype=n(ba.prototype,{loaderInfo:null,
opaqueBackground:null,parent:null,stage:null,__worldColorTransform:null,__worldTransform:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cairo:null,__children:null,__filters:null,__graphics:null,__isMask:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,
__worldClip:null,__worldClipChanged:null,__worldTransformCache:null,__worldTransformChanged:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":F.__broadcastEvents.exists(a)||F.__broadcastEvents.set(a,[]);var f=F.__broadcastEvents.get(a);-1==q.indexOf(f,
this,0)&&f.push(this)}ba.prototype.addEventListener.call(this,a,b,c,d,e)},dispatchEvent:function(a){K.__instanceof(a,Ha)?(a.stageX=this.__getRenderTransform().__transformX(a.localX,a.localY),a.stageY=this.__getRenderTransform().__transformY(a.localX,a.localY)):K.__instanceof(a,xc)&&(a.stageX=this.__getRenderTransform().__transformX(a.localX,a.localY),a.stageY=this.__getRenderTransform().__transformY(a.localX,a.localY));return ba.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b;null!=
a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=ka.__temp,b.identity());a=new Ea;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();this.__getRenderTransform().__transformInversePoint(a);return a},removeEventListener:function(a,b,c){null==c&&(c=!1);ba.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":!this.hasEventListener(a)&&
F.__broadcastEvents.exists(a)&&(a=F.__broadcastEvents.get(a),q.remove(a,this))}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=ba.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:b}return!0},__dispatchChildren:function(a){return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=ba.prototype.__dispatchEvent.call(this,
a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||
0<F.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;b!=this.stage;)a.push(b),b=b.parent,b!=this.stage&&b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==
d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},__renderCairo:function(a){Og.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&la.renderMask(this.__graphics,a)},__renderCanvas:function(a){Pg.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&h.renderMask(this.__graphics,a)},__renderDOM:function(a){null==this.opaqueBackground&&null==this.__graphics?null:
!this.__renderable||0>=this.__worldAlpha?null:(null!=this.opaqueBackground&&0<this.get_width()&&this.get_height(),null!=this.__graphics&&Qg.render(this,a))},__renderGL:function(a){Rg.render(this,a)},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,F.__worldRenderDirty++)},__setStageReference:function(a){this.stage=a},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();b&&this.__transformDirty&&
(this.__transformDirty=!1,F.__worldTransformDirty--);null!=c&&this.__updateMask(c);if(!a){this.__worldTransformChanged=!this.__worldTransform.equals(this.__worldTransformCache);null==this.__worldTransformCache?this.__worldTransformCache=this.__worldTransform.clone():this.__worldTransformCache.copyFrom(this.__worldTransform);a=null;this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());c=null!=
this.parent?this.parent:this.__renderParent;if(null!=c){var d=c.__worldVisible&&this.get_visible();this.__worldVisibleChanged=this.__worldVisible!=d;this.__worldVisible=d;d=this.get_alpha()*c.__worldAlpha;this.__worldAlphaChanged=this.__worldAlpha!=d;this.__worldAlpha=d;null!=c.__worldClip&&(a=c.__worldClip.clone());null!=this.get_scrollRect()&&(c=this.get_scrollRect().clone(),c.__transform(c,this.__worldTransform),null!=a&&c.__contract(a.x-this.get_scrollRect().x,a.y-this.get_scrollRect().y,a.width,
a.height),a=c)}else this.__worldAlpha=this.get_alpha(),this.__worldVisibleChanged=this.__worldVisible!=this.get_visible(),this.__worldVisible=this.get_visible(),this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha(),null!=this.get_scrollRect()&&(a=this.get_scrollRect().clone(),a.__transform(a,this.__worldTransform));this.__worldClipChanged=null==a&&null!=this.__worldClip||null!=a&&!a.equals(this.__worldClip);this.__worldClip=a;b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){this.__renderable=
this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__worldAlpha=this.get_alpha();this.__transformDirty&&(this.__transformDirty=!1,F.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new Ea),this.__graphics.__getBounds(a.__bounds,ka.__identity))},__updateTransforms:function(a){var b=
null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new ka);null==this.__renderTransform&&(this.__renderTransform=new ka);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__renderTransform.copyFrom(a)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=
a.tx*b.b+a.ty*b.d+b.ty,b=this.parent.__renderTransform,this.__renderTransform.a=a.a*b.a+a.b*b.c,this.__renderTransform.b=a.a*b.b+a.b*b.d,this.__renderTransform.c=a.c*b.a+a.d*b.c,this.__renderTransform.d=a.c*b.b+a.d*b.d,this.__renderTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__renderTransform.ty=a.tx*b.b+a.ty*b.d+b.ty);null!=this.__scrollRect&&this.__renderTransform.__translateTransformed(-this.__scrollRect.x,-this.__scrollRect.y)},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&
(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,F.__worldRenderDirty++);return this.__alpha=a},get_blendMode:function(){return this.__blendMode},get_height:function(){var a=new Ea;this.__getBounds(a,this.__transform);return a.height},set_height:function(a){var b=new Ea,c=ka.__temp;c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_mask:function(){return this.__mask},set_name:function(a){return this.__name=a},get_scaleX:function(){return 0==
this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.b)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=
c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++);
this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new zf(this));return this.__objectTransform},get_visible:function(){return this.__visible},get_width:function(){var a=new Ea;this.__getBounds(a,this.__transform);return a.width},set_width:function(a){var b=new Ea,c=ka.__temp;c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/
b.width):this.set_scaleX(1);return a},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++);return this.__transform.ty=a},__class__:F,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",
set_width:"set_width",get_width:"get_width",get_visible:"get_visible",get_transform:"get_transform",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var kb=function(){F.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=
!1;this.tabIndex=-1};g["openfl.display.InteractiveObject"]=kb;kb.__name__=["openfl","display","InteractiveObject"];kb.__super__=F;kb.prototype=n(F.prototype,{doubleClickEnabled:null,mouseEnabled:null,needsSoftKeyboard:null,tabIndex:null,__tabEnabled:null,__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:F.prototype.__hitTest.call(this,a,b,
c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:kb,__properties__:n(F.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var $a=function(){kb.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};g["openfl.display.DisplayObjectContainer"]=$a;$a.__name__=["openfl","display","DisplayObjectContainer"];$a.__super__=kb;$a.prototype=n(kb.prototype,{mouseChildren:null,__removedChildren:null,addChild:function(a){return this.addChildAt(a,this.get_numChildren())},
addChildAt:function(a,b){if(b>this.__children.length||0>b)throw new C("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(q.remove(this.__children,a),this.__children.splice(b,0,a));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;var c=null!=this.stage&&null==a.stage;c&&this.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,F.__worldTransformDirty++);a.__renderDirty||(a.__renderDirty=!0,F.__worldRenderDirty++);this.__renderDirty||
(this.__renderDirty=!0,F.__worldRenderDirty++);var d=new J("added",!0);d.target=a;a.__dispatchEvent(d);c&&a.__dispatchChildren(new J("addedToStage",!1,!1))}return a},removeChild:function(a){null!=a&&a.parent==this&&(a.__transformDirty||(a.__transformDirty=!0,F.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,F.__worldRenderDirty++),this.__renderDirty||(this.__renderDirty=!0,F.__worldRenderDirty++),a.__dispatchEvent(new J("removed",!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==
a&&this.stage.set_focus(null),a.__dispatchChildren(new J("removedFromStage",!1,!1)),a.__setStageReference(null)),a.parent=null,q.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,F.__worldTransformDirty++));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},__dispatchChildren:function(a){var b=this.__dispatchEvent(a);if(b&&null!=this.__children)for(var c=0,d=this.__children;c<d.length;){var e=
d[c];++c;a.target=e;if(!e.__dispatchChildren(a))return!1}return b},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){kb.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},
__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var E=lb.__temp;E.setTo(a,b);this.__getRenderTransform().__transformInversePoint(E);if(!this.__scrollRect.containsPoint(E))return!1}E=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--E;){if(this.__children[E].__hitTest(a,b,c,null,!0,this.__children[E]))return null!=d&&d.push(f),
!0}else{if(null!=d){e=d.length;for(var g=!1,h=!1;0<=--E&&!(((g=this.__children[E].__getInteractive(null))||this.mouseEnabled&&!h)&&this.__children[E].__hitTest(a,b,c,d,!0,this.__children[E])&&(h=!0,g)););if(h)return d.splice(e,0,f),!0}}else for(;0<=--E;)this.__children[E].__hitTest(a,b,c,d,!1,this.__children[E]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&
!(0>=this.__worldAlpha)){kb.prototype.__renderCairo.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__renderCairoMask:function(a){null!=this.__graphics&&la.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<
c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){kb.prototype.__renderCanvas.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=
this.__graphics&&h.renderMask(this.__graphics,a);var b=new Ea;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){kb.prototype.__renderDOM.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__renderDOM(a);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)},
__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){kb.prototype.__renderGL.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__cleanup();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);a.maskManager.popObject(this)}},__setStageReference:function(a){kb.prototype.__setStageReference.call(this,a);
if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){kb.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){kb.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:$a,__properties__:n(kb.prototype.__properties__,
{get_numChildren:"get_numChildren"})});var Ab=function(){$a.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=kc.create(null)};g["openfl.display.Sprite"]=Ab;Ab.__name__=["openfl","display","Sprite"];Ab.__super__=$a;Ab.prototype=n($a.prototype,{buttonMode:null,hitArea:null,useHandCursor:null,__getCursor:function(){return this.buttonMode&&this.useHandCursor?P.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=
!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var E=lb.__temp;E.setTo(a,b);this.__getRenderTransform().__transformInversePoint(E);if(!this.__scrollRect.containsPoint(E))return!1}if($a.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&
this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return $a.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Af(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:Ab,__properties__:n($a.prototype.__properties__,{get_graphics:"get_graphics"})});
var ad=function(){Ab.call(this);var a=new Lc;a.Init(ja.current);a.AddEventListener(y.INIT,k(this,this.view_init))};g.Main=ad;ad.__name__=["Main"];ad.__super__=Ab;ad.prototype=n(Ab.prototype,{view_init:function(a){ca.backgroundColor.set_rgb(11259375);ca.backgroundColor.set_a(0);a=new be;Lc.instance.AddScene(a);var b=new T("game");a.AddChild(b);b.AddComponent(fa)},__class__:ad});var Zd=function(){ja.current.addChild(this);ad.call(this);this.dispatchEvent(new J("addedToStage",!1,!1))};g.DocumentClass=
Zd;Zd.__name__=["DocumentClass"];Zd.__super__=ad;Zd.prototype=n(ad.prototype,{__class__:Zd});var Mb=function(){};g["lovedna.core.IDisposable"]=Mb;Mb.__name__=["lovedna","core","IDisposable"];var X=function(){this.offset=this._length=0};g["lovedna.ds.LArray"]=X;X.__name__=["lovedna","ds","LArray"];X.__interfaces__=[Mb];X.prototype={offset:null,_buffer:null,_length:null,_i:null,Add:function(a){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[this.offset+this._length++]=a},Pop:function(){if(null==
this._buffer||1>this._length)return null;this._length--;return this._buffer[this.offset+this._length]},Shift:function(){if(null==this._buffer||1>this._length)return null;64<this.offset&&this.offset>this._length&&this.Trim();this._length--;return this._buffer[this.offset++]},Get:function(a){return null==this._buffer||1>this._length||a>=this._length?null:this._buffer[a+this.offset]},Clear:function(){this.offset=this._length=0},Trim:function(){if(null!=this._buffer&&0<this._length&&!(0==this.offset&&
this._length>=this._buffer.length)){var a=[];for(this._i=this._length;0<this._i--;)a[this._i]=this._buffer[this._i+this.offset];this._buffer=a;this.offset=0}},Copy:function(a){null==this._buffer&&(this._buffer=[],this.offset=this._length=0);for(this._i=a._length;0<this._i--;)this._buffer[this._i]=a._buffer[this._i];this._length=a._length;this.offset=a.offset},Dispose:function(){this._buffer=null},RemoveAt:function(a,b){null==b&&(b=1);if(!(null==this._buffer||0>a||a>=this._length||1>b||(a+b>=this._length&&
(b=this._length-a),1>b))){for(this._i=a;this._i<this._length-1;)this._buffer[this.offset+this._i]=this._buffer[this.offset+this._i+b],this._i++;this._length-=b}},Insert:function(a,b){if(!(0>a))if(null==this._buffer&&(this._buffer=[],this.offset=this._length=0),a>=this._length)this._buffer[a+this.offset]=b,this._length=a+1;else{for(this._i=this._length;this._i>a;)this._buffer[this._i+this.offset]=this._buffer[this._i-1+this.offset],this._i--;this._buffer[a+this.offset]=b;this._length++}},Contains:function(a){return-1<
this.IndexOf(a)},IndexOf:function(a){if(null==this._buffer)return-1;for(this._i=this._length;0<this._i--;)if(a==this._buffer[this._i+-this.offset])return this._i;return-1},Sort:function(a){null!=this._buffer&&(this.Trim(),this._buffer.sort(a))},__class__:X};var A=function(){this._constructed=!1;this.Construct()};g["lovedna.core.LObject"]=A;A.__name__=["lovedna","core","LObject"];A.TriggerTick=function(a){a=A._list._length;if(!(1>a)){A._list1.Copy(A._list);for(A._list.Clear();0<a--;)A._list1.Get(a).onLateConstruct();
A._list1.Clear()}};A.prototype={_constructed:null,Construct:function(){this._constructed||(this._constructed=!0,this.onConstruct(),A._list.Add(this))},onConstruct:function(){},onLateConstruct:function(){},__class__:A};var wh=function(){};g["lovedna.events.IEventDispatcher"]=wh;wh.__name__=["lovedna","events","IEventDispatcher"];var L=function(){A.call(this)};g["lovedna.events.LEventDispatcher"]=L;L.__name__=["lovedna","events","LEventDispatcher"];L.__interfaces__=[Mb,wh];L.__super__=A;L.prototype=
n(A.prototype,{_eventMap:null,_eventSortMap:null,_eventList:null,AddEventListener:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);a=a._type;if(null!=a&&null!=b){null==this._eventMap&&(this._eventMap=new R,this._eventSortMap=new R);null==c&&(c=0);null==d&&(d=!1);null==e&&(e=0);if(this._eventMap.exists(a))for(var f=this._eventMap.get(a),E=f.length;0<E--;){if(f[E].match(b))return}else f=[],this._eventMap.set(a,f);f.push(new Bf(this,b,c,d,e));0!=c&&this._eventSortMap.set(a,!0)}},DispatchEvent:function(a){if(null==
this._eventMap)return!1;var b=a._type;if(null==b)return!1;var c=this._eventMap.get(b);if(null==c)return!1;null==this._eventList&&(this._eventList=[]);if(-1!=q.indexOf(this._eventList,a,0))return!1;this._eventList.push(a);a.setTarget(this);this._eventSortMap.get(b)&&(this._eventSortMap.set(b,!1),c.sort(k(this,this.sortByPriority)));for(b=c.length;0<b--;)c[b].dispatch(a);this._eventList.splice(0,this._eventList.length);return!0},HasEventListener:function(a){return null==this._eventMap?!1:this._eventMap.exists(a._type)},
RemoveEventListener:function(a,b){if(null!=this._eventMap){var c=a._type,d=this._eventMap.get(c);if(null!=d){for(var e=d.length;0<e--;){var f=d[e];f.match(b)&&(f.destroy(),d.splice(e,1))}0==d.length&&this._eventMap.remove(c);this._eventMap.iterator().hasNext()||(this._eventSortMap=this._eventMap=null)}}},Dispose:function(){this._eventList=this._eventSortMap=this._eventMap=null},sortByPriority:function(a,b){var c=a.priority,d=b.priority;return c>d?1:c<d?-1:0},__class__:L});var gb=function(){A.call(this)};
g["lovedna.love3d.Object"]=gb;gb.__name__=["lovedna","love3d","Object"];gb.__super__=L;gb.prototype=n(L.prototype,{toString:function(){return pb.GetClassName(this)},__class__:gb});var v=function(){this.removeable=!0;A.call(this)};g["lovedna.love3d.component.Component"]=v;v.__name__=["lovedna","love3d","component","Component"];v.__super__=gb;v.prototype=n(gb.prototype,{gameObject:null,eventOrder:null,active:null,removeable:null,_eventKeyList:null,_eventFuncList:null,_eventValueList:null,_dependsList:null,
AddComponent:function(a){return this.gameObject.AddComponent(a)},GetComponent:function(a){return this.gameObject.GetComponent(a)},onConstruct:function(){gb.prototype.onConstruct.call(this);this.eventOrder=0;this.removeable=!0},OnDestroy:function(){if(null!=this.gameObject){if(null!=this._eventKeyList){for(var a=this._eventKeyList.length;0<a--;)this.gameObject.dispatcher.RemoveEventListener(this._eventKeyList[a],this._eventFuncList[a]);this._eventFuncList=this._eventValueList=this._eventKeyList=null}this.gameObject=
null}},getAliasName:function(){return pb.GetClassName(this)},isDepend:function(a){if(null==this._dependsList)return!1;for(var b=this._dependsList.length;0<b--;)if(K.__instanceof(a,this._dependsList[b]))return!0;return!1},init:function(a){if(null==this.gameObject&&null!=a&&(this.gameObject=a,this.set_active(!0),this.start(),null!=this._eventKeyList)){if(this.gameObject.active&&(a=q.indexOf(this._eventKeyList,r.OnEnable,0),-1!=a))this._eventFuncList[a](r.OnEnable);if(null!=this.gameObject.scene&&(a=
q.indexOf(this._eventKeyList,r.OnAddToScene,0),-1!=a))this._eventFuncList[a](r.OnAddToScene);if(this.gameObject.visible&&(a=q.indexOf(this._eventKeyList,r.OnBecameVisible,0),-1!=a))this._eventFuncList[a](r.OnBecameVisible)}},start:function(){},AddEvent:function(a,b){var c=this;if(null==this.gameObject||null==b||null==this.gameObject.dispatcher)return!1;null==this._eventKeyList&&(this._eventKeyList=[],this._eventFuncList=[],this._eventValueList=[]);if(-1!=q.indexOf(this._eventKeyList,a,0))return Ma.log("has add event "+
a._type),!1;if(-1!=q.indexOf(this._eventValueList,b,0))return Ma.log("handler has add to other event"),!1;var d=function(a){c.active&&b()};this.gameObject.dispatcher.AddEventListener(a,d,this.eventOrder);this._eventKeyList.push(a);this._eventFuncList.push(d);this._eventValueList.push(b);return!0},RemoveEvent:function(a,b){if(null!=this.gameObject&&null!=this.gameObject.dispatcher&&null!=this._eventKeyList){var c=q.indexOf(this._eventKeyList,a,0);-1!=c&&(c=this._eventFuncList[c],this.gameObject.dispatcher.RemoveEventListener(a,
c),q.remove(this._eventKeyList,a),q.remove(this._eventValueList,b),q.remove(this._eventFuncList,c),0==this._eventKeyList.length&&(this._eventValueList=this._eventFuncList=this._eventKeyList=null))}},set_active:function(a){this.active!=a&&(this.active=a,this.gameObject.changed=!0);return this.active},__class__:v,__properties__:{set_active:"set_active"}});var Bd=function(){v.call(this)};g.BombShake=Bd;Bd.__name__=["BombShake"];Bd.__super__=v;Bd.prototype=n(v.prototype,{_x:null,_y:null,_time:null,start:function(){v.prototype.start.call(this);
this.AddEvent(r.OnUpdate,k(this,this.OnUpdate));this._x=this.gameObject.x;this._y=this.gameObject.y;this._time=0},OnUpdate:function(){this._time+=this.gameObject.tick;if(1<this._time){for(var a=0;10>a;){a++;var b=Sb.Get();b.color=16777215;b.scale=4;b.time=.3*Math.random()+.3;b.speed=200*Math.random()+200;fa.stage.gameObject.AddChild(b.gameObject);b.gameObject.set_x(this.gameObject.x);b.gameObject.set_y(this.gameObject.y);b.gameObject.set_z(this.gameObject.z)}this.gameObject.parent.RemoveChild(this.gameObject);
this.gameObject.RemoveComponent(Bd);fa.stage.ShowFail();cb.Play("sound/bonus-firework-explode")}else a=this._x+(2*Math.random()-1)*this._time*10,b=this._y+(2*Math.random()-1)*this._time*10,this.gameObject.set_x(a),this.gameObject.set_y(b)},__class__:Bd});var ce=function(){this.onChange=new Na};g["lime.AssetLibrary"]=ce;ce.__name__=["lime","AssetLibrary"];ce.prototype={onChange:null,exists:function(a,b){return!1},getAudioBuffer:function(a){return null},getBytes:function(a){return null},getFont:function(a){return null},
getImage:function(a){return null},getText:function(a){a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){return!0},unload:function(){},__class__:ce};var Yd=function(){this.type=new R;this.path=new R;this.className=new R;this.onChange=new Na;var a=null;null!=ea.config&&Object.prototype.hasOwnProperty.call(ea.config,"assetsPrefix")&&(a=ea.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),d=a+this.path.get(c);this.path.set(c,d)}};
g.DefaultAssetLibrary=Yd;Yd.__name__=["DefaultAssetLibrary"];Yd.__super__=ce;Yd.prototype=n(ce.prototype,{className:null,path:null,type:null,exists:function(a,b){var c;c=null!=b?K.__cast(b,String):null;var d=this.type.get(a);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAudioBuffer:function(a){a=this.path.get(a);return za.audioBuffers.get(a)},getBytes:function(a){a=this.path.get(a);a=za.loaders.get(a);if(null==a)return null;
a=a.bytes;return null!=a?a:null},getFont:function(a){return K.__cast(qb.createInstance(this.className.get(a),[]),bd)},getImage:function(a){return ra.fromImageElement(function(b){b=b.path.get(a);return za.images.get(b)}(this))},getText:function(a){a=this.path.get(a);a=za.loaders.get(a);if(null==a)return null;a=a.bytes;return null!=a?a.getString(0,a.length):null},isLocal:function(a,b){switch(null!=b?K.__cast(b,String):null){case "FONT":return this.className.exists(a);case "IMAGE":var c=this.path.get(a);
return za.images.exists(c);case "MUSIC":case "SOUND":return c=this.path.get(a),za.audioBuffers.exists(c);default:return c=this.path.get(a),za.loaders.exists(c)}},__class__:Yd});var Bb=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,b)};g.EReg=Bb;Bb.__name__=["EReg"];Bb.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new C("EReg::matched");
},matchedPos:function(){if(null==this.r.m)throw new C("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:q.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;return b}if(c=this.match(0>c?q.substr(a,b,null):q.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return c},__class__:Bb};var rb=function(){v.call(this)};g.Fruit=rb;rb.__name__=["Fruit"];rb.GetFruit=function(){return 0<rb._pool._length?
rb._pool.Pop():T.GetGameObject(rb,null)};rb.__super__=v;rb.prototype=n(v.prototype,{v_y:null,v_x:null,v_g:null,_image:null,_shadow:null,_url:null,_time:null,_startY:null,From:function(a){var b=a.gameObject;this.gameObject.set_x(b.x);this.gameObject.set_y(b.y);this.gameObject.set_z(b.z);this.gameObject.set_rotationZ(b.rotationZ);this.v_y=a.v_y;this.v_x=a.v_x;this._time=a._time;this._startY=a._startY},start:function(){v.prototype.start.call(this);this.v_g=-.98;this.v_y=.8;this.v_x=0;this._image=this.gameObject.AddComponent(ga);
this._image.raycastTarget=!0;this.gameObject.name="fruit";this._shadow=new T;this.gameObject.AddChild(this._shadow);this._shadow.AddComponent(ga).renderer.renderOrder=-9;this._shadow.name="shadow";this._shadow.GetComponent(ga).renderer.get_material().color.Set(.1,.1,.1,.2);this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));this.AddEvent(r.OnRemoveFromScene,k(this,this.OnRemoveFromScene));this._startY=-240},OnAddToScene:function(){this.AddEvent(r.OnUpdate,k(this,this.OnUpdate));this.AddEvent(r.OnBecameInvisible,
k(this,this.OnBecameInvisible))},OnRemoveFromScene:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate));this.RemoveEvent(r.OnBecameInvisible,k(this,this.OnBecameInvisible))},OnFixedUpdate:function(){var a=this.gameObject.tick,b=this.gameObject;b.set_y(b.y+this.v_y);this.v_y+=this.v_g;this._shadow.set_z(-this.gameObject.z);b=this.gameObject;b.set_x(b.x+this.v_x*a);b=this.gameObject.z-50*a;0>b&&(b=0);this.gameObject.set_z(b);b=this.gameObject;b.set_rotationZ(b.rotationZ+a)},OnUpdate:function(){var a=
this.gameObject.tick;this._time+=a;var b=this.v_y*this._time+.5*this.v_g*this._time*this._time;this._shadow.set_z(-this.gameObject.z);this.gameObject.set_y(this._startY+1E3*b);b=this.gameObject;b.set_x(b.x+this.v_x*a);b=this.gameObject.z-50*a;0>b&&(b=0);this.gameObject.set_z(b);b=this.gameObject;b.set_rotationZ(b.rotationZ+a)},OnBecameInvisible:function(){0>this.v_y+this._time*this.v_g&&(this.fall(),this.removeSelf())},fall:function(){},removeSelf:function(){this.gameObject.parent.RemoveChild(this.gameObject)},
__class__:rb});var db=function(){v.call(this)};g.FruitFly=db;db.__name__=["FruitFly"];db.GetFly=function(){return 0<db._pool._length?db._pool.Pop():T.GetGameObject(db,null)};db.__super__=rb;db.prototype=n(rb.prototype,{url:null,color:null,_type:null,Load:function(){null==db._pathlist&&(db._pathlist=["apple","banana","basaha","peach","sandia"],db._colorlist=[8173584,16311095,15810855,15826701,4813583],db._soundlist=["impact-apple","impact-banana","impact-strawberry","impact-pineapple","impact-watermelon"]);
var a=Ca["int"](lc._random.Get()*db._pathlist.length);this.url=db._pathlist[a];this.color=db._colorlist[a];var b="images/fruit/"+this.url+".png";this._image.gameObject.GetComponent(Ia).SetNativeSize();this._shadow.GetComponent(Ia).SetNativeSize();this._image.set_resource(N.get_sprite().Get(b));this._shadow.GetComponent(ga).set_resource(N.get_sprite().Get(b));this.AddEvent(D.OnTouchOver,k(this,this.OnTouchOver));this._type=0;this.initphysic();cb.Play("sound/"+db._soundlist[a]);return this},Bomb:function(){this._image.gameObject.GetComponent(Ia).SetNativeSize();
this._shadow.GetComponent(Ia).SetNativeSize();this._image.set_resource(N.get_sprite().Get("images/fruit/bomb.png"));this._shadow.GetComponent(ga).set_resource(N.get_sprite().Get("images/fruit/bomb.png"));this.AddEvent(D.OnTouchOver,k(this,this.OnTouchOver));this.gameObject.set_y(-240);this.v_x=10*lc._random.Get()-5;this.gameObject.set_x(400*lc._random.Get()-200);this._type=1;this.initphysic();cb.Play("sound/throw-bomb");return this},fall:function(){rb.prototype.fall.call(this);0==this._type&&fa.stage.Fall(this.gameObject.x)},
initphysic:function(){this._startY=-240;this.gameObject.set_y(this._startY);this.v_x=10*lc._random.Get()-5;this.gameObject.set_x(400*lc._random.Get()-200);this._time=0;this.gameObject.set_z(80);this.v_y=15;this.v_g=-.3;this.v_y=.8;this.v_g=-1},OnTouchOver:function(){if(fa.stage.playing){var a=D.OnTouchOver.touch.motion;if(2<a.get_length())if(0==this._type){var b=a.x/30*200,c=-a.y/40*.3+(this.v_y+this.v_g*this._time),d=30*lc._random.Get()+30,d=.5<lc._random.Get()?1*d:-1*d,e=Tb.GetPart();e.From(this);
e.Load(this.url,1);e.v_x=d+b;e._time=0;e.v_y=c;e._startY=this.gameObject.y;fa.stage.gameObject.AddChild(e.gameObject);e=Tb.GetPart();e.From(this);e.Load(this.url,2);e.v_x=-d+b;e._time=0;e.v_y=c;e._startY=this.gameObject.y;fa.stage.gameObject.AddChild(e.gameObject);fa.stage.Hit();b=Math.atan2(-a.y,a.x);a=a.get_length();for(c=0;5>c;)c++,d=Sb.Get(),d.color=this.color,d.angle=b,d.speed=a,d.angleRandom=.5235987755982988,d.scale=2,d.time=.3*Math.random()+.5,d.speed=300*Math.random()+100,fa.stage.gameObject.AddChild(d.gameObject),
d.gameObject.set_x(this.gameObject.x),d.gameObject.set_y(this.gameObject.y),d.gameObject.set_z(this.gameObject.z);this.removeSelf()}else 1==this._type&&(this.RemoveEvent(r.OnFixedUpdate,k(this,this.OnFixedUpdate)),this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate)),this.RemoveEvent(D.OnTouchOver,k(this,this.OnTouchOver)),fa.stage.HitBomb(),this.gameObject.AddComponent(Bd))}},removeSelf:function(){rb.prototype.removeSelf.call(this);this.RemoveEvent(D.OnTouchOver,k(this,this.OnTouchOver));db._pool.Add(this)},
__class__:db});var Tb=function(){v.call(this)};g.FruitPart=Tb;Tb.__name__=["FruitPart"];Tb.GetPart=function(){return 0<Tb._pool._length?Tb._pool.Pop():T.GetGameObject(Tb,null)};Tb.__super__=rb;Tb.prototype=n(rb.prototype,{Load:function(a,b){var c="images/fruit/"+a+"-"+b+".png";this._image.gameObject.GetComponent(Ia).SetNativeSize();this._shadow.GetComponent(Ia).SetNativeSize();this._image.set_resource(N.get_sprite().Get(c));this._image.raycastTarget=!1;this._shadow.GetComponent(ga).set_resource(N.get_sprite().Get(c))},
removeSelf:function(){rb.prototype.removeSelf.call(this);Tb._pool.Add(this)},__class__:Tb});var fa=function(){v.call(this)};g.Game=fa;fa.__name__=["Game"];fa.__super__=v;fa.prototype=n(v.prototype,{start:function(){v.prototype.start.call(this);N.get_sprite().AddAtals("images/ui.png");N.get_sprite().AddAtals("images/fruit.png");N.get_sprite().AddAtals("images/eff.png");this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));fa.game=this},OnAddToScene:function(){fa.canvas=T.GetGameObject(mc,null);fa.canvas.distanceToCamera=
200;fa.canvas.SetSize(640,480);this.gameObject.AddChild(fa.canvas.gameObject);var a=T.GetGameObject(ga,null);a.gameObject.name="bg";a.set_resource(N.get_sprite().Get("images/ui/background.png"));a.renderer.renderOrder=-10;fa.canvas.gameObject.AddChild(a.gameObject);fa.menu=T.GetGameObject(de,null);fa.stage=T.GetGameObject(ee,null);fa.over=T.GetGameObject(fe,null);fa.canvas.gameObject.AddChild(fa.menu.gameObject);a=T.GetGameObject(ge,null);a.set_sizeStart(1.5);a.set_sizeEnd(.1);a.set_life(.2);a.renderer.materials[0].set_renderType(Oa.Overlay);
a.renderer.materials[0].SetTexture(N.get_texture().Get("images/type0_2.png"));this.gameObject.AddChild(a.gameObject);a.gameObject.name="trail";this.gameObject.scene.camera.gameObject.AddComponent(he).trail=a},__class__:fa});var fe=function(){v.call(this)};g.GameOver=fe;fe.__name__=["GameOver"];fe.__super__=v;fe.prototype=n(v.prototype,{_image:null,start:function(){v.prototype.start.call(this);this._image=T.GetGameObject(ga,null);this._image.rect.set_pivotY(0);this._image.gameObject.set_y(80);this.gameObject.AddChild(this._image.gameObject);
this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));var a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/ui/quit.png"));this.gameObject.AddChild(a.gameObject);a.gameObject.AddComponent(Mc).speed=-.3;a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/fruit/basaha.png"));this.gameObject.AddChild(a.gameObject);a.gameObject.AddComponent(Mc).speed=.3;a.gameObject.AddComponent(Cd).AddEventListener(y.SELECT,k(this,this.doPlay))},OnAddToScene:function(){this._image.set_resource(N.get_sprite().Get("images/ui/game-over.png"));
cb.Play("sound/game-over")},doPlay:function(a){fa.canvas.gameObject.RemoveChild(this.gameObject);fa.canvas.gameObject.AddChild(fa.menu.gameObject)},__class__:fe});var q=function(){};g.HxOverrides=q;q.__name__=["HxOverrides"];q.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};q.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};q.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,
0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};q.remove=function(a,b){var c=q.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};q.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Cf=function(a){this._timeList=[];this._type=[];this._loopIndex=0;a=new cd(a);for(var b=a._length,c=0;0<b--;){var d=w.Trim(a.ReadLine());if("#"!=d.charAt(0))if("loop"==d)this._loopIndex=this._timeList.length;else{var e=
d.indexOf(" "),c=q.substr(d,0,e),c=Ca.parseFloat(na.replace(c," ",""));isNaN(c)||(this._timeList.push(c),c=q.substr(d,e,null),c=na.replace(c," ",""),this._type.push(Ca.parseInt(c)))}}this._index=0;this._nextTime=this._timeList[0];this._nextType=this._type[0]};g.Level=Cf;Cf.__name__=["Level"];Cf.prototype={_timeList:null,_type:null,_index:null,_loopIndex:null,_nextTime:null,_nextType:null,Reset:function(){this._index=0;this._nextTime=this._timeList[0];this._nextType=this._type[0]},Next:function(){this._index++;
this._index>=this._type.length&&(this._index=this._loopIndex);this._nextType=this._type[this._index];this._nextTime+=this._timeList[this._index]},GetNextTime:function(){return this._nextTime},GetNextType:function(){return this._nextType},__class__:Cf};var Df=function(){this.length=0};g.List=Df;Df.__name__=["List"];Df.prototype={h:null,q:null,length:null,add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=
this.h[1];null==this.h&&(this.q=null);this.length--;return a},iterator:function(){return new Ef(this.h)},__class__:Df};var Ef=function(a){this.head=a;this.val=null};g["_List.ListIterator"]=Ef;Ef.__name__=["_List","ListIterator"];Ef.prototype={head:null,val:null,hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:Ef};var Xb=function(){v.call(this)};g.Lose=Xb;Xb.__name__=["Lose"];Xb.Get=function(){return 0<Xb._pool._length?
Xb._pool.Pop():T.GetGameObject(Xb,null)};Xb.__super__=v;Xb.prototype=n(v.prototype,{_image:null,_time:null,start:function(){v.prototype.start.call(this);this._image=this.gameObject.AddComponent(ga);this._image.set_resource(N.get_sprite().Get("images/ui/lose.png"));this.gameObject.name="lose";this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));this.AddEvent(r.OnRemoveFromScene,k(this,this.OnRemoveFromScene))},OnAddToScene:function(){this._time=.5;this.AddEvent(r.OnUpdate,k(this,this.OnUpdate));
cb.Play("sound/gank")},OnRemoveFromScene:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate))},OnUpdate:function(){this._time-=this.gameObject.tick;0>this._time&&(Xb._pool.Add(this),this.removeSelf())},removeSelf:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate));this.gameObject.parent.RemoveChild(this.gameObject)},__class__:Xb});Math.__name__=["Math"];var de=function(){v.call(this)};g.Menu=de;de.__name__=["Menu"];de.__super__=v;de.prototype=n(v.prototype,{start:function(){v.prototype.start.call(this);
this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));var a=this.gameObject.AddComponent(Ia);a.set_width(640);a.set_height(480);a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/ui/home-mask.png"));a.rect.set_pivotY(1);a.rect.set_anchorY(1);this.gameObject.AddChild(a.gameObject);a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/ui/logo.png"));a.rect.set_pivotX(0);a.rect.set_pivotY(1);a.rect.set_anchorX(0);a.rect.set_anchorY(1);a.gameObject.set_x(50);this.gameObject.AddChild(a.gameObject);
a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/ui/new-game.png"));this.gameObject.AddChild(a.gameObject);a.gameObject.AddComponent(Mc).speed=-.3;a=T.GetGameObject(ga,null);a.set_resource(N.get_sprite().Get("images/fruit/sandia.png"));this.gameObject.AddChild(a.gameObject);a.gameObject.AddComponent(Mc).speed=.3;a.gameObject.AddComponent(Cd).AddEventListener(y.SELECT,k(this,this.doPlay))},OnAddToScene:function(){lc._random._seed=1},doPlay:function(a){fa.canvas.gameObject.RemoveChild(this.gameObject);
fa.canvas.gameObject.AddChild(fa.stage.gameObject)},__class__:de});var S=function(){};g.Reflect=S;S.__name__=["Reflect"];S.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};S.field=function(a,b){try{return a[b]}catch(c){return c instanceof C&&(c=c.val),null}};S.setField=function(a,b,c){a[b]=c};S.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};S.callMethod=function(a,b,c){return b.apply(a,c)};S.fields=function(a){var b=
[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};S.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};S.compareMethods=function(a,b){return a==b?!0:S.isFunction(a)&&S.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};var Mc=function(){v.call(this)};g.Rotation=Mc;Mc.__name__=["Rotation"];Mc.__super__=v;Mc.prototype=n(v.prototype,{speed:null,start:function(){v.prototype.start.call(this);
this.AddEvent(r.OnUpdate,k(this,this.OnUpdate));this.speed=1},OnUpdate:function(){var a=this.gameObject;a.set_rotationZ(a.rotationZ+this.gameObject.tick*this.speed)},__class__:Mc});var Ca=function(){};g.Std=Ca;Ca.__name__=["Std"];Ca.string=function(a){return K.__string_rec(a,"")};Ca["int"]=function(a){return a|0};Ca.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=q.cca(a,1)&&88!=q.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};Ca.parseFloat=function(a){return parseFloat(a)};var yc=function(a){this._seed=
null!=a?a:Ca["int"](2147483647*Math.random())};g["lovedna.utils.Random"]=yc;yc.__name__=["lovedna","utils","Random"];yc.prototype={_seed:null,GetInt:function(){this._seed^=this._seed<<21;this._seed^=this._seed>>17;return this._seed^=this._seed<<4},Get:function(){this.GetInt();return z.GetFixedNumber(1E-6*zc.toFloat(this._seed)%1,9)},__class__:yc};var lc=function(){};g.Seed=lc;lc.__name__=["Seed"];var ie=function(){v.call(this)};g.SlowMotion=ie;ie.__name__=["SlowMotion"];ie.__super__=v;ie.prototype=
n(v.prototype,{_time:null,Start:function(a){null==a&&(a=.2);ta.timeScale=.1;this._time=a;this.AddEvent(r.OnFixedUpdate,k(this,this.OnFixedUpdate))},OnFixedUpdate:function(){this._time-=.0166666666666667;0>=this._time&&(ta.timeScale=1,this.RemoveEvent(r.OnFixedUpdate,k(this,this.OnFixedUpdate)))},__class__:ie});var Sb=function(){this.time=1;this.angleRandom=2*Math.PI;this.angle=0;this.scale=this.speed=1;v.call(this)};g.SmokeEffect=Sb;Sb.__name__=["SmokeEffect"];Sb.Get=function(){return 0<Sb.pool._length?
Sb.pool.Pop():T.GetGameObject(Sb,null)};Sb.__super__=v;Sb.prototype=n(v.prototype,{scale:null,speed:null,angle:null,angleRandom:null,time:null,color:null,_image:null,_xinc:null,_yinc:null,_speed:null,_time:null,start:function(){v.prototype.start.call(this);this._image=this.gameObject.AddComponent(ga);this._image.set_resource(N.get_sprite().Get("images/ui/smoke.png"));this._image.renderer.materials[0].state.set_blend(nc.EquationTwo(32774,770,1));this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));
this.AddEvent(r.OnRemoveFromScene,k(this,this.OnRemoveFromScene));this.scale=1;this.speed=200;this.angle=0;this.angleRandom=2*Math.PI;this.time=1;this.color=16777215},OnUpdate:function(){var a=this.gameObject.tick;this._time-=a;var b=this._time/this.time;this._image.renderer.materials[0].color.set_a(b);a=this._speed*a*b;b=this.gameObject;b.set_x(b.x+this._xinc*a);b=this.gameObject;b.set_y(b.y+this._yinc*a);0>this._time&&(this.gameObject.parent.RemoveChild(this.gameObject),Sb.pool.Add(this))},OnAddToScene:function(){this.AddEvent(r.OnUpdate,
k(this,this.OnUpdate));var a=(Math.random()-.5)*this.angleRandom*2+this.angle;this.gameObject.set_scaleX(this.gameObject.set_scaleY(this.scale));this._xinc=Math.cos(a);this._yinc=Math.sin(a);this._speed=this.speed;this._time=this.time;this._image.renderer.materials[0].color.set_rgb(this.color)},OnRemoveFromScene:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate))},__class__:Sb});var Cd=function(){v.call(this)};g.SoftButton=Cd;Cd.__name__=["SoftButton"];Cd.__super__=v;Cd.prototype=n(v.prototype,
{_playing:null,_time:null,start:function(){v.prototype.start.call(this);this.AddEvent(D.OnTouchEnter,k(this,this.OnTouchEnter));this.gameObject.GetComponent(Ra).raycastTarget=!0;this._playing=!1},OnTouchEnter:function(){5<=D.OnTouchEnter.touch.motion.get_length()&&(this.RemoveEvent(D.OnTouchEnter,k(this,this.OnTouchEnter)),this._playing=!0,this._time=.5,this.AddEvent(r.OnUpdate,k(this,this.OnUpdate)))},OnUpdate:function(){if(0<this._time){this._time-=this.gameObject.tick;var a=.6*this._time,b=this._time%
6.283185307179586*30;this.gameObject.set_scaleX(Math.cos(b)*a+1);this.gameObject.set_scaleY(Math.sin(b)*a+1);0>=this._time&&(this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate)),this.AddEvent(D.OnTouchEnter,k(this,this.OnTouchEnter)),this.DispatchEvent(y.SELECT))}},__class__:Cd});var Jf=function(a){this.browser=new Ff;this.engine=new Gf;this.os=new Hf;this.device=new If;var b=null,b=window.navigator.userAgent.toLowerCase();null==b&&(b=a);null!=b&&(-1!=b.indexOf("linux")&&(this.os.name="Linux"),a=new Bb("iphone(simulator)?|ipad|ipod",
"ig"),a.match(b)?(this.os.name="ios",this.os.version="1.0.0",a=new Bb("os (.*) like mac os","ig"),a.match(b)&&(a=a.matched(1),this.os.version=na.replace(a,"_",".")),-1!=b.indexOf("iphone simulator")?this.device.type="emulator":-1!=b.indexOf("ipod")?(this.device.type="media",this.device.model="iPod Touch"):-1!=b.indexOf("iphone")?(this.device.type="mobile",this.device.model="Iphone"):(this.device.type="tablet",this.device.model="iPad")):(a=new Bb("mac os x","ig"),a.match(b)&&(this.os.name="Mac OS X",
a=new Bb("mac os x (10[0-9\\._]*)","ig"),a.match(b)&&(a=a.matched(1),this.os.version=na.replace(a,"_",".")))),-1!=b.indexOf("windows")&&(this.os.name="Windows",-1!=b.indexOf("wp7")?(this.os.name="Windows Phone",this.device.type="mobile"):-1!=b.indexOf("windows mobile")?(this.os.name="Windows Phone",this.device.type="mobile"):-1!=b.indexOf("windows phone")?(this.os.name="Windows Phone",this.device.type="mobile"):-1!=b.indexOf("windows phone os")&&(this.os.name="Windows Phone",this.device.type="mobile")),
-1!=b.indexOf("android")&&(this.os.name="Android",this.device.type="mobile",a=new Bb("android ([0-9\\._]*)","ig"),a.match(b)&&(this.os.version=a.matched(1))),-1!=b.indexOf("safari")&&(this.browser.name="Safari",a=new Bb("version/([0-9\\.]+)","ig"),a.match(b)?this.browser.version=a.matched(1):(a=new Bb("safari/([0-9\\.]+)","ig"),a.match(b)&&(this.browser.version=a.matched(1)))),-1!=b.indexOf("msie")&&(this.browser.name="Internet Explorer",a=new Bb("msie ([0-9.]*)","ig"),a.match(b)&&(this.browser.version=
a.matched(1))),-1!=b.indexOf("opera")&&(this.browser.name="Opera"),-1!=b.indexOf("firefox")&&(this.browser.name="Firefox"),a=new Bb("(chrome|crmo|crios)/([0-9.]*)","ig"),a.match(b)&&(this.browser.name="chrome",this.browser.version=a.matched(2)),-1!=b.indexOf("trident")&&(this.browser.name="Internet Explorer"),-1!=b.indexOf("edge")&&(this.browser.name="Internet Explorer",a=new Bb("edge/([0-9\\.]+)","ig"),a.match(b)&&(this.browser.version=a.matched(1)),-1!=b.indexOf("windows phone")&&(this.os.name=
"Windows Phone")))};g["lovedna.utils.UA"]=Jf;Jf.__name__=["lovedna","utils","UA"];Jf.prototype={browser:null,engine:null,os:null,device:null,__class__:Jf};var Ff=function(){};g["lovedna.utils.UABrowser"]=Ff;Ff.__name__=["lovedna","utils","UABrowser"];Ff.prototype={name:null,version:null,__class__:Ff};var Gf=function(){};g["lovedna.utils.UAEngine"]=Gf;Gf.__name__=["lovedna","utils","UAEngine"];Gf.prototype={__class__:Gf};var Hf=function(){};g["lovedna.utils.UAOS"]=Hf;Hf.__name__=["lovedna","utils",
"UAOS"];Hf.prototype={name:null,version:null,__class__:Hf};var If=function(){};g["lovedna.utils.UADevice"]=If;If.__name__=["lovedna","utils","UADevice"];If.prototype={type:null,model:null,__class__:If};var na=function(){};g.StringTools=na;na.__name__=["StringTools"];na.urlEncode=function(a){return encodeURIComponent(a)};na.startsWith=function(a,b){return a.length>=b.length&&q.substr(a,0,b.length)==b};na.isSpace=function(a,b){var c=q.cca(a,b);return 8<c&&14>c||32==c};na.ltrim=function(a){for(var b=
a.length,c=0;c<b&&na.isSpace(a,c);)c++;return 0<c?q.substr(a,c,b-c):a};na.rtrim=function(a){for(var b=a.length,c=0;c<b&&na.isSpace(a,b-c-1);)c++;return 0<c?q.substr(a,0,b-c):a};na.trim=function(a){return na.ltrim(na.rtrim(a))};na.replace=function(a,b,c){return a.split(b).join(c)};na.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};na.fastCodeAt=function(a,b){return a.charCodeAt(b)};var cb=function(){};g.SoundPlay=cb;
cb.__name__=["SoundPlay"];cb.Play=function(a){var b=null;0<cb._pool._length?b=cb._pool.Pop():(b=new je,b.AddEventListener(y.FINISH,cb.audioFinish));a="ios"==cb._ua.os.name||"Windows"==cb._ua.os.name?a+".mp3":a+".ogg";b.Load(a);b.Play();return b};cb.audioFinish=function(a){a=a._target;null!=a&&cb._pool.Add(a)};var ee=function(){v.call(this)};g.Stage=ee;ee.__name__=["Stage"];ee.__super__=v;ee.prototype=n(v.prototype,{playing:null,_time:null,_nextTime:null,_level:null,_fallCount:null,_hasFail:null,_showCount:null,
_scoreTxt:null,_score:null,_combTime:null,_combCount:null,_flist:null,ShowFail:function(){this._hasFail||this.playing||(this._hasFail=!0,Ub.Add(1,k(this,this._showFail)))},HitBomb:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate));this.playing=!1;cb.Play("sound/impact-bomb")},Hit:function(){this._combTime+=.2;this._combCount++},Fall:function(a){if(this.playing){this._fallCount++;var b=Xb.Get();this.gameObject.AddChild(b.gameObject);b.gameObject.set_x(a);b.gameObject.set_y(-210);3==this._fallCount&&
(this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate)),this.playing=!1,this.ShowFail());a=3-this._fallCount;for(b=0;3>b;){var c=b++,d=this._flist[c];c<a?d.renderer.materials[0].color.set_rgb(16777215):d.renderer.materials[0].color.set_rgb(8947848)}}},start:function(){v.prototype.start.call(this);this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));this.gameObject.AddComponent(ie);var a=this.gameObject.AddComponent(Ia);a.set_width(640);a.set_height(480);this._scoreTxt=T.GetGameObject(Vb,null);this.gameObject.AddChild(this._scoreTxt.gameObject);
this._scoreTxt.set_font(N.get_font().Get("images/font/num_0"));this._scoreTxt.set_text("0");this._scoreTxt.set_alignmentX(0);this._scoreTxt.gameObject.set_y(200);this._scoreTxt.gameObject.set_x(-320);this._scoreTxt.rect.set_width(640);this._flist=[];var a=-100,b=T.GetGameObject(ga,this.gameObject);b.set_resource(N.get_sprite().Get("images/ui/xf"));b.rect.SetAnchor(1,1);b.gameObject.set_x(a);b.gameObject.set_y(-40);this._flist.push(b);a+=30;b=T.GetGameObject(ga,this.gameObject);b.set_resource(N.get_sprite().Get("images/ui/xxf"));
b.rect.SetAnchor(1,1);b.gameObject.set_x(a);b.gameObject.set_y(-40);this._flist.push(b);a+=40;b=T.GetGameObject(ga,this.gameObject);b.set_resource(N.get_sprite().Get("images/ui/xxxf"));b.rect.SetAnchor(1,1);b.gameObject.set_x(a);b.gameObject.set_y(-40);this._flist.push(b)},OnAddToScene:function(){this._score=0;this._scoreTxt.set_text(""+this._score);this._combCount=this._combTime=0;this.playing=!0;this._hasFail=!1;this._fallCount=0;var a=N.get_text().Get("level");a.enable?this.enterLevel():a.AddEventListener(y.INIT,
k(this,this.enterLevel),null,!0);for(a=0;3>a;){var b=a++;this._flist[b].renderer.materials[0].color.set_rgb(16777215)}cb.Play("sound/game-start")},OnUpdate:function(){var a=this.gameObject.tick;0<this._combTime&&(this._combTime-=a,0>=this._combTime&&(this.addScore(this._combCount),this._combTime=this._combCount=0));this._time+=a;if(this._time>=this._nextTime){var a=db.GetFly(),b=this._level.GetNextType();0==b?a.Load():1==b&&a.Bomb();this.gameObject.AddChild(a.gameObject);this._level.Next();this._nextTime=
this._level.GetNextTime()}},enterLevel:function(a){null==this._level&&(a=N.get_text().Get("level"),this._level=new Cf(a.value));this._level.Reset();this._time=0;this._nextTime=this._level.GetNextTime();this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))},_showFail:function(a){fa.canvas.gameObject.RemoveChild(this.gameObject);fa.canvas.gameObject.AddChild(fa.over.gameObject)},addScore:function(a){this._score+=a*a;this._scoreTxt.set_text(""+this._score);if(!(2>a)){var b=Yb.Get();this.gameObject.AddChild(b.gameObject);
var c="";2==a?c="\u975e\u5e38\u597d":3==a?c="\u592a\u68d2\u4e86":4==a?c="\u60ca\u4eba":5==a?c="\u4e0d\u53ef\u601d\u8bae":5<a&&(c="\u8d85\u4e4e\u60f3\u50cf");b.Show(c)}},__class__:ee});var Yb=function(){v.call(this)};g.Tip=Yb;Yb.__name__=["Tip"];Yb.Get=function(){return 0<Yb._pool._length?Yb._pool.Pop():T.GetGameObject(Yb,null)};Yb.__super__=v;Yb.prototype=n(v.prototype,{_time:null,_txt:null,_ease:null,Show:function(a){this._txt.set_text(a);this._time=1;this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))},
start:function(){v.prototype.start.call(this);this._txt=this.gameObject.AddComponent(Vb);this._txt.set_font(N.get_font().Get("images/font/a_0"));this.gameObject.GetComponent(Ia).SetAnchor(.5,.5).SetPivot();this._txt.set_alignmentX(0);this._ease=Cb.instance},OnUpdate:function(){this._time-=this.gameObject.tick;this.gameObject.set_scaleX(this.gameObject.set_scaleY(this._ease.BounceOut(1-this._time)));0>=this._time&&(this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate)),Yb._pool.Add(this),this.gameObject.parent.RemoveChild(this.gameObject))},
__class__:Yb});var he=function(){v.call(this)};g.TrailStage=he;he.__name__=["TrailStage"];he.__super__=v;he.prototype=n(v.prototype,{trail:null,_angle:null,_swip:null,_swipCheckTime:null,_sound:null,start:function(){v.prototype.start.call(this);this.AddEvent(D.OnTouchMove,k(this,this.OnTouchMove));this.AddEvent(r.OnUpdate,k(this,this.OnUpdate));this._swip=!1;this._sound=[]},OnTouchMove:function(){var a=D.OnTouchMove.touch.position,b=ab.current.ScreenToWorldPoint(a.x,a.y,100);this.trail.MoveTo(b);
.3>a.get_length()/Math.sqrt(ca.width*ca.width+ca.height*ca.height)||0!=this._swip||(this._swip=!0,this._swipCheckTime=.3,cb.Play("sound/sword-swipe-"+z.Floor(1+7*yc.instance.Get())))},OnUpdate:function(){this._swip&&(this._swipCheckTime-=this.gameObject.tick,0>=this._swipCheckTime&&(this._swip=!1))},__class__:he});var qb=function(){};g.Type=qb;qb.__name__=["Type"];qb.getClass=function(a){return null==a?null:K.getClass(a)};qb.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};qb.resolveClass=
function(a){a=g[a];return null!=a&&a.__name__?a:null};qb.resolveEnum=function(a){a=g[a];return null!=a&&a.__ename__?a:null};qb.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new C("Too many arguments");}};qb.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};qb.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);q.remove(b,"__class__");q.remove(b,"__properties__");return b};var zc={};g["_UInt.UInt_Impl_"]=zc;zc.__name__=["_UInt","UInt_Impl_"];zc.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};zc.toFloat=function(a){return 0>a?4294967296+a:a+0};var Kf=function(){};g["haxe.IMap"]=
Kf;Kf.__name__=["haxe","IMap"];var Lf=function(a,b){this.high=a;this.low=b};g["haxe._Int64.___Int64"]=Lf;Lf.__name__=["haxe","_Int64","___Int64"];Lf.prototype={high:null,low:null,__class__:Lf};var dd=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};g["haxe.Timer"]=dd;dd.__name__=["haxe","Timer"];dd.stamp=function(){return(new Date).getTime()/1E3};dd.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:dd};var Mf=function(){};
g["haxe.Utf8"]=Mf;Mf.__name__=["haxe","Utf8"];Mf.iter=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;b(q.cca(a,e))}};var ed=function(){this.a1=1;this.a2=0};g["haxe.crypto.Adler32"]=ed;ed.__name__=["haxe","crypto","Adler32"];ed.read=function(a){var b=new ed,c=a.readByte(),d=a.readByte(),e=a.readByte();a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};ed.prototype={a1:null,a2:null,update:function(a,b,c){var d=this.a1,e=this.a2,f=b;for(b+=c;f<b;)c=f++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;
this.a2=e},equals:function(a){return a.a1==this.a1&&a.a2==this.a2},__class__:ed};var Nf=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw new C("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};g["haxe.crypto.BaseCode"]=Nf;Nf.__name__=["haxe","crypto","BaseCode"];Nf.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=pa.alloc(d+(0==8*a.length%b?0:1)),f=0,E=0,g=(1<<b)-1,h=0,k=0;k<d;){for(;E<b;)E+=8,
f<<=8,f|=a.get(h++);E-=b;e.set(k++,c.b[f>>E&g])}0<E&&e.set(k++,c.b[f<<b-E&g]);return e},__class__:Nf};var Sg=function(){};g["haxe.crypto.Crc32"]=Sg;Sg.__name__=["haxe","crypto","Crc32"];Sg.make=function(a){var b=-1,c=a.b.bufferValue,d=0;for(a=a.length;d<a;){for(var e=d++,e=(b^c.bytes[e])&255,f=0;8>f;)f++,e=1==(e&1)?e>>>1^-306674912:e>>>1;b=b>>>8^e}return b^-1};var Aa=function(){this.h={}};g["haxe.ds.IntMap"]=Aa;Aa.__name__=["haxe","ds","IntMap"];Aa.__interfaces__=[Kf];Aa.prototype={h:null,set:function(a,
b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return q.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Aa};var Nc=function(){this.h={};this.h.__keys__={}};g["haxe.ds.ObjectMap"]=Nc;Nc.__name__=["haxe","ds","ObjectMap"];Nc.__interfaces__=[Kf];
Nc.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Nc.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},__class__:Nc};var ke=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};g["haxe.ds._StringMap.StringMapIterator"]=ke;ke.__name__=["haxe","ds","_StringMap","StringMapIterator"];ke.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<
this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:ke};var R=function(){this.h={}};g["haxe.ds.StringMap"]=R;R.__name__=["haxe","ds","StringMap"];R.__interfaces__=[Kf];R.prototype={h:null,rh:null,set:function(a,b){null!=Hb[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Hb[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Hb[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+
a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=Hb[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return q.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==
b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ke(this,this.arrayKeys())},__class__:R};var pa=function(a){this.length=a.byteLength;this.b=new oc(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};g["haxe.io.Bytes"]=pa;pa.__name__=["haxe","io","Bytes"];pa.alloc=function(a){return new pa(new Of(a))};pa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=na.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|na.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=
d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new pa((new oc(b)).buffer)};pa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new pa(a)};pa.prototype={length:null,b:null,data:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new C(Wa.OutsideBounds);0==c&&d==b.length?this.b.set(b.b,a):this.b.set(b.b.subarray(c,
c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new C(Wa.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,E=a+b;f<E;){var g=d[f++];if(128>g){if(0==g)break;c+=e(g)}else if(224>g)c+=e((g&63)<<6|d[f++]&127);else if(240>g)var h=d[f++],c=c+e((g&31)<<12|(h&127)<<6|d[f++]&127);else var h=d[f++],k=d[f++],g=(g&15)<<18|(h&127)<<12|(k&127)<<6|d[f++]&127,c=c+e((g>>10)+55232),c=c+e(g&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:pa};
var Pf=function(){this.b=[]};g["haxe.io.BytesBuffer"]=Pf;Pf.__name__=["haxe","io","BytesBuffer"];Pf.prototype={b:null,addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new C(Wa.OutsideBounds);a=a.b;var d=b;for(b+=c;d<b;)c=d++,this.b.push(a[c])},getBytes:function(){var a=new pa((new oc(this.b)).buffer);this.b=null;return a},__class__:Pf};var le=function(){};g["haxe.io.Input"]=le;le.__name__=["haxe","io","Input"];le.prototype={bigEndian:null,readByte:function(){throw new C("Not implemented");
},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw new C(Wa.OutsideBounds);for(;0<d;)e[b]=this.readByte(),b++,d--;return c},read:function(a){for(var b=pa.alloc(a),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw new C(Wa.Blocked);c+=d;a-=d}return b},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},__class__:le};var me=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new C(Wa.OutsideBounds);
this.b=a.b;this.pos=b;this.totlen=this.len=c};g["haxe.io.BytesInput"]=me;me.__name__=["haxe","io","BytesInput"];me.__super__=le;me.prototype=n(le.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw new C(new ne);this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new C(Wa.OutsideBounds);if(0==this.len&&0<c)throw new C(new ne);this.len<c&&(c=this.len);var d=this.b;a=a.b;for(var e=0;e<c;){var f=e++;a[b+f]=d[this.pos+f]}this.pos+=
c;this.len-=c;return c},__class__:me});var ne=function(){};g["haxe.io.Eof"]=ne;ne.__name__=["haxe","io","Eof"];ne.prototype={toString:function(){return"Eof"},__class__:ne};var Wa=g["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Wa.Blocked=["Blocked",0];Wa.Blocked.toString=u;Wa.Blocked.__enum__=Wa;Wa.Overflow=["Overflow",1];Wa.Overflow.toString=u;Wa.Overflow.__enum__=Wa;Wa.OutsideBounds=["OutsideBounds",2];Wa.OutsideBounds.toString=u;Wa.OutsideBounds.__enum__=
Wa;Wa.Custom=function(a){a=["Custom",3,a];a.__enum__=Wa;a.toString=u;return a};var Zb=function(){};g["haxe.io.FPHelper"]=Zb;Zb.__name__=["haxe","io","FPHelper"];Zb.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Zb.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,c++);
return(0>a?-2147483648:0)|c+127<<23|b};Zb.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Zb.doubleToI64=function(a){var b=Zb.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<
a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var Ac=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=q.substr(a,0,c),a=q.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=q.substr(a,0,b),a=q.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=q.substr(a,b+1,null),this.file=q.substr(a,0,b)):(this.ext=null,this.file=a)};g["haxe.io.Path"]=Ac;Ac.__name__=["haxe","io","Path"];Ac.withoutExtension=
function(a){a=new Ac(a);a.ext=null;return a.toString()};Ac.extension=function(a){a=new Ac(a);return null==a.ext?"":a.ext};Ac.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Ac};var $b=g["haxe.zip.Huffman"]={__ename__:!0,__constructs__:["Found","NeedBit","NeedBits"]};$b.Found=function(a){a=["Found",0,a];a.__enum__=$b;a.toString=u;return a};$b.NeedBit=function(a,
b){var c=["NeedBit",1,a,b];c.__enum__=$b;c.toString=u;return c};$b.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=$b;c.toString=u;return c};var Qf=function(){};g["haxe.zip.HuffTools"]=Qf;Qf.__name__=["haxe","zip","HuffTools"];Qf.prototype={treeDepth:function(a){switch(a[1]){case 0:return 0;case 2:throw new C("assert");case 1:var b=a[3];a=this.treeDepth(a[2]);b=this.treeDepth(b);return 1+(a<b?a:b)}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b)switch(a[1]){case 1:return b=
a[3],$b.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));default:throw new C("assert");}for(var c=1<<b,d=[],e=0;e<c;)e++,d.push($b.Found(-1));this.treeWalk(d,0,0,b,a);return $b.NeedBits(b,d)},treeWalk:function(a,b,c,d,e){switch(e[1]){case 1:var f=e[3],E=e[2];0<d?(this.treeWalk(a,b,c+1,d-1,E),this.treeWalk(a,b|1<<c,c+1,d-1,f)):a[b]=this.treeCompress(e);break;default:a[b]=this.treeCompress(e)}},treeMake:function(a,b,c,d){if(d>b)throw new C("Invalid huffman");var e=c<<5|d;if(a.h.hasOwnProperty(e))return $b.Found(a.h[e]);
c<<=1;d+=1;return $b.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,c|1,d))},make:function(a,b,c,d){var e=[],f=[];if(32<d)throw new C("Invalid huffman");for(var E=0;E<d;)E++,e.push(0),f.push(0);for(E=0;E<c;){var g=E++,g=a[g+b];if(g>=d)throw new C("Invalid huffman");e[g]++}for(var E=0,g=1,h=d-1;g<h;){var k=g++,E=E+e[k]<<1;f[k]=E}e=new Aa;for(E=0;E<c;)g=E++,h=a[g+b],0!=h&&(k=f[h-1],f[h-1]=k+1,e.h[k<<5|h]=g);return this.treeCompress($b.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},__class__:Qf};
var Rf=function(a){this.buffer=pa.alloc(65536);this.pos=0;a&&(this.crc=new ed)};g["haxe.zip._InflateImpl.Window"]=Rf;Rf.__name__=["haxe","zip","_InflateImpl","Window"];Rf.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=pa.alloc(65536);this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},addByte:function(a){65536==
this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:Rf};var U=g["haxe.zip._InflateImpl.State"]={__ename__:!0,__constructs__:"Head Block CData Flat Crc Dist DistOne Done".split(" ")};U.Head=["Head",0];U.Head.toString=u;U.Head.__enum__=U;U.Block=["Block",1];U.Block.toString=u;U.Block.__enum__=
U;U.CData=["CData",2];U.CData.toString=u;U.CData.__enum__=U;U.Flat=["Flat",3];U.Flat.toString=u;U.Flat.__enum__=U;U.Crc=["Crc",4];U.Crc.toString=u;U.Crc.__enum__=U;U.Dist=["Dist",5];U.Dist.toString=u;U.Dist.__enum__=U;U.DistOne=["DistOne",6];U.DistOne.toString=u;U.DistOne.__enum__=U;U.Done=["Done",7];U.Done.toString=u;U.Done.__enum__=U;var Xa=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new Qf;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=
0;this.state=b?U.Head:U.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new Rf(c)};g["haxe.zip.InflateImpl"]=Xa;Xa.__name__=["haxe","zip","InflateImpl"];Xa.run=function(a,b){null==b&&(b=65536);for(var c=pa.alloc(b),d=new Pf,e=new Xa(a);;){var f=e.readBytes(c,0,b);d.addBytes(c,0,f);if(f<b)break}return d.getBytes()};Xa.prototype={nbits:null,bits:null,state:null,"final":null,huffman:null,huffdist:null,
htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null!=Xa.FIXED_HUFFMAN)return Xa.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}Xa.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return Xa.FIXED_HUFFMAN},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<
this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},addByte:function(a){this.window.addByte(a);
this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a[1]){case 0:return a[2];case 1:var b=a[3];a=a[2];return this.applyHuffman(this.getBit()?b:a);case 2:return this.applyHuffman(a[3][this.getBits(a[2])])}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);
switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=e;a[c]=e;c++;break;case 16:e=c+3+this.getBits(2);if(e>b)throw new C("Invalid data");for(;c<e;)a[c]=d,c++;break;case 17:c+=3+this.getBits(3);if(c>b)throw new C("Invalid data");break;case 18:c+=11+this.getBits(7);if(c>b)throw new C("Invalid data");break;default:throw new C("Invalid data");}}},inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();
if(8!=(a&15))throw new C("Invalid data");var b=this.input.readByte(),c=0!=(b&32);if(0!=((a<<8)+b)%31)throw new C("Invalid data");if(c)throw new C("Unsupported dictionary");this.state=U.Block;return!0;case 4:a=this.window.checksum();if(null==a)return this.state=U.Done,!0;b=ed.read(this.input);if(!a.equals(b))throw new C("Invalid CRC");this.state=U.Done;return!0;case 7:return!1;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=
65535-this.len)throw new C("Invalid data");this.state=U.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=U.CData,!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,d=0;d<c;){var e=d++;this.lengths[Xa.CODE_LENGTHS_POS[e]]=this.getBits(3)}for(;19>c;)d=c++,this.lengths[Xa.CODE_LENGTHS_POS[d]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];d=0;for(e=a+b;d<e;)d++,c.push(0);this.inflateLengths(c,
a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=U.CData;return!0;default:throw new C("Invalid data");}case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?U.Crc:U.Block),0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=U.CData),0<this.needed;case 5:for(;0<this.len&&0<this.needed;)a=
this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=U.CData);return 0<this.needed;case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?U.Crc:U.Block;else{b-=257;a=Xa.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw new C("Invalid data");this.len=Xa.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=Xa.DIST_EXTRA_BITS_TBL[b];
if(-1==a)throw new C("Invalid data");this.dist=Xa.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw new C("Invalid data");this.state=1==this.dist?U.DistOne:U.Dist}return!0}},__class__:Xa};var Tg=function(){};g["haxe.zip.Uncompress"]=Tg;Tg.__name__=["haxe","zip","Uncompress"];Tg.run=function(a,b){return Xa.run(new me(a),b)};var C=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,C)};g["js._Boot.HaxeError"]=
C;C.__name__=["js","_Boot","HaxeError"];C.__super__=Error;C.prototype=n(Error.prototype,{val:null,__class__:C});var K=function(){};g["js.Boot"]=K;K.__name__=["js","Boot"];K.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=K.__nativeClassName(a);return null!=a?K.__resolveNativeClass(a):null};K.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");
switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+K.__string_rec(a[f],b)):c+K.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+K.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(E){return E instanceof C&&(E=E.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+=
"\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+K.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};K.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||K.__interfLoop(f,
b))return!0}return K.__interfLoop(a.__super__,b)};K.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Bh:return(a|0)===a;case xh:return"number"==typeof a;case Ch:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Th:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||K.__interfLoop(K.getClass(a),b))return!0}else{if("object"==typeof b&&K.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==
Uh&&null!=a.__name__||b==Vh&&null!=a.__ename__?!0:a.__enum__==b}};K.__cast=function(a,b){if(K.__instanceof(a,b))return a;throw new C("Cannot cast "+Ca.string(a)+" to "+Ca.string(b));};K.__nativeClassName=function(a){a=K.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};K.__isNativeObj=function(a){return null!=K.__nativeClassName(a)};K.__resolveNativeClass=function(a){return vh[a]};var oe=function(){};g["js.html._CanvasElement.CanvasUtil"]=oe;oe.__name__=["js",
"html","_CanvasElement","CanvasUtil"];oe.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var ac=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};g["js.html.compat.ArrayBuffer"]=ac;ac.__name__=["js","html","compat","ArrayBuffer"];ac.sliceImpl=function(a,b){var c=new oc(this,a,null==
b?null:b-a),d=new Of(c.byteLength);(new oc(d)).set(c);return d};ac.prototype={byteLength:null,a:null,slice:function(a,b){return new ac(this.a.slice(a,b))},__class__:ac};var Ug=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new C(Wa.OutsideBounds);};g["js.html.compat.DataView"]=Ug;Ug.__name__=["js","html","compat","DataView"];Ug.prototype={buf:null,offset:null,length:null,
getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<
16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Zb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Zb.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=
b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Zb.floatToI32(b),c)},setFloat64:function(a,b,c){b=Zb.doubleToI64(b);c?(this.setUint32(a,b.low),
this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Ug};var Bc=function(){};g["js.html.compat.Uint8Array"]=Bc;Bc.__name__=["js","html","compat","Uint8Array"];Bc._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new ac(c)}else if(K.__instanceof(a,ac))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof
Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new ac(c);else throw new C("TODO "+Ca.string(a));c.subarray=Bc._subarray;c.set=Bc._set;return c};Bc._set=function(a,b){if(K.__instanceof(a.buffer,ac)){if(a.byteLength+b>this.byteLength)throw new C("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new C("set() outside of range");c=0;for(d=a.length;c<d;)e=
c++,this[e+b]=a[e]}else throw new C("TODO");};Bc._subarray=function(a,b){var c=Bc._new(this.slice(a,b));c.byteOffset=a;return c};var Sf=function(){this.enabled=!0;this.audio=new R;this.font=new R;this.image=new R;this.version=356606};g["lime.AssetCache"]=Sf;Sf.__name__=["lime","AssetCache"];Sf.prototype={audio:null,enabled:null,image:null,font:null,version:null,clear:function(a){if(null==a)this.audio=new R,this.font=new R,this.image=new R;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();
na.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),na.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),na.startsWith(c,a)&&this.image.remove(c)}},__class__:Sf};var Na=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Void_Void"]=Na;Na.__name__=["lime","app","_Event_Void_Void"];Na.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);
null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=
!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?c++:this.remove(a[c]),!this.canceled););},__class__:Na};var G=function(){};g["lime.Assets"]=G;G.__name__=["lime","Assets"];G.exists=function(a,b){null==b&&(b="BINARY");var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=q.substr(a,d,null);c=G.getLibrary(c);return null!=c?c.exists(d,b):!1};G.getAudioBuffer=function(a,b){null==b&&(b=!0);if(b&&G.cache.enabled&&G.cache.audio.exists(a)){var c=G.cache.audio.get(a);if(G.isValidAudio(c))return c}var c=
a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=q.substr(a,d,null);var e=G.getLibrary(c);if(null!=e)if(e.exists(d,"SOUND")){if(e.isLocal(d,"SOUND"))return c=e.getAudioBuffer(d),b&&G.cache.enabled&&G.cache.audio.set(a,c),c;eb.info('Audio asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:119,className:"lime.Assets",methodName:"getAudioBuffer"})}else eb.info('There is no audio asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:125,className:"lime.Assets",
methodName:"getAudioBuffer"});else eb.info('There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:131,className:"lime.Assets",methodName:"getAudioBuffer"});return null};G.getBytes=function(a){var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=q.substr(a,c,null);var d=G.getLibrary(b);if(null!=d)if(d.exists(c,"BINARY")){if(d.isLocal(c,"BINARY"))return d.getBytes(c);eb.info('String or Bytes asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:166,
className:"lime.Assets",methodName:"getBytes"})}else eb.info('There is no String or Bytes asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:172,className:"lime.Assets",methodName:"getBytes"});else eb.info('There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:178,className:"lime.Assets",methodName:"getBytes"});return null};G.getFont=function(a,b){null==b&&(b=!0);if(b&&G.cache.enabled&&G.cache.font.exists(a))return G.cache.font.get(a);var c=a.substring(0,a.indexOf(":")),
d;d=a.indexOf(":")+1;d=q.substr(a,d,null);var e=G.getLibrary(c);if(null!=e)if(e.exists(d,"FONT")){if(e.isLocal(d,"FONT"))return c=e.getFont(d),b&&G.cache.enabled&&G.cache.font.set(a,c),c;eb.info('Font asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:227,className:"lime.Assets",methodName:"getFont"})}else eb.info('There is no Font asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:233,className:"lime.Assets",methodName:"getFont"});else eb.info('There is no asset library named "'+
c+'"',{fileName:"Assets.hx",lineNumber:239,className:"lime.Assets",methodName:"getFont"});return null};G.getImage=function(a,b){null==b&&(b=!0);if(b&&G.cache.enabled&&G.cache.image.exists(a)){var c=G.cache.image.get(a);if(G.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=q.substr(a,d,null);var e=G.getLibrary(c);if(null!=e)if(e.exists(d,"IMAGE")){if(e.isLocal(d,"IMAGE"))return c=e.getImage(d),b&&G.cache.enabled&&G.cache.image.set(a,c),c;eb.info('Image asset "'+a+
'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:295,className:"lime.Assets",methodName:"getImage"})}else eb.info('There is no Image asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:301,className:"lime.Assets",methodName:"getImage"});else eb.info('There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:307,className:"lime.Assets",methodName:"getImage"});return null};G.getLibrary=function(a){if(null==a||""==a)a="default";return G.libraries.get(a)};
G.getText=function(a){var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=q.substr(a,c,null);var d=G.getLibrary(b);if(null!=d)if(d.exists(c,"TEXT")){if(d.isLocal(c,"TEXT"))return d.getText(c);eb.info('String asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:394,className:"lime.Assets",methodName:"getText"})}else eb.info('There is no String asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:400,className:"lime.Assets",methodName:"getText"});else eb.info('There is no asset library named "'+
b+'"',{fileName:"Assets.hx",lineNumber:406,className:"lime.Assets",methodName:"getText"});return null};G.isValidAudio=function(a){return null!=a};G.isValidImage=function(a){return!0};G.registerLibrary=function(a,b){if(G.libraries.exists(a)){if(G.libraries.get(a)==b)return;G.unloadLibrary(a)}null!=b&&b.onChange.add(G.library_onChange);G.libraries.set(a,b)};G.unloadLibrary=function(a){var b=G.libraries.get(a);null!=b&&(G.cache.clear(a+":"),b.onChange.remove(G.library_onChange),b.unload());G.libraries.remove(a)};
G.library_onChange=function(){G.cache.clear();G.onChange.dispatch()};var Tf=function(a){this.gameDeviceCache=new Aa;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;fd.init()};g["lime._backend.html5.HTML5Application"]=Tf;Tf.__name__=["lime","_backend","html5","HTML5Application"];Tf.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;
switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;
case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;
case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",k(this,this.handleKeyEvent),!1);window.addEventListener("keyup",
k(this,this.handleKeyEvent),!1);window.addEventListener("focus",k(this,this.handleWindowEvent),!1);window.addEventListener("blur",k(this,this.handleWindowEvent),!1);window.addEventListener("resize",k(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",k(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=
window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),E=Math.max(0,16-(f-a)),g=window.setTimeout(function(){b(f+E)},E);a=f+E;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();
this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&(this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,
this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(k(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&
a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();this.parent.__windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.__windows[0].__width;var b=this.parent.__windows[0].__height;this.parent.__windows[0].backend.handleResize();this.parent.__windows[0].__width==a&&
this.parent.__windows[0].__height==b||this.parent.__windows[0].onResize.dispatch(this.parent.__windows[0].__width,this.parent.__windows[0].__height);break;case "beforeunload":this.parent.__windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=Ka.__getDeviceData();if(null!=a)for(var b,c,d,e,f,E=0,g=a.length;E<g;)if(b=E++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Uf;f.id=b;f.connected=e.connected;
c=0;for(d=e.buttons.length;c<d;){var h=c++;f.buttons.push(e.buttons[h].value)}c=0;for(d=e.axes.length;c<d;)h=c++,f.axes.push(e.axes[h]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(Ka.__connect(b),f.isGamepad&&Sa.__connect(b))}f=this.gameDeviceCache.h[b];d=Ka.devices.h[b];c=Sa.devices.h[b];if(e.connected){for(var k=0,l=e.buttons.length;k<l;){var m=k++,h=e.buttons[m].value;if(h!=f.buttons[m]){if(6==m)d.onAxisMove.dispatch(e.axes.length,h),null!=c&&c.onAxisMove.dispatch(4,
h);else if(7==m)d.onAxisMove.dispatch(e.axes.length+1,h),null!=c&&c.onAxisMove.dispatch(5,h);else if(0<h?d.onButtonDown.dispatch(m):d.onButtonUp.dispatch(m),null!=c){switch(m){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<h?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[m]=
h}}b=0;for(h=e.axes.length;b<h;)k=b++,e.axes[k]!=f.axes[k]&&(d.onAxisMove.dispatch(k,e.axes[k]),null!=c&&c.onAxisMove.dispatch(k,e.axes[k]),f.axes[k]=e.axes[k])}else f.connected&&(f.connected=!1,Ka.__disconnect(b),Sa.__disconnect(b))}},__class__:Tf};var Uf=function(){this.connected=!0;this.buttons=[];this.axes=[]};g["lime._backend.html5.GameDeviceData"]=Uf;Uf.__name__=["lime","_backend","html5","GameDeviceData"];Uf.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Uf};
var Wf=function(a){this.parent=a;this.gain=1;this.position=new Vf};g["lime._backend.html5.HTML5AudioSource"]=Wf;Wf.__name__=["lime","_backend","html5","HTML5AudioSource"];Wf.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;this.id=this.parent.buffer.__srcHowl.play();this.setGain(this.parent.get_gain());
this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",k(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(this.completed)return this.getLength();var a=Ca["int"](1E3*this.parent.buffer.__srcHowl.seek(this.id))-
this.parent.offset;return 0>a?0:a},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:Ca["int"](1E3*this.parent.buffer.__srcHowl.duration())},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=
a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:Wf};var gd=function(){};g["lime._backend.html5.HTML5Mouse"]=gd;gd.__name__=["lime","_backend","html5","HTML5Mouse"];gd.set_cursor=function(a){if(gd.__cursor!=a){if(!gd.__hidden)for(var b=0,c=Ib.current.__windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor=
"crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor="text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;
default:d.backend.element.style.cursor="auto"}}gd.__cursor=a}return gd.__cursor};var Xf=function(a){this.parent=a};g["lime._backend.html5.HTML5Renderer"]=Xf;Xf.__name__=["lime","_backend","html5","HTML5Renderer"];Xf.prototype={parent:null,create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",k(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",k(this,this.handleEvent),
!1)}},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=bb.DOM(this.parent.window.backend.div),this.parent.type=ua.DOM;else if(null!=this.parent.window.backend.canvas){var a=null,a={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,"background")&&null==this.parent.window.config.background?!0:!1,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")?0<this.parent.window.config.antialiasing:!1,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")?this.parent.window.config.stencilBuffer:!1,preserveDrawingBuffer:!1},a=oe.getContextWebGL(this.parent.window.backend.canvas,a);null==a?(this.parent.context=bb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=ua.CANVAS):(m.context=a,this.parent.context=bb.OPENGL(m.context),this.parent.type=ua.OPENGL)}},flip:function(){},
handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:Xf};var Dd=function(a){this.unusedTouchesPool=new Df;this.scale=1;this.currentTouches=new Aa;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);a.__scale=this.scale;
this.cacheMouseY=this.cacheMouseX=0};g["lime._backend.html5.HTML5Window"]=Dd;Dd.__name__=["lime","_backend","html5","HTML5Window"];Dd.prototype={canvas:null,div:null,element:null,cacheMouseX:null,cacheMouseY:null,currentTouches:null,parent:null,primaryTouch:null,scale:null,setHeight:null,setWidth:null,unusedTouchesPool:null,close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=Dd.windowID++;
K.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.div=window.document.createElement("div");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),
a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),
this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=
0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,k(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",k(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",k(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",k(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",
k(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",k(this,this.handleGamepadEvent),!0)}},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":Ka.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&Sa.__connect(a.gamepad.index);break;case "gamepaddisconnected":Ka.__disconnect(a.gamepad.index),Sa.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),
b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();
break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button);break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY)}this.cacheMouseX=b;this.cacheMouseY=c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){this.primaryTouch=null;var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||
null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(this.element.clientWidth*this.scale),this.canvas.height=Math.round(this.element.clientHeight*this.scale),this.canvas.style.width=this.element.clientWidth+"px",this.canvas.style.height=this.element.clientHeight+
"px"):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else{var a=0!=this.setWidth?this.element.clientWidth/this.setWidth:1,b;b=0!=this.setHeight?this.element.clientHeight/this.setHeight:1;var c=this.element.clientWidth,d=this.element.clientHeight,e=0,f=0;a<b?(d=Math.floor(this.setHeight*a),f=Math.floor((this.element.clientHeight-d)/2)):(c=Math.floor(this.setWidth*b),e=Math.floor((this.element.clientWidth-c)/2));null!=this.canvas?this.element!=
this.canvas&&(this.canvas.style.width=c+"px",this.canvas.style.height=d+"px",this.canvas.style.marginLeft=e+"px",this.canvas.style.marginTop=f+"px"):(this.div.style.width=c+"px",this.div.style.height=d+"px",this.div.style.marginLeft=e+"px",this.div.style.marginTop=f+"px")}},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=
this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var E=f[e];++e;var g=0,h=0;null!=b?(g=c/b.width*(E.clientX-b.left),h=d/b.height*(E.clientY-b.top)):(g=E.clientX,h=E.clientY);switch(a.type){case "touchstart":var k=this.unusedTouchesPool.pop();null==k?k=new sb(g/c,h/d,E.identifier,0,0,E.force,this.parent.id):(k.x=g/c,k.y=h/d,k.id=E.identifier,k.dx=0,k.dy=0,k.pressure=E.force,k.device=this.parent.id);this.currentTouches.h[E.identifier]=
k;sb.onStart.dispatch(k);null==this.primaryTouch&&(this.primaryTouch=k);k==this.primaryTouch&&this.parent.onMouseDown.dispatch(g,h,0);break;case "touchend":k=this.currentTouches.h[E.identifier];if(null!=k){var l=k.x,m=k.y;k.x=g/c;k.y=h/d;k.dx=k.x-l;k.dy=k.y-m;k.pressure=E.force;sb.onEnd.dispatch(k);this.currentTouches.remove(E.identifier);this.unusedTouchesPool.add(k);k==this.primaryTouch&&(this.parent.onMouseUp.dispatch(g,h,0),this.primaryTouch=null)}break;case "touchmove":k=this.currentTouches.h[E.identifier],
null!=k&&(l=k.x,m=k.y,k.x=g/c,k.y=h/d,k.dx=k.x-l,k.dy=k.y-m,k.pressure=E.force,sb.onMove.dispatch(k),k==this.primaryTouch&&this.parent.onMouseMove.dispatch(g,h))}}},resize:function(a,b){},setFullscreen:function(a){return!1},__class__:Dd};var pe=function(){};g["lime.app.IModule"]=pe;pe.__name__=["lime","app","IModule"];pe.prototype={addRenderer:null,addWindow:null,registerModule:null,setPreloader:null,__class__:pe};var pc=function(){this.onExit=new hd;this.__renderers=[];this.__windows=[]};g["lime.app.Module"]=
pc;pc.__name__=["lime","app","Module"];pc.__interfaces__=[pe];pc.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(k(this,this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(k(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onRenderContextRestored),a));this.__renderers.push(a)},addWindow:function(a){a.onActivate.add(function(a,
c){return function(){a(c)}}(k(this,this.onWindowActivate),a));a.onClose.add(function(a,c){return function(){a(c)}}(k(this,this.__onWindowClose),a));a.onCreate.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowCreate),a));a.onDeactivate.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowDeactivate),a));a.onDropFile.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onWindowDropFile),a));a.onEnter.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowEnter),
a));a.onFocusIn.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFocusOut),a));a.onFullscreen.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onKeyDown),a));a.onKeyUp.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onKeyUp),a));a.onLeave.add(function(a,c){return function(){a(c)}}(k(this,
this.onWindowLeave),a));a.onMinimize.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onMouseDown),a));a.onMouseMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onMouseMove),a));a.onMouseMoveRelative.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onMouseUp),
a));a.onMouseWheel.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onMouseWheel),a));a.onMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onWindowMove),a));a.onResize.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onWindowResize),a));a.onRestore.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowRestore),a));a.onTextEdit.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onTextEdit),a));a.onTextInput.add(function(a,c){return function(d){a(c,
d)}}(k(this,this.onTextInput),a));if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(k(this,this.onModuleExit),!1,0);a.onUpdate.add(k(this,this.update));for(a=Sa.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}Sa.onConnect.add(k(this,this.__onGamepadConnect));for(a=Ka.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);Ka.onConnect.add(k(this,this.__onJoystickConnect));sb.onStart.add(k(this,
this.onTouchStart));sb.onMove.add(k(this,this.onTouchMove));sb.onEnd.add(k(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<q.indexOf(this.__renderers,a,0)&&q.remove(this.__renderers,a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(k(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(k(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(k(this,this.onPreloadProgress)),
a.onComplete.add(k(this,this.onPreloadComplete))},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},
onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},
onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,
c){return function(d,e){a(c,d,e)}}(k(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(k(this,this.onGamepadDisconnect),a))},__onJoystickConnect:function(a){this.onJoystickConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onJoystickAxisMove),
a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onJoystickButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onJoystickButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(k(this,this.onJoystickDisconnect),a));a.onHatMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onJoystickTrackballMove),a))},
__onWindowClose:function(a){this.onWindowClose(a);q.remove(this.__windows,a)},__class__:pc};var Ib=function(){this.onUpdate=new hd;pc.call(this);null==Ib.current&&(Ib.current=this);this.modules=[];this.windowByID=new Aa;this.backend=new Tf(this);this.registerModule(this)};g["lime.app.Application"]=Ib;Ib.__name__=["lime","app","Application"];Ib.__super__=pc;Ib.prototype=n(pc.prototype,{config:null,modules:null,onUpdate:null,window:null,backend:null,windowByID:null,addModule:function(a){a.registerModule(this);
this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},addRenderer:function(a){pc.prototype.addRenderer.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},createWindow:function(a){pc.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;
d.addWindow(a)}null==a.renderer&&(b=new Yf(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Ib.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(q.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==a&&(this.window=
null))},setPreloader:function(a){pc.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},__class__:Ib});var Zf=function(a){if(null!=a){var b=new id;b.future=this;mb.queue({promise:b,work:a})}};g["lime.app.Future"]=Zf;Zf.__name__=["lime","app","Future"];Zf.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=a&&(this.isComplete?a(this.value):
this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},__class__:Zf};var mb=function(){};g["lime.app._Future.FutureWork"]=mb;mb.__name__=["lime","app","_Future","FutureWork"];mb.queue=function(a){null==mb.threadPool&&(mb.threadPool=new $f,mb.threadPool.doWork.add(mb.threadPool_doWork),
mb.threadPool.onComplete.add(mb.threadPool_onComplete),mb.threadPool.onError.add(mb.threadPool_onError));mb.threadPool.queue(a)};mb.threadPool_doWork=function(a){try{var b=a.work();mb.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof C&&(c=c.val),mb.threadPool.sendError({promise:a.promise,error:c})}};mb.threadPool_onComplete=function(a){a.promise.complete(a.result)};mb.threadPool_onError=function(a){a.promise.error(a.error)};var za=function(){this.loaded=this.total=0;this.onProgress=
new qe;this.onComplete=new Na;this.onProgress.add(k(this,this.update))};g["lime.app.Preloader"]=za;za.__name__=["lime","app","Preloader"];za.prototype={complete:null,onComplete:null,onProgress:null,loaded:null,total:null,create:function(a){},load:function(a,b){for(var c=this,d=null,e=G.cache.version,f=new R,g=0,h=a.length;g<h;){var l=g++,d=a[l];switch(b[l]){case "IMAGE":za.images.exists(d)||(l=new Image,za.images.set(d,l),l.onload=k(this,this.image_onLoad),l.src=d+"?"+e,this.total++);break;case "BINARY":za.loaders.exists(d)||
(l=new re,za.loaders.set(d,l),this.total++);break;case "TEXT":za.loaders.exists(d)||(l=new re,za.loaders.set(d,l),this.total++);break;case "MUSIC":case "SOUND":var l=Ac.withoutExtension(d),m=Ac.extension(d);(null!=Hb[l]?f.existsReserved(l):f.h.hasOwnProperty(l))||(f.set(l,[]),this.total++);"wav"==m?(null!=Hb[l]?f.getReserved(l):f.h[l]).push(d):(null!=Hb[l]?f.getReserved(l):f.h[l]).unshift(d);break;case "FONT":this.total++,this.loadFont(d)}}for(d=za.loaders.keys();d.hasNext();)g=d.next(),za.loaders.get(g).load(g+
"?"+e).onComplete(k(this,this.loader_onComplete));for(e=new ke(f,f.arrayKeys());e.hasNext();)f=[e.next()],Db.loadFromFiles(f[0]).onComplete(function(a){return function(b){for(var d=0;d<a[0].length;){var e=a[0][d];++d;za.audioBuffers.set(e,b)}c.audioBuffer_onLoad()}}(f)).onError(k(this,this.audioBuffer_onLoad));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(yh=window.document.fonts,k(yh,yh.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){b.loaded++;
b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,g=!1;a=function(){if(c.offsetWidth!=e){if(!g)return g=
!0,!1;b.loaded++;null!=f&&window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},audioBuffer_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:za};var id=function(){this.future=new Zf};g["lime.app.Promise"]=id;id.__name__=["lime","app","Promise"];id.prototype={future:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<
c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var b=0,c=this.future.__progressListeners;b<c.length;){var d=
c[b];++b;d(a)}return this},__class__:id};var Cc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Dynamic_Void"]=Cc;Cc.__name__=["lime","app","_Event_Dynamic_Void"];Cc.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,
!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Cc};var se=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Float_Float_Int_Void"]=se;se.__name__=["lime","app","_Event_Float_Float_Int_Void"];se.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?f++:this.remove(d[f]),!this.canceled););},__class__:se};var jd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Float_Float_Void"]=
jd;jd.__name__=["lime","app","_Event_Float_Float_Void"];jd.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:jd};var te=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Int_Float_Void"]=te;te.__name__=["lime","app","_Event_Int_Float_Void"];te.prototype={canceled:null,__repeat:null,
__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,
1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:te};var qe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Int_Int_Void"]=qe;qe.__name__=["lime","app","_Event_Int_Int_Void"];qe.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,
e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:qe};var hd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Int_Void"]=hd;hd.__name__=["lime","app","_Event_Int_Void"];hd.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:hd};var ag=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=ag;ag.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];ag.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:ag};var bg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_String_Int_Int_Void"]=bg;bg.__name__=["lime","app","_Event_String_Int_Int_Void"];bg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:bg};var ue=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_String_Void"]=ue;ue.__name__=["lime","app","_Event_String_Void"];ue.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:ue};var cg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_graphics_RenderContext_Void"]=cg;cg.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];cg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==
b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:cg};var dg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=dg;dg.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];dg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=
d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<
c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:dg};var ve=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_ui_GamepadButton_Void"]=ve;ve.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];ve.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););
},__class__:ve};var eg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_ui_Gamepad_Void"]=eg;eg.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];eg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:eg};var fg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};g["lime.app._Event_lime_ui_Joystick_Void"]=fg;fg.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];fg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:fg};var we=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=
we;we.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];we.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:we};var Ed=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app._Event_lime_ui_Touch_Void"]=Ed;Ed.__name__=["lime",
"app","_Event_lime_ui_Touch_Void"];Ed.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)S.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ed};var Dh=function(){};g["lime.audio.ALAudioContext"]=Dh;Dh.__name__=["lime","audio","ALAudioContext"];var Eh=function(){};g["lime.audio.ALCAudioContext"]=Eh;Eh.__name__=["lime","audio","ALCAudioContext"];var Db=function(){};g["lime.audio.AudioBuffer"]=
Db;Db.__name__=["lime","audio","AudioBuffer"];Db.fromBytes=function(a){return null};Db.fromFile=function(a){if(null==a)return null;var b=new Db;b.__srcHowl=new Howl({src:[a]});return b};Db.fromFiles=function(a){var b=new Db;b.__srcHowl=new Howl({src:a});return b};Db.loadFromFile=function(a){var b=new id,c=Db.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};Db.loadFromFiles=
function(a){var b=new id,c=Db.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};Db.prototype={__srcHowl:null,get_src:function(){return this.__srcHowl},__class__:Db,__properties__:{get_src:"get_src"}};var bc=g["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};bc.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=bc;c.toString=
u;return c};bc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=bc;a.toString=u;return a};bc.WEB=function(a){a=["WEB",2,a];a.__enum__=bc;a.toString=u;return a};bc.FLASH=function(a){a=["FLASH",3,a];a.__enum__=bc;a.toString=u;return a};bc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=bc;a.toString=u;return a};var fd=function(){};g["lime.audio.AudioManager"]=fd;fd.__name__=["lime","audio","AudioManager"];fd.init=function(a){if(null==fd.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,
fd.context=bc.WEB(new AudioContext)}catch(b){b instanceof C&&(b=b.val),fd.context=bc.HTML5(new gg)}else fd.context=a};var hg=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=new Na;this.buffer=a;this.offset=b;this.backend=new Wf(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};g["lime.audio.AudioSource"]=hg;hg.__name__=["lime","audio","AudioSource"];hg.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},
init:function(){this.backend.init()},play:function(){this.backend.play()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},set_currentTime:function(a){return this.backend.setCurrentTime(a)},get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},set_length:function(a){return this.backend.setLength(a)},set_loops:function(a){return this.backend.setLoops(a)},get_position:function(){return this.backend.getPosition()},
set_position:function(a){return this.backend.setPosition(a)},__class__:hg,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",set_length:"set_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var Fh=function(){};g["lime.audio.FlashAudioContext"]=Fh;Fh.__name__=["lime","audio","FlashAudioContext"];var gg=function(){};g["lime.audio.HTML5AudioContext"]=gg;gg.__name__=["lime","audio","HTML5AudioContext"];
gg.prototype={__class__:gg};var Vg=function(){};g["lime.graphics.ConsoleRenderContext"]=Vg;Vg.__name__=["lime","graphics","ConsoleRenderContext"];Vg.prototype={__class__:Vg};var Gh=function(){};g["lime.graphics.FlashRenderContext"]=Gh;Gh.__name__=["lime","graphics","FlashRenderContext"];var ra=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;if(null==g)if(null!=Ib.current&&null!=Ib.current.__renderers[0])switch(Ib.current.__renderers[0].context[1]){case 2:case 1:this.type=
Ba.CANVAS;break;case 3:this.type=Ba.FLASH;break;default:this.type=Ba.DATA}else this.type=Ba.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new qc(null,d,e);va.createCanvas(this,d,e);null!=f&&this.fillRect(new Fd(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new oc(a):null,this.buffer=new qc(a,d,e),null!=f&&this.fillRect(new Fd(0,0,d,e),f)}}else this.__fromImageBuffer(a)};g["lime.graphics.Image"]=ra;ra.__name__=["lime","graphics","Image"];ra.fromBytes=function(a,
b){if(null==a)return null;var c=new ra;c.__fromBytes(a,b);return c};ra.fromCanvas=function(a){if(null==a)return null;var b=new qc(null,a.width,a.height);b.set_src(a);a=new ra(b);a.type=Ba.CANVAS;return a};ra.fromFile=function(a,b,c){if(null==a)return null;var d=new ra;d.__fromFile(a,b,c);return d};ra.fromImageElement=function(a){if(null==a)return null;var b=new qc(null,a.width,a.height);b.set_src(a);a=new ra(b);a.type=Ba.CANVAS;return a};ra.__base64Encode=function(a){var b;switch(a.length%3){case 1:b=
"==";break;case 2:b="=";break;default:b=""}null==ra.__base64Encoder&&(ra.__base64Encoder=new Nf(pa.ofString(ra.__base64Chars)));return ra.__base64Encoder.encodeBytes(a).toString()+b};ra.__isJPG=function(a){return 255==a.b[0]&&216==a.b[1]};ra.__isPNG=function(a){return 137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]&&10==a.b[7]};ra.__isGIF=function(a){if(71==a.b[0]&&73==a.b[1]&&70==a.b[2]&&56==a.b[3]){var b=a.b[4];return(55==b||57==b)&&97==a.b[5]}return!1};ra.prototype=
{buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,type:null,version:null,width:null,clone:function(){if(null!=this.buffer){this.type==Ba.CANVAS?va.convertToCanvas(this):va.convertToData(this);var a=new ra(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new ra(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:va.fillRect(this,
a,b,c);break;case 1:va.convertToData(this);if(0==this.buffer.data.length)break;Dc.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=
0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new qc(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,
b){var c="";if(ra.__isPNG(a))c="image/png";else if(ra.__isJPG(a))c="image/jpeg";else if(ra.__isGIF(a))c="image/gif";else throw new C("Image tried to read PNG/JPG Bytes, but found an invalid header.");this.__fromBase64(ra.__base64Encode(a),c,b)},__fromFile:function(a,b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.onload=function(a){d.buffer=new qc(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=
a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&va.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){if(this.buffer.format!=a)switch(this.type[1]){case 1:Dc.setFormat(this,a)}return this.buffer.format=a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:va.convertToData(this),
Dc.multiplyAlpha(this)}else if(!a&&this.buffer.premultiplied)switch(this.type[1]){case 1:va.convertToData(this),Dc.unmultiplyAlpha(this)}return a},get_rect:function(){return new Fd(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&va.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:ra,__properties__:{get_rect:"get_rect",
set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var qc=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};g["lime.graphics.ImageBuffer"]=qc;qc.__name__=["lime","graphics","ImageBuffer"];
qc.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcImage:null,__srcImageData:null,clone:function(){var a=new qc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new oc(b):null;a.data=b;b=this.data;b=null!=b?new oc(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),
a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=
this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){K.__instanceof(a,Image)?this.__srcImage=a:K.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*
this.width},__class__:qc,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Ba=g["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Ba.CANVAS=["CANVAS",0];Ba.CANVAS.toString=u;Ba.CANVAS.__enum__=Ba;Ba.DATA=["DATA",1];Ba.DATA.toString=u;Ba.DATA.__enum__=Ba;Ba.FLASH=["FLASH",2];Ba.FLASH.toString=u;Ba.FLASH.__enum__=Ba;Ba.CUSTOM=["CUSTOM",3];Ba.CUSTOM.toString=u;Ba.CUSTOM.__enum__=Ba;var bb=g["lime.graphics.RenderContext"]={__ename__:!0,
__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};bb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=bb;a.toString=u;return a};bb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=bb;a.toString=u;return a};bb.DOM=function(a){a=["DOM",2,a];a.__enum__=bb;a.toString=u;return a};bb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=bb;a.toString=u;return a};bb.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=bb;a.toString=u;return a};bb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=
bb;a.toString=u;return a};bb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=bb;a.toString=u;return a};bb.NONE=["NONE",7];bb.NONE.toString=u;bb.NONE.__enum__=bb;var Yf=function(a){this.onRender=new Na;this.onContextRestored=new cg;this.onContextLost=new Na;this.window=a;this.backend=new Xf(this);this.window.renderer=this};g["lime.graphics.Renderer"]=Yf;Yf.__name__=["lime","graphics","Renderer"];Yf.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,
backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:Yf};var ua=g["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};ua.OPENGL=["OPENGL",0];ua.OPENGL.toString=u;ua.OPENGL.__enum__=ua;ua.CANVAS=["CANVAS",1];ua.CANVAS.toString=u;ua.CANVAS.__enum__=ua;ua.DOM=["DOM",2];ua.DOM.toString=u;ua.DOM.__enum__=ua;ua.FLASH=["FLASH",3];ua.FLASH.toString=u;ua.FLASH.__enum__=ua;ua.CAIRO=["CAIRO",4];
ua.CAIRO.toString=u;ua.CAIRO.__enum__=ua;ua.CONSOLE=["CONSOLE",5];ua.CONSOLE.toString=u;ua.CONSOLE.__enum__=ua;ua.CUSTOM=["CUSTOM",6];ua.CUSTOM.toString=u;ua.CUSTOM.__enum__=ua;var Wg=function(){};g["lime.graphics.cairo.Cairo"]=Wg;Wg.__name__=["lime","graphics","cairo","Cairo"];Wg.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},
rectangle:function(a,b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:Wg,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var Xg={};g["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=Xg;Xg.__name__=["lime",
"graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"];Xg.fromImage=function(a){return null};var Gd={};g["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=Gd;Gd.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];Gd.__properties__={set_filter:"set_filter"};Gd.createForSurface=function(a){return 0};Gd.set_filter=function(a,b){return b};var Yg={};g["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Yg;Yg.__name__=["lime","graphics","cairo","_CairoSurface",
"CairoSurface_Impl_"];Yg.flush=function(a){};var m=function(){};g["lime.graphics.opengl.GL"]=m;m.__name__=["lime","graphics","opengl","GL"];m.disableVertexAttribArray=function(a){m.context.disableVertexAttribArray(a)};m.useProgram=function(a){m.__currentProgram=a;m.context.useProgram(a)};var va=function(){};g["lime.graphics.utils.ImageCanvasUtil"]=va;va.__name__=["lime","graphics","utils","ImageCanvasUtil"];va.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==
c.__srcCanvas&&(va.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),va.createCanvas(a,c.width,c.height),va.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==Ba.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);
a.type=Ba.CANVAS};va.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&va.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)va.createImageData(a),a.type==Ba.CANVAS&&(a.dirty=!1);else if(a.type==Ba.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)va.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer,d=null!=d?new oc(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=
null);a.type=Ba.DATA};va.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=
!1)};va.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new oc(b):null;a.data=b}};va.fillRect=function(a,b,c,d){va.convertToCanvas(a);var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?
c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),a.dirty=!0,a.version++)};va.sync=function(a,b){a.type==Ba.CANVAS?va.convertToCanvas(a,b):va.convertToData(a,b)};var Dc=function(){};g["lime.graphics.utils.ImageDataUtil"]=Dc;Dc.__name__=["lime","graphics",
"utils","ImageDataUtil"];Dc.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=a.buffer.data;if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(Pa.a16=Pa.__alpha16[c&255],c=((c>>24&255)*Pa.a16>>16&255)<<24|((c>>16&255)*Pa.a16>>16&255)<<16|((c>>8&255)*Pa.a16>>
16&255)<<8|c&255));b=new ig(a,b);for(var f,g=0,h=b.height;g<h;){f=g++;f=b.offset+b.stride*f;for(var k=0,l=b.width;k<l;){var m=k++,m=f+4*m;switch(e){case 2:d[m]=c>>8&255;d[m+1]=c>>16&255;d[m+2]=c>>24&255;d[m+3]=c&255;break;case 0:d[m]=c>>24&255;d[m+1]=c>>16&255;d[m+2]=c>>8&255;d[m+3]=c&255;break;case 1:d[m]=c&255,d[m+1]=c>>24&255,d[m+2]=c>>16&255,d[m+3]=c>>8&255}}}a.dirty=!0;a.version++}};Dc.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d=
b.length/4|0,e,f=0;f<d;){var g=f++,h=4*g;switch(c){case 2:e=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255;break;case 0:e=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:e=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255}g*=4;0==(e&255)?0!=e&&(e=0):255!=(e&255)&&(Pa.a16=Pa.__alpha16[e&255],e=((e>>24&255)*Pa.a16>>16&255)<<24|((e>>16&255)*Pa.a16>>16&255)<<16|((e>>8&255)*Pa.a16>>16&255)<<8|e&255);switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>
24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};Dc.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,g,h,k,l,m,n,p,r,t,q,u;switch(a.get_format()){case 0:f=0;g=1;h=2;k=3;break;case 1:f=1;g=2;h=3;k=0;break;case 2:f=2,g=1,h=0,k=3}switch(b){case 0:l=0;m=1;n=2;p=3;break;case 1:l=1;m=2;n=3;p=0;break;case 2:l=
2,m=1,n=0,p=3}for(var v=0;v<e;)d=4*v++,r=c[d+f],t=c[d+g],q=c[d+h],u=c[d+k],c[d+l]=r,c[d+m]=t,c[d+n]=q,c[d+p]=u;a.buffer.format=b;a.dirty=!0;a.version++}};Dc.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var g=f++,h=4*g;switch(c){case 2:e=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255;break;case 0:e=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:e=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<
8|b[h]&255}if(0!=(e&255)&&255!=(e&255)){Pa.unmult=255/(e&255);var h=Math.round((e>>24&255)*Pa.unmult),h=Pa.__clamp[h],k;k=Math.round((e>>16&255)*Pa.unmult);k=Pa.__clamp[k];var l=Math.round((e>>8&255)*Pa.unmult);e=(h&255)<<24|(k&255)<<16|(Pa.__clamp[l]&255)<<8|e&255}g*=4;switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=
!1;a.dirty=!0;a.version++}};var ig=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+
a.offsetX)};g["lime.graphics.utils._ImageDataUtil.ImageDataView"]=ig;ig.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];ig.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,rect:null,stride:null,__class__:ig};var xe=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};g["lime.math.Matrix3"]=xe;xe.__name__=["lime","math","Matrix3"];xe.prototype=
{a:null,b:null,c:null,d:null,tx:null,ty:null,setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},__class__:xe};var Y={};g["lime.math._Matrix4.Matrix4_Impl_"]=Y;Y.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];Y._new=function(a){if(null==a||16!=a.length)a=Y.__identity,a=null!=a?new Float32Array(a):null;return a};Y.append=function(a,b){var c=a[0],d=a[4],e=a[8],f=a[12],g=a[1],h=a[5],k=a[9],l=a[13],m=a[2],n=a[6],p=a[10],r=a[14],t=a[3],q=a[7],u=a[11],v=a[15],x=Y.get(b,
0),y=Y.get(b,4),w=Y.get(b,8),z=Y.get(b,12),B=Y.get(b,1),C=Y.get(b,5),A=Y.get(b,9),H=Y.get(b,13),F=Y.get(b,2),I=Y.get(b,6),G=Y.get(b,10),M=Y.get(b,14),D=Y.get(b,3),K=Y.get(b,7),J=Y.get(b,11),L=Y.get(b,15);a[0]=c*x+g*y+m*w+t*z;a[1]=c*B+g*C+m*A+t*H;a[2]=c*F+g*I+m*G+t*M;a[3]=c*D+g*K+m*J+t*L;a[4]=d*x+h*y+n*w+q*z;a[5]=d*B+h*C+n*A+q*H;a[6]=d*F+h*I+n*G+q*M;a[7]=d*D+h*K+n*J+q*L;a[8]=e*x+k*y+p*w+u*z;a[9]=e*B+k*C+p*A+u*H;a[10]=e*F+k*I+p*G+u*M;a[11]=e*D+k*K+p*J+u*L;a[12]=f*x+l*y+r*w+v*z;a[13]=f*B+l*C+r*A+v*H;
a[14]=f*F+l*I+r*G+v*M;a[15]=f*D+l*K+r*J+v*L};Y.createOrtho=function(a,b,c,d,e,f){var g=1/(b-a),h=1/(d-c),k=1/(f-e);return Y._new(function(l){l=[2*g,0,0,0,0,2*h,0,0,0,0,-2*k,0,-(a+b)*g,-(c+d)*h,-(e+f)*k,1];return null!=l?new Float32Array(l):null}(this))};Y.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};Y.get=function(a,b){return a[b]};Y.set=function(a,b,c){return a[b]=c};var Fd=function(a,b,c,d){null==d&&(d=
0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};g["lime.math.Rectangle"]=Fd;Fd.__name__=["lime","math","Rectangle"];Fd.prototype={height:null,width:null,x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},__toFlashRectangle:function(){return null},__class__:Fd};var jg=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["lime.math.Vector2"]=jg;jg.__name__=["lime","math","Vector2"];jg.prototype={x:null,y:null,__class__:jg};var Vf=function(a,
b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};g["lime.math.Vector4"]=Vf;Vf.__name__=["lime","math","Vector4"];Vf.prototype={w:null,x:null,y:null,z:null,__class__:Vf};var Pa={};g["lime.math.color._RGBA.RGBA_Impl_"]=Pa;Pa.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];var re=function(){this.promise=new id};g["lime.net.HTTPRequest"]=re;re.__name__=["lime","net","HTTPRequest"];re.prototype={bytes:null,bytesLoaded:null,bytesTotal:null,promise:null,
load:function(a){var b=this;this.bytesTotal=this.bytesLoaded=0;var c=new XMLHttpRequest;c.addEventListener("progress",k(this,this.request_onProgress),!1);c.onreadystatechange=function(){4==c.readyState&&(null!=c.status&&200<=c.status&&400>=c.status?(b.bytes=cc.ofData(c.response),b.promise.complete(b.bytes)):b.promise.error(c.status))};c.open("GET",a,!0);c.responseType="arraybuffer";c.send("");return this.promise.future},request_onProgress:function(a){this.promise.progress(a.loaded/a.total)},__class__:re};
var kg=function(){this.onError=new Cc;this.onComplete=new Cc;this.doWork=new Cc};g["lime.system.BackgroundWorker"]=kg;kg.__name__=["lime","system","BackgroundWorker"];kg.prototype={canceled:null,doWork:null,onComplete:null,onError:null,__runMessage:null,run:function(a){this.canceled=!1;this.__runMessage=a;this.__doWork()},sendComplete:function(a){this.canceled||(this.canceled=!0,this.onComplete.dispatch(a))},sendError:function(a){this.canceled||(this.canceled=!0,this.onError.dispatch(a))},__doWork:function(){this.doWork.dispatch(this.__runMessage)},
__class__:kg};var Zg=function(){};g["lime.system.System"]=Zg;Zg.__name__=["lime","system","System"];Zg.getTimer=function(){return(new Date).getTime()};var $f=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new Cc;this.onComplete=new Cc;this.doWork=new Cc;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};g["lime.system.ThreadPool"]=$f;$f.__name__=["lime","system","ThreadPool"];$f.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,
queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:$f};var bd=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};g["lime.text.Font"]=bd;bd.__name__=["lime","text","Font"];bd.prototype={name:null,src:null,__fontPath:null,__fromFile:function(a){this.__fontPath=a},__class__:bd};var Sa=function(a){this.onDisconnect=new Na;this.onButtonUp=new ve;this.onButtonDown=
new ve;this.onAxisMove=new dg;this.id=a;this.connected=!0};g["lime.ui.Gamepad"]=Sa;Sa.__name__=["lime","ui","Gamepad"];Sa.__connect=function(a){if(!Sa.devices.h.hasOwnProperty(a)){var b=new Sa(a);Sa.devices.h[a]=b;Sa.onConnect.dispatch(b)}};Sa.__disconnect=function(a){var b=Sa.devices.h[a];null!=b&&(b.connected=!1);Sa.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Sa.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return Ka.__getDeviceData()[this.id].id},
get_name:function(){return Ka.__getDeviceData()[this.id].id},__class__:Sa,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Ka=function(a){this.onTrackballMove=new te;this.onHatMove=new ag;this.onDisconnect=new Na;this.onButtonUp=new hd;this.onButtonDown=new hd;this.onAxisMove=new te;this.id=a;this.connected=!0};g["lime.ui.Joystick"]=Ka;Ka.__name__=["lime","ui","Joystick"];Ka.__connect=function(a){if(!Ka.devices.h.hasOwnProperty(a)){var b=new Ka(a);Ka.devices.h[a]=b;Ka.onConnect.dispatch(b)}};
Ka.__disconnect=function(a){var b=Ka.devices.h[a];null!=b&&(b.connected=!1);Ka.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Ka.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};Ka.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,__class__:Ka};var hb={};g["lime.ui._KeyModifier.KeyModifier_Impl_"]=hb;hb.__name__=
["lime","ui","_KeyModifier","KeyModifier_Impl_"];hb.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};hb.get_altKey=function(a){return 0<(a&256)||0<(a&512)};hb.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};hb.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};hb.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var ye=function(){};g["lime.ui.Mouse"]=ye;ye.__name__=["lime","ui","Mouse"];ye.__properties__={set_cursor:"set_cursor"};
ye.set_cursor=function(a){return gd.set_cursor(a)};var P=g["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};P.ARROW=["ARROW",0];P.ARROW.toString=u;P.ARROW.__enum__=P;P.CROSSHAIR=["CROSSHAIR",1];P.CROSSHAIR.toString=u;P.CROSSHAIR.__enum__=P;P.DEFAULT=["DEFAULT",2];P.DEFAULT.toString=u;P.DEFAULT.__enum__=P;P.MOVE=["MOVE",3];P.MOVE.toString=u;P.MOVE.__enum__=P;P.POINTER=["POINTER",
4];P.POINTER.toString=u;P.POINTER.__enum__=P;P.RESIZE_NESW=["RESIZE_NESW",5];P.RESIZE_NESW.toString=u;P.RESIZE_NESW.__enum__=P;P.RESIZE_NS=["RESIZE_NS",6];P.RESIZE_NS.toString=u;P.RESIZE_NS.__enum__=P;P.RESIZE_NWSE=["RESIZE_NWSE",7];P.RESIZE_NWSE.toString=u;P.RESIZE_NWSE.__enum__=P;P.RESIZE_WE=["RESIZE_WE",8];P.RESIZE_WE.toString=u;P.RESIZE_WE.__enum__=P;P.TEXT=["TEXT",9];P.TEXT.toString=u;P.TEXT.__enum__=P;P.WAIT=["WAIT",10];P.WAIT.toString=u;P.WAIT.__enum__=P;P.WAIT_ARROW=["WAIT_ARROW",11];P.WAIT_ARROW.toString=
u;P.WAIT_ARROW.__enum__=P;P.CUSTOM=["CUSTOM",12];P.CUSTOM.toString=u;P.CUSTOM.__enum__=P;var sb=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};g["lime.ui.Touch"]=sb;sb.__name__=["lime","ui","Touch"];sb.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:sb};var kd=function(a){this.onTextInput=new ue;this.onTextEdit=new bg;this.onRestore=new Na;this.onResize=new qe;this.onMove=new jd;this.onMouseWheel=new jd;this.onMouseUp=
new se;this.onMouseMoveRelative=new jd;this.onMouseMove=new jd;this.onMouseDown=new se;this.onMinimize=new Na;this.onLeave=new Na;this.onKeyUp=new we;this.onKeyDown=new we;this.onFullscreen=new Na;this.onFocusOut=new Na;this.onFocusIn=new Na;this.onEnter=new Na;this.onDropFile=new ue;this.onDeactivate=new Na;this.onCreate=new Na;this.onClose=new Na;this.onActivate=new Na;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=
a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=
a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new Dd(this)};g["lime.ui.Window"]=kd;kd.__name__=["lime","ui","Window"];kd.prototype={application:null,config:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,
onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=
this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:kd,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var cc=function(a,b){pa.call(this,b)};g["lime.utils.Bytes"]=cc;cc.__name__=["lime","utils","Bytes"];cc.alloc=function(a){a=pa.alloc(a);return new cc(a.length,a.b.bufferValue)};cc.ofData=function(a){a=pa.ofData(a);return new cc(a.length,
a.b.bufferValue)};cc.ofString=function(a){a=pa.ofString(a);return new cc(a.length,a.b.bufferValue)};cc.__super__=pa;cc.prototype=n(pa.prototype,{__class__:cc});var Hd=function(){};g["lime.utils.GLUtils"]=Hd;Hd.__name__=["lime","utils","GLUtils"];Hd.compileShader=function(a,b){var c=m.context.createShader(b);m.context.shaderSource(c,a);m.context.compileShader(c);if(0==m.context.getShaderParameter(c,35713))switch(b){case 35633:throw new C("Error compiling vertex shader");case 35632:throw new C("Error compiling fragment shader");
default:throw new C("Error compiling unknown shader type");}return c};Hd.createProgram=function(a,b){var c=Hd.compileShader(a,35633),d=Hd.compileShader(b,35632),e=m.context.createProgram();m.context.attachShader(e,c);m.context.attachShader(e,d);m.context.linkProgram(e);if(0==m.context.getProgramParameter(e,35714))throw new C("Unable to initialize the shader program.");return e};var eb=function(){};g["lime.utils.Log"]=eb;eb.__name__=["lime","utils","Log"];eb.info=function(a,b){3<=eb.level&&Ma.log("["+
b.className+"] "+a)};var $g=function(){};g["lime.utils.compress.Deflate"]=$g;$g.__name__=["lime","utils","compress","Deflate"];$g.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return pa.ofData(a)};var ah=function(){};g["lime.utils.compress.LZMA"]=ah;ah.__name__=["lime","utils","compress","LZMA"];ah.decompress=function(a){return null};var bh=function(){};g["lime.utils.compress.Zlib"]=bh;bh.__name__=["lime","utils","compress","Zlib"];bh.decompress=function(a){a=pako.inflate(a.b.bufferValue);
return pa.ofData(a)};var lg=function(){var a=new ze,b=S.field(a,w.DecodeReflect("3115118110101"));b.push(S.field(a.root,w.DecodeReflect("3108097118101")));b.push(b[0](w.DecodeReflect("3101109097110116115111104046110111105116097099111108")))};g["lovedna.core.CoreType"]=lg;lg.__name__=["lovedna","core","CoreType"];lg.prototype={__class__:lg};var Oc=function(){};g["lovedna.core.ITrigger"]=Oc;Oc.__name__=["lovedna","core","ITrigger"];Oc.prototype={TriggerTick:null,TriggerStart:null,TriggerEnd:null,__class__:Oc};
var Ub=function(a,b){this._handler=a;this._time=b};g["lovedna.core.DelayCall"]=Ub;Ub.__name__=["lovedna","core","DelayCall"];Ub.__interfaces__=[Oc];Ub.Add=function(a,b){if(null==b)return null;var c=ib.GetInstance();if(0>=a)return b(c.GetTime()),null;var d=new Ub(b,c.GetTime()+a);c.Add(d);return d};Ub.Remove=function(a){ib.GetInstance().Remove(a)};Ub.prototype={_handler:null,_time:null,TriggerTick:function(a){return a>=this._time?!1:!0},TriggerStart:function(a){},TriggerEnd:function(a){this._handler(a)},
__class__:Ub};var ze=function(){this.envs=[];ze.instance=this;this.root=window;this.envs=[]};g["lovedna.core.EnvJS"]=ze;ze.__name__=["lovedna","core","EnvJS"];ze.prototype={root:null,envs:null,__class__:ze};var ib=function(){if(null!=ib._instance)throw new C("instance error");ib._instance=this;this._list=[];this._timeScale=1;this._frameTime=16;this._timer=new dd(this._frameTime);this._timer.run=k(this,this.timerHandler);Ma.log('  `7MM                           `7MM"""Yb. `7MN.   `7MF\'     db      \r\n    MM                             MM    `Yb. MMN.    M      ;MM:     \r\n    MM  ,pW"Wq.`7M\'   `MF\'.gP"Ya   MM     `Mb M YMb   M     ,V^MM.    \r\n    MM 6W\'   `Wb VA   ,V ,M\'   Yb  MM      MM M  `MN. M    ,M  `MM    \r\n    MM 8M     M8  VA ,V  8M""""""  MM     ,MP M   `MM.M    AbmmmqMA   \r\n    MM YA.   ,A9   VVV   YM.    ,  MM    ,dP\' M     YMM   A\'     VML  \r\n  .JMML.`Ybmd9\'     W     `Mbmmd\'.JMMmmmdP\' .JML.    YM .AMA.   .AMMA.');
l.init()};g["lovedna.core.LTrigger"]=ib;ib.__name__=["lovedna","core","LTrigger"];ib.GetInstance=function(){return null==ib._instance?(new lg,new ib):ib._instance};ib.prototype={_frameTime:null,_timeScale:null,_list:null,_timer:null,GetTime:function(){return dd.stamp()*this._timeScale},Add:function(a){return-1==q.indexOf(this._list,a,0)?(this._list.push(a),a.TriggerStart(this.GetTime()),!0):!1},Remove:function(a){a=q.indexOf(this._list,a,0);-1!=a&&this._list.splice(a,1)},timerHandler:function(){A.TriggerTick();
var a=this._list.length;if(!(1>a))for(var b=this.GetTime();0<a--;){var c=this._list[a];c.TriggerTick(b)||(q.remove(this._list,c),c.TriggerEnd(b))}},__class__:ib};var Nb=function(){A.call(this);this.root=ja.current;this.active=!0;this.stage=this.root.stage;this.stage.addEventListener("enterFrame",k(this,this.stage_enterFrame));this.stage.addEventListener("exitFrame",k(this,this.stage_exitFrame));this.stage.addEventListener("activate",k(this,this.stage_activate));this.stage.addEventListener("deactivate",
k(this,this.stage_activate));this.stage.addEventListener("resize",k(this,this.stage_resize));this.stage.addEventListener("glcontextlost",k(this,this.stage_contextLost));this.stage.addEventListener("glcontextrestored",k(this,this.stage_contextLost))};g["lovedna.core.LoveDNA"]=Nb;Nb.__name__=["lovedna","core","LoveDNA"];Nb.GetInstance=function(){if(null!=Nb._instance)return Nb._instance;Nb._instance=new Nb;return Nb._instance};Nb.__super__=L;Nb.prototype=n(L.prototype,{root:null,stage:null,active:null,
stage_enterFrame:function(a){this.DispatchEvent(y.ENTER_FRAME)},stage_exitFrame:function(a){this.DispatchEvent(y.EXIT_FRAME)},stage_activate:function(a){this.active="activate"==a.type;this.DispatchEvent(this.active?y.ACTIVATE:y.DEACTIVATE)},stage_resize:function(a){this.DispatchEvent(y.RESIZE)},stage_contextLost:function(a){this.DispatchEvent("glcontextlost"==a.type?y.LOST:y.RESTORE)},__class__:Nb});var ld=function(a){null==a&&(a=0);this.value=0;this.value=a};g["lovedna.ds.Bit32"]=ld;ld.__name__=
["lovedna","ds","Bit32"];ld.prototype={value:null,Open:function(a){this.value|=1<<a;return this},IsOpen:function(a){a=1<<a;return(this.value&a)==a},Clear:function(){this.value=0;return this},__class__:ld};var dc=function(a,b){null==b&&(b=0);null==a&&(a=0);this._dirty=!0;this.Set2(a,b)};g["lovedna.ds.V2"]=dc;dc.__name__=["lovedna","ds","V2"];dc.prototype={x:null,y:null,_dirty:null,_data:null,GetFloat32Array:function(){this._dirty&&(this.update(),this._dirty=!1);return this._data},Set2:function(a,b){null==
b&&(b=0);null==a&&(a=0);this.x!=a&&(this.x=a,this._dirty=!0);a;this.y!=b&&(this.y=b,this._dirty=!0);b;this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new Float32Array(2));this._data[0]=this.x;this._data[1]=this.y},__class__:dc};var Pc=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);dc.call(this,a,b);this.z!=c&&(this.z=c,this._dirty=!0);c};g["lovedna.ds.V3"]=Pc;Pc.__name__=["lovedna","ds","V3"];Pc.__super__=dc;Pc.prototype=n(dc.prototype,{z:null,Set3:function(a,
b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x!=a&&(this.x=a,this._dirty=!0);a;this.y!=b&&(this.y=b,this._dirty=!0);b;this.z!=c&&(this.z=c,this._dirty=!0);c;this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new Float32Array(3));this._data[0]=this.x;this._data[1]=this.y;this._data[2]=this.z},__class__:Pc});var md=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);Pc.call(this,a,b,c);this.w!=d&&(this.w=d,this._dirty=!0);d};g["lovedna.ds.V4"]=
md;md.__name__=["lovedna","ds","V4"];md.__super__=Pc;md.prototype=n(Pc.prototype,{w:null,Set4:function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.Set3(a,b,c);this.w!=d&&(this.w=d,this._dirty=!0);d;this._dirty=!0;return this},update:function(){null==this._data&&(this._data=new Float32Array(4));this._data[0]=this.x;this._data[1]=this.y;this._data[2]=this.z;this._data[3]=this.w},__class__:md});var wa=function(a){this._type=a};g["lovedna.events.LEvent"]=wa;wa.__name__=["lovedna",
"events","LEvent"];wa.prototype={customData:null,_type:null,_target:null,setTarget:function(a){this._target=a},__class__:wa};var Ae=function(a){this._type=a};g["lovedna.events.LTouchEvent"]=Ae;Ae.__name__=["lovedna","events","LTouchEvent"];Ae.__super__=wa;Ae.prototype=n(wa.prototype,{_touch:null,get_touch:function(){null==this._touch&&(this._touch=new Qc(0));return this._touch},__class__:Ae,__properties__:{get_touch:"get_touch"}});var y=function(){};g["lovedna.events.Events"]=y;y.__name__=["lovedna",
"events","Events"];var rc=function(a){this._type=a};g["lovedna.events.LKeyEvent"]=rc;rc.__name__=["lovedna","events","LKeyEvent"];rc.__super__=wa;rc.prototype=n(wa.prototype,{key:null,__class__:rc});var Bf=function(a,b,c,d,e){0>e&&(e=0);this._dispatcher=a;this._callback=b;this.priority=c;this._once=d;this._delay=e;this._eventList=new X};g["lovedna.events.LListener"]=Bf;Bf.__name__=["lovedna","events","LListener"];Bf.prototype={priority:null,_once:null,_delay:null,_callback:null,_dispatcher:null,_eventList:null,
_timer:null,dispatch:function(a){var b=this;null!=this._callback&&(this._eventList.Add(a),0<this._delay?(null!=this._timer&&this._timer.stop(),this._timer=new dd(this._delay|0),this._timer.run=function(){b._timer.stop();b._timer=null;b.execute()}):this.execute())},destroy:function(){this._dispatcher=this._callback=null;this._delay=0;this._eventList.Dispose();this._eventList=null},match:function(a){return S.compareMethods(this._callback,a)},execute:function(){if(null!=this._callback&&null!=this._eventList){var a=
this._eventList._length;if(0!=a){for(var b=0;b<a;){var c=b++;this._callback(this._eventList.Get(c))}this._once&&null!=this._dispatcher&&this._dispatcher.RemoveEventListener(this._eventList.Get(0),this._callback);if(null!=this._eventList){for(b=0;b<a;)c=b++,this._eventList.Get(c).customData=null;this._eventList.Clear()}}}},__class__:Bf};var nc=g["lovedna.gl.Blend"]={__ename__:!0,__constructs__:["Off","Default","EquationTwo"]};nc.Off=["Off",0];nc.Off.toString=u;nc.Off.__enum__=nc;nc.Default=function(a,
b){var c=["Default",1,a,b];c.__enum__=nc;c.toString=u;return c};nc.EquationTwo=function(a,b,c){a=["EquationTwo",2,a,b,c];a.__enum__=nc;a.toString=u;return a};var tb=function(){this._dirty=!1;this._usage=35044;this._time=0;this.id=tb._bufferID++;this._bind=!1};g["lovedna.gl.BufferBase"]=tb;tb.__name__=["lovedna","gl","BufferBase"];tb.prototype={id:null,_buffer:null,_usage:null,_dirty:null,_time:null,_bind:null,Bind:function(){this._time=Eb.time;this._bind=!0},UnBind:function(){this._bind=!1},createBuffer:function(){null==
this._buffer&&(tb._bufferMap.h[this.id]=this,this._buffer=m.context.createBuffer())},__class__:tb};var Be=function(){this._enableLocations=new X;this.stride=this.offset=0;this.size=3;this.location=-1;tb.call(this)};g["lovedna.gl.BufferFloat"]=Be;Be.__name__=["lovedna","gl","BufferFloat"];Be.__super__=tb;Be.prototype=n(tb.prototype,{data:null,location:null,size:null,stride:null,offset:null,_data:null,_count:null,_enableLocations:null,SetData:function(a,b){null==b&&(b=0);this._data=a;this._count=b;
this._dirty=!0;return this},Apply:function(){null==this._buffer||0>this.location||(this._enableLocations.Add(this.location),m.context.vertexAttribPointer(this.location,this.size,5126,!1,this.stride,this.offset),m.context.enableVertexAttribArray(this.location))},Bind:function(){if(!this._bind)if(tb.prototype.Bind.call(this),this._dirty){if(this._dirty=!1,null!=this._data){var a=this._data.length;0<this._count&&(a=this._count);if(!(1>a)){if(null==this.data||a>this.data.length)this.data=null!=a?new Float32Array(a):
null;for(;0<a--;)this.data[a]=this._data[a];this.createBuffer();m.context.bindBuffer(34962,this._buffer);m.context.bufferData(34962,this.data,this._usage)}}}else null!=this._buffer&&m.context.bindBuffer(34962,this._buffer)},UnBind:function(){tb.prototype.UnBind.call(this);for(var a=this._enableLocations._length;0<a--;)m.disableVertexAttribArray(this._enableLocations.Get(a));this._enableLocations.Clear();this.location=-1},__class__:Be});var Ce=function(){this.count=0;tb.call(this)};g["lovedna.gl.BufferIndex"]=
Ce;Ce.__name__=["lovedna","gl","BufferIndex"];Ce.__super__=tb;Ce.prototype=n(tb.prototype,{data:null,count:null,_data:null,SetData:function(a,b){null==b&&(b=0);this._data=a;this.count=0<b?b:a.length;this._dirty=!0;return this},Bind:function(){if(!this._bind){tb.prototype.Bind.call(this);if(null!=this._data){var a=this._data.length;0<this.count&&(a=this.count);if(1>a)return;if(null==this.data||a>this.data.length)this.data=null!=a?new Int16Array(a):null;for(;0<a--;)this.data[a]=this._data[a]}null!=
this.data&&(this._dirty?(this._dirty=!1,this.createBuffer(),m.context.bindBuffer(34963,this._buffer),m.context.bufferData(34963,this.data,this._usage)):null!=this._buffer&&m.context.bindBuffer(34963,this._buffer))}},__class__:Ce});var Eb=function(){Eb._instance=this;this._viewPortList=new X;this._renderTextureList=new X};g["lovedna.gl.GLContext"]=Eb;Eb.__name__=["lovedna","gl","GLContext"];Eb.GetInstance=function(){return null!=Eb._instance?Eb._instance:new Eb};Eb.prototype={_viewPortList:null,_renderTextureList:null,
PreFrame:function(){m.context.clearDepth(1);m.context.clearStencil(0);m.context.colorMask(!0,!0,!0,!0);m.context.clear(17664);qa.enterFrame();this.PushRenderTarget(null);this._renderTextureList.Clear()},PostFrame:function(){Ja._activeID=-1;m.context.bindFramebuffer(36160,null);m.context.bindRenderbuffer(36161,null);m.context.bindBuffer(34962,null);m.context.bindBuffer(34963,null);m.context.bindTexture(3553,null);this._viewPortList.Clear();this.SetZWrite(!0);this.SetZTest(515)},PushViewPort:function(a,
b,c,d){this._viewPortList.Add(new md(a,b,c,d));m.context.viewport(a|0,b|0,c|0,d|0)},SetZTest:function(a){-1==a?m.context.disable(2929):(m.context.enable(2929),m.context.depthFunc(a))},SetZWrite:function(a){m.context.depthMask(a)},SetCullMode:function(a){-1==a?m.context.disable(2884):(m.context.enable(2884),m.context.cullFace(a))},SetBlend:function(a){a==nc.Off?m.context.disable(3042):m.context.enable(3042);switch(a[1]){case 1:var b=a[3];a=a[2];m.context.blendEquation(32774);m.context.blendFunc(a,
b);break;case 2:var b=a[4],c=a[3];m.context.blendEquation(a[2]);m.context.blendFunc(c,b)}},PushRenderTarget:function(a){null==a?(m.context.bindFramebuffer(36160,null),m.context.bindTexture(3553,null)):(this._renderTextureList.Add(a),a.Begin(Eb.time))},DrawElements:function(a,b,c,d){m.context.drawElements(a,b,c,d)},__class__:Eb};var Ec=function(){Ec._instance=this;this.capabilities=new Aa;this._viewPortList=new X;this._vec4Pool=new sc(function(){return new md});this._lost=!1;this._time=0;this._renderTextureList=
new X};g["lovedna.gl.GLState"]=Ec;Ec.__name__=["lovedna","gl","GLState"];Ec.GetInstance=function(){return null==Ec._instance?new Ec:Ec._instance};Ec.prototype={capabilities:null,_viewPortList:null,_vec4Pool:null,_renderTextureList:null,_time:null,_lost:null,__class__:Ec};var nd=function(a,b){this.attribute=a;this.uniform=b};g["lovedna.gl.ProgramVariable"]=nd;nd.__name__=["lovedna","gl","ProgramVariable"];nd.prototype={attribute:null,uniform:null,__class__:nd};var qa=function(a){this._vertVoidIndex=
this._fragVoidIndex=0;this._dirty=!1;this._time=0;this._variables=new R;this._uniformValue=new R;this._availableUniforms=[];this.id=qa._programID++;this._globalUniformDirty=this._frameUniformDirty=!0;this.name=a};g["lovedna.gl.Program"]=qa;qa.__name__=["lovedna","gl","Program"];qa.SetFrameUniform=function(a,b){qa._frameUniforms.set(a,b)};qa.SetGlobalUniform=function(a,b){qa._globalUniforms.set(a,b)};qa.SetGlobalDirty=function(){for(var a=qa._map.iterator();a.hasNext();)a.next()._globalUniformDirty=
!0};qa.enterFrame=function(){for(var a=qa._map.iterator();a.hasNext();){var b=a.next();b._frameUniformDirty=b._globalUniformDirty=!0}};qa.prototype={id:null,name:null,_program:null,_vert:null,_frag:null,_dirty:null,_time:null,_bind:null,_variables:null,_uniformValue:null,_availableUniforms:null,_frameUniformDirty:null,_globalUniformDirty:null,_vertVoidIndex:null,_fragVoidIndex:null,Upload:function(a,b){null!=a&&null!=b&&null==this._program&&(this._vert=a,this._frag=b,this._dirty=!0)},Bind:function(){if(!this._bind&&
(this._time=Eb.time,this._dirty&&null==this._program&&(this._dirty=!1,this.createShader()),null!=this._program)){qa._currentProgram!=this._program&&(qa._currentProgram=this._program,m.useProgram(this._program));if(this._frameUniformDirty){this._frameUniformDirty=!1;for(var a=qa._frameUniforms.keys();a.hasNext();){var b=a.next();this._uniformValue.exists(b)&&this._uniformValue.get(b).Bind(qa._frameUniforms.get(b))}}if(this._globalUniformDirty)for(this._globalUniformDirty=!1,a=qa._globalUniforms.keys();a.hasNext();)b=
a.next(),this._uniformValue.exists(b)&&this._uniformValue.get(b).Bind(qa._globalUniforms.get(b));this._bind=!0}},UnBind:function(){this._bind=!1},Apply:function(){if(null!=this._program)for(var a=this._availableUniforms.length;0<a--;)this._availableUniforms[a].Apply()},GetVariable:function(a){return this._variables.exists(a)?this._variables.get(a):qa._errorProgramVariable},SetUniform:function(a,b){var c=null;this._uniformValue.exists(a)?c=this._uniformValue.get(a):(c=new x,this._uniformValue.set(a,
c));if(null==b)return c;c.Bind(b);return c},HasUniform:function(a){return this._uniformValue.exists(a)&&this._uniformValue.get(a).available?!0:!1},SetTexture:function(a,b){if(this._variables.exists(a)&&null!=b){var c=this._variables.get(a).attribute;b.location=c;b.Bind(this._time);this.SetUniform(a,c)}},createShader:function(){this._vertVoidIndex=this._vert.toLowerCase().indexOf("void ");this._fragVoidIndex=this._frag.toLowerCase().indexOf("void ");var a=m.context.createShader(35633);m.context.shaderSource(a,
this._vert);m.context.compileShader(a);if(0==m.context.getShaderParameter(a,35713))throw Ma.log(this.name+"\n"+this.addLineNumber(this._vert)),new C("vertex compileShader "+m.context.getShaderInfoLog(a));var b=m.context.createShader(35632);m.context.shaderSource(b,this._frag);m.context.compileShader(b);if(0==m.context.getShaderParameter(b,35713))throw Ma.log(this.name+"\n"+this.addLineNumber(this._frag)),new C("fragment compileShader "+m.context.getShaderInfoLog(b));this._program=m.context.createProgram();
m.context.attachShader(this._program,a);m.context.attachShader(this._program,b);m.context.linkProgram(this._program);m.context.deleteShader(a);m.context.deleteShader(b);if(0==m.context.getProgramParameter(this._program,35714))throw Ma.log(this.name),Ma.log(this.addLineNumber(this._vert)),Ma.log(this.addLineNumber(this._frag)),new C("linkProgram "+m.context.getProgramInfoLog(this._program));this.createLocations();qa._map.h[this.id]=this},createLocations:function(){for(var a=null,b=null,b=null,c=m.context.getProgramParameter(this._program,
35721);0<c--;)b=m.context.getActiveAttrib(this._program,c),a=b.name,this.checkUsed(a)&&(b=new nd(m.context.getAttribLocation(this._program,a),null),this._variables.set(a,b));for(var c=m.context.getProgramParameter(this._program,35718),d=0,e=0;0<c--;)if(b=m.context.getActiveUniform(this._program,c),a=b.name,e=b.type,this.checkUsed(a)){if(35678==e||35680==e)b=new nd(d++,m.context.getUniformLocation(this._program,a)),this._variables.set(a,b),a=this.SetUniform(a,b.attribute),a.setType(e);else{b=new nd(-1,
m.context.getUniformLocation(this._program,a));this._variables.set(a,b);var f=!1,g=a.indexOf("[");0<g&&(f=!0,a=q.substr(a,0,g));a=this.SetUniform(a,null);a.setType(e,f)}a.location=b.uniform;this._availableUniforms.push(a);a.available=!0}},addLineNumber:function(a){var b="";a=new cd(a);a.set_position(0);for(var c=a._length,d=-(c+"").length,e=0;e<c;)var f=e++,b=b+(w.Fill0(f+1+"",d)+":\t"+a.ReadLine()+"\n");return b},checkUsed:function(a){var b=-1,b=this._frag.indexOf(a,this._fragVoidIndex);if(0<=b)return!0;
b=this._vert.indexOf(a,this._vertVoidIndex);return 0<=b?!0:!1},__class__:qa};var x=function(){this._dirty=!0;this.available=!1};g["lovedna.gl.ProgramUniform"]=x;x.__name__=["lovedna","gl","ProgramUniform"];x.fun_bool=function(a,b){m.context.uniform1i(a,b)};x.fun_int=function(a,b){m.context.uniform1i(a,b)};x.fun_float=function(a,b){m.context.uniform1f(a,b)};x.fun_boolv=function(a,b){m.context.uniform1iv(a,b)};x.fun_intv=function(a,b){m.context.uniform1iv(a,b)};x.fun_floatv=function(a,b){m.context.uniform1fv(a,
b)};x.fun_fvec2=function(a,b){m.context.uniform2fv(a,b)};x.fun_fvec3=function(a,b){m.context.uniform3fv(a,b)};x.fun_fvec4=function(a,b){m.context.uniform4fv(a,b)};x.fun_ivec2=function(a,b){m.context.uniform2iv(a,b)};x.fun_ivec3=function(a,b){m.context.uniform3iv(a,b)};x.fun_ivec4=function(a,b){m.context.uniform4iv(a,b)};x.fun_mat2=function(a,b){m.context.uniformMatrix2fv(a,!1,b)};x.fun_mat3=function(a,b){m.context.uniformMatrix3fv(a,!1,b)};x.fun_mat4=function(a,b){m.context.uniformMatrix4fv(a,!1,
b)};x.prototype={location:null,available:null,_value:null,_handler:null,_dirty:null,Bind:function(a){a!=this._value&&(this._value=a,this._dirty=!0)},Apply:function(){null!=this._value&&null!=this._handler&&(this._handler(this.location,this._value),this._dirty=!1)},setType:function(a,b){null==b&&(b=!1);null==x._funMap&&(x._funMap=new R,x._funMap.set("f35664",x.fun_fvec2),x._funMap.set("f35664v",x.fun_fvec2),x._funMap.set("f35665",x.fun_fvec3),x._funMap.set("f35665v",x.fun_fvec3),x._funMap.set("f35666",
x.fun_fvec4),x._funMap.set("f35666v",x.fun_fvec4),x._funMap.set("f35667",x.fun_ivec2),x._funMap.set("f35667v",x.fun_ivec2),x._funMap.set("f35668",x.fun_ivec3),x._funMap.set("f35668v",x.fun_ivec3),x._funMap.set("f35669",x.fun_ivec4),x._funMap.set("f35669v",x.fun_ivec4),x._funMap.set("f35671",x.fun_ivec2),x._funMap.set("f35671v",x.fun_ivec2),x._funMap.set("f35672",x.fun_ivec3),x._funMap.set("f35672v",x.fun_ivec3),x._funMap.set("f35673",x.fun_ivec4),x._funMap.set("f35673v",x.fun_ivec4),x._funMap.set("f35674",
x.fun_mat2),x._funMap.set("f35674v",x.fun_mat2),x._funMap.set("f35675",x.fun_mat3),x._funMap.set("f35675v",x.fun_mat3),x._funMap.set("f35676",x.fun_mat4),x._funMap.set("f35676v",x.fun_mat4),x._funMap.set("f35670",x.fun_bool),x._funMap.set("f35670v",x.fun_boolv),x._funMap.set("f5124",x.fun_int),x._funMap.set("f5124v",x.fun_intv),x._funMap.set("f5126",x.fun_float),x._funMap.set("f5126v",x.fun_floatv),x._funMap.set("f35678",x.fun_int));var c;c="f"+a+(b?"v":"");x._funMap.exists(c)?(this._dirty=!0,this._handler=
x._funMap.get(c)):Ma.log("errot "+a)},__class__:x};var Ja=function(){this._activeLocation=-1;this._hasBind=this._hasDispatch=!1;this.location=-1;this.enable=!1;A.call(this)};g["lovedna.gl.Texture"]=Ja;Ja.__name__=["lovedna","gl","Texture"];Ja.lost=function(a){Ja._textureID=0;for(var b=Ja._textureMap.iterator();b.hasNext();)b.next().Unload(a)};Ja.__super__=L;Ja.prototype=n(L.prototype,{id:null,size:null,enable:null,location:null,variable:null,isPow2:null,minFilterMode:null,magFilterMode:null,_texture:null,
_image:null,_time:null,_hasBind:null,_hasDispatch:null,_activeLocation:null,_format:null,_internalformat:null,_minFilterMode:null,_magFilterMode:null,SetBitmapData:function(a){if(this._image!=a)if(this._image=a,null==this._image)this.enable=!1;else{this.enable=!0;a=this._image.width;var b=this._image.height;this.size.Set2(a,b);this.isPow2=0<a&&0==(a&a-1)&&0<b&&0==(b&b-1);this.DispatchEvent(y.INIT)}},Bind:function(a){this._time=a;this._hasBind||null==this._image||(this.uploadFromBitmapData(this._image),
this._hasBind=!0,this._image.dispose(),this._image=null);null==this._texture?this._hasBind&&!this._hasDispatch&&(this._hasDispatch=!0,this.DispatchEvent(y.RESTORE)):0>this.location||Ja._activeID==this.id&&Ja._locationID==this.location||(Ja._activeID=this.id,Ja._locationID=this.location,m.context.activeTexture(33984+this.location),m.context.bindTexture(3553,this._texture),this._magFilterMode!=this.magFilterMode&&(this._magFilterMode=this.magFilterMode,m.context.texParameteri(3553,10240,this._magFilterMode)),
this._minFilterMode!=this.minFilterMode&&(this._minFilterMode=this.minFilterMode,m.context.texParameteri(3553,10241,this._minFilterMode)),this._activeLocation=this.location,this.location=-1)},Unload:function(a){a<=this._time||null==this._texture||(this._hasBind=!1,this.onUnload())},onConstruct:function(){L.prototype.onConstruct.call(this);this.id=Ja._textureID++;this.magFilterMode=this.minFilterMode=9729;this._internalformat=this._internalformat=this._format=6408;this.size=new dc(0,0)},onUnload:function(){null!=
this._image&&(this._image.dispose(),this._image=null);this.enable=!1;this._time=0;this.variable=null;this._hasDispatch=this.isPow2=!1;null!=this._texture&&(Ja._textureMap.remove(this.id),-1!=this._activeLocation&&m.context.activeTexture(33984+this._activeLocation),m.context.bindTexture(3553,null),m.context.deleteTexture(this._texture),this._texture=null)},uploadFromBitmapData:function(a){this.uploadFromUInt8Array(a.image.get_data())},uploadFromUInt8Array:function(a){null==this._texture&&(this._texture=
m.context.createTexture(),Ja._textureMap.h[this.id]=this);m.context.bindTexture(3553,this._texture);m.context.texParameteri(3553,10240,9729);m.context.texParameteri(3553,10241,9729);var b=this.size.x|0,c=this.size.y|0;this.isPow2?(m.context.texParameteri(3553,10242,10497),m.context.texParameteri(3553,10243,10497)):(m.context.texParameteri(3553,10242,33071),m.context.texParameteri(3553,10243,33071));m.context.texImage2D(3553,0,this._internalformat,b,c,0,this._format,5121,a)},__class__:Ja});var De=
function(a,b){this.stencilBuffer=!1;Ja.call(this);this.Resize(a,b);this.clearMask=17664;this._state=Ec.GetInstance()};g["lovedna.gl.RenderTexture"]=De;De.__name__=["lovedna","gl","RenderTexture"];De.__super__=Ja;De.prototype=n(Ja.prototype,{stencilBuffer:null,clearMask:null,_resized:null,_frameBuffer:null,_renderBuffer:null,_state:null,Resize:function(a,b){4>a&&(a=4);null==b?b=a:4>b&&(b=4);if(this.size.x!=a||this.size.y!=b)this._resized=!0,this.size.Set2(a,b);this.enable=!0},Begin:function(a){this._resized&&
(this._resized=!1,null!=this._frameBuffer&&(m.context.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),null!=this._renderBuffer&&(m.context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null));if(!(1>this.size.x||1>this.size.y)){if(null==this._frameBuffer){a=this.size.x|0;var b=this.size.y|0;this._frameBuffer=m.context.createFramebuffer();m.context.bindFramebuffer(36160,this._frameBuffer);this._renderBuffer=m.context.createRenderbuffer();m.context.bindRenderbuffer(36161,this._renderBuffer);
this.stencilBuffer?(m.context.renderbufferStorage(36161,34041,a,b),m.context.framebufferRenderbuffer(36160,33306,36161,this._renderBuffer)):(m.context.renderbufferStorage(36161,33189,a,b),m.context.framebufferRenderbuffer(36160,36096,36161,this._renderBuffer));null==this._texture&&(this._texture=m.context.createTexture());this.enable=!0;m.context.bindTexture(3553,this._texture);this._hasBind=!0;m.context.texImage2D(3553,0,6408,a,b,0,6408,5121,null);m.context.texParameteri(3553,10240,9729);m.context.texParameteri(3553,
10241,9729);0<a&&0==(a&a-1)?m.context.texParameteri(3553,10242,10497):m.context.texParameteri(3553,10242,33071);0<b&&0==(b&b-1)?m.context.texParameteri(3553,10243,10497):m.context.texParameteri(3553,10243,33071);m.context.framebufferTexture2D(36160,36064,3553,this._texture,0);m.context.bindFramebuffer(36160,null);m.context.bindRenderbuffer(36161,null)}m.context.bindFramebuffer(36160,this._frameBuffer);m.context.bindTexture(3553,this._texture);this.location=0}},onUnload:function(){Ja.prototype.onUnload.call(this);
null!=this._frameBuffer&&(m.context.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null);null!=this._renderBuffer&&(m.context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null)},__class__:De});var mg=function(){this.enable=!1;this.func=512;this.mask=this.ref=0;this.zpass=this.zfial=this.fail=7682};g["lovedna.gl.Stencil"]=mg;mg.__name__=["lovedna","gl","Stencil"];mg.prototype={enable:null,func:null,ref:null,mask:null,fail:null,zfial:null,zpass:null,__class__:mg};var ta=function(){};
g["lovedna.love3d.Application"]=ta;ta.__name__=["lovedna","love3d","Application"];ta.AddEventListener=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);ta.dispatcher.AddEventListener(a,b,c,d,e)};ta.preFrame=function(){ta.dispatcher.DispatchEvent(Ob.OnPreFrame)};ta.postFrame=function(){ta.dispatcher.DispatchEvent(Ob.OnPostFrame);ta._quit&&(ta._quit=!1,ta.dispatcher.DispatchEvent(Ob.OnQuit),ta.pause=!0)};var T=function(a){this._worldInverseDirty=!1;this.distanceToCamera=this.depth=this._TransformDirty=
0;this.scaleX=this.scaleY=this.scaleZ=this.timeScale=1;this.x=this.y=this.z=this.rotationX=this.rotationY=this.rotationZ=0;this.visible=!1;this.active=!0;A.call(this);this.instanceID=T._gid++;this.name=a;this.layer=0;this.set_active(!0);this.dispatcher=new L;this.localMatrix=new fb;this.localToWorldMatrix=new fb;this._time=0;this.localPosition=O.instance};g["lovedna.love3d.GameObject"]=T;T.__name__=["lovedna","love3d","GameObject"];T.GetGameObject=function(a,b){var c=(new T).AddComponent(a);null!=
b&&b.AddChild(c.gameObject);return c};T.onPreFrame=function(a){if(null!=a&&"lovedna.love3d.Love3dView"==a.className){a=T._destroyList.length;var b=0;if(1<a){for(;0<a--;)T._destroyList[b++].OnDestroy();T._destroyList=[]}a=T._childChangeList.length;if(0<a){for(b=0;0<a--;){var c=T._childChangeList[b++];switch(c[1]){case 0:c[2]._AddChild(c[3]);break;case 1:c[2]._RemoveChild(c[3])}}T._childChangeList=[]}}};T.onPostFrame=function(a){};T.__super__=gb;T.prototype=n(gb.prototype,{instanceID:null,name:null,
layer:null,childCount:null,active:null,visible:null,x:null,y:null,z:null,rotationX:null,rotationY:null,rotationZ:null,scaleX:null,scaleY:null,scaleZ:null,tick:null,timeScale:null,changed:null,scene:null,parent:null,localMatrix:null,localToWorldMatrix:null,distanceToCamera:null,depth:null,localPosition:null,_componentMap:null,dispatcher:null,_childs:null,_worldInverseMatrix:null,_up:null,_right:null,_forward:null,_worldPosition:null,_TransformDirty:null,_worldInverseDirty:null,_upDirty:null,_rightDirty:null,
_forwardDirty:null,_worldPositionDirty:null,_time:null,AddComponent:function(a){var b=pb.GetName(a),c=!1;null==this._componentMap?this._componentMap=new R:c=this._componentMap.exists(b);if(c)return Ma.log("has component exist "+b),this._componentMap.get(b);a=pb.CreateInstance(a);c=a.getAliasName();if(this._componentMap.exists(c))Ma.log("has component exist "+c);else return a.Construct(),this._componentMap.set(b,a),this._componentMap.set(c,a),a.init(this),null!=this.scene&&this.scene.ChildrenDirty(),
this.dispatcher.DispatchEvent(r.OnComponentChange),a;return null},GetComponent:function(a){if(null==this._componentMap)return null;var b=pb.GetName(a);if(this._componentMap.exists(b))return this._componentMap.get(b);for(b=this._componentMap.iterator();b.hasNext();){var c=b.next();if(K.__instanceof(c,a))return c}return null},RemoveComponent:function(a){if(null==this._componentMap)return null;a=this.GetComponent(a);if(null!=a&&a.removeable){for(var b=this._componentMap.iterator();b.hasNext();){var c=
b.next();if(c!=a&&c.isDepend(a)){Ma.log(Ca.string(c)+" depend "+Ca.string(a));return}}a.OnDestroy();this._componentMap.remove(this.name);a=a.getAliasName();this._componentMap.remove(a);null!=this.scene&&this.scene.ChildrenDirty();this.dispatcher.DispatchEvent(r.OnComponentChange)}},GetChild:function(a){return null!=this._childs?this._childs[a]:null},AddChild:function(a){null!=a&&a!=this&&T._childChangeList.push(Ee.Add(this,a))},_AddChild:function(a){var b=a.parent;b==this||a.Contains(this)||(null!=
b&&b._RemoveChild(a),null==this._childs&&(this._childs=[]),this._childs.push(a),a.parent=this,this.childCount=this._childs.length,a._TransformDirty=0==a._TransformDirty?1:2,null!=this.scene&&this.scene.ChildrenDirty())},RemoveChild:function(a){null!=a&&a!=this&&T._childChangeList.push(Ee.Remove(this,a))},_RemoveChild:function(a){null!=this._childs&&a.parent==this&&q.remove(this._childs,a)&&(a.parent=null,this.childCount=this._childs.length,null!=this.scene&&this.scene.ChildrenDirty())},Contains:function(a){if(null==
a||a==this)return!1;for(a=a.parent;null!=a;){if(a==this)return!0;var b=a.parent;if(b==a)break;a=b}return!1},TransformDirty:function(){this._TransformDirty=0==this._TransformDirty?1:2},toString:function(){return gb.prototype.toString.call(this)+(null!=this.name?" "+this.name:"")},OnDestroy:function(){if(null!=this._componentMap){for(var a=this._componentMap.iterator();a.hasNext();)a.next().OnDestroy();this._componentMap=null}this.dispatcher.Dispose();this._worldPosition=this._forward=this._right=this._up=
this.parent=this.scene=this.localToWorldMatrix=this.localMatrix=this.dispatcher=null},setScene:function(a){a!=this.scene&&(null!=this.scene&&this.dispatcher.DispatchEvent(r.OnRemoveFromScene),this.scene=a,null!=this.scene&&this.dispatcher.DispatchEvent(r.OnAddToScene))},enterframe:function(a){var b=0<this._TransformDirty;this.tick=a;null!=this.parent&&(this.tick*=this.timeScale,!b&&0<this.parent._TransformDirty&&(this._TransformDirty=0==this._TransformDirty?1:2,b=!0));this.dispatcher.DispatchEvent(r.OnUpdate);
if(this.dispatcher.HasEventListener(r.OnFixedUpdate)){this._time+=ta.tick;for(a=this._time/.0166666666666667|0;0<a--;)this.dispatcher.DispatchEvent(r.OnFixedUpdate);this._time%=.0166666666666667}b||(b=0<this._TransformDirty);b&&(this.localMatrix.Identity(),null!=this.parent&&this.localMatrix.Append(this.parent.localMatrix),this.localPosition.Set(this.x,this.y,this.z),this.dispatcher.DispatchEvent(r.OnTransformBefore),this.localPosition.IsZero()||this.localMatrix.AppendTranslationV(this.localPosition.x,
this.localPosition.y,this.localPosition.z),this.dispatcher.DispatchEvent(r.OnPositionChange),0!=this.rotationX&&this.localMatrix.AppendRotationX(this.rotationX),0!=this.rotationY&&this.localMatrix.AppendRotationY(this.rotationY),0!=this.rotationZ&&this.localMatrix.AppendRotationZ(this.rotationZ),1==this.scaleX&&1==this.scaleY&&1==this.scaleZ||this.localMatrix.AppendScaleV(this.scaleX,this.scaleY,this.scaleZ),this.localToWorldMatrix.Copy(this.localMatrix),this._upDirty=this._rightDirty=this._forwardDirty=
this._worldPositionDirty=this._worldInverseDirty=!0,this.dispatcher.DispatchEvent(r.OnWorldChange))},exitframe:function(){this.changed=!1;--this._TransformDirty;0>this._TransformDirty&&(this._TransformDirty=0);this.dispatcher.DispatchEvent(r.OnLateUpdate)},set_active:function(a){this.active!=a&&(this.active=a,this.dispatcher.DispatchEvent(this.active?r.OnEnable:r.OnDisable),null!=this.scene&&this.scene.ChildrenDirty());return a},set_visible:function(a){this.visible!=a&&(this.visible=a,this.dispatcher.DispatchEvent(this.visible?
r.OnBecameVisible:r.OnBecameInvisible));return this.visible},set_x:function(a){this.x!=a&&(this.x=a,this._TransformDirty=0==this._TransformDirty?1:2,this.changed=!0);return a},set_y:function(a){this.y!=a&&(this.y=a,this._TransformDirty=0==this._TransformDirty?1:2,this.changed=!0);return a},set_z:function(a){this.z!=a&&(this.z=a,this._TransformDirty=0==this._TransformDirty?1:2,this.changed=!0);return a},set_rotationX:function(a){this.rotationX!=a&&(this.rotationX=a,this._TransformDirty=0==this._TransformDirty?
1:2);return a},set_rotationY:function(a){this.rotationY!=a&&(this.rotationY=a,this._TransformDirty=0==this._TransformDirty?1:2);return a},set_rotationZ:function(a){this.rotationZ!=a&&(this.rotationZ=a,this._TransformDirty=0==this._TransformDirty?1:2);return a},set_scaleX:function(a){this.scaleX!=a&&(this.scaleX=a,this._TransformDirty=0==this._TransformDirty?1:2);return a},set_scaleY:function(a){this.scaleY!=a&&(this.scaleY=a,this._TransformDirty=0==this._TransformDirty?1:2);return a},get_worldToLocalMatrix:function(){null==
this._worldInverseMatrix&&(this._worldInverseMatrix=new fb);this._worldInverseDirty&&(this._worldInverseMatrix.Copy(this.localToWorldMatrix),this._worldInverseMatrix.Inverse(),this._worldInverseDirty=!1);return this._worldInverseMatrix},get_up:function(){null==this._up&&(this._up=new O);this._upDirty&&(this._upDirty=!1,this._up.Set(0,1,0),this.localToWorldMatrix.DeltaTransformVec3(this._up),this._up.Normalize());return B.vec3.Get().Copy(this._up)},get_forward:function(){null==this._forward&&(this._forward=
new O);this._forwardDirty&&(this._forwardDirty=!1,this._forward.Set(0,0,1),this.localToWorldMatrix.DeltaTransformVec3(this._forward),this._forward.Normalize());return B.vec3.Get().Copy(this._forward)},get_worldPosition:function(){null==this._worldPosition&&(this._worldPosition=new O);this._worldPositionDirty&&(this._worldPositionDirty=!1,this._worldPosition.Set(this.localMatrix.d12,this.localMatrix.d13,this.localMatrix.d14));return this._worldPosition},__class__:T,__properties__:{get_worldPosition:"get_worldPosition",
get_forward:"get_forward",get_up:"get_up",get_worldToLocalMatrix:"get_worldToLocalMatrix",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_rotationZ:"set_rotationZ",set_rotationY:"set_rotationY",set_rotationX:"set_rotationX",set_z:"set_z",set_y:"set_y",set_x:"set_x",set_visible:"set_visible",set_active:"set_active"}});var Ee=g["lovedna.love3d._GameObject.GameObjectAction"]={__ename__:!0,__constructs__:["Add","Remove"]};Ee.Add=function(a,b){var c=["Add",0,a,b];c.__enum__=Ee;c.toString=u;return c};
Ee.Remove=function(a,b){var c=["Remove",1,a,b];c.__enum__=Ee;c.toString=u;return c};var O=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this._sqrt=Math.sqrt};g["lovedna.math.Vec3"]=O;O.__name__=["lovedna","math","Vec3"];O.prototype={x:null,y:null,z:null,_sqrt:null,Set:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;return this},Copy:function(a){if(a==this)return this;this.x=a.x;this.y=a.y;this.z=a.z;return this},Add:function(a,
b){null==b?(this.x+=a.x,this.y+=a.y,this.z+=a.z):(this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z);return this},Sub:function(a,b){null==b?(this.x-=a.x,this.y-=a.y,this.z-=a.z):(this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z);return this},Scale:function(a){this.x*=a;this.y*=a;this.z*=a;return this},Min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},Max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},
Dot:function(a,b){return null==b?this.x*a.x+this.y*a.y+this.z*a.z:b.x*a.x+b.y*a.y+b.z*a.z},Cross:function(a,b){var c,d,e;null==b?(c=this.y*a.z-this.z*a.y,d=this.z*a.x-this.x*a.z,e=this.x*a.y-this.y*a.x):(c=a.y*b.z-a.z*b.y,d=a.z*b.x-a.x*b.z,e=a.x*b.y-a.y*b.x);this.x=c;this.y=d;this.z=e;return this},Normalize:function(){var a=this._sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;this;return this},Distance:function(a,b){var c=O.instance;
null==b?(c.x=this.x-a.x,c.y=this.y-a.y,c.z=this.z-a.z):(c.x=a.x-b.x,c.y=a.y-b.y,c.z=a.z-b.z);c;return c._sqrt(c.x*c.x+c.y*c.y+c.z*c.z)},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},IsZero:function(){return 0==this.x&&0==this.y&&0==this.z},get_length:function(){return this._sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},__class__:O,__properties__:{get_length:"get_length"}};var tc=function(){this.start=new O;this.direction=new O;this._vec3=O.instance};g["lovedna.math.Ray"]=
tc;tc.__name__=["lovedna","math","Ray"];tc.__interfaces__=[Mb];tc.prototype={start:null,direction:null,_vec3:null,Copy:function(a){if(a==this)return this;this.start.Copy(a.start);this.direction.Copy(a.direction);return this},Set:function(a,b){this.start.Copy(a);this.direction.Sub(b,a);this.direction.Normalize();return this},At:function(a){this._vec3.Copy(this.direction);this._vec3.Scale(a);this._vec3.Add(this.start,null);return this._vec3},DistanceToPoint:function(a){var b=O.instance;b.Sub(a,this.start);
var c=b.Dot(this.direction,null),d=0;return d=0>c?this.start.Distance(a):b.Copy(this.direction).Scale(c).Add(this.start,null).Distance(a)},IntersectsSphere:function(a){return null==a?!1:this.DistanceToPoint(a.center)<=a.radius},IntersectBox:function(a){var b=0,c=1.79769313486231E308;if(1E-6>z.Abs(this.direction.x)){if(this.start.x<a.min.x||this.start.x>a.max.x)return null}else{var d=1/this.direction.x,e=(a.min.x-this.start.x)*d,d=(a.max.x-this.start.x)*d;if(e>d)var f=e,e=d,d=f;e>b&&(b=e);d<c&&(c=
d);if(b>c)return null}if(1E-6>z.Abs(this.direction.y)){if(this.start.y<a.min.y||this.start.y>a.max.y)return null}else if(d=1/this.direction.y,e=(a.min.y-this.start.y)*d,d*=a.max.y-this.start.y,e>d&&(f=e,e=d,d=f),e>b&&(b=e),d<c&&(c=d),b>c)return null;if(1E-6>z.Abs(this.direction.z)){if(this.start.z<a.min.z||this.start.z>a.max.z)return null}else if(d=1/this.direction.z,e=(a.min.z-this.start.z)*d,a=(a.max.z-this.start.z)*d,e>a&&(d=e,e=a,a=d),e>b&&(b=e),a<c&&(c=a),b>c)return null;return this.At(0<=b?
b:c)},IntersectsTriangle:function(a,b,c,d){null==d&&(d=!1);var e=O.instance1,f=O.instance2,g=O.instance3,h=O.instance4;null==a?(f.x-=b.x,f.y-=b.y,f.z-=b.z):(f.x=b.x-a.x,f.y=b.y-a.y,f.z=b.z-a.z);f;null==a?(g.x-=c.x,g.y-=c.y,g.z-=c.z):(g.x=c.x-a.x,g.y=c.y-a.y,g.z=c.z-a.z);g;h.Cross(f,g);b=this.direction.Dot(h,null);c=0;if(0<b){if(d)return null;c=1}else if(0>b)c=-1,b=-b;else return null;e.Sub(this.start,a);a=c*this.direction.Dot(g.Cross(e,g),null);if(0>a)return null;f=c*this.direction.Dot(f.Cross(e),
null);if(0>f||a+f>b)return null;e=-c*(e.x*h.x+e.y*h.y+e.z*h.z);return 0>e?null:this.At(e/b)},ApplyMatrix4:function(a){a.TransformVec3(this.direction.Add(this.start,null));a.TransformVec3(this.start);this.direction.Sub(this.start,null);this.direction.Normalize();return this},__class__:tc};var sc=function(a,b){this._list=[];this._index=0;this._create=a;this._reset=b;this.count=0};g["lovedna.utils.FramePool"]=sc;sc.__name__=["lovedna","utils","FramePool"];sc.prototype={count:null,_list:null,_index:null,
_create:null,_reset:null,Get:function(){var a=null;this._index<this._list.length?a=this._list[this._index++]:(a=this._create(),this._list[this._index++]=a);null!=this._reset&&this._reset(a);this.count=this._list.length;return a},Reset:function(){this._index=0},__class__:sc};var od=function(){this.id=0;this.layers=new ld(-1);this.ray=new tc;this.backfaceCulling=!1;this.raycastMode=0;this.trangle=new O;this.position=new O};g["lovedna.love3d.picking.RaycastHit"]=od;od.__name__=["lovedna","love3d","picking",
"RaycastHit"];od.prototype={id:null,layers:null,ray:null,backfaceCulling:null,raycastMode:null,target:null,gameObject:null,trangle:null,position:null,Copy:function(a){if(null==a)return this.target=this.gameObject=null,this;this.ray.Copy(a.ray);this.backfaceCulling=a.backfaceCulling;this.raycastMode=a.raycastMode;this.trangle.Copy(a.trangle);this.position.Copy(a.position);this.target=a.target;this.gameObject=a.gameObject;this.layers.value=a.layers.value;return this},__class__:od};var La=function(a,
b){null==b&&(b=0);null==a&&(a=0);this.x=this.y=0;this.x=a;this.y=b};g["lovedna.math.Vec2"]=La;La.__name__=["lovedna","math","Vec2"];La.prototype={x:null,y:null,Set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},Copy:function(a){if(a==this)return this;this.x=a.x;this.y=a.y;return this},Sub:function(a,b){null==b?(this.x-=a.x,this.y-=a.y):(this.x=a.x-b.x,this.y=a.y-b.y);return this},Lerp:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=c);e&&(e=c,c=d,d=e);return this.Set(z.Lerp(a.x,
b.x,c),z.Lerp(a.y,b.y,d))},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:La,__properties__:{get_length:"get_length"}};var B=function(){};g["lovedna.love3d.Love3dPools"]=B;B.__name__=["lovedna","love3d","Love3dPools"];B.Reset=function(){for(var a=B._list.length;0<a--;)B._list[a].Reset()};B.addPool=function(a){B._list.push(a);return a};var Lc=function(){A.call(this);if(null!=Lc.instance)throw new C("instance error");
Lc.instance=this;this._visible=this._init=!1;this._active=!0;this._lost=!1;Rc.get_isSupported()?(this._time=new md,Ta.Build(),this._gl=Eb.GetInstance(),this._view=new Rc,this._view.addEventListener("addedToStage",k(this,this.display_addedToStage)),this._view.addEventListener("removedFromStage",k(this,this.display_addedToStage)),this._lovedna=Nb.GetInstance(),this._lovedna.AddEventListener(y.ACTIVATE,k(this,this.stage_activate)),this._lovedna.AddEventListener(y.DEACTIVATE,k(this,this.stage_activate)),
this._lovedna.AddEventListener(y.RESIZE,k(this,this.stage_resize)),this._lovedna.AddEventListener(y.LOST,k(this,this.stage_contextLost)),this._lovedna.AddEventListener(y.RESTORE,k(this,this.stage_contextLost)),ca.width=this._lovedna.stage.stageWidth,ca.height=this._lovedna.stage.stageHeight,this._sceneList=[],this._sceneCount=0,this._sceneDirty=!1,this._trigger=ib.GetInstance(),this._currentTime=0):Ma.log("not support gl")};g["lovedna.love3d.Love3dView"]=Lc;Lc.__name__=["lovedna","love3d","Love3dView"];
Lc.__super__=L;Lc.prototype=n(L.prototype,{_view:null,_init:null,_visible:null,_active:null,_lost:null,_lovedna:null,_sceneList:null,_sceneCount:null,_sceneDirty:null,_currentTime:null,_trigger:null,_gl:null,_time:null,Init:function(a){null!=a&&null!=this._view&&a.addChild(this._view)},AddScene:function(a){q.remove(this._sceneList,a);this._sceneList.push(a);a=this._sceneList.length;this._sceneDirty=a!=this._sceneCount;this._sceneCount=a},display_addedToStage:function(a){(this._visible="addedToStage"==
a.type)?(this._currentTime=this._trigger.GetTime(),this._view.set_render(k(this,this.render))):this._view.set_render(null)},stage_activate:function(a){this._active=a._type==y.ACTIVATE._type},stage_resize:function(a){ca.width=this._lovedna.stage.stageWidth;ca.height=this._lovedna.stage.stageHeight;this._view.set_width(ca.width);this._view.set_height(ca.height);ca.onResize.DispatchEvent(y.RESIZE)},stage_contextLost:function(a){(this._lost="glcontextlost"==a.type)?ta.dispatcher.DispatchEvent(y.LOST):
ta.dispatcher.DispatchEvent(y.RESTORE)},render:function(a){if(this._visible&&this._active&&!this._lost){a=this._trigger.GetTime();Eb.time=a;ta.time=a;var b=a-this._currentTime;ta.tick=b;b*=ta.timeScale;this._currentTime=a;.1<b&&(b%=.1);if(!ta.pause){m.context.clearColor(ca.backgroundColor.r,ca.backgroundColor.g,ca.backgroundColor.b,ca.backgroundColor.a);this._gl.PreFrame();this._gl.PushViewPort(0,0,ca.width,ca.height);this._time.Set4(a,b,Math.sin(a),Math.cos(a));qa.SetFrameUniform("_Time",this._time.GetFloat32Array());
T.onPreFrame({fileName:"Love3dView.hx",lineNumber:166,className:"lovedna.love3d.Love3dView",methodName:"render"});ta.preFrame();for(var c=this._sceneCount;0<c--;)this._sceneList[c].frametick(a,b);this._visible&&!this._init&&(this._init=!0,this.DispatchEvent(y.INIT));B.Reset();T.onPostFrame({fileName:"Love3dView.hx",lineNumber:188,className:"lovedna.love3d.Love3dView",methodName:"render"});ta.postFrame();this._gl.PostFrame()}}},__class__:Lc});var be=function(a){null==a&&(a="scene");A.call(this);this.name=
a;this._root=new T("scene");this._root.setScene(this);a=new T("camera");a.set_z(500);this.AddChild(a);this.camera=a.AddComponent(ab);this.set_order(-1);this._childrenDirty=this._childrenDirty1=!1;this._childList=new X;this._lastList=new Aa;this._renderList=new X;this._childCount=0;this.rendererSortGroup=new ng;ca.onResize.AddEventListener(y.RESIZE,k(this,this.onResize_resize));a.AddComponent(Ya)};g["lovedna.love3d.Scene"]=be;be.__name__=["lovedna","love3d","Scene"];be.__super__=gb;be.prototype=n(gb.prototype,
{order:null,camera:null,name:null,_root:null,_childrenDirty:null,_childrenDirty1:null,_childList:null,_lastList:null,_renderList:null,rendererSortGroup:null,_childCount:null,AddChild:function(a){this._root.AddChild(a);this._childrenDirty=this._childrenDirty1=!0},ChildrenDirty:function(){this._childrenDirty=this._childrenDirty1=!0},onResize_resize:function(a){this.camera.gameObject.dispatcher.DispatchEvent(ub.OnScreenResize)},frametick:function(a,b){ab.current=this.camera;this._childrenDirty=this._childrenDirty1;
this._childrenDirty1=!1;var c=0,d=null,e=!1;if(this._childrenDirty){this._childrenDirty=!1;for(c=this._childList._length;0<c--;)d=this._childList.Get(c),this._lastList.h[d.instanceID]=d;this._childList.Clear();this._renderList.Clear();this.buildChildList();for(d=this._lastList.iterator();d.hasNext();)c=d.next(),c.setScene(null),this._lastList.remove(c.instanceID);this._childCount=this._childList._length;e=!0}if(0<this._childCount){this._root.enterframe(b);for(var c=0,f=this._childCount;0<f--;)d=this._childList.Get(c++),
d.enterframe(b),d.changed&&(e=!0);if(e){this.rendererSortGroup.Clear();c=0;for(f=this._renderList._length;0<f--;)if(e=this._renderList.Get(c++),d=e.gameObject,e.active&&e.get_enabled()&&this.camera.layers.IsOpen(e.gameObject.layer)){if(e.cameraCull){if(!this.camera.frustum.IntersectsSphere(e.bounds.sphere)){d.set_visible(!1);continue}if(!this.camera.frustum.IntersectsBox(e.bounds.box)){d.set_visible(!1);continue}}d.set_visible(!0);this.rendererSortGroup.Add(e)}this.rendererSortGroup.typeGroup.cameraPosition.Copy(this.camera.gameObject.get_worldPosition());
this.rendererSortGroup.Update()}this.camera.render();c=0;f=this._childCount;for(this._root.exitframe();0<f--;)d=this._childList.Get(c++),d.exitframe()}},buildChildList:function(){for(var a=this._root.childCount,b=0;b<a;){var c=b++;this.buildChild(this._root.GetChild(c))}},buildChild:function(a){if(a.active){var b=a.GetComponent(ec);null!=b&&this._renderList.Add(b);this._childList.Add(a);this._lastList.remove(a.instanceID);a.scene!=this&&a.setScene(this);for(var b=a.childCount,c=0;c<b;){var d=c++;
this.buildChild(a.GetChild(d))}}},set_order:function(a){a!=this.order&&(this.order=a);return this.order},__class__:be,__properties__:{set_order:"set_order"}});var Sc=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.a=1;this.r=this.g=this.b=0;this.set_r(a);this.set_g(b);this.set_b(c);this.set_a(d);this.dirty=!0};g["lovedna.math.Color"]=Sc;Sc.__name__=["lovedna","math","Color"];Sc.__interfaces__=[Mb];Sc.prototype={r:null,g:null,b:null,a:null,_data:null,dirty:null,Set:function(a,
b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set_r(a);this.set_g(b);this.set_b(c);this.set_a(d);this.dirty=!0;return this},GetFloat32Array:function(){if(null==this._data){var a=[this.r,this.g,this.b,this.a];this._data=null!=a?new Float32Array(a):null}this.dirty&&(this._data[0]=this.r,this._data[1]=this.g,this._data[2]=this.b,this._data[3]=this.a,this.dirty=!1);return this._data},set_r:function(a){a!=this.r&&(this.r=a,this.dirty=!0);return a},set_g:function(a){a!=this.g&&
(this.g=a,this.dirty=!0);return a},set_b:function(a){a!=this.b&&(this.b=a,this.dirty=!0);return a},set_a:function(a){a!=this.a&&(this.a=a,this.dirty=!0);return a},set_rgb:function(a){this.set_r(.00392156863*(a>>16&255));this.set_g(.00392156863*(a>>8&255));this.set_b(.00392156863*(a&255));this.dirty=!0;return a},__class__:Sc,__properties__:{set_rgb:"set_rgb",set_a:"set_a",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var ca=function(){};g["lovedna.love3d.Screen"]=ca;ca.__name__=["lovedna","love3d","Screen"];
var vb=g["lovedna.love3d.ShadowCastingMode"]={__ename__:!0,__constructs__:["Off","On","TwoSided","ShadowsOnly"]};vb.Off=["Off",0];vb.Off.toString=u;vb.Off.__enum__=vb;vb.On=["On",1];vb.On.toString=u;vb.On.__enum__=vb;vb.TwoSided=["TwoSided",2];vb.TwoSided.toString=u;vb.TwoSided.__enum__=vb;vb.ShadowsOnly=["ShadowsOnly",3];vb.ShadowsOnly.toString=u;vb.ShadowsOnly.__enum__=vb;var ab=function(){v.call(this)};g["lovedna.love3d.component.Camera"]=ab;ab.__name__=["lovedna","love3d","component","Camera"];
ab.__super__=v;ab.prototype=n(v.prototype,{touching:null,renderTarget:null,currentTarget:null,type:null,nearClipPlane:null,farClipPlane:null,fieldOfView:null,ratio:null,layers:null,frustum:null,lookAtRay:null,projectionViewMatrix:null,projectionViewInverseMatrix:null,projectionMatrix:null,viewMatrix:null,viewInverseMatrix:null,position:null,_cameraDirty:null,_p1:null,_p2:null,_commandBuffer:null,_renderBuffer:null,ScreenToViewportPoint:function(a,b){var c=z.LerpTo(0,ca.width,-1,1,a),d=z.LerpTo(0,
ca.height,1,-1,b);return B.vec2.Get().Set(c,d)},ViewportToScreenPoint:function(a,b){var c=z.LerpTo(-1,1,0,ca.width,a),d=z.LerpTo(1,-1,0,ca.height,b);return B.vec2.Get().Set(c,d)},ScreenToWorldPoint:function(a,b,c){null==c&&(c=0);a=this.ScreenToViewportPoint(a,b);return this.ViewportToWorldPoint(a.x,a.y,z.LerpTo(this.nearClipPlane,this.farClipPlane,-1,1,c))},WorldToScreenPoint:function(a,b,c){a=B.vec3.Get().Set(a,b,c);this.projectionViewMatrix.TransformVec3(a,!0);b=this.ViewportToScreenPoint(a.x,a.y);
a.Set(b.x,b.y,z.LerpTo(this.nearClipPlane,this.farClipPlane,-1,1,a.z));return a},ScreenPointToRay:function(a,b){var c=this.ScreenToViewportPoint(a,b);return this.ViewportPointToRay(c.x,c.y)},ViewportPointToRay:function(a,b){this._p1.Set(a,b,-1);this._p2.Copy(this._p1);this._p2.z=1;this.projectionViewInverseMatrix.TransformVec3(this._p1,!0);this.projectionViewInverseMatrix.TransformVec3(this._p2,!0);return B.ray.Get().Set(this._p1,this._p2)},ViewportToWorldPoint:function(a,b,c){var d=B.vec3.Get(),
e=B.vec3.Get();d.x=a;d.y=b;d.z=-1;d;e.x=a;e.y=b;e.z=1;e;this.projectionViewInverseMatrix.TransformVec3(d,!0);this.projectionViewInverseMatrix.TransformVec3(e,!0);e.x-=d.x;e.y-=d.y;e.z-=d.z;return e.Scale(z.LerpTo(-1,1,0,1,c)).Add(d,null)},WorldToViewportPoint:function(a,b,c){a=this.WorldToScreenPoint(a,b,c);b=this.ScreenToViewportPoint(a.x,a.y);a.x=b.x;a.y=b.y;a.z=z.LerpTo(this.nearClipPlane,this.farClipPlane,-1,1,c);return a},onConstruct:function(){v.prototype.onConstruct.call(this);this.set_type(1);
this.set_nearClipPlane(1);this.set_farClipPlane(1E3);this.set_fieldOfView(60);this.ratio=ca.width/ca.height;this.layers=new ld(-1);this.frustum=new Fe;this.lookAtRay=new tc;this.viewMatrix=new fb;this.viewInverseMatrix=new fb;this.projectionMatrix=new fb;this.projectionViewMatrix=new fb;this.projectionViewInverseMatrix=new fb;this._p1=new O;this._p2=new O;this._commandBuffer=new fc;this.position=new Pc;this.touching=this._cameraDirty=!0},start:function(){v.prototype.start.call(this);this.AddEvent(r.OnUpdate,
k(this,this.OnUpdate));this.AddEvent(r.OnWorldChange,k(this,this.OnWorldChange));this.AddEvent(ub.OnScreenResize,k(this,this.OnScreenResize));this.OnScreenResize()},select:function(){ab.current=this},cameraDirty:function(){this._cameraDirty=!0},OnScreenResize:function(){var a=ca.width|0,b=ca.height|0;1>b&&(b=1);this.ratio=a/b;null==this._renderBuffer&&(this._renderBuffer=new De(a,b));this._renderBuffer.Resize(a,b);this._cameraDirty=!0},OnUpdate:function(){this.gameObject.changed||this.refreshCamera()},
OnWorldChange:function(){this._cameraDirty=!0;this.refreshCamera()},refreshCamera:function(){this._cameraDirty&&(this._cameraDirty=!1,this._p1.Copy(this.gameObject.get_worldPosition()),this.position.Set3(this._p1.x,this._p1.y,this._p1.z),this._p2.Copy(this.gameObject.get_forward()),this._p2.Scale(this.nearClipPlane-this.farClipPlane),this._p2.Add(this._p1,null),this.lookAtRay.Set(this._p1,this._p2),this.viewMatrix.LookAt(this._p1,this._p2,this.gameObject.get_up()),this.viewInverseMatrix.Copy(this.viewMatrix),
this.viewInverseMatrix.Inverse(),this.ratio=ca.width/ca.height,this.projectionMatrix.Perspective(this.fieldOfView,this.ratio,this.nearClipPlane,this.farClipPlane),this.projectionViewMatrix.Copy(this.projectionMatrix),this.projectionViewMatrix.Append(this.viewMatrix),this.projectionViewInverseMatrix.Copy(this.projectionViewMatrix),this.projectionViewInverseMatrix.Inverse(),this.frustum.FromMatrix(this.projectionViewMatrix))},render:function(){this.active&&(ab.current=this,this.gameObject.dispatcher.DispatchEvent(ub.OnPreRender),
this.gameObject.scene.rendererSortGroup.typeGroup.commandBuffer.Execute(),this.gameObject.dispatcher.DispatchEvent(ub.OnPostRender))},get_currentTarget:function(){return null==this.renderTarget?this._renderBuffer:this.currentTarget},set_nearClipPlane:function(a){.1<a?this.nearClipPlane!=a&&(this.nearClipPlane=a,this._cameraDirty=!0):this.nearClipPlane=.1;return this.nearClipPlane},set_farClipPlane:function(a){100<a&&this.farClipPlane!=a&&(this.farClipPlane=a,this._cameraDirty=!0);return this.farClipPlane},
set_fieldOfView:function(a){this.fieldOfView!=a&&1<a&&179>a&&(this.fieldOfView=a,this._cameraDirty=!0);return this.fieldOfView},set_type:function(a){2!=a&&(a=1);a!=this.type&&(this.type=a,this._cameraDirty=!0);return a},__class__:ab,__properties__:n(v.prototype.__properties__,{set_fieldOfView:"set_fieldOfView",set_farClipPlane:"set_farClipPlane",set_nearClipPlane:"set_nearClipPlane",set_type:"set_type",get_currentTarget:"get_currentTarget"})});var mc=function(){this._width=this._height=-1;v.call(this)};
g["lovedna.love3d.component.Canvas"]=mc;mc.__name__=["lovedna","love3d","component","Canvas"];mc.__super__=v;mc.prototype=n(v.prototype,{distanceToCamera:null,scaleMode:null,_camera:null,_width:null,_height:null,_canvasScaleX:null,_canvasScaleY:null,SetSize:function(a,b){this._width=a;this._height=b;this.gameObject.GetComponent(Ia).SetSize(this._width,this._height)},start:function(){v.prototype.start.call(this);this.gameObject.AddComponent(Ia);this._height=this._width=-1;this._canvasScaleX=this._canvasScaleY=
this.scaleMode=1;this.distanceToCamera=50;this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))},OnUpdate:function(){if(null!=this._camera){var a=ca.width,b=ca.height,c=this._width,d=this._height;if(1>=c||1>=d)c=a,d=b;var e=O.instance1,f=O.instance2;e.x=-1;e.y=-1;e.z=1;e;f.x=1;f.y=1;f.z=1;f;a=this.distanceToCamera;b=this._camera.projectionViewInverseMatrix;b.TransformVec3(e,!0);b.TransformVec3(f,!0);var g=a/this._camera.farClipPlane,b=z.Abs((f.x-e.x)*
g),e=z.Abs((f.y-e.y)*g),f=b/c,g=e/d;this._canvasScaleX=f;this._canvasScaleY=g;switch(this.scaleMode){case 3:g=f;break;case 4:f=g;break;case 1:c/d>b/e?g=f:f=g}this.gameObject.set_scaleX(f);this.gameObject.set_scaleY(g);c=this._camera.lookAtRay.At(a);this.gameObject.set_x(c.x);this.gameObject.set_y(c.y);this.gameObject.set_z(c.z);this.gameObject.set_rotationX(this._camera.gameObject.rotationX);this.gameObject.set_rotationY(this._camera.gameObject.rotationY);this.gameObject.set_rotationZ(this._camera.gameObject.rotationZ)}},
OnAddToScene:function(){this._camera=this.gameObject.scene.camera},__class__:mc});var og=function(){};g["lovedna.love3d.picking.IRaycastTarget"]=og;og.__name__=["lovedna","love3d","picking","IRaycastTarget"];og.prototype={Raycast:null,__class__:og};var Ra=function(){v.call(this)};g["lovedna.love3d.component.Graphic"]=Ra;Ra.__name__=["lovedna","love3d","component","Graphic"];Ra.__interfaces__=[og];Ra.__super__=v;Ra.prototype=n(v.prototype,{color:null,raycastTarget:null,Raycast:function(a){return!1},
onConstruct:function(){v.prototype.onConstruct.call(this);this.color=new Sc(1,1,1,1);this.raycastTarget=!1},start:function(){v.prototype.start.call(this);this.AddEvent(r.OnPostRender,k(this,this.OnPostRender))},getAliasName:function(){return pb.GetName(Ra)},OnPostRender:function(){this.raycastTarget&&Ya.Add(this)},__class__:Ra});var ga=function(){v.call(this)};g["lovedna.love3d.component.Image"]=ga;ga.__name__=["lovedna","love3d","component","Image"];ga.__super__=Ra;ga.prototype=n(Ra.prototype,{border:null,
renderer:null,rect:null,_dirty:null,_type:null,_fillAmount:null,_fillDirection:null,_sprite:null,Raycast:function(a){if(!a.layers.IsOpen(this.gameObject.layer)||null==this.renderer||null!=this.renderer.bounds.sphere&&!a.ray.IntersectsSphere(this.renderer.bounds.sphere)||null!=this.renderer.bounds.box&&null==a.ray.IntersectBox(this.renderer.bounds.box))return!1;a.gameObject=this.gameObject;a.raycastMode=0;var b=this.renderer.mesh,c=b.triangle.length/3|0,d=B.vec3.Get(),e=B.vec3.Get(),f=B.vec3.Get(),
g=b.position,h=tc.instance;h.Copy(a.ray);for(h.ApplyMatrix4(this.gameObject.get_worldToLocalMatrix());0<c--;){var k=3*c,l=b.triangle[k],m=b.triangle[k+1],k=b.triangle[k+2];d.Copy(g[l]);e.Copy(g[m]);f.Copy(g[k]);var n=h.IntersectsTriangle(d,e,f,a.backfaceCulling);if(null!=n)return a.trangle.Set(l,m,k),a.position.Copy(n),a.raycastMode=1,!0}return!1},onConstruct:function(){Ra.prototype.onConstruct.call(this);this._dependsList=[uc,Ia];this._dirty=!1;this._type=-1;this._fillAmount=1;this._fillDirection=
0},start:function(){Ra.prototype.start.call(this);this.renderer=this.gameObject.AddComponent(uc);this.rect=this.gameObject.AddComponent(Ia);this.rect.AddEventListener(Ia.OnSizeChange,k(this,this.OnSizeChange));this.renderer.set_material(new pd);this.renderer.materials[0].set_shader(new Ta("@image"));this.renderer.materials[0].color=this.color;this.renderer.materials[0].state.set_cullMode(-1);this.renderer.materials[0].state.set_ztest(-1);this.renderer.materials[0].set_renderQueue(5E3);this.renderer.materials[0].set_renderType(Oa.UI)},
dirty:function(){!this._dirty&&this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0)},OnUpdate:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate));this._dirty=!1;null!=this._sprite&&this._sprite.enable&&this.build()},OnSizeChange:function(a){this.dirty()},spriteInit:function(a){this._sprite.RemoveEventListener(y.INIT,k(this,this.spriteInit));this._sprite.enable&&(this.renderer.materials[0].SetTexture(this._sprite.texture),this.rect.SetPreferredSize(this._sprite.size.x,this._sprite.size.y),
0>=this.rect.width&&this.rect.set_width(this._sprite.size.x),0>=this.rect.height&&this.rect.set_height(this._sprite.size.y),.5==this.rect.pivotX&&this.rect.set_pivotX(this._sprite.region.pivot.x),.5==this.rect.pivotY&&this.rect.set_pivotY(this._sprite.region.pivot.y),-1!=this._type||!this._sprite.region.hasBorder&&null==this.border||(this._type=1),this.dirty())},build:function(){if(!(0>this.rect.width||0>this.rect.height)){null==this.renderer.mesh&&this.renderer.set_mesh(new qd);switch(this._type){case 0:this.simpleFill();
break;case 3:this.filledFill();break;case 1:this.slicedFill();break;case 2:this.tiledFill();break;default:this.simpleFill()}this.renderer.bounds.Copy(this.renderer.mesh.get_bounds());this.renderer.bounds.Apply(this.gameObject.localToWorldMatrix)}},simpleFill:function(){var a=this.renderer.mesh,b=this.rect.width,c=this.rect.height;a.set_position([new O(0,0,0),new O(b,0,0),new O(b,c,0),new O(0,c,0)]);a.set_uv([this._sprite.uv[0],this._sprite.uv[1],this._sprite.uv[2],this._sprite.uv[3]]);a.set_triangle([0,
1,2,2,3,0])},slicedFill:function(){var a=this._sprite.region.border;null!=this.border&&(a=this.border);var b=this.rect.width,c=this.rect.height;b<a.x+a.width&&(b=a.x+a.width);c<a.y+a.height&&(c=a.y+a.height);var d=this._sprite.region.rect,e=d.width,d=d.height,f=3,g=3;0>=a.x&&f--;0>=a.width&&f--;0>=a.y&&g--;0>=a.height&&g--;1<f&&b==e&&(f=1);1<g&&c==d&&(g=1);if(1==f&&1==g)this.simpleFill();else{var h=[0],k=[0];0<a.x&&(h.push(a.x),k.push(a.x));0<a.width&&(h.push(b-a.width),k.push(e-a.width));h.push(b);
k.push(e);var b=[c],l=[0];0<a.y&&(b.push(c-a.y),l.push(a.y));0<a.height&&(b.push(a.height),l.push(d-a.height));b.push(0);l.push(d);for(var a=[],c=[],m=[],n=0,p=0;p<f;)for(var r=p++,t=r+1,q=0;q<g;){var u=q++,v=u+1,x=h[r],y=b[u],w=h[t],z=b[v],C=k[r],u=l[u],A=k[t],v=l[v];a.push(B.vec3.Get().Set(x,y,0));a.push(B.vec3.Get().Set(w,y,0));a.push(B.vec3.Get().Set(w,z,0));a.push(B.vec3.Get().Set(x,z,0));c.push(B.vec2.Get().Lerp(this._sprite.uv[3],this._sprite.uv[1],C/e,u/d));c.push(B.vec2.Get().Lerp(this._sprite.uv[3],
this._sprite.uv[1],A/e,u/d));c.push(B.vec2.Get().Lerp(this._sprite.uv[3],this._sprite.uv[1],A/e,v/d));c.push(B.vec2.Get().Lerp(this._sprite.uv[3],this._sprite.uv[1],C/e,v/d));m.push(n);m.push(1+n);m.push(2+n);m.push(2+n);m.push(3+n);m.push(n);n+=4}e=this.renderer.mesh;e.set_position(a);e.set_uv(c);e.set_triangle(m)}},tiledFill:function(){},filledFill:function(){if(1==this._fillAmount)this.simpleFill();else switch(this._fillDirection){case 0:this.fillLeft();break;case 1:this.fillTop();break;case 2:this.fillRight();
break;case 3:this.fillBottom();break;default:this.simpleFill()}},fillLeft:function(){var a=this.rect.height,b=this.renderer.mesh,c=this.rect.width*this._fillAmount;b.set_position([B.vec3.Get().Set(0,0,0),B.vec3.Get().Set(c,0,0),B.vec3.Get().Set(c,a,0),B.vec3.Get().Set(0,a,0)]);b.set_uv([this._sprite.uv[0],B.vec2.Get().Lerp(this._sprite.uv[0],this._sprite.uv[1],this._fillAmount),B.vec2.Get().Lerp(this._sprite.uv[3],this._sprite.uv[2],this._fillAmount),this._sprite.uv[3]]);b.set_triangle([0,1,2,2,3,
0])},fillTop:function(){var a=this.rect.width,b=this.rect.height,c=this.renderer.mesh,d=b*(1-this._fillAmount);c.set_position([B.vec3.Get().Set(0,d,0),B.vec3.Get().Set(a,d,0),B.vec3.Get().Set(a,b,0),B.vec3.Get().Set(0,b,0)]);c.set_uv([B.vec2.Get().Lerp(this._sprite.uv[3],this._sprite.uv[0],this._fillAmount),B.vec2.Get().Lerp(this._sprite.uv[2],this._sprite.uv[1],this._fillAmount),this._sprite.uv[2],this._sprite.uv[3]]);c.set_triangle([0,1,2,2,3,0])},fillRight:function(){var a=this.rect.width,b=this.rect.height,
c=this.renderer.mesh,d=a*(1-this._fillAmount);c.set_position([B.vec3.Get().Set(d,0,0),B.vec3.Get().Set(a,0,0),B.vec3.Get().Set(a,b,0),B.vec3.Get().Set(d,b,0)]);c.set_uv([B.vec2.Get().Lerp(this._sprite.uv[1],this._sprite.uv[0],this._fillAmount),this._sprite.uv[1],this._sprite.uv[2],B.vec2.Get().Lerp(this._sprite.uv[2],this._sprite.uv[3],this._fillAmount)]);c.set_triangle([0,1,2,2,3,0])},fillBottom:function(){var a=this.rect.width,b=this.renderer.mesh,c=this.rect.height*this._fillAmount;b.set_position([B.vec3.Get().Set(0,
0,0),B.vec3.Get().Set(a,0,0),B.vec3.Get().Set(a,c,0),B.vec3.Get().Set(0,c,0)]);b.set_uv([this._sprite.uv[0],this._sprite.uv[1],B.vec2.Get().Lerp(this._sprite.uv[1],this._sprite.uv[2],this._fillAmount),B.vec2.Get().Lerp(this._sprite.uv[0],this._sprite.uv[3],this._fillAmount)]);b.set_triangle([0,1,2,2,3,0])},fillCenter:function(){},get_type:function(){return this._type},set_type:function(a){this._type!=a&&(this._type=a,this.dirty());return this._type},get_resource:function(){return this._sprite},set_resource:function(a){null==
this._sprite||this._sprite.enable||this._sprite.RemoveEventListener(y.INIT,k(this,this.spriteInit));this._sprite=a;null!=this._sprite&&(this._sprite.enable?this.spriteInit(null):this._sprite.AddEventListener(y.INIT,k(this,this.spriteInit)));return this._sprite},get_fillDirection:function(){return this._fillDirection},set_fillDirection:function(a){this._fillDirection!=a&&(this._fillDirection=a,3==this._type&&this.dirty());return this._fillDirection},get_fillAmount:function(){return this._fillAmount},
set_fillAmount:function(a){0>a&&(a=0);1<a&&(a=1);this._fillAmount!=a&&(this._fillAmount=a,this.dirty());return this._fillAmount},__class__:ga,__properties__:n(Ra.prototype.__properties__,{set_resource:"set_resource",get_resource:"get_resource",set_fillDirection:"set_fillDirection",get_fillDirection:"get_fillDirection",set_fillAmount:"set_fillAmount",get_fillAmount:"get_fillAmount",set_type:"set_type",get_type:"get_type"})});var ec=function(){v.call(this)};g["lovedna.love3d.component.Renderer"]=ec;
ec.__name__=["lovedna","love3d","component","Renderer"];ec.__super__=v;ec.prototype=n(v.prototype,{enabled:null,cameraCull:null,castShadow:null,receiveShadow:null,materials:null,bounds:null,renderOrder:null,_rendererItems:null,onConstruct:function(){v.prototype.onConstruct.call(this);this.cameraCull=!0;this.castShadow=vb.Off;this.receiveShadow=!1;this.bounds=new Ge;this.renderOrder=0;this.materials=[];this._rendererItems=[]},getAliasName:function(){return pb.GetName(ec)},addToRendererGroup:function(a){for(var b=
this.materials.length;0<b--;){var c=this.materials[b];if(null!=c){var d=this._rendererItems[b];null==d&&(d=new pg,d.renderer=this,d.gameObject=this.gameObject,this._rendererItems[b]=d);d.material=c;this.fillRendererItem(d);a.addRendererItem(d)}}},fillRendererItem:function(a){},dirty:function(){},get_enabled:function(){return null!=this.materials[0]&&this.materials[0].get_enabled()?!0:!1},get_material:function(){return this.materials[0]},set_material:function(a){null!=a&&(a.onChange=k(this,this.dirty));
return this.materials[0]=a},__class__:ec,__properties__:n(v.prototype.__properties__,{set_material:"set_material",get_material:"get_material",get_enabled:"get_enabled"})});var uc=function(){v.call(this)};g["lovedna.love3d.component.MeshRenderer"]=uc;uc.__name__=["lovedna","love3d","component","MeshRenderer"];uc.__super__=ec;uc.prototype=n(ec.prototype,{mesh:null,get_enabled:function(){if(null==this.mesh||!this.mesh.enable||0==ec.prototype.get_enabled.call(this))return!1;null==this.mesh.get_bounds()&&
this.mesh.RecalculateBounds();if(null==this.mesh.get_bounds())return!1;this.bounds.Copy(this.mesh.get_bounds());this.gameObject.changed&&this.bounds.Apply(this.gameObject.localToWorldMatrix);return!0},start:function(){ec.prototype.start.call(this)},fillRendererItem:function(a){a.mesh=this.mesh},set_mesh:function(a){this.mesh=a;null!=this.gameObject&&(this.gameObject.changed=!0);return this.mesh},__class__:uc,__properties__:n(ec.prototype.__properties__,{set_mesh:"set_mesh"})});var Ya=function(){v.call(this)};
g["lovedna.love3d.component.PickSystem"]=Ya;Ya.__name__=["lovedna","love3d","component","PickSystem"];Ya.Add=function(a){Ya._list.Add(a)};Ya.Raycast=function(a){return!1};Ya.__super__=v;Ya.prototype=n(v.prototype,{hit:null,pickHandler:null,_camera:null,_activeTouchList:null,_pickRayList:null,_touchIdList:null,SetHandler:function(a){null!=this.pickHandler&&this.pickHandler.Init(null);this.pickHandler=a;null!=this.pickHandler&&this.pickHandler.Init(Ya._touchManager)},start:function(){v.prototype.start.call(this);
this.AddEvent(ub.OnPreRender,k(this,this.OnPreRender));this.AddEvent(ub.OnPostRender,k(this,this.OnPostRender));null==Ya._touchManager&&(Ya._touchManager=new Id,Ya._touchManager.AutoTrigger(!1),Ya._list=new X);this._activeTouchList=Ya._touchManager._activeTouchList;this._pickRayList=new X;this._touchIdList=new X;this.hit=new od;this.SetHandler(new Jd)},OnPreRender:function(){this._camera=ab.current;Ya._list.Clear();Ya._touchManager.Reset();if(this._camera.touching){this._pickRayList.Clear();this._touchIdList.Clear();
var a=this._activeTouchList._length;if(!(1>a)){for(;0<a--;){var b=this._activeTouchList.Get(a),c=this._camera.ScreenPointToRay(b.position.x,b.position.y);this._pickRayList.Add(c);this._touchIdList.Add(b.id)}this.hit.layers.value=this._camera.layers.value}}},OnPostRender:function(){if(this._camera.touching){var a=this._pickRayList._length;if(!(1>a))for(var b=Ya._list._length,c=0;c<b;)for(var d=c++,d=Ya._list.Get(d),e=0;e<a;){var f=e++;this.hit.ray.Copy(this._pickRayList.Get(f));if(d.Raycast(this.hit)){var g=
B.raycastHit.Get();g.Copy(this.hit);g.id=this._touchIdList.Get(f);g.target=d;Ya._touchManager.AddObject(this.hit.id,g)}}}Ya._touchManager.Update()},__class__:Ya});var Ia=function(){v.call(this)};g["lovedna.love3d.component.RectTransform"]=Ia;Ia.__name__=["lovedna","love3d","component","RectTransform"];Ia.__super__=v;Ia.prototype=n(v.prototype,{width:null,height:null,pivotX:null,pivotY:null,anchorX:null,anchorY:null,preferredWidth:null,preferredHeight:null,SetNativeSize:function(){this.set_width(this.set_height(0));
this.DispatchEvent(Ia.OnSizeChange)},SetPreferredSize:function(a,b){if(a!=this.preferredWidth||b!=this.preferredHeight)this.preferredWidth=a,this.preferredHeight=b,this.gameObject.dispatcher.DispatchEvent(r.OnContentResize)},SetAnchor:function(a,b){null==b&&(b=.5);null==a&&(a=.5);this.set_anchorX(a);this.set_anchorY(b);return this},SetPivot:function(a,b){null==b&&(b=.5);null==a&&(a=.5);this.set_pivotX(a);this.set_pivotY(b);return this},SetSize:function(a,b){this.set_width(a);this.set_height(b);return this},
start:function(){v.prototype.start.call(this);this.set_width(this.set_height(0));this.set_pivotX(this.set_pivotY(.5));this.set_anchorX(this.set_anchorY(.5));this.preferredWidth=this.preferredHeight=0;this.AddEvent(r.OnWorldChange,k(this,this.OnWorldChange))},dirtyTransform:function(){null!=this.gameObject&&this.gameObject.TransformDirty()},OnTransformBefore:function(){},OnWorldChange:function(){var a=this.gameObject.parent.GetComponent(Ia);null!=a&&this.gameObject.localToWorldMatrix.AppendTranslationV(a.width*
(this.anchorX-.5),a.height*(this.anchorY-.5),0);this.gameObject.localToWorldMatrix.AppendTranslationV(-this.width*this.pivotX,-this.height*this.pivotY,0)},set_width:function(a){0>a&&(a=0);this.width!=a&&(this.width=a,this.dirtyTransform(),this.DispatchEvent(Ia.OnSizeChange));return this.width},set_height:function(a){0>a&&(a=0);this.height!=a&&(this.height=a,this.dirtyTransform(),this.DispatchEvent(Ia.OnSizeChange));return this.height},set_pivotX:function(a){this.pivotX!=a&&(this.pivotX=a,this.dirtyTransform());
return this.pivotX},set_pivotY:function(a){this.pivotY!=a&&(this.pivotY=a,this.dirtyTransform());return this.pivotY},set_anchorX:function(a){this.anchorX!=a&&(this.anchorX=a,this.dirtyTransform());return a},set_anchorY:function(a){this.anchorY!=a&&(this.anchorY=a,this.dirtyTransform());return a},__class__:Ia,__properties__:n(v.prototype.__properties__,{set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_pivotY:"set_pivotY",set_pivotX:"set_pivotX",set_height:"set_height",set_width:"set_width"})});
var Kd=g["lovedna.love3d.component.BestFit"]={__ename__:!0,__constructs__:["Off","On"]};Kd.Off=["Off",0];Kd.Off.toString=u;Kd.Off.__enum__=Kd;Kd.On=function(a,b){var c=["On",1,a,b];c.__enum__=Kd;c.toString=u;return c};var qg=function(){this._paramKey=new X};g["lovedna.utils.string.RichChunk"]=qg;qg.__name__=["lovedna","utils","string","RichChunk"];qg.prototype={name:null,start:null,value:null,type:null,next:null,_paramKey:null,_paramMap:null,Parse:function(a,b){this._paramMap=new R;this.next=this.value=
this.name=null;this._paramKey.Clear();this.start=b;a=na.replace(a,"<","");a=na.replace(a,">","");a=w.Trim(a);this.type=-1;var c=a.indexOf("/");if(0==c)this.type=1,this.name=q.substr(a,c+1,null);else{c==a.length-1&&(this.type=0,a=w.Trim(q.substr(a,0,a.length-1)));var c=a.indexOf(" "),d=a.indexOf("=");-1==c&&-1==d?this.name=a:-1!=c&&-1!=d?d<c?(c=a.split("="),this.name=w.Trim(c[0]),1<c.length&&(this.value=c[1])):(this.name=q.substr(a,0,c),this.parseParams(q.substr(a,c+1,null))):-1!=c?(this.name=q.substr(a,
0,c),this.parseParams(q.substr(a,c+1,null))):-1!=d&&(this.name=w.Trim(q.substr(a,0,d)),this.parseParams(q.substr(a,d+1,null)))}},setNext:function(a){this.next=a},parseParams:function(a){a=w.Trim(a);if(-1==a.indexOf(" ")&&-1==a.indexOf("="))this.value=a;else{a=a.split(" ");var b=a.length;if(0!=b)for(var c=0;c<b;){var d=c++,d=w.Trim(a[d]);if(""!=d){var d=d.split("="),e=w.Trim(d[0]),f=null;1<d.length&&(f=w.Trim(d[1]));this._paramKey.Add(e);this._paramMap.set(e,f)}}}},__class__:qg};var rd=function(){this._chunkList=
new X;this._list=new X};g["lovedna.utils.string.RichTextParser"]=rd;rd.__name__=["lovedna","utils","string","RichTextParser"];rd.prototype={value:null,_chunkList:null,_list:null,Parse:function(a){this.value=a;this._chunkList.Clear();rd._pool.Reset();for(a=a.length;;){var b=w.Utf8IndexOf(this.value,"<",0),c=w.Utf8IndexOf(this.value,">",b),d=c-b;if(0<d){if(this.addChunk(b,w.Utf8Substr(this.value,b,d+1)),this.value=w.Utf8Substr(this.value,0,b)+w.Utf8Substr(this.value,c+1),this.value.length>a)break}else break;
a--;if(0>a)break}this.buildChunk();return this._list},addChunk:function(a,b){var c=rd._pool.Get();c.Parse(b,a);this._chunkList.Add(c)},buildChunk:function(){this._list.Clear();for(var a=this._chunkList._length,b=null,c=0;c<a;){var d=c++,b=this._chunkList.Get(d);if(null==b)break;-1==b.type?(this._list.Add(b),b.setNext(this.getNextChunk(d+1,b.name))):0==b.type&&this._list.Add(b)}},getNextChunk:function(a,b){for(var c=a,d=this._chunkList._length;c<d;){var e=c++,f=this._chunkList.Get(e);if(f.name==b&&
1==f.type)return this._chunkList.RemoveAt(e),f}return null},__class__:rd};var rg=function(){this.charInfo=new sd;this.rect=new td};g["lovedna.love3d.other.text.TextChar"]=rg;rg.__name__=["lovedna","love3d","other","text","TextChar"];rg.prototype={charInfo:null,rect:null,lineIndex:null,Reset:function(){},__class__:rg};var sd=function(){this.rect=new td};g["lovedna.utils.fnt.CharInfo"]=sd;sd.__name__=["lovedna","utils","fnt","CharInfo"];sd.isNewLine=function(a){return 10==a||13==a};sd.prototype={id:null,
rect:null,x:null,y:null,width:null,height:null,xoffset:null,yoffset:null,xadvance:null,page:null,SetNewLine:function(){this.id=10},IsNewLine:function(){return 13==this.id||10==this.id},Copy:function(a){null!=a?(this.id=a.id,this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.xoffset=a.xoffset,this.yoffset=a.yoffset,this.xadvance=a.xadvance,this.page=a.page,this.rect.Copy(a.rect)):this.id=-1;return this},Parse:function(a){this.id=V.GetInt(a,"id");this.x=V.GetFloat(a,"x");this.y=V.GetFloat(a,
"y");this.width=V.GetFloat(a,"width");this.height=V.GetFloat(a,"height");this.xoffset=V.GetFloat(a,"xoffset");this.yoffset=V.GetFloat(a,"yoffset");this.xadvance=V.GetFloat(a,"xadvance");this.page=V.GetInt(a,"page");this.rect.Set(this.x,this.y,this.width,this.height)},__class__:sd};var td=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this._vec2=new La;this.x=a;this.y=b;this.width=c;this.height=d};g["lovedna.math.Rect"]=td;td.__name__=["lovedna","math","Rect"];td.prototype=
{x:null,y:null,width:null,height:null,_vec2:null,Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d;return this},Copy:function(a){if(a==this)return this;this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:td,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};var Vb=function(){v.call(this)};
g["lovedna.love3d.component.Text"]=Vb;Vb.__name__=["lovedna","love3d","component","Text"];Vb.__super__=Ra;Vb.prototype=n(Ra.prototype,{renderer:null,rect:null,_dirty:null,_text:null,_richText:null,_font:null,_style:null,_lineSpace:null,_letterSpace:null,_alignmentX:null,_alignmentY:null,_bestFit:null,_charList:null,_charLineWidth:null,onConstruct:function(){Ra.prototype.onConstruct.call(this);this._dependsList=[uc,Ia];this._dirty=!1;this._letterSpace=this._lineSpace=0;this._alignmentY=this._alignmentX=
-1;this._bestFit=Kd.Off},start:function(){Ra.prototype.start.call(this);this.renderer=this.gameObject.AddComponent(uc);this.rect=this.gameObject.AddComponent(Ia);this.rect.set_width(200);this.rect.set_height(100);this.rect.set_pivotX(0);this.rect.set_pivotY(0);this.rect.AddEventListener(Ia.OnSizeChange,k(this,this.OnSizeChange));this.renderer.set_material(new pd);this.renderer.materials[0].set_shader(new Ta("@image"));this.renderer.materials[0].color=this.color;this.renderer.materials[0].state.set_cullMode(-1);
this.renderer.materials[0].state.set_ztest(-1);this.renderer.materials[0].set_renderQueue(5E3);this.renderer.materials[0].set_renderType(Oa.UI)},dirty:function(){!this._dirty&&this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0)},OnSizeChange:function(a){this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0)},fontInit:function(a){null!=this._font.texture&&this.renderer.materials[0].SetTexture(this._font.texture);this._dirty?null:this.AddEvent(r.OnUpdate,k(this,
this.OnUpdate))&&(this._dirty=!0)},OnUpdate:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate));this._dirty=!1;if(null!=this._text&&null!=this._font&&this._font.enable){var a=this.renderer.mesh;null==a&&(a=new qd,this.renderer.set_mesh(a));a=this._text.length;if(!(1>a)){this._richText&&(Vb._richTextParser.Parse(this._text),this._text=Vb._richTextParser.value);null==this._charList&&(this._charList=new X,this._charLineWidth=new X);this._charList.Clear();this._charLineWidth.Clear();for(var a=
this._text.length,b=0;b<a;){var c=b++,c=q.cca(this._text,c),d=Vb._textCharPool.Get();sd.isNewLine(c)?d.charInfo.SetNewLine():d.charInfo.Copy(this._font.fnt.GetCharInfo(c));this._charList.Add(d)}Vb._textCharPool.Reset();for(var c=b=0,d=this.rect.width,e=this.rect.height,a=this._charList._length,f=0,g=0,h=this._font.fnt.lineHeight,l=0,m=0;m<a;){var n=m++,n=this._charList.Get(n),t=n.charInfo;n.lineIndex=this._charLineWidth._length;if(t.IsNewLine())this._charLineWidth.Add(f),f=0,g=0==l?g+h:g+l,g+=this._lineSpace,
g>c&&(c=g),l=0;else{var p=t.width,u=t.height;f+p>d&&(this._charLineWidth.Add(f),f=0,g=0==l?g+h:g+l,g+=this._lineSpace,g>c&&(c=g),l=0);if(g>e)break;n.rect.Set(f+t.xoffset,g+t.yoffset,p,u);f+=this._letterSpace+t.xadvance;f>b&&(b=f);u>l&&(l=u)}}this._charLineWidth.Add(f);this.rect.SetPreferredSize(b,c+l);this.drawText()}}},drawText:function(){var a=this.renderer.mesh,b=a.position;null==b&&(b=[]);var c=a.uv;null==c&&(c=[]);var d=a.triangle;null==d&&(d=[]);var e=this._charList._length,f=this._font.texture.size.x,
g=this._font.texture.size.y,h=0,k=0,l=0,m=this.rect.preferredHeight-this.rect.height;0<this._alignmentY||(m=0==this._alignmentY?.5*m:0);for(var n=this.rect.width,p=0;p<e;){var t=p++,h=this._charList.Get(t),t=h.charInfo;if(!t.IsNewLine()){var r=this._charLineWidth.Get(h.lineIndex),q=n-r;0<this._alignmentX||(q=0==this._alignmentX?.5*q:0);var r=h.rect.x+q,u=-h.rect.get_bottom()+m,q=h.rect.get_right()+q,v=-h.rect.y+m,h=4*l;b[h]=B.vec3.Get().Set(r,u,0);b[h+1]=B.vec3.Get().Set(q,u,0);b[h+2]=B.vec3.Get().Set(q,
v,0);b[h+3]=B.vec3.Get().Set(r,v,0);r=t.rect.x/f;u=t.rect.get_bottom()/g;q=t.rect.get_right()/f;v=t.rect.y/g;c[h]=B.vec2.Get().Set(r,u);c[h+1]=B.vec2.Get().Set(q,u);c[h+2]=B.vec2.Get().Set(q,v);c[h+3]=B.vec2.Get().Set(r,v);h=6*l;d[h]=k;d[h+1]=k+1;d[h+2]=k+2;d[h+3]=k+2;d[h+4]=k+3;d[h+5]=k;k+=4;l++}}a.set_position(b);a.set_uv(c);a.set_triangle(d);a.indexCount=6*l;this.renderer.bounds.Copy(this.renderer.mesh.get_bounds());this.renderer.bounds.Apply(this.gameObject.localToWorldMatrix)},get_richText:function(){return this._richText},
set_richText:function(a){this._richText!=a&&(this._richText=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._richText},get_text:function(){return this._text},set_text:function(a){this._text!=a&&(this._text=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._text},get_style:function(){return this._style},set_style:function(a){this._style!=a&&(this._style=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,
this.OnUpdate))&&(this._dirty=!0));return this._style},get_font:function(){return this._font},set_font:function(a){this._font!=a&&((null==this._font||this._font.enable||this._font.RemoveEventListener(y.INIT,k(this,this.fontInit)),this._font=a,null==this._font||this._font.enable)?this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0):this._font.AddEventListener(y.INIT,k(this,this.fontInit)));return this._font},get_lineSpace:function(){return this._lineSpace},set_lineSpace:function(a){this._lineSpace!=
a&&(this._lineSpace=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._lineSpace},get_letterSpace:function(){return this._letterSpace},set_letterSpace:function(a){this._letterSpace!=a&&(this._letterSpace=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._letterSpace},get_alignmentX:function(){return this._alignmentX},set_alignmentX:function(a){0<a&&(a=1);0>a&&(a=-1);a!=this._alignmentX&&(this._alignmentX=
a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._alignmentX},get_alignmentY:function(){return this._alignmentY},set_alignmentY:function(a){0<a&&(a=1);0>a&&(a=-1);a!=this._alignmentY&&(this._alignmentY=a,this._dirty?null:this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))&&(this._dirty=!0));return this._alignmentY},get_bestFit:function(){return this._bestFit},set_bestFit:function(a){this._bestFit!=a&&(this._bestFit=a,this._dirty?null:this.AddEvent(r.OnUpdate,
k(this,this.OnUpdate))&&(this._dirty=!0));return this._bestFit},__class__:Vb,__properties__:n(Ra.prototype.__properties__,{set_bestFit:"set_bestFit",get_bestFit:"get_bestFit",set_alignmentY:"set_alignmentY",get_alignmentY:"get_alignmentY",set_alignmentX:"set_alignmentX",get_alignmentX:"get_alignmentX",set_letterSpace:"set_letterSpace",get_letterSpace:"get_letterSpace",set_lineSpace:"set_lineSpace",get_lineSpace:"get_lineSpace",set_style:"set_style",get_style:"get_style",set_font:"set_font",get_font:"get_font",
set_richText:"set_richText",get_richText:"get_richText",set_text:"set_text",get_text:"get_text"})});var ge=function(){this.max=0;v.call(this)};g["lovedna.love3d.component.Trail"]=ge;ge.__name__=["lovedna","love3d","component","Trail"];ge.__super__=Ra;ge.prototype=n(Ra.prototype,{renderer:null,distance:null,sizeStart:null,sizeEnd:null,life:null,max:null,_trailList:null,_poolList:null,_lastPos:null,_pos:null,_start:null,_time:null,_count:null,MoveTo:function(a){this.OnWorldChange(a)},onConstruct:function(){Ra.prototype.onConstruct.call(this);
this._dependsList=[uc];this._poolList=new X;this._trailList=new X;this.set_distance(0);this.set_sizeStart(10);this.set_sizeEnd(2);this.set_life(1);this._pos=new O;this._lastPos=new O;this._start=!1;this._count=this.max=this._time=0},start:function(){Ra.prototype.start.call(this);this.renderer=this.gameObject.AddComponent(uc);this.renderer.cameraCull=!1;this.renderer.set_material(new pd);this.renderer.materials[0].set_shader(new Ta("@image"));this.renderer.materials[0].color=this.color;this.renderer.materials[0].state.set_cullMode(-1);
this.AddEvent(r.OnAddToScene,k(this,this.OnAddToScene));this.AddEvent(r.OnRemoveFromScene,k(this,this.OnRemoveFromScene))},getOne:function(){return 0<this._poolList._length?this._poolList.Pop():new sg},OnAddToScene:function(){this.AddEvent(r.OnUpdate,k(this,this.OnUpdate))},OnRemoveFromScene:function(){this.RemoveEvent(r.OnUpdate,k(this,this.OnUpdate))},OnUpdate:function(){var a=this.renderer.mesh;null==a&&(a=new qd,this.renderer.set_mesh(a));a.Clear();this._time+=this.gameObject.tick;var b=this._trailList._length;
if(!(1>b)&&0!=this._start){for(var c=this._time;0<b--;)this._trailList.Get(b).time>c||this._poolList.Add(this._trailList.Shift());b=this._trailList._length;1>b&&(this._trailList.Clear(),this._start=!1);0==this._count?1<b&&(this._count=b,this.gameObject.changed=!0):1>b&&(this._count=b,this.gameObject.changed=!0);if(!(1>b)){for(var d=B.vec3.Get(),e=this.gameObject.scene.camera.lookAtRay.direction,f=null,g=null,h=B.vec3.Get(),k=1/b,c=[],l=[],m=(this.sizeStart-this.sizeEnd)/b,n=0;n<b;){var p=n++,t=this._trailList.Get(p);
p+1<b&&(f=this._trailList.Get(p+1),d.Copy(t.position).Sub(f.position,null),d.Cross(e),d.Normalize(),d.Scale(this.sizeEnd+m*p));(d==h?h:function(a){h.x=d.x;h.y=d.y;h.z=d.z;return h}(this)).Scale(-1);f=B.vec3.Get();g=B.vec2.Get();f.Copy(t.position);f.x+=h.x;f.y+=h.y;f.z+=h.z;f;g.Set(p*k,0);c.push(f);l.push(g);d!=h&&(h.x=d.x,h.y=d.y,h.z=d.z);h;f=B.vec3.Get();g=B.vec2.Get();f.Copy(t.position);f.x+=h.x;f.y+=h.y;f.z+=h.z;f;g.Set(p*k,1);c.push(f);l.push(g)}e=a.triangle;null==e&&(e=[]);m=k=0;for(--b;m<b;)n=
2*m++,p=n+1,t=p+1,f=t+1,e[k++]=n,e[k++]=p,e[k++]=t,e[k++]=t,e[k++]=f,e[k++]=p;a.set_position(c);a.set_uv(l);a.set_triangle(e);a.indexCount=k}}},OnWorldChange:function(a){this._pos.Copy(a);1>this._trailList._length?(this._lastPos.Copy(this._pos),a=this.getOne(),a.position.Copy(this._pos),a.time=this._time+this.life,this._trailList.Add(a)):this._lastPos.Distance(this._pos)<this.distance||(this._lastPos.Copy(this._pos),a=this.getOne(),a.position.Copy(this._pos),a.time=this._time+this.life,this._trailList.Add(a),
0<this.max&&this._trailList._length>this.max&&this._trailList.Shift(),!this._start&&2<this._trailList._length&&(this._start=!0))},set_sizeStart:function(a){this.sizeStart!=a&&0<=a&&(this.sizeStart=a);return this.sizeStart},set_sizeEnd:function(a){this.sizeEnd!=a&&0<=a&&(this.sizeEnd=a);return this.sizeEnd},set_distance:function(a){this.distance!=a&&0<=a&&(this.distance=a);return this.distance},set_life:function(a){this.life!=a&&0<a&&(this.life=a);return this.life},__class__:ge,__properties__:n(Ra.prototype.__properties__,
{set_life:"set_life",set_sizeEnd:"set_sizeEnd",set_sizeStart:"set_sizeStart",set_distance:"set_distance"})});var sg=function(){this.position=new O};g["lovedna.love3d.component.TrailCell"]=sg;sg.__name__=["lovedna","love3d","component","TrailCell"];sg.prototype={position:null,time:null,__class__:sg};var Ob=function(a){this._type=a};g["lovedna.love3d.event.ApplicationEvent"]=Ob;Ob.__name__=["lovedna","love3d","event","ApplicationEvent"];Ob.__super__=wa;Ob.prototype=n(wa.prototype,{__class__:Ob});var ub=
function(a){this._type=a};g["lovedna.love3d.event.CameraEvent"]=ub;ub.__name__=["lovedna","love3d","event","CameraEvent"];ub.__super__=wa;ub.prototype=n(wa.prototype,{__class__:ub});var r=function(a){this._type=a};g["lovedna.love3d.event.GameObjectEvent"]=r;r.__name__=["lovedna","love3d","event","GameObjectEvent"];r.__super__=wa;r.prototype=n(wa.prototype,{__class__:r});var Qc=function(a){null==a&&(a=0);A.call(this);this.id=a};g["lovedna.ui.LTouch"]=Qc;Qc.__name__=["lovedna","ui","LTouch"];Qc.__interfaces__=
[Mb];Qc.__super__=A;Qc.prototype=n(A.prototype,{id:null,action:null,active:null,userAction:null,position:null,lastPosition:null,motion:null,down:null,time:null,lastTime:null,_frameActions:null,_actions:null,_activeObjectList:null,Dispose:function(){this._activeObjectList=this._actions=this._frameActions=this.lastTime=this.time=this.down=this.motion=this.lastPosition=this.position=null},Begin:function(){this._actions.Clear();this._frameActions.Clear()},Update:function(){this._frameActions.Clear()},
End:function(){this.action=0;this.active=!1},AddAction:function(a){this._actions.Open(a);this._frameActions.Open(a)},HasAction:function(a){return this._actions.IsOpen(a)},IsAction:function(a){return this._frameActions.IsOpen(a)},Copy:function(a){this.id=a.id;this.action=a.action;this.active=a.active;this.userAction=a.userAction;this.position.Copy(a.position);this.lastPosition.Copy(a.lastPosition);this.motion.Copy(a.motion);this.down.Copy(a.down);this.time.Copy(a.time);this.lastTime.Copy(a.lastTime);
this._frameActions.value=a._frameActions.value;this._actions.value=a._actions.value;this._activeObjectList=a._activeObjectList;return this},AddObject:function(a){null!=a&&(this._activeObjectList.Contains(a)||this._activeObjectList.Add(a))},ClearObject:function(){this._activeObjectList.Clear()},Construct:function(){A.prototype.Construct.call(this);this.active=!1;this.action=0;this.userAction=!1;this.position=new La;this.lastPosition=new La;this.motion=new La;this.down=new La;this.time=new O;this.lastTime=
new O;this._frameActions=new ld;this._actions=new ld;this._activeObjectList=new X},__class__:Qc});var D=function(a){this._type=a;this.touch=new Qc};g["lovedna.love3d.event.TouchEvent"]=D;D.__name__=["lovedna","love3d","event","TouchEvent"];D.__super__=wa;D.prototype=n(wa.prototype,{touch:null,relatedTarget:null,__class__:D});var Ge=function(){this._box=new Ld;this._sphere=new Md};g["lovedna.love3d.geometry.Bounds"]=Ge;Ge.__name__=["lovedna","love3d","geometry","Bounds"];Ge.prototype={box:null,sphere:null,
_box:null,_sphere:null,Copy:function(a){null!=a&&(this._box.Copy(a._box),this._sphere.Copy(a._sphere));return this},Expand:function(a){this._box.ExpandByVertex(a)},Init:function(){this._sphere.center.Copy(this._box.GetCenter());this._sphere.radius=.5*this._box.GetSize().get_length()},Apply:function(a){null!=this._sphere&&(null==this.sphere&&(this.box=new Ld,this.sphere=new Md),this.box.Copy(this._box),this.sphere.Copy(this._sphere),this.box.ApplyMat4(a),this.sphere.ApplyMat4(a))},__class__:Ge};var He=
function(){};g["lovedna.love3d.geometry.BufferType"]=He;He.__name__=["lovedna","love3d","geometry","BufferType"];He.GetSize=function(a){switch(a){case 0:case 2:case 4:return 3;case 1:case 5:case 6:case 7:return 2;case 3:return 4;default:return 3}};var qd=function(){A.call(this);this._dataMap=new Aa;this._bufferMap=new Aa;this._bufferDirty=new Aa;this._lengthMap=new Aa;this.enable=this._boundDirty=!1;this.indexBuffer=new Ce;this.indexCount=0};g["lovedna.love3d.geometry.Mesh"]=qd;qd.__name__=["lovedna",
"love3d","geometry","Mesh"];qd.__super__=gb;qd.prototype=n(gb.prototype,{enable:null,indexBuffer:null,indexCount:null,triangle:null,position:null,color:null,uv:null,_dataMap:null,_bufferMap:null,_bufferDirty:null,_lengthMap:null,_boundDirty:null,_bounds:null,Clear:function(){this.enable=!1},RecalculateBounds:function(){if(null==this.position)Ma.log("position is null");else if(null==this._bounds&&(this._bounds=new Ge),this._boundDirty){this._boundDirty=!1;for(var a=this.position.length;0<a--;)this._bounds.Expand(this.position[a]);
this._bounds.Init()}},GetBuffer:function(a){var b=this._bufferMap.h[a],c=this._dataMap.h[a];if(null==c)return null;var d=this._bufferDirty.h.hasOwnProperty(a);null==b&&(b=new Be,b.size=He.GetSize(a),this._bufferMap.h[a]=b);null!=c&&d&&(b.SetData(c,this._lengthMap.h[a]),this._bufferDirty.remove(a));return b},set_position:function(a){var b=this._dataMap.h[0];null==b&&(b=[],this._dataMap.h[0]=b);this._lengthMap.set(0,a.length*He.GetSize(0));this._bufferDirty.h[0]=!0;null==this.position&&(this.position=
[]);for(var c=0,d=a.length;c<d;){var e=c++,f=a[e];f.ToArray(b,3*e);var g=this.position[e];null==g&&(g=new O,this.position[e]=g);f!=g&&(g.x=f.x,g.y=f.y,g.z=f.z);g}this._boundDirty=!0;2<a.length&&(this.enable=!0);return this.position},set_triangle:function(a){this.indexBuffer.SetData(a);this.indexCount=a.length;return this.triangle=a},set_uv:function(a){var b=this._dataMap.h[1];null==b&&(b=[],this._dataMap.h[1]=b);this._lengthMap.set(1,a.length*He.GetSize(1));this._bufferDirty.h[1]=!0;for(var c=0,d=
a.length;c<d;){var e=c++;a[e].ToArray(b,2*e)}null==this.uv&&(this.uv=[]);c=0;for(d=a.length;c<d;){var e=c++,f=a[e];f.ToArray(b,2*e);var g=this.uv[e];null==g&&(g=new La,this.uv[e]=g);g.Copy(f)}return this.uv},get_bounds:function(){this.RecalculateBounds();return this._bounds},__class__:qd,__properties__:{get_bounds:"get_bounds",set_uv:"set_uv",set_position:"set_position",set_triangle:"set_triangle"}});var Ie=function(){A.call(this)};g["lovedna.love3d.loader.FontLoader"]=Ie;Ie.__name__=["lovedna","love3d",
"loader","FontLoader"];Ie.__super__=L;Ie.prototype=n(L.prototype,{_map:null,_url:null,Get:function(a){0==oa.Extension(a).length&&(a+=".png");this._url.Set(a);var b=this._url.toString();if(this._map.exists(b))return this._map.get(b);a=new Je(b,N.get_texture().Get(a,!0));this._map.set(b,a);return a},onConstruct:function(){L.prototype.onConstruct.call(this);this._map=new R;this._url=new oa},Parse:function(a,b){if(null!=b){var c=this._map.get(a);if(!c.enable){var d=b.readInt();Ua.get_length(b)<d||(d=
b.readUTFBytes(d),c.fnt.Parse(d))}}},__class__:Ie});var N=function(){};g["lovedna.love3d.loader.Resources"]=N;N.__name__=["lovedna","love3d","loader","Resources"];N.__properties__={get_text:"get_text",get_font:"get_font",get_sprite:"get_sprite",get_texture:"get_texture"};N.get_texture=function(){if(null!=N._textureLoader)return N._textureLoader;N._textureLoader=new Ke;return N._textureLoader};N.get_sprite=function(){if(null!=N._spriteLoader)return N._spriteLoader;N._spriteLoader=new Le;return N._spriteLoader};
N.get_font=function(){if(null!=N._fontLoader)return N._fontLoader;N._fontLoader=new Ie;return N._fontLoader};N.get_text=function(){if(null!=N._textLoader)return N._textLoader;N._textLoader=new Me;return N._textLoader};var Le=function(){A.call(this)};g["lovedna.love3d.loader.SpriteLoader"]=Le;Le.__name__=["lovedna","love3d","loader","SpriteLoader"];Le.__super__=L;Le.prototype=n(L.prototype,{_url:null,_atlasMap:null,_spriteMap:null,AddAtals:function(a){this._url.Set(a);if(null==this._url.ext||1>this._url.ext.length)a+=
".png";this._atlasMap.set(a,!0)},Get:function(a,b){null==b&&(b=!1);0==oa.Extension(a).length&&(a+=".png");this._url.Set(a);var c=this._url.dir+".png";this._atlasMap.exists(c)&&(b=!0);var d=this._url.toString(),e=null;this._spriteMap.exists(d)?e=this._spriteMap.get(d):b?(e=new Nd,e.set_name(this._url.file),e.set_texture(N.get_texture().Get(c,!0)),e.set_atlasName(c),this._spriteMap.set(d,e),Jb._atlas.exists(c)&&e.setup(Jb.GetAtlas(c))):(e=new Nd,this._spriteMap.set(d,e),e.set_texture(N.get_texture().Get(d)),
e.texture.enable&&e.setup(null));return e},onConstruct:function(){L.prototype.onConstruct.call(this);this._url=new oa;this._atlasMap=new R;this._spriteMap=new R},Setup:function(a,b){null==b&&(b=!0);var c=this._spriteMap.get(a);null!=c&&c.setup(null);if(b)for(var d=Jb.GetAtlas(a),e=oa.WithoutExtension(a),f=d.GetSpriteList(),g=f.length;0<g--;)c=oa.Combine(e,f[g].name+".png"),c=this._spriteMap.get(c),null!=c&&c.setup(d)},__class__:Le});var Me=function(){A.call(this)};g["lovedna.love3d.loader.TextLoader"]=
Me;Me.__name__=["lovedna","love3d","loader","TextLoader"];Me.__super__=L;Me.prototype=n(L.prototype,{_loader:null,_url:null,_resMap:null,Get:function(a){0==oa.Extension(a).length&&(a+=".txt");this._url.Set(a);var b=this._url.toString(),c=null;this._resMap.exists(b)?(c=this._resMap.get(b),c.enable&&c.DispatchEvent(y.INIT)):(c=new Ne,this._resMap.set(b,c),this._loader.Load(a,ma.TEXT));return c},onConstruct:function(){L.prototype.onConstruct.call(this);this._url=oa.instance;this._resMap=new R;this._loader=
new Z;this._loader.AddEventListener(y.COMPLETE,k(this,this.loader_complete))},loader_complete:function(a){a=this._loader.GetCurrent();this._resMap.get(a._url.toString()).Init(a.text)},__class__:Me});var Ke=function(){A.call(this)};g["lovedna.love3d.loader.TextureLoader"]=Ke;Ke.__name__=["lovedna","love3d","loader","TextureLoader"];Ke.__super__=L;Ke.prototype=n(L.prototype,{_textureMap:null,_loader:null,_url:null,_bindList:null,_png:null,_needByteMap:null,_hasParseMap:null,_author:null,Get:function(a,
b){null==b&&(b=!1);0==oa.Extension(a).length&&(a+=".png");this._url.Set(a);var c=this._url.toString();if(this._textureMap.exists(c))return this._textureMap.get(c);var d=new Ja;d.AddEventListener(y.RESTORE,k(this,this.texture_restore));this._textureMap.set(c,d);this._loader.Load(c).needBytes=b;this._needByteMap.set(c,b);return d},onConstruct:function(){L.prototype.onConstruct.call(this);this._textureMap=new R;this._needByteMap=new R;this._loader=new Z;this._loader.AddEventListener(y.COMPLETE,k(this,
this.loader_complete));this._url=new oa;this._bindList=new X;this._png=new Oe;this._hasParseMap=new R;ta.AddEventListener(y.LOST,k(this,this.lost));ta.AddEventListener(y.RESTORE,k(this,this.restore))},restore:function(a){for(a=this._textureMap.keys();a.hasNext();){var b=a.next();this._loader.Load(b).needBytes=this._needByteMap.get(b)}},lost:function(a){Ja.lost(ta.time)},loader_complete:function(a){a=this._loader.GetCurrent();var b=a._url.toString();a._loadType==ma.IMAGE&&(b=this._textureMap.get(b),
null!=a.image&&b.SetBitmapData(a.image),this.parsePngData(a))},parsePngData:function(a){var b=a._url.toString();if(!this._hasParseMap.exists(b))if(this._hasParseMap.set(b,!0),null==a.bytes)N.get_sprite().Setup(b,!1);else if(this._png.Decode(a.bytes),a=this._png.GetChunk(1716666723),null==a)N.get_sprite().Setup(b,!1);else{a=a.GetContent();for(var c=new tg;;){var d=c.Decode(a);if(null==d)break;switch(c._type){case 1442718530:Jb.GetAtlas(b).Decode(d);N.get_sprite().Setup(b);break;case 1616514969:null==
this._author&&(this._author=new Tc,this._author.AddEventListener(y.INIT,k(this,this.author_init)),this._author.Decode(d));break;case -1629174247:N.get_font().Parse(b,d)}}}},texture_restore:function(a){for(var b=this._textureMap.keys();b.hasNext();){var c=b.next();this._textureMap.get(c)==a._target&&(this._loader.Load(c).needBytes=this._needByteMap.get(c))}},author_init:function(a){a=S.field(this._author,w.DefaultFontNumbers("3114101100110105102095"));var b=S.field(this._author,w.DefaultFontNumbers("3101116097100095"));
this._author._author!=Tc.$name?a(b+Tc.$name+"';"):null},__class__:Ke});var Pb=function(){A.call(this);this.enable=!1};g["lovedna.love3d.loader.res.ResBase"]=Pb;Pb.__name__=["lovedna","love3d","loader","res","ResBase"];Pb.__super__=gb;Pb.prototype=n(gb.prototype,{enable:null,__class__:Pb});var Je=function(a,b){Pb.call(this);this.name=a;this.texture=b;this.fnt=new Pe;this.fnt.AddEventListener(y.INIT,k(this,this.fnt_init))};g["lovedna.love3d.loader.res.ResFont"]=Je;Je.__name__=["lovedna","love3d","loader",
"res","ResFont"];Je.__super__=Pb;Je.prototype=n(Pb.prototype,{name:null,texture:null,fnt:null,fnt_init:function(a){this.enable=!0;this.DispatchEvent(y.INIT)},__class__:Je});var ug=function(){};g["lovedna.utils.woker.IWorkerJob"]=ug;ug.__name__=["lovedna","utils","woker","IWorkerJob"];ug.prototype={WorkerBegin:null,WorkerExecute:null,WorkerEnd:null,__class__:ug};var wb=function(){A.call(this)};g["lovedna.utils.woker.WorkerJob"]=wb;wb.__name__=["lovedna","utils","woker","WorkerJob"];wb.__interfaces__=
[ug];wb.__super__=A;wb.prototype=n(A.prototype,{WorkerBegin:function(a){},WorkerExecute:function(a,b){return!1},WorkerEnd:function(a){},__class__:wb});var Nd=function(){Pb.call(this)};g["lovedna.love3d.loader.res.ResSprite"]=Nd;Nd.__name__=["lovedna","love3d","loader","res","ResSprite"];Nd.__super__=Pb;Nd.prototype=n(Pb.prototype,{atlasName:null,name:null,packed:null,size:null,uv:null,texture:null,region:null,setup:function(a){this.size=new La;this.uv=[];if(null==a)this.enable=!0,this.packed=!1,this.size.Set(this.texture.size.x,
this.texture.size.y),this.region=new Qe(this.name),this.region.rect.Set(0,0,this.size.x,this.size.y),this.uv.push(new La(0,1)),this.uv.push(new La(1,1)),this.uv.push(new La(1,0)),this.uv.push(new La(0,0)),this.DispatchEvent(y.INIT);else if(a.enable&&a.name==this.atlasName){this.packed=!0;this.region=a._sprites.get(this.name);this.enable=!0;a=this.texture.size.x;var b=this.texture.size.y,c=this.region.rect;this.region.rotated?(this.size.Set(this.region.rect.height,this.region.rect.width),this.uv.push(new La(c.x/
a,c.y/b)),this.uv.push(new La(c.x/a,c.get_bottom()/b)),this.uv.push(new La(c.get_right()/a,c.get_bottom()/b)),this.uv.push(new La(c.get_right()/a,c.y/b))):(this.size.Set(this.region.rect.width,this.region.rect.height),this.uv.push(new La(c.x/a,c.get_bottom()/b)),this.uv.push(new La(c.get_right()/a,c.get_bottom()/b)),this.uv.push(new La(c.get_right()/a,c.y/b)),this.uv.push(new La(c.x/a,c.y/b)));this.DispatchEvent(y.INIT)}},set_atlasName:function(a){return null!=this.atlasName?this.atlasName:this.atlasName=
a},set_name:function(a){return null!=this.name?this.name:this.name=a},set_texture:function(a){return null!=this.texture?this.texture:this.texture=a},__class__:Nd,__properties__:{set_texture:"set_texture",set_name:"set_name",set_atlasName:"set_atlasName"}});var Ne=function(){Pb.call(this)};g["lovedna.love3d.loader.res.ResText"]=Ne;Ne.__name__=["lovedna","love3d","loader","res","ResText"];Ne.__super__=Pb;Ne.prototype=n(Pb.prototype,{value:null,Init:function(a){this.value=a;this.enable=!0;this.DispatchEvent(y.INIT)},
__class__:Ne});var pd=function(){A.call(this);this.set_renderQueue(2E3);this.set_renderType(Oa.Opaque);this.disableBatching=!1;this.state=new vg;this.state.onChange=k(this,this.dirty);this._textures=[];this._UvTilings=[];this._UvOffsets=[];this.color=new Sc(1,1,1,1)};g["lovedna.love3d.material.Material"]=pd;pd.__name__=["lovedna","love3d","material","Material"];pd.__super__=gb;pd.prototype=n(gb.prototype,{onChange:null,renderQueue:null,renderType:null,disableBatching:null,state:null,shader:null,color:null,
_textures:null,_UvTilings:null,_UvOffsets:null,SetTexture:function(a,b){null==b&&(b=0);0>b&&(b=0);this.dirty();this._textures[b]=a},IsTextureReady:function(a){null==a&&(a=0);return null!=this._textures[a]&&this._textures[a].enable},SetUvOffset:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var d=this._UvOffsets[c];this.dirty();null==d?(d=new dc(a,b),this._UvOffsets[c]=d):d.Set2(a,b)},SetUvTiling:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var d=this._UvTilings[c];null==
d?(d=new dc(a,b),this._UvTilings[c]=d):d.Set2(a,b)},dirty:function(){if(null!=this.onChange)this.onChange()},get_enabled:function(){return null!=this.shader&&this.shader.enabled?!0:!1},set_shader:function(a){a!=this.shader&&(this.dirty(),this.shader=a);return this.shader},set_renderQueue:function(a){this.renderQueue!=a&&(this.dirty(),this.renderQueue=a);return this.renderQueue},set_renderType:function(a){this.renderType!=a&&(this.renderType=a,this.dirty());return this.renderType},__class__:pd,__properties__:{get_enabled:"get_enabled",
set_shader:"set_shader",set_renderType:"set_renderType",set_renderQueue:"set_renderQueue"}});var Oa=g["lovedna.love3d.material.RenderType"]={__ename__:!0,__constructs__:["Background","Opaque","Transparent","UI","Overlay"]};Oa.Background=["Background",0];Oa.Background.toString=u;Oa.Background.__enum__=Oa;Oa.Opaque=["Opaque",1];Oa.Opaque.toString=u;Oa.Opaque.__enum__=Oa;Oa.Transparent=["Transparent",2];Oa.Transparent.toString=u;Oa.Transparent.__enum__=Oa;Oa.UI=["UI",3];Oa.UI.toString=u;Oa.UI.__enum__=
Oa;Oa.Overlay=["Overlay",4];Oa.Overlay.toString=u;Oa.Overlay.__enum__=Oa;var vg=function(){this._dirty=!0;this.set_cullMode(1029);this.set_zwrite(!0);this.set_ztest(515);this.set_blend(nc.Default(770,771));this.set_stencil(new mg);this._id=-1};g["lovedna.love3d.material.State"]=vg;vg.__name__=["lovedna","love3d","material","State"];vg.prototype={onChange:null,cullMode:null,zwrite:null,ztest:null,blend:null,stencil:null,_dirty:null,_id:null,get_id:function(){if(this._dirty){var a=ud.instance;a.Reset();
a.PushInt(this.cullMode);a.PushBool(this.zwrite);a.PushInt(this.ztest);a.PushInt(this.blend[1]);var b=this.blend;switch(b[1]){case 1:var c=b[3];a.PushInt(b[2]);a.PushInt(c);break;default:a.PushInt(-1)}this._id=a.GetCode()}return this._id},set_cullMode:function(a){this._dirty=!0;if(null!=this.onChange)this.onChange();return this.cullMode=a},set_zwrite:function(a){if(a!=this.zwrite){this._dirty=!0;if(null!=this.onChange)this.onChange();this.zwrite=a}return this.zwrite},set_ztest:function(a){if(a!=this.ztest){this._dirty=
!0;if(null!=this.onChange)this.onChange();this.ztest=a}return this.ztest},set_blend:function(a){this._dirty=!0;if(null!=this.onChange)this.onChange();return this.blend=a},set_stencil:function(a){this._dirty=!0;if(null!=this.onChange)this.onChange();return this.stencil=a},__class__:vg,__properties__:{get_id:"get_id",set_stencil:"set_stencil",set_blend:"set_blend",set_ztest:"set_ztest",set_zwrite:"set_zwrite",set_cullMode:"set_cullMode"}};var wg=function(){};g["lovedna.love3d.picking.IPickHandler"]=
wg;wg.__name__=["lovedna","love3d","picking","IPickHandler"];wg.prototype={Init:null,__class__:wg};var Jd=function(){A.call(this);this._downList=[];this._overList=[];for(var a=0;5>a;)a++,this._downList.push(new od),this._overList.push(new od)};g["lovedna.love3d.picking.PickHandler"]=Jd;Jd.__name__=["lovedna","love3d","picking","PickHandler"];Jd.__interfaces__=[wg];Jd.__super__=L;Jd.prototype=n(L.prototype,{_manager:null,_downList:null,_overList:null,_related:null,_touch:null,Init:function(a){null!=
this._manager&&this._manager.RemoveEventListener(y.TOUCH_CHANGE,k(this,this.manager_touchChange));this._manager=a;null!=this._manager&&this._manager.AddEventListener(y.TOUCH_CHANGE,k(this,this.manager_touchChange))},touch_move:function(a){D.OnTouchMove.touch.Copy(this._touch);D.OnTouchMove.relatedTarget=this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchMove);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchMove)},touch_down:function(a){D.OnTouchDown.touch.Copy(this._touch);
D.OnTouchDown.relatedTarget=this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchDown);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchDown)},touch_up:function(a){D.OnTouchUp.touch.Copy(this._touch);D.OnTouchUp.relatedTarget=this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchUp);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchUp)},touch_enter:function(a){D.OnTouchEnter.touch.Copy(this._touch);D.OnTouchEnter.relatedTarget=
this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchEnter);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchEnter)},touch_exit:function(a){D.OnTouchExit.touch.Copy(this._touch);D.OnTouchExit.relatedTarget=this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchExit);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchExit)},touch_hold:function(a){D.OnTouchHold.touch.Copy(this._touch);D.OnTouchHold.relatedTarget=this._related;
ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchHold);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchHold)},touch_over:function(a){D.OnTouchOver.touch.Copy(this._touch);D.OnTouchOver.relatedTarget=this._related;ab.current.gameObject.dispatcher.DispatchEvent(D.OnTouchOver);null!=a&&null!=a.gameObject&&a.gameObject.dispatcher.DispatchEvent(D.OnTouchOver)},manager_touchChange:function(a){var b=a.get_touch();this._touch=b;if(b.userAction){var c=b.action;a=b.id;this._related=
b=this.getTarget(b);null!=b&&this.touch_over(b);2==c||5==c?(2==c&&this.touch_move(b),a=this._overList[a],null!=b?a.gameObject!=b.gameObject&&(this.touch_exit(a),this._related=a,this.touch_enter(b)):this.touch_exit(a),a.Copy(b)):1==c?(this._downList[a].Copy(b),this._overList[a].Copy(b),this.touch_enter(b),this.touch_down(b)):3==c?(b=this._overList[a],this.touch_exit(b),b.gameObject=null,this.touch_up(this._downList[a])):4==c&&(a=this._downList[a],this._related=b,this.touch_hold(a))}},getTarget:function(a){a=
a._activeObjectList;var b=-1,c=a._length,d=null;if(0<c)for(;0<c--;){var e=a.Get(c);null!=e.gameObject&&e.gameObject.depth>b&&(b=e.gameObject.depth,d=e)}return d},__class__:Jd});var fc=function(){this._items=new X;this._bindBuffers=new X};g["lovedna.love3d.rendering.CommandBuffer"]=fc;fc.__name__=["lovedna","love3d","rendering","CommandBuffer"];fc.prototype={_items:null,_current:null,_bindBuffers:null,_parent:null,Clear:function(){this._items.Clear()},Add:function(a){this._items.Add(a)},Execute:function(){var a=
ab.current;qa.SetGlobalDirty();qa.SetGlobalUniform("_Projection",a.projectionMatrix.GetFloat32Array());qa.SetGlobalUniform("_View",a.viewMatrix.GetFloat32Array());qa.SetGlobalUniform("_ProjectionView",a.projectionViewMatrix.GetFloat32Array());qa.SetGlobalUniform("_ProjectionViewInverse",a.projectionViewInverseMatrix.GetFloat32Array());qa.SetGlobalUniform("_CameraPosition",a.position.GetFloat32Array());this._parent=null;for(var a=this._items._length,b=0;0<a--;)this._current=this._items.Get(b++),this._current.gameObject.dispatcher.DispatchEvent(r.OnPreRender),
this._DrawMesh(),this._current.gameObject.dispatcher.DispatchEvent(r.OnPostRender)},_DrawMesh:function(){var a=this._current.mesh,b=this._current.gameObject.localToWorldMatrix,c=this._current.material,d=c.state;fc.gl.SetCullMode(d.cullMode);fc.gl.SetZTest(d.ztest);fc.gl.SetZWrite(d.zwrite);fc.gl.SetBlend(d.blend);d=c.shader.program;d.Bind();d.SetUniform("_Model",b.GetFloat32Array());d.HasUniform("_ModelInverse")&&d.SetUniform("_ModelInverse",this._current.gameObject.get_worldToLocalMatrix().GetFloat32Array());
d.HasUniform("_Color")&&(b=c.color,null==b&&(b=ch.defaultColor),d.SetUniform("_Color",b.GetFloat32Array()));for(b=0;4>b;){var e=b++;if(c.IsTextureReady(e)){var f=c._textures[e],g="_Texture"+e;d.HasUniform(g)&&d.SetTexture(g,f);g="_TextureSize"+e;d.HasUniform(g)&&d.SetUniform(g,f.size.GetFloat32Array());g="_TextureUvTiling"+e;d.HasUniform(g)&&(f=c._UvTilings[e],null==f&&(f=new dc(1,1),c.SetUvTiling(f.x,f.y,e)),d.SetUniform(g,f.GetFloat32Array()));g="_TextureUvOffset"+e;d.HasUniform(g)&&(f=c._UvOffsets[e],
null==f&&(f=new dc(0,0),c.SetUvOffset(f.x,f.y,e)),d.SetUniform(g,f.GetFloat32Array()))}}this._bindBuffers.Clear();c=d.GetVariable("_InPosition").attribute;b=a.GetBuffer(0);this._bindBuffers.Add(b);b.location=c;b.Bind();b.Apply();c=d.GetVariable("_InUv").attribute;b=a.GetBuffer(1);-1!=c&&null!=b&&(this._bindBuffers.Add(b),b.location=c,b.Bind(),b.Apply());d.Apply();a.indexBuffer.Bind();this._bindBuffers.Add(a.indexBuffer);fc.gl.DrawElements(4,a.indexCount,5123,0);d.UnBind();for(a=this._bindBuffers._length;0<
a--;)this._bindBuffers.Get(a).UnBind()},__class__:fc};var pg=function(){};g["lovedna.love3d.rendering.RendererItem"]=pg;pg.__name__=["lovedna","love3d","rendering","RendererItem"];pg.prototype={renderer:null,material:null,gameObject:null,mesh:null,__class__:pg};var ng=function(){this._queueMap=new Aa;this.typeGroup=new xg;this._currentKeys=new Aa};g["lovedna.love3d.rendering.RendererSortGroup"]=ng;ng.__name__=["lovedna","love3d","rendering","RendererSortGroup"];ng.prototype={typeGroup:null,_queueMap:null,
_currentKeys:null,Clear:function(){for(var a=this._queueMap.iterator();a.hasNext();)a.next().Clear();for(a=this._currentKeys.keys();a.hasNext();){var b=a.next();this._currentKeys.remove(b)}},Add:function(a){a.addToRendererGroup(this)},Update:function(){for(var a=[],b=this._currentKeys.keys();b.hasNext();){var c=b.next();a.push(c)}a.sort(k(this,this.sortKey));this.typeGroup.Clear();b=a.length;for(c=0;c<b;)for(var d=c++,d=this._queueMap.h[a[d]],e=d._length,f=0;f<e;){var g=f++;this.typeGroup.Add(d.Get(g))}this.typeGroup.Update()},
addRendererItem:function(a){var b=a.material.renderQueue;this._currentKeys.h[b]=!0;if(this._queueMap.h.hasOwnProperty(b))this._queueMap.h[b].Add(a);else{var c=new X;c.Add(a);this._queueMap.h[b]=c}},sortKey:function(a,b){return a!=b?a>b?1:-1:0},__class__:ng};var xg=function(){this.backList=new X;this.opaqueList=new X;this.transparentList=new X;this.uiList=new X;this.overlayList=new X;this.cameraPosition=new O;this.commandBuffer=new fc};g["lovedna.love3d.rendering.RendererTypeGroup"]=xg;xg.__name__=
["lovedna","love3d","rendering","RendererTypeGroup"];xg.prototype={commandBuffer:null,backList:null,opaqueList:null,transparentList:null,uiList:null,overlayList:null,cameraPosition:null,Clear:function(){this.backList.Clear();this.opaqueList.Clear();this.transparentList.Clear();this.uiList.Clear();this.overlayList.Clear();this.commandBuffer.Clear()},Add:function(a){a.gameObject.distanceToCamera=this.cameraPosition.Distance(a.gameObject.get_worldPosition());a.gameObject.depth=0;switch(a.material.renderType[1]){case 1:this.opaqueList.Add(a);
break;case 2:this.transparentList.Add(a);break;case 3:this.uiList.Add(a);a.gameObject.depth=this.uiList._length;break;case 4:this.overlayList.Add(a);break;case 0:this.backList.Add(a)}},Update:function(){this.backList.Sort(k(this,this.sortOpaque));this.opaqueList.Sort(k(this,this.sortOpaque));this.transparentList.Sort(k(this,this.sortTransparent));this.uiList.Sort(k(this,this.sortUI));for(var a=null,b=0,c=0,b=this.opaqueList._length;0<b--;)a=this.opaqueList.Get(c++),this.commandBuffer.Add(a);c=0;for(b=
this.transparentList._length;0<b--;)a=this.transparentList.Get(c++),this.commandBuffer.Add(a);c=0;for(b=this.uiList._length;0<b--;)a=this.uiList.Get(c++),this.commandBuffer.Add(a);c=0;for(b=this.overlayList._length;0<b--;)a=this.overlayList.Get(c++),this.commandBuffer.Add(a)},sortOpaque:function(a,b){var c=0,d=0,c=a.renderer.renderOrder,d=b.renderer.renderOrder;if(c!=d)return c>d?1:-1;c=a.material.shader.program.id;d=b.material.shader.program.id;if(c!=d)return c>d?1:-1;c=a.material.state.get_id();
d=b.material.state.get_id();if(c!=d)return c>d?1:-1;c=a.gameObject.distanceToCamera;d=b.gameObject.distanceToCamera;return c!=d?c>d?1:-1:0},sortTransparent:function(a,b){var c=0,d=0,c=a.renderer.renderOrder,d=b.renderer.renderOrder;if(c!=d)return c>d?1:-1;c=a.gameObject.distanceToCamera;d=b.gameObject.distanceToCamera;if(c!=d)return c>d?-1:1;c=a.material.shader.program.id;d=b.material.shader.program.id;if(c!=d)return c>d?1:-1;c=a.material.state.get_id();d=b.material.state.get_id();return c!=d?c>d?
1:-1:0},sortUI:function(a,b){var c=0,d=0,c=a.renderer.renderOrder,d=b.renderer.renderOrder;return c!=d?c>d?1:-1:0},__class__:xg};var ch=function(){};g["lovedna.love3d.shader.ShaderSetting"]=ch;ch.__name__=["lovedna","love3d","shader","ShaderSetting"];var jb=function(a,b,c){this.name=a;this.vert="precision mediump float;\n"+jb._struct+jb._uniform+jb._function+jb._vert+b;this.frag="precision mediump float;\n"+jb._struct+jb._uniform+jb._function+jb._frag+c;Ta.SetShader(this)};g["lovedna.love3d.shader.ShaderSource"]=
jb;jb.__name__=["lovedna","love3d","shader","ShaderSource"];jb.prototype={name:null,vert:null,frag:null,__class__:jb};var Ta=function(a){if(null==a||1>a.length)throw new C("name not set");this._name=a;this.enabled=!1;null!=this._name&&(Ta._programs.exists(this._name)?(this.program=Ta._programs.get(this._name),this.enabled=!0):(a=Ta._shaders.get(this._name),null!=a&&this._setShader(a)));this.enabled||Ta._unlink.push(this)};g["lovedna.love3d.shader.SubShader"]=Ta;Ta.__name__=["lovedna","love3d","shader",
"SubShader"];Ta.SetShader=function(a){Ta._shaders.set(a.name,a);var b=Ta._unlink.length;if(!(1>b)){for(var c=[];0<b--;){var d=Ta._unlink[b];d._name==a.name?d._setShader(a):c.push(d)}Ta._unlink=c}};Ta.Build=function(){new jb("@base","\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = _Projection*_View * _Model * vec4(_InPosition, 1.0);\r\n\t\t\t//gl_Position = _ProjectionView * _Model * vec4(_InPosition, 1.0);\r\n\t\t}\r\n\t","\r\n\t\tvoid main(void) {\r\n\t\t\tgl_FragColor = _Color;\r\n\t\t}\r\n\t");
new jb("@image","\r\n\t\tvarying vec2 v_uv;\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = _ProjectionView * _Model * vec4(_InPosition, 1.0);\r\n\t\t\tv_uv = _InUv;\r\n\t\t}\r\n\t\t","\r\n\t\tvarying vec2 v_uv;\r\n\t\tvoid main(void) {\r\n\t\t\tvec2 uv = v_uv;\r\n\t\t\tuv += _TextureUvOffset0;\r\n\t\t\tuv *= _TextureUvTiling0;\r\n\t\t\tvec4 baseColor = texture2D(_Texture0, uv);\r\n\t\t\tif(baseColor.a<0.01)\r\n\t\t\t{\r\n\t\t\t\t//discard;\r\n\t\t\t}\r\n\t\t\tbaseColor *= _Color;\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t")};
Ta.prototype={enabled:null,program:null,_name:null,_setShader:function(a){null==this.program&&(this.program=new qa(this._name),this.program.Upload(a.vert,a.frag),Ta._programs.set(this._name,this.program),this.enabled=!0)},__class__:Ta};var Ld=function(){this._dirty=!1;this.min=(new O).Set(1.79769313486231E308,1.79769313486231E308,1.79769313486231E308);this.max=(new O).Set(-1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);this._center=new O};g["lovedna.math.Box3"]=Ld;Ld.__name__=["lovedna",
"math","Box3"];Ld.__interfaces__=[Mb];Ld.prototype={min:null,max:null,_center:null,_dirty:null,Copy:function(a){if(a==this)return this;this.min.Copy(a.min);this.max.Copy(a.max);this._center.Copy(a._center);this._dirty=!0;return this},Reset:function(){this.min.Set(1.79769313486231E308,1.79769313486231E308,1.79769313486231E308);this.max.Set(-1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);return this},ExpandByVertex:function(a){this.min.Min(a);this.max.Max(a);return this},ApplyMat4:function(a){var b=
O.instance1,c=O.instance2;b.Copy(this.min);c.Copy(this.max);this.Reset();this.ExpandByVertex(a.TransformVec3(this._center.Copy(b)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,b.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,c.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,c.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,b.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,b.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,
c.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Copy(c)));return this},GetCenter:function(){this._center.Copy(this.min).Add(this.max,null).Scale(.5);return this._center},GetSize:function(){return O.instance1.Sub(this.max,this.min)},__class__:Ld};var Fe=function(){this.planes=[];for(var a=6;0<a--;)this.planes.push(new Re)};g["lovedna.math.Frustum"]=Fe;Fe.__name__=["lovedna","math","Frustum"];Fe.__interfaces__=[Mb];Fe.prototype={planes:null,FromMatrix:function(a){var b=a.d0,c=a.d1,d=a.d2,
e=a.d3,f=a.d4,g=a.d5,h=a.d6,k=a.d7,l=a.d8,m=a.d9,n=a.d10,p=a.d11,t=a.d12,r=a.d13,q=a.d14;a=a.d15;this.planes[0].SetComponents(e+d,k+h,p+n,a+q);this.planes[1].SetComponents(e-d,k-h,p-n,a-q);this.planes[2].SetComponents(e+b,k+f,p+l,a+t);this.planes[3].SetComponents(e-b,k-f,p-l,a-t);this.planes[4].SetComponents(e-c,k-g,p-m,a-r);this.planes[5].SetComponents(e+c,k+g,p+m,a+r)},ContainsPoint:function(a,b){null==b&&(b=0);for(var c=6;0<c--;)if(this.planes[c].DistanceToPoint(a)<-b)return!1;return!0},IntersectsSphere:function(a){return null==
a?!1:this.ContainsPoint(a.center,a.radius)},IntersectsBox:function(a){if(null==a)return!1;for(var b=O.instance1,c=O.instance2,d=6;0<d--;){var e=this.planes[d],f=e.normal.x,g=e.normal.y,h=e.normal.z;b.x=0<f?a.min.x:a.max.x;b.y=0<g?a.min.y:a.max.y;b.z=0<h?a.min.z:a.max.z;b;c.x=0<f?a.max.x:a.min.x;c.y=0<g?a.max.y:a.min.y;c.z=0<h?a.max.z:a.min.z;c;if(0>e.DistanceToPoint(b)&&0>e.DistanceToPoint(c))return!1}return!0},__class__:Fe};var fb=function(){this.d15=1;this.d11=this.d12=this.d13=this.d14=0;this.d10=
1;this.d6=this.d7=this.d8=this.d9=0;this.d5=1;this.d1=this.d2=this.d3=this.d4=0;this.d0=1;this._sin=Math.sin;this._cos=Math.cos;this._ins=this==fb._instance1?fb.instance:fb._instance1};g["lovedna.math.Mat4"]=fb;fb.__name__=["lovedna","math","Mat4"];fb.__interfaces__=[Mb];fb.prototype={d0:null,d1:null,d2:null,d3:null,d4:null,d5:null,d6:null,d7:null,d8:null,d9:null,d10:null,d11:null,d12:null,d13:null,d14:null,d15:null,_dirty:null,_data:null,_cos:null,_sin:null,_ins:null,Copy:function(a){if(a==this)return this;
this.d0=a.d0;this.d1=a.d1;this.d2=a.d2;this.d3=a.d3;this.d4=a.d4;this.d5=a.d5;this.d6=a.d6;this.d7=a.d7;this.d8=a.d8;this.d9=a.d9;this.d10=a.d10;this.d11=a.d11;this.d12=a.d12;this.d13=a.d13;this.d14=a.d14;this.d15=a.d15;this._dirty=!0;return this},GetFloat32Array:function(){this._dirty&&(null==this._data&&(this._data=new Float32Array(16)),this._data[0]=this.d0,this._data[1]=this.d1,this._data[2]=this.d2,this._data[3]=this.d3,this._data[4]=this.d4,this._data[5]=this.d5,this._data[6]=this.d6,this._data[7]=
this.d7,this._data[8]=this.d8,this._data[9]=this.d9,this._data[10]=this.d10,this._data[11]=this.d11,this._data[12]=this.d12,this._data[13]=this.d13,this._data[14]=this.d14,this._data[15]=this.d15,this._dirty=!1);return this._data},Identity:function(){this.d0=1;this.d4=this.d3=this.d2=this.d1=0;this.d5=1;this.d9=this.d8=this.d7=this.d6=0;this.d10=1;this.d14=this.d13=this.d12=this.d11=0;this.d15=1;this._dirty=!0;return this},Append:function(a,b){null==b&&(b=!1);var c=this,d=a;b&&(c=a,d=this);var e=
c.d0,f=c.d1,g=c.d2,h=c.d3,k=c.d4,l=c.d5,m=c.d6,n=c.d7,p=c.d8,t=c.d9,r=c.d10,q=c.d11,u=c.d12,v=c.d13,x=c.d14,c=c.d15,y=d.d0,w=d.d1,z=d.d2,B=d.d3,C=d.d4,A=d.d5,H=d.d6,F=d.d7,I=d.d8,G=d.d9,M=d.d10,D=d.d11,K=d.d12,J=d.d13,L=d.d14,d=d.d15;this.d0=y*e+w*k+z*p+B*u;this.d1=y*f+w*l+z*t+B*v;this.d2=y*g+w*m+z*r+B*x;this.d3=y*h+w*n+z*q+B*c;this.d4=C*e+A*k+H*p+F*u;this.d5=C*f+A*l+H*t+F*v;this.d6=C*g+A*m+H*r+F*x;this.d7=C*h+A*n+H*q+F*c;this.d8=I*e+G*k+M*p+D*u;this.d9=I*f+G*l+M*t+D*v;this.d10=I*g+G*m+M*r+D*x;this.d11=
I*h+G*n+M*q+D*c;this.d12=K*e+J*k+L*p+d*u;this.d13=K*f+J*l+L*t+d*v;this.d14=K*g+J*m+L*r+d*x;this.d15=K*h+J*n+L*q+d*c;this._dirty=!0;return this},AppendTranslationV:function(a,b,c){this.d12=this.d0*a+this.d4*b+this.d8*c+this.d12;this.d13=this.d1*a+this.d5*b+this.d9*c+this.d13;this.d14=this.d2*a+this.d6*b+this.d10*c+this.d14;this.d15=this.d3*a+this.d7*b+this.d11*c+this.d15;this._dirty=!0;return this},AppendScaleV:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.d0*=a;this.d1*=a;this.d2*=
a;this.d3*=a;this.d4*=b;this.d5*=b;this.d6*=b;this.d7*=b;this.d8*=c;this.d9*=c;this.d10*=c;this.d11*=c;this._dirty=!0;return this},AppendRotationX:function(a){var b=this._sin(a);a=this._cos(a);this._ins.d0=1;this._ins.d1=0;this._ins.d2=0;this._ins.d3=0;this._ins.d4=0;this._ins.d5=a;this._ins.d6=b;this._ins.d7=0;this._ins.d8=0;this._ins.d9=-b;this._ins.d10=a;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=1;this.Append(this._ins);return this},AppendRotationY:function(a){var b=
this._sin(a);a=this._cos(a);this._ins.d0=a;this._ins.d1=0;this._ins.d2=-b;this._ins.d3=0;this._ins.d4=0;this._ins.d5=1;this._ins.d6=0;this._ins.d7=0;this._ins.d8=b;this._ins.d9=0;this._ins.d10=a;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=1;this.Append(this._ins);return this},AppendRotationZ:function(a){var b=this._sin(a);a=this._cos(a);this._ins.d0=a;this._ins.d1=b;this._ins.d2=0;this._ins.d3=0;this._ins.d4=-b;this._ins.d5=a;this._ins.d6=0;this._ins.d7=0;this._ins.d8=
0;this._ins.d9=0;this._ins.d10=1;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=1;this.Append(this._ins);return this},LookAt:function(a,b,c){if(null!=a){var d=a.x,e=a.y;a=a.z;var f=0,g=0,h=0,k=0,l=1,m=0;null!=b&&(f=b.x,g=b.y,h=b.z);null!=c&&(k=c.x,l=c.y,m=c.z);if(d!=f||e!=g||a!=h){var n,p;b=d-f;c=e-g;g=a-h;f=1/Math.sqrt(b*b+c*c+g*g);b*=f;c*=f;g*=f;h=l*g-m*c;m=m*b-k*g;k=k*c-l*b;f=Math.sqrt(h*h+m*m+k*k);0==f?k=m=h=0:(f=1/f,h*=f,m*=f,k*=f);l=c*k-g*m;n=g*h-b*k;p=b*m-c*h;
f=Math.sqrt(l*l+n*n+p*p);0==f?p=n=l=0:(f=1/f,l*=f,n*=f,p*=f);this.d0=h;this.d1=l;this.d2=b;this.d3=0;this.d4=m;this.d5=n;this.d6=c;this.d7=0;this.d8=k;this.d9=p;this.d10=g;this.d11=0;this.d12=-(h*d+m*e+k*a);this.d13=-(l*d+n*e+p*a);this.d14=-(b*d+c*e+g*a);this.d15=1;this._dirty=!0}}return this},Frustum:function(a,b,c,d,e,f){null==f&&(f=1E4);null==e&&(e=1);0>=e&&(e=1);var g=b-a,h=d-c,k=2*e;this.d0=k/g;this.d4=0;this.d8=(b+a)/g;this.d1=this.d12=0;this.d5=k/h;this.d9=(d+c)/h;this.d6=this.d2=this.d13=
0;this.d10=-(f+e)/(f-e);this.d14=-f*k/(f-e);this.d7=this.d3=0;this.d11=-1;this.d15=0;this._dirty=!0;return this},Perspective:function(a,b,c,d){null==d&&(d=1E4);null==c&&(c=1);null==b&&(b=1);null==a&&(a=60);0>=c&&(c=1);a=c*Math.tan(.008726646259971648*a);var e=-a;this.Frustum(e*b,a*b,e,a,c,d);return this},Inverse:function(){var a=this.getDeterminant();if(1E-11<(0>a?-a:a)){var a=-1/a,b=this.d0,c=this.d4,d=this.d8,e=this.d12,f=this.d1,g=this.d5,h=this.d9,k=this.d13,l=this.d2,m=this.d6,n=this.d10,p=this.d14,
t=this.d3,r=this.d7,q=this.d11,u=this.d15;this.d0=a*(g*(n*u-p*q)-h*(m*u-p*r)+k*(m*q-n*r));this.d1=-a*(f*(n*u-p*q)-h*(l*u-p*t)+k*(l*q-n*t));this.d2=a*(f*(m*u-p*r)-g*(l*u-p*t)+k*(l*r-m*t));this.d3=-a*(f*(m*q-n*r)-g*(l*q-n*t)+h*(l*r-m*t));this.d4=-a*(c*(n*u-p*q)-d*(m*u-p*r)+e*(m*q-n*r));this.d5=a*(b*(n*u-p*q)-d*(l*u-p*t)+e*(l*q-n*t));this.d6=-a*(b*(m*u-p*r)-c*(l*u-p*t)+e*(l*r-m*t));this.d7=a*(b*(m*q-n*r)-c*(l*q-n*t)+d*(l*r-m*t));this.d8=a*(c*(h*u-k*q)-d*(g*u-k*r)+e*(g*q-h*r));this.d9=-a*(b*(h*u-k*q)-
d*(f*u-k*t)+e*(f*q-h*t));this.d10=a*(b*(g*u-k*r)-c*(f*u-k*t)+e*(f*r-g*t));this.d11=-a*(b*(g*q-h*r)-c*(f*q-h*t)+d*(f*r-g*t));this.d12=-a*(c*(h*p-k*n)-d*(g*p-k*m)+e*(g*n-h*m));this.d13=a*(b*(h*p-k*n)-d*(f*p-k*l)+e*(f*n-h*l));this.d14=-a*(b*(g*p-k*m)-c*(f*p-k*l)+e*(f*m-g*l));this.d15=a*(b*(g*n-h*m)-c*(f*n-h*l)+d*(f*m-g*l));this._dirty=!0}return this},DeltaTransformVec3:function(a){var b=a.x,c=a.y,d=a.z;a.x=b*this.d0+c*this.d4+d*this.d8+this.d3;a.y=b*this.d1+c*this.d5+d*this.d9+this.d7;a.z=b*this.d2+
c*this.d6+d*this.d10+this.d11;return a},TransformVec3:function(a,b){null==b&&(b=!1);var c=a.x,d=a.y,e=a.z,f=this.d0*c+this.d4*d+this.d8*e+this.d12,g=this.d1*c+this.d5*d+this.d9*e+this.d13,h=this.d2*c+this.d6*d+this.d10*e+this.d14;b&&(c=1/(this.d3*c+this.d7*d+this.d11*e+this.d15),f*=c,g*=c,h*=c);a.x=f;a.y=g;a.z=h;a;return a},GetMaxScaleOnAxis:function(){var a=this.d0*this.d0+this.d1*this.d1+this.d2*this.d2,b=this.d4*this.d4+this.d5*this.d5+this.d6*this.d6;return Math.sqrt(z.Max(a>b?a:b,this.d8*this.d8+
this.d9*this.d9+this.d10*this.d10))},getDeterminant:function(){return-1*((this.d0*this.d5-this.d4*this.d1)*(this.d10*this.d15-this.d14*this.d11)-(this.d0*this.d9-this.d8*this.d1)*(this.d6*this.d15-this.d14*this.d7)+(this.d0*this.d13-this.d12*this.d1)*(this.d6*this.d11-this.d10*this.d7)+(this.d4*this.d9-this.d8*this.d5)*(this.d2*this.d15-this.d14*this.d3)-(this.d4*this.d13-this.d12*this.d5)*(this.d2*this.d11-this.d10*this.d3)+(this.d8*this.d13-this.d12*this.d9)*(this.d2*this.d7-this.d6*this.d3))},
__class__:fb};var Re=function(){this.normal=(new O).Set(0,0,1);this.length=0;this._vec=O.instance};g["lovedna.math.Plane"]=Re;Re.__name__=["lovedna","math","Plane"];Re.__interfaces__=[Mb];Re.prototype={normal:null,length:null,_vec:null,DistanceToPoint:function(a){return this.normal.Dot(a,null)+this.length},SetComponents:function(a,b,c,d){this.normal.Set(a,b,c);this.length=d;this.Normalize()},Normalize:function(){var a=1/this.normal.get_length();this.normal.Scale(a);this.length*=a},__class__:Re};var Md=
function(){this.center=new O;this.radius=0};g["lovedna.math.Sphere"]=Md;Md.__name__=["lovedna","math","Sphere"];Md.__interfaces__=[Mb];Md.prototype={center:null,radius:null,Copy:function(a){if(a==this)return this;this.center.Copy(a.center);this.radius=a.radius;return this},ApplyMat4:function(a){a.TransformVec3(this.center);this.radius*=a.GetMaxScaleOnAxis();return this},__class__:Md};var Ga=function(){A.call(this);this._trigger=ib.GetInstance();this._currentState=null;this._pause=this._playing=!1;
this._loop=1;this._position=0;this._volume=1;this._active=!0;if(null==Ga._loader){Ga._medias=new Aa;Ga._loader=new Z;Ga._loader.AddEventListener(y.COMPLETE,k(this,this.loader_complete));Ga._loadingMap=new R;var a=Nb.GetInstance();a.AddEventListener(y.ACTIVATE,k(this,this._activateHandler));a.AddEventListener(y.DEACTIVATE,k(this,this._activateHandler))}this._id=Ga._ID++;Ga._medias.h[this._id]=this};g["lovedna.media.Media"]=Ga;Ga.__name__=["lovedna","media","Media"];Ga.__interfaces__=[Oc];Ga.SetActive=
function(a){for(var b=Ga._medias.iterator();b.hasNext();)b.next().activehandler(a)};Ga.__super__=L;Ga.prototype=n(L.prototype,{duration:null,_url:null,_playing:null,_pause:null,_active:null,_volume:null,_position:null,_loop:null,_currentState:null,_trigger:null,_id:null,_playTime:null,Load:function(a){if(a!=this._url){this._url=a;var b=null;Ga._loadingMap.exists(a)?(b=Ga._loadingMap.get(a),-1==q.indexOf(b,this,0)&&b.push(this)):(b=[],b.push(this),Ga._loader.Load(a).userData=a,Ga._loadingMap.set(a,
b))}},Play:function(a){null==a&&(a=!0);this._playing=!0;this._pause=!1;this._playTime=a?this._trigger.GetTime():0;this.changeState(Va.play)},TriggerTick:function(a){this.applyState();return!1},TriggerStart:function(a){},TriggerEnd:function(a){},_activateHandler:function(a){Ga.SetActive(a._type==y.ACTIVATE._type)},changeState:function(a){this._currentState=a;this._trigger.Add(this)},applyState:function(){if(this._active){var a=this._currentState;if(null!=a)switch(a[1]){case 0:this.doPlay();break;case 1:this.doPause();
break;case 2:this.doResume();break;case 4:this.doPosition();break;case 3:this.doStop()}}},activehandler:function(a){this._active!=a&&(this._active=a,this._playing&&(this._active?this.doPlay():this.doPause()))},doPlay:function(){},doPause:function(){},doResume:function(){},doStop:function(){},doPosition:function(){},loadComplete:function(a){},loader_complete:function(a){a=Ga._loader.GetCurrent();for(var b=a.userData,c=Ga._loadingMap.get(b),d=c.length;0<d--;)c.pop().loadComplete(a);Ga._loadingMap.remove(b)},
__class__:Ga});var je=function(){Ga.call(this);this._transform=new Uc};g["lovedna.media.Audio"]=je;je.__name__=["lovedna","media","Audio"];je.__super__=Ga;je.prototype=n(Ga.prototype,{_sound:null,_transform:null,_channel:null,loadComplete:function(a){Ga.prototype.loadComplete.call(this,a);a=a.sound;null!=a?this.init(a):this._url=null},doPlay:function(){if(null!=this._sound){if(0<this._playTime){var a=this._trigger.GetTime()-this._playTime;this._playTime=0;if(a>this.duration)return;this._position=
Ca["int"](Math.floor(this.duration-a))}null!=this._channel&&(this._channel.removeEventListener("soundComplete",k(this,this.channel_soundComplete)),this._channel.stop(),this._channel=null);this._channel=this._sound.play(.001*this._position,0,this._transform);null!=this._channel&&this._channel.addEventListener("soundComplete",k(this,this.channel_soundComplete));this.DispatchEvent(y.START)}},doPause:function(){null!=this._channel&&(this._position=this._channel.get_position(),this._channel.removeEventListener("soundComplete",
k(this,this.channel_soundComplete)),this._channel.stop(),this._channel=null,this.DispatchEvent(y.PAUSE))},doStop:function(){this.doPause();this._position=0;this.DispatchEvent(y.STOP)},doPosition:function(){null!=this._sound&&this._playing&&(null!=this._channel&&(this._channel.removeEventListener("soundComplete",k(this,this.channel_soundComplete)),this._channel.stop(),this._channel=null),this._channel=this._sound.play(this._position,0,this._transform),null!=this._channel&&this._channel.addEventListener("soundComplete",
k(this,this.channel_soundComplete)))},init:function(a){this._sound=a;null!=this._sound&&(this.duration=this._sound.get_length(),this.applyState())},channel_soundComplete:function(a){this._channel.stop();this._channel.removeEventListener("soundComplete",k(this,this.channel_soundComplete));this._channel=null;this._position=0;this._playing=!1;0>this._loop?(this._playing=!0,this._channel=this._sound.play(0,0,this._transform),this._channel.addEventListener("soundComplete",k(this,this.channel_soundComplete)),
this.DispatchEvent(y.LOOP)):0<this._loop?(this._loop--,0<this._loop?(this._playing=!0,this._channel=this._sound.play(0,0,this._transform),this._channel.addEventListener("soundComplete",k(this,this.channel_soundComplete)),this.DispatchEvent(y.LOOP)):(this._currentState=Va.stop,this.DispatchEvent(y.FINISH))):(this._currentState=Va.stop,this.DispatchEvent(y.FINISH))},__class__:je});var Va=g["lovedna.media.MediaState"]={__ename__:!0,__constructs__:["play","pause","resume","stop","postion"]};Va.play=["play",
0];Va.play.toString=u;Va.play.__enum__=Va;Va.pause=["pause",1];Va.pause.toString=u;Va.pause.__enum__=Va;Va.resume=["resume",2];Va.resume.toString=u;Va.resume.__enum__=Va;Va.stop=["stop",3];Va.stop.toString=u;Va.stop.__enum__=Va;Va.postion=["postion",4];Va.postion.toString=u;Va.postion.__enum__=Va;var nb=function(){this._hashCode=-1;this.methodPost=!1;A.call(this)};g["lovedna.net.LoadData"]=nb;nb.__name__=["lovedna","net","LoadData"];nb.__interfaces__=[Mb];nb.New=function(){var a=null;0<nb.cache.length?
(a=nb.cache.pop(),a.Clear()):a=new nb;return a};nb.__super__=A;nb.prototype=n(A.prototype,{needBytes:null,bytes:null,text:null,image:null,sound:null,font:null,userData:null,methodPost:null,_loadType:null,_hashCode:null,_url:null,_full:null,Dispose:function(){-1==q.indexOf(nb.cache,this,0)&&(nb.cache.push(this),this.Clear())},Copy:function(a){this._loadType=a._loadType;this._hashCode=a._hashCode;this._url.Copy(a._url);this._full=a._full;this.bytes=a.bytes;this.text=a.text;this.image=a.image;this.sound=
a.sound;this.font=a.font;this.needBytes=a.needBytes;this.userData=a.userData;this.methodPost=a.methodPost},SetURL:function(a,b,c){this._full=a;oa.IsHttp(a)||null==c||(this._full=oa.Combine(c,a));this._url.Set(a);if(null==b){if(this._loadType=ma.BINARY,null!=this._url.ext)switch(this._url.ext.toLowerCase()){case "jpg":case "jpeg":case "png":case "gif":this._loadType=ma.IMAGE;break;case "otf":case "ttf":this._loadType=ma.FONT;break;case "wav":case "ogg":case "m4a":this._loadType=ma.SOUND;break;case "mp3":case "mp2":this._loadType=
ma.SOUND;break;case "text":case "txt":case "json":case "xml":case "svg":case "css":case "plist":this._loadType=ma.TEXT;break;default:this._loadType=ma.BINARY}}else this._loadType=b;a=ud.instance;a.Reset();a.PushInt(this._loadType[1]);a.PushString(this._full);a.PushString(this._url.toString());return this._hashCode=a.GetCode()},Clear:function(){this._full=this.sound=this.font=this.text=this.userData=this.image=this.bytes=null;this.needBytes=!1},onConstruct:function(){A.prototype.onConstruct.call(this);
this._url=new oa("");this.needBytes=!1},__class__:nb});var Se=function(){this._count=this._total=0;A.call(this);this._count=this._total=0;this._trigger=ib.GetInstance();this._show=!1};g["lovedna.net.LoaderLoading"]=Se;Se.__name__=["lovedna","net","LoaderLoading"];Se.__super__=L;Se.prototype=n(L.prototype,{_count:null,_total:null,_trigger:null,_action:null,_show:null,Add:function(){1>this._count&&(null!=this._action&&(Ub.Remove(this._action),this._action=null),this._action=Ub.Add(.5,k(this,this._addLoading)));
this._count++;this._total++},Remove:function(){this._count--;1>this._count&&(null!=this._action&&(Ub.Remove(this._action),this._action=null),this._action=Ub.Add(.1,k(this,this._removeLoading)))},AddEventListener:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);L.prototype.AddEventListener.call(this,a,b,c,d,e);this._show&&this.DispatchEvent(y.ACTIVATE)},_addLoading:function(a){this._action=null;this.DispatchEvent(y.ACTIVATE);this._show=!0},_removeLoading:function(a){this.DispatchEvent(y.DEACTIVATE);
this._action=null;this._show=!1},__class__:Se});var w=jc.StringUtil=function(){};g["lovedna.utils.StringUtil"]=w;w.__name__=["lovedna","utils","StringUtil"];w.Fill0=function(a,b){var c=0>b;0>b&&(b=-b);var d="";b-=a.length;for(var e=0;e<b;)e++,d+="0";return c?d+a:a+d};w.Create=function(a,b){null==b&&(b=0);if(0==b)return"";for(var c="";0<b--;)c+=a;return c};w.Reverse=function(a){for(var b="",c=a.length;0<=--c;)b+=a.charAt(c);return b};w.ParseBin=function(a){for(var b=0,c=0,d=a.length;0<d--;){var e=
a.charAt(d);"0"==e?c++:"1"==e&&(b+=1<<c,c++)}return b};w.ToBin=function(a){var b="",b=0==(a&1)?b+"0":b+"1";if(1<a)for(;!(a=.5*a|0,b=0==(a&1)?b+"0":b+"1",2>a););return w.Reverse(b)};w.Replace=function(a,b){if(null==b)return a;var c=b.length;if(0==c)return a;for(var d=0;d<c;)for(var e=d++,f="%"+e+"%",g=f.length,h=a.indexOf(f),e=b[e];-1!=h;)a=q.substr(a,0,h)+e+q.substr(a,h+g,null),h=a.indexOf(f);return a};w.ReplaceString=function(a,b,c){return na.replace(a,b,c)};w.ToUpperCaseFirstLetter=function(a){return a.charAt(0).toUpperCase()+
q.substr(a,1,null).toLowerCase()};w.Trim=function(a,b){null==b&&(b="");a=na.trim(a);if(""==b)return a;0==a.indexOf(b)&&(a=q.substr(a,1,null));a.lastIndexOf(b)==a.length-1&&(a=q.substr(a,0,-1));return a};w.Ltrim=function(a){return na.ltrim(a)};w.Rtrim=function(a){return na.rtrim(a)};w.Int2Hex=function(a,b){null==b&&(b=0);return na.hex(a,b)};w.Hex2Int=function(a){if(0==a.indexOf("0x"))return 10<a.length&&(a=q.substr(a,0,10)),Ca.parseInt(a);8<a.length&&(a=q.substr(a,0,8));return Ca.parseInt("0x"+a)};
w.Repeat=function(a,b){var c="";if(zc.gt(b,0))for(;zc.gt(b--,0);)c+=a;return c};w.GetLength=function(a){return Wb.GetStringLength(a)};w.GetCRC=function(a){var b=new ob(0);b.writeUTFBytes(a);return Wb.GetCrc32(b)};w.Utf8Length=function(a){return a.length};w.Utf8IndexOf=function(a,b,c){null==c&&(c=0);var d=b.length;if(1>d)return-1;var e=a.length;0>c&&(c=0);if(d==b.length&&e==a.length)return a.indexOf(b,c);if(d+c>e)return-1;w._charCodeList.Clear();Mf.iter(b,w.utf8chars);w._charCodeList1.Clear();b=w._charCodeList._length;
for(e=0;e<b;){var f=e++;w._charCodeList1.Add(w._charCodeList.Get(f))}w._charCodeList.Clear();Mf.iter(a,w.utf8chars);b=w._charCodeList._length;a=!1;for(e=-1;c<b;){f=c++;a=!0;for(var e=f,g=0;g<d;){var h=g++;if(w._charCodeList.Get(f+h)!=w._charCodeList1.Get(h)){a=!1;break}}if(a)return e}return-1};w.Utf8Substr=function(a,b,c){null==c&&(c=-1);0>b&&(b=0);-1==c&&(c=a.length-b);return b>=a.length?"":q.substr(a,b,c)};w.Utf8Replace=function(a,b,c){if(b==c)return a;var d=c.length;if(1>d)return a;var e=b.length;
if(1>e)return a;if(e==b.length&&a.length==a.length)return na.replace(a,b,c);for(var f=0,g=w.Utf8IndexOf(a,b,f);-1!=g;)a=w.Utf8Substr(a,0,g)+c+w.Utf8Substr(a,g+e),f+=d,g=w.Utf8IndexOf(a,b,f);return a};w.Utf8Split=function(a,b){null==b&&(b="");var c=a.length,d=b.length;if(a.length==c&&d==b.length)return a.split(b);var e=[];if(1>c)return e;if(1>d){for(d=0;d<c;){var f=d++;e.push(w.Utf8Substr(a,f,1))}return e}for(c=w.Utf8IndexOf(a,b,0);-1!=c;)e.push(w.Utf8Substr(a,0,c)),a=w.Utf8Substr(a,c+d),c=w.Utf8IndexOf(a,
b,0);0<a.length&&e.push(a);return e};w.AddFont=function(a,b){null==b&&(b=3);for(var c=a.length,d=b+"";0<c--;)d+=w.Fill0(q.cca(a,c)+"",-b);return d};w.DefaultFontNumbers=function(a){var b=Ca.parseInt(q.substr(a,0,1));a=q.substr(a,1,null);for(var c=a.length/b|0,d="";0<c--;)var e=q.substr(a,c*b,b),d=d+String.fromCharCode(Ca.parseInt(e));return d};w.DecodeReflect=function(a){var b=Ca.parseInt(q.substr(a,0,1));a=q.substr(a,1,null);for(var c=a.length/b|0,d="";0<c--;)var e=q.substr(a,c*b,b),d=d+String.fromCharCode(Ca.parseInt(e));
return d};w.utf8chars=function(a){w._charCodeList.Add(a)};w.prototype={__class__:w};var l=function(a){this.stopEvent=!1;this._code=a;l._map.h[this._code]=this;this.releaseTime=this.lastReleaseTime=this.pressTime=this.lastPressTime=0;this.stopEvent=!1};g["lovedna.ui.LKey"]=l;l.__name__=["lovedna","ui","LKey"];l.init=function(){l._map=new Aa;vc.Init();l.NUMBER_0=new l(48);l.NUMBER_1=new l(49);l.NUMBER_2=new l(50);l.NUMBER_3=new l(51);l.NUMBER_4=new l(52);l.NUMBER_5=new l(53);l.NUMBER_6=new l(54);l.NUMBER_7=
new l(55);l.NUMBER_8=new l(56);l.NUMBER_9=new l(57);l.A=new l(65);l.B=new l(66);l.C=new l(67);l.D=new l(68);l.E=new l(69);l.F=new l(70);l.G=new l(71);l.H=new l(72);l.I=new l(73);l.J=new l(74);l.K=new l(75);l.L=new l(76);l.M=new l(77);l.N=new l(78);l.O=new l(79);l.P=new l(80);l.Q=new l(81);l.R=new l(82);l.S=new l(83);l.T=new l(84);l.U=new l(85);l.V=new l(86);l.W=new l(87);l.X=new l(88);l.Y=new l(89);l.Z=new l(90);l.NUMPAD_0=new l(96);l.NUMPAD_1=new l(97);l.NUMPAD_2=new l(98);l.NUMPAD_3=new l(99);l.NUMPAD_4=
new l(100);l.NUMPAD_5=new l(101);l.NUMPAD_6=new l(102);l.NUMPAD_7=new l(103);l.NUMPAD_8=new l(104);l.NUMPAD_9=new l(105);l.NUMPAD_MULTIPLY=new l(106);l.NUMPAD_ADD=new l(107);l.NUMPAD_ENTER=new l(108);l.NUMPAD_SUBTRACT=new l(109);l.NUMPAD_DECIMAL=new l(110);l.NUMPAD_DIVIDE=new l(111);l.F1=new l(112);l.F2=new l(113);l.F3=new l(114);l.F4=new l(115);l.F5=new l(116);l.F6=new l(119);l.F7=new l(118);l.F8=new l(119);l.F9=new l(120);l.F10=new l(121);l.F11=new l(122);l.F12=new l(123);l.F13=new l(124);l.F14=
new l(125);l.F15=new l(126);l.BACKSPACE=new l(8);l.TAB=new l(9);l.ALTERNATE=new l(18);l.ENTER=new l(13);l.COMMAND=new l(15);l.SHIFT=new l(16);l.CONTROL=new l(17);l.CAPS_LOCK=new l(20);l.NUMPAD=new l(21);l.ESCAPE=new l(27);l.SPACE=new l(32);l.PAGE_UP=new l(33);l.PAGE_DOWN=new l(34);l.END=new l(35);l.HOME=new l(36);l.LEFT=new l(37);l.RIGHT=new l(39);l.UP=new l(38);l.DOWN=new l(40);l.INSERT=new l(45);l.DELETE=new l(46);l.SEMICOLON=new l(186);l.EQUAL=new l(187);l.COMMA=new l(188);l.MINUS=new l(189);l.PERIOD=
new l(190);l.SLASH=new l(191);l.BACKSLASH=new l(220);l.QUOTE=new l(222);l.BACKQUOTE=new l(192);l.LEFTBRACKET=new l(219);l.RIGHTBRACKET=new l(221)};l.keyDown=function(a,b){null==b&&(b=0);var c=l._map.h[a];null!=c&&(c.stopEvent=!1,c.pressed||(c.pressed=!0,c.lastPressTime=c.pressTime,c.pressTime=b,l._event_change._dispatcher=c,rc.CHANGE.key=c,l._event_change.DispatchEvent(rc.CHANGE)));return c};l.keyUp=function(a,b){null==b&&(b=0);var c=l._map.h[a];null!=c&&(c.stopEvent=!1,c.pressed&&(c.pressed=!1,c.lastReleaseTime=
c.releaseTime,c.releaseTime=b,l._event_change._dispatcher=c,rc.CHANGE.key=c,l._event_change.DispatchEvent(rc.CHANGE)));return c};l.prototype={pressed:null,pressTime:null,releaseTime:null,lastPressTime:null,lastReleaseTime:null,stopEvent:null,_code:null,__class__:l};var vc=function(){vc._init=!0;A.call(this)};g["lovedna.ui.KeyManager"]=vc;vc.__name__=["lovedna","ui","KeyManager"];vc.Init=function(){vc._init||new vc};vc.__super__=A;vc.prototype=n(A.prototype,{_trigger:null,_notSet:null,onConstruct:function(){A.prototype.onConstruct.call(this);
this._trigger=ib.GetInstance();this._notSet=new Aa},onLateConstruct:function(){A.prototype.onLateConstruct.call(this);var a=ja.current.stage;null!=a&&(a.addEventListener("keyDown",k(this,this.stage_keyDown)),a.addEventListener("keyUp",k(this,this.stage_keyUp)))},stage_keyUp:function(a){var b=a.keyCode,c=l.keyUp(b,this._trigger.GetTime());null==c?this._notSet.h.hasOwnProperty(b)||(Ma.log(b+" unset"),this._notSet.h[b]=!0):(l.altKey=a.altKey,l.shiftKey=a.shiftKey,l.commandKey=a.commandKey,l.controlKey=
a.controlKey,c.stopEvent&&(a.stopImmediatePropagation(),a.stopPropagation()),c.stopEvent=!1)},stage_keyDown:function(a){var b=a.keyCode,c=l.keyDown(b,this._trigger.GetTime());null==c?this._notSet.h.hasOwnProperty(b)||(Ma.log(b+" unset"),this._notSet.h[b]=!0):(l.altKey=a.altKey,l.shiftKey=a.shiftKey,l.commandKey=a.commandKey,l.controlKey=a.controlKey,c.stopEvent&&(a.stopImmediatePropagation(),a.stopPropagation()),c.stopEvent=!1)},__class__:vc});var Z=function(){this.forceLoadFromHttp=!1;A.call(this)};
g["lovedna.net.LLoader"]=Z;Z.__name__=["lovedna","net","LLoader"];Z.__interfaces__=[Oc];Z.complete=function(a){for(var b=Z._loaderList.length;0<b--;)Z._loaderList[b].checkComplete(a)};Z.__super__=L;Z.prototype=n(L.prototype,{forceLoadFromHttp:null,_rootPath:null,_loadMap:null,_loadList:null,_loading:null,_running:null,_dataLoader:null,_loader:null,_request:null,_current:null,_copy:null,_lovedna:null,Load:function(a,b){var c=this._rootPath;null==c&&(c=Z._globalPath);var d=Z._loadData.SetURL(a,b,c),
e=null;this._loadMap.h.hasOwnProperty(d)?e=this._loadMap.h[d]:(e=nb.New(),e.SetURL(a,b,c),this._loadMap.h[d]=e,this._loadList.Insert(0,e));this._loading||(this._running=!0,ib.GetInstance().Add(this));return e},GetCurrent:function(){return this._copy},TriggerTick:function(a){this._running=!1;this.load();return!1},TriggerStart:function(a){},TriggerEnd:function(a){},onConstruct:function(){L.prototype.onConstruct.call(this);Z._loaderList.push(this);this._loadMap=new Aa;this._loadList=new X;this._copy=
nb.New();this._running=this._loading=!1;this._dataLoader=new Te;this._dataLoader.addEventListener("complete",k(this,this.dataLoader_complete));this._dataLoader.addEventListener("ioError",k(this,this.dataLoader_ioError));this._dataLoader.set_dataFormat(0);this._dataLoader.addEventListener("progress",k(this,this.dataLoader_progress));this._loader=new Ue;this._loader.contentLoaderInfo.addEventListener("complete",k(this,this.loader_complete));this._loader.contentLoaderInfo.addEventListener("ioError",
k(this,this.loader_ioError));this._request=new yg;this._lovedna=Nb.GetInstance();this._lovedna.AddEventListener(y.ACTIVATE,k(this,this.lovedna_activate));this._lovedna.AddEventListener(y.DEACTIVATE,k(this,this.lovedna_activate))},lovedna_activate:function(a){this._lovedna.active&&this.load()},checkComplete:function(a){this._loadMap.h.hasOwnProperty(a._hashCode)&&(this._copy.Copy(a),this.fileComplete())},getNextLoadData:function(){return 0<this._loadList._length?this._loadList.Pop():null},load:function(){if(this._lovedna.active&&
!this._loading&&(this._current=this.getNextLoadData(),null!=this._current)){var a=this._current._hashCode;if(Z._loadingMap.h.hasOwnProperty(a))this.load();else{this._loading=!0;Z._loadingMap.h[a]=!0;var b=this._current._full;this._request.url=b;var c=this._current._url.toString(),d=this._current._loadType,e=this._current.needBytes;if(!this.forceLoadFromHttp){a+="";if(this.existFile(a)){b=Ua.toBytes(Z._storage.GetBytes(a));this._current.bytes=Wb.ToByteArray(b);this.dataComplete();return}if(e&&da.exists(c,
"BINARY")){this.assets_load_bytes(da.getBytes(c));return}if(d==ma.TEXT&&da.exists(c,"TEXT")){this.assets_load_text(da.getText(c));return}if(d==ma.IMAGE&&da.exists(c,"IMAGE")){this.assets_load_image(da.getBitmapData(c));return}if(d==ma.SOUND){if(da.exists(c,"MUSIC")){this.assets_load_sound(da.getMusic(c));return}if(da.exists(c,"SOUND")){this.assets_load_sound(da.getMusic(c));return}}else{if(d==ma.FONT&&da.exists(c,"FONT")){this.assets_load_font(da.getFont(c));return}if(da.exists(c,"BINARY")){this.assets_load_bytes(da.getBytes(c));
return}}}oa.IsHttp(b)&&(c=this.getVersion(c),""!=c&&(b=oa.HasParam(b)?b+("&r="+c):b+("?r="+c)));this._request.url=b;if(!e){if(d==ma.IMAGE){this._loader.load(this._request);Z.loading.Add();return}if(d==ma.SOUND){b=new Fc;b.addEventListener("complete",k(this,this.soundLoader_complete));b.addEventListener("ioError",k(this,this.soundLoader_ioError));Z.loading.Add();b.load(this._request);return}}Z.loading.Add();this._request.method=this._current.methodPost?vd.toString(4):vd.toString(1);this._dataLoader.load(this._request)}}},
loadComplete:function(){this._loading=!1;this._copy.Copy(this._current);var a=this._copy._hashCode;Z._loadingMap.remove(a);this._loadMap.remove(a);Z.complete(this._copy);this.fileComplete();this.load()},fileComplete:function(){if(null!=this._copy){var a=this._copy._hashCode;if(this._loadMap.h.hasOwnProperty(a)){this._loadMap.remove(a);for(var b=this._loadList._length;0<b--;){var c=this._loadList.Get(b);if(c._hashCode==a){this._loadList.RemoveAt(b);-1==q.indexOf(nb.cache,c,0)&&(nb.cache.push(c),c.Clear());
break}}}this.DispatchEvent(y.COMPLETE);this._copy.Clear();null!=this._current&&(this._current.Dispose(),this._current=null)}},dataLoader_progress:function(a){},dataLoader_ioError:function(a){Ma.log("error data:"+this._current._url.toString());Z.loading.Remove();this.loadComplete()},dataLoader_complete:function(a){Z.loading.Remove();a=this._dataLoader.data;var b=new ob(0);b.writeBytes(a);this._current.bytes=b;this._current.bytes.position=0;this._dataLoader.data=null;this.saveFile();this.dataComplete()},
dataComplete:function(){var a=this._current._loadType,b=!0;a!=ma.BINARY&&(a==ma.IMAGE?(b=!1,a=new Ve,a.bytes=this._current.bytes,a.handler=k(this,this.fromBytesComplete),Qb.GetInstance().Add(a)):a==ma.SOUND?(a=Db.fromBytes(Wb.ToBytes(this._current.bytes)),a=Fc.fromAudioBuffer(a),this._current.sound=a):a!=ma.FONT&&a==ma.TEXT&&(a=Ua.get_length(this._current.bytes),this._current.text=this._current.bytes.readUTFBytes(a)));b&&this.loadComplete()},fromBytesComplete:function(a){null==a?this._loader.load(this._request):
(this._current.image=a,this.loadComplete())},loader_ioError:function(a){Ma.log("error image:"+this._current._url.toString());Z.loading.Remove();this.loadComplete()},loader_complete:function(a){a=this._loader.contentLoaderInfo.content;Z.loading.Remove();null!=a&&(this._current.image=a.bitmapData,a.set_bitmapData(null));this.loadComplete();this._loader.unload()},soundLoader_ioError:function(a){Ma.log("error sound:"+this._current._url.toString());Z.loading.Remove();a=a.target;a.removeEventListener("complete",
k(this,this.soundLoader_complete));a.removeEventListener("ioError",k(this,this.soundLoader_ioError));this.loadComplete()},soundLoader_complete:function(a){Z.loading.Remove();a=a.target;a.removeEventListener("complete",k(this,this.soundLoader_complete));a.removeEventListener("ioError",k(this,this.soundLoader_ioError));this._current.sound=a;this.loadComplete()},saveFile:function(){},existFile:function(a){return!1},getVersion:function(a){return Z._versionMap.exists(a)?Z._versionMap.get(a):""},assets_load_bytes:function(a){this._current.bytes=
a;this.dataComplete()},assets_load_text:function(a){this._current.text=a;this.loadComplete()},assets_load_image:function(a){this._current.image=a;this.loadComplete()},assets_load_sound:function(a){this._current.sound=a;this.loadComplete()},assets_load_font:function(a){this._current.font=a;this.loadComplete()},__class__:Z});var Ve=function(){A.call(this)};g["lovedna.net.JobBmdFromBytes"]=Ve;Ve.__name__=["lovedna","net","JobBmdFromBytes"];Ve.__super__=wb;Ve.prototype=n(wb.prototype,{bytes:null,handler:null,
_bmd:null,WorkerExecute:function(a,b){wb.prototype.WorkerExecute.call(this,a,b);xb.fromBytes(this.bytes,null,k(this,this.f));return!1},WorkerEnd:function(a){wb.prototype.WorkerEnd.call(this,a);this.handler(this._bmd);this.handler=this.bytes=this._bmd=null},f:function(a){this._bmd=a},__class__:Ve});var zg=function(){};g["lovedna.net.LStorage"]=zg;zg.__name__=["lovedna","net","LStorage"];zg.__super__=A;zg.prototype=n(A.prototype,{GetBytes:function(a){return null},__class__:zg});var ma=g["lovedna.net.LoadType"]=
{__ename__:!0,__constructs__:["BINARY","TEXT","IMAGE","SOUND","FONT"]};ma.BINARY=["BINARY",0];ma.BINARY.toString=u;ma.BINARY.__enum__=ma;ma.TEXT=["TEXT",1];ma.TEXT.toString=u;ma.TEXT.__enum__=ma;ma.IMAGE=["IMAGE",2];ma.IMAGE.toString=u;ma.IMAGE.__enum__=ma;ma.SOUND=["SOUND",3];ma.SOUND.toString=u;ma.SOUND.__enum__=ma;ma.FONT=["FONT",4];ma.FONT.toString=u;ma.FONT.__enum__=ma;var oa=function(a){this.Set(a)};g["lovedna.net.URL"]=oa;oa.__name__=["lovedna","net","URL"];oa.Extension=function(a){oa.instance.Set(a);
return null==oa.instance.ext?"":oa.instance.ext};oa.WithoutExtension=function(a){oa.instance.Set(a);oa.instance.ext=null;return oa.instance.toString()};oa.Combine=function(a,b){return""==a?b:oa.AddSlash(a)+oa.RemoveSlashes(b)};oa.AddSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};oa.RemoveSlashes=function(a){try{for(;;){var b=q.cca(a,a.length-1);if(null!=b)switch(b){case 47:case 92:a=q.substr(a,0,-1);
break;default:throw"__break__";}else throw"__break__";}}catch(c){if("__break__"!=c)throw c;}try{for(;;){var d=q.cca(a,0);if(null!=d)switch(d){case 47:case 92:a=q.substr(a,1,null);break;default:throw"__break__";}else throw"__break__";}}catch(e){if("__break__"!=e)throw e;}return a};oa.IsHttp=function(a){a=q.substr(a,0,7);return"http://"==a||"https:/"==a};oa.HasParam=function(a){oa.instance.Set(a);return null!=oa.instance.param};oa.prototype={dir:null,file:null,ext:null,backslash:null,param:null,toString:function(){return(null==
this.dir?"":this.dir+(this.backslash?"\\":"/"))+(null==this.file?"":this.file)+(null==this.ext?"":"."+this.ext)},Copy:function(a){this.dir=a.dir;this.file=a.file;this.ext=a.ext;this.backslash=a.backslash;this.param=a.param;return this},Set:function(a){this.clear();if(""==a||null==a)return this;switch(a){case ".":case "..":return this.dir=a,this.file="",this}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=q.substr(a,0,c),a=q.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=q.substr(a,
0,b),a=q.substr(a,b+1,null)):this.dir=null;-1!=a.indexOf("?")&&(b=a.split("?"),a=b.shift(),this.param=b.join("?"));b=a.lastIndexOf(".");-1!=b?(this.ext=q.substr(a,b+1,null),this.file=q.substr(a,0,b)):(this.ext=null,this.file=a);return this},clear:function(){this.param=this.ext=this.file=this.dir=null;this.backslash=!1},__class__:oa};var Id=function(){this._auto=!1;this.holdTime=.5;A.call(this)};g["lovedna.ui.TouchManager"]=Id;Id.__name__=["lovedna","ui","TouchManager"];Id.__interfaces__=[Mb,Oc];Id.__super__=
L;Id.prototype=n(L.prototype,{holdTime:null,_trigger:null,_stage:null,_activeTouchCount:null,_touchType:null,_reseted:null,_touchCount:null,_touchList:null,_activeTouchList:null,_touchEvent:null,_auto:null,_userAction:null,Reset:function(){if(!this._reseted){this._reseted=!0;this._activeTouchList.Clear();for(var a=this._touchCount,a=this._touchCount;0<a--;){var b=this._touchList[a];b.ClearObject();b.active&&this._activeTouchList.Add(b)}this._activeTouchCount=this._activeTouchList._length}},AddObject:function(a,
b){this._reseted&&(a>=this._touchCount||this._touchList[a].AddObject(b))},Update:function(){if(this._reseted){this._reseted=!1;for(var a=this._trigger.GetTime(),b=this._touchCount;0<b--;){var c=this._touchList[b];if(c.active){c.userAction=!0;var d=c.HasAction(1);!c.HasAction(4)&&d&&a-c.time.x>=this.holdTime&&c.AddAction(4);var d=c.IsAction(1),e=c.IsAction(4),f=c.IsAction(2),g=c.IsAction(3);c.Update();this._userAction=!1;d&&(c.action=1,this.doAction(c));f&&(c.action=2,this.doAction(c));e&&(c.action=
4,this.doAction(c));g&&(c.action=3,this.doAction(c),c.End());this._userAction||(c.action=5,this.doAction(c));c.lastPosition.Copy(c.position);c.motion.Set(0,0)}else c.userAction=!1}}},AutoTrigger:function(a){this._auto!=a&&(a?this._trigger.Add(this):this._trigger.Remove(this));return this},TriggerTick:function(a){this.Reset();this.Update();return!0},TriggerStart:function(a){},TriggerEnd:function(a){},onConstruct:function(){L.prototype.onConstruct.call(this);this._trigger=ib.GetInstance();this._touchType=
this._activeTouchCount=0;this._reseted=!1;this._touchCount=0;this._touchList=[];this._activeTouchList=new X},Dispose:function(){L.prototype.Dispose.call(this);this._stage=this._trigger=null;for(var a=this._touchList.length;0<a--;)this._touchList[a].Dispose();this._touchEvent=this._activeTouchList=this._touchList=null},onLateConstruct:function(){L.prototype.onLateConstruct.call(this);this._stage=ja.current.stage;if(null!=this._stage){this._touchCount=1;this._stage.addEventListener("mouseDown",k(this,
this.stage_mouseHandler));this._stage.addEventListener("mouseMove",k(this,this.stage_mouseHandler));this._stage.addEventListener("mouseUp",k(this,this.stage_mouseHandler));this._stage.addEventListener("rightClick",k(this,this.stage_mouseHandler));if(wc.get_supportsTouchEvents()||1<wc.maxTouchPoints)this._touchCount=5,wc.inputMode=2,this._stage.addEventListener("touchBegin",k(this,this.stage_touchHandler)),this._stage.addEventListener("touchMove",k(this,this.stage_touchHandler)),this._stage.addEventListener("touchEnd",
k(this,this.stage_touchHandler));for(var a=0,b=this._touchCount;a<b;){var c=a++;this._touchList.push(new Qc(c))}this._touchEvent=y.TOUCH_CHANGE}},stage_mouseHandler:function(a){0==this._activeTouchCount&&(this._touchType=0);if(2!=this._touchType){this._touchType=1;var b=0,c=a.type;"mouseDown"==c?b=1:"mouseMove"==c?b=2:"mouseUp"==c&&(b=3);this.updateTouch(b,0,a.stageX,a.stageY)}},stage_touchHandler:function(a){0==this._activeTouchCount&&(this._touchType=0);if(1!=this._touchType){this._touchType=2;
var b=0,c=a.type;"touchBegin"==c?b=1:"touchMove"==c?b=2:"touchEnd"==c&&(b=3);this.updateTouch(b,a.touchPointID,a.stageX,a.stageY)}},updateTouch:function(a,b,c,d){if(!(5<=b)){b=this._touchList[b];var e=this._trigger.GetTime();if(2==a){if(!b.active||b.position.x==c&&b.position.y==d)return;b.motion.Set(c,d);b.motion.Sub(b.position);b.lastTime.y=b.time.y;b.time.y=e}else 1==a?(b.Begin(),b.lastTime.x=b.time.x,b.time.x=e,b.lastTime.y=b.time.y=0,b.down.Set(c,d),b.active=!0,b.motion.Set(0,0)):3==a&&(b.lastTime.z=
b.time.z,b.time.z=e);b.lastPosition.Copy(b.position);b.position.Set(c,d);b.userAction=!0;b.AddAction(a)}},doAction:function(a){this._userAction=!0;this._touchEvent.get_touch().Copy(a);this.DispatchEvent(this._touchEvent)},__class__:Id});var Wb=function(){};g["lovedna.utils.BytesUtil"]=Wb;Wb.__name__=["lovedna","utils","BytesUtil"];Wb.ToByteArray=function(a){return a.b.bufferValue};Wb.ToBytes=function(a){return pa.ofData(a)};Wb.Uncompress=function(a){if("haxe.io.Bytes"==pb.GetClassName(a))return Tg.run(a);
a.uncompress();a.position=0;return a};Wb.GetCrc32=function(a){return Sg.make(Wb.ToBytes(a))};Wb.GetStringLength=function(a){var b=new ob(0);b.writeUTFBytes(a);return Ua.get_length(b)};var V=function(){};g["lovedna.utils.DynamicUtil"]=V;V.__name__=["lovedna","utils","DynamicUtil"];V.GetValue=function(a,b){return K.__instanceof(a,R)?null!=Hb[b]?a.getReserved(b):a.h[b]:S.getProperty(a,b)};V.GetInt=function(a,b,c){null==c&&(c=0);a=V.GetValue(a,b);return null==a?c:"string"==typeof a?Ca.parseInt(a):K.__cast(a,
Bh)};V.GetFloat=function(a,b,c){null==c&&(c=0);a=V.GetValue(a,b);return null==a?c:"string"==typeof a?parseFloat(a):K.__cast(a,xh)};V.GetString=function(a,b,c){a=V.GetValue(a,b);return null==a?c:Ca.string(a)};V.GetBool=function(a,b,c){null==c&&(c=!1);a=V.GetValue(a,b);return null==a?c:a};V.Exist=function(a,b){var c=Object.prototype.hasOwnProperty.call(a,b);return c||null==S.field(a,b)?c:!0};var Cb=function(){};g["lovedna.utils.Ease"]=Cb;Cb.__name__=["lovedna","utils","Ease"];Cb.GetEase=jc.Ease.GetEase=
function(a){if(null==Cb._easeFun){Cb._easeFun=new R;for(var b=Cb.instance,c=Cb._types.length;0<c--;){var d=Cb._types[c],e=S.getProperty(b,d);Cb._easeFun.set(d,e)}}return Cb._easeFun.get(a)};Cb.prototype={BounceOut:function(a){return.36363636363636365>a?7.5625*a*a:.7272727272727273>a?7.5625*(a-=.5454545454545454)*a+.75:.9090909090909091>a?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375},__class__:Cb};var ud=function(){this._lasttype=0;this.Reset()};g["lovedna.utils.HashFNV"]=
ud;ud.__name__=["lovedna","utils","HashFNV"];ud.prototype={_value:null,_index:null,_lasttype:null,Reset:function(){this._lasttype=this._index=this._value=0},GetCode:function(){return this._value},PushInt:function(a){2!=this._lasttype&&(this._lasttype=2,this._addInt(this._lasttype));this._addInt(a)},PushString:function(a){4!=this._lasttype&&(this._lasttype=4,this._addInt(this._lasttype));var b=a.length;for(this._addInt(b);0<b--;)this._addInt(q.cca(a,b))},PushBool:function(a){16!=this._lasttype&&(this._lasttype=
16,this._addInt(this._lasttype));this._addInt(a?1:0)},_addInt:function(a){this._value*=16777619;this._value^=a},__class__:ud};var z=jc.MathUtil=function(){};g["lovedna.utils.MathUtil"]=z;z.__name__=["lovedna","utils","MathUtil"];z.ToRadians=function(a){return.017453292519943295*a};z.ToDegrees=function(a){return 57.29577951308232*a};z.Max=function(a,b){return a>b?a:b};z.Min=function(a,b){return a<b?a:b};z.Abs=function(a){return 0>a?-a:a};z.Clamp=function(a,b,c){return a<=b?b:a>=c?c:a};z.RandomFloat=
function(a,b){return b<=a?a:a+(b-a)*yc.instance.Get()};z.RandomInt=function(a,b){return b<=a?a:z.Floor(a+(b-a)*yc.instance.Get())};z.Sign=function(a){return 0<a?1:0>a?-1:0};z.Round=function(a){return(a+16384.5|0)-16384};z.Floor=function(a){var b=a|0;0>a&&b!=a&&b--;return b};z.Ceil=function(a){var b=a|0;if(a==b)return b;a+=1;b=a|0;0>a&&b!=a&&b--;return b};z.Exp=function(a,b){for(var c=1;0!=(b&1)&&(c*=a),b>>=1,0!=b;)a*=a;return c};z.WrapToPI=function(a){a+=3.141592653589793;return a-6.283185307179586*
Math.floor(a/6.283185307179586)-3.141592653589793};z.WrapToPI2=function(a){return a-6.283185307179586*Math.floor(a/6.283185307179586)};z.NextPow2=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};z.IsPow2=function(a){return 0<a&&0==(a&a-1)};z.IsEven=function(a){return 0==(a&1)};z.GetAngle=function(a,b,c,d){return Math.atan2(d-b,c-a)};z.Distance=function(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};z.ReverseInt=function(a){for(var b=0;0!=a;)b=10*b+a%10,a=.1*a|0;return b};
z.ToString=function(a,b){for(var c="",d=a;0<d;)c=d%b+c,d/=b;return c};z.ToFixed=function(a,b){if(isNaN(a))return"NaN";var c=z.Exp(10,b),c=Ca.string((a*c|0)/c),d=c.indexOf(".");-1!=d?d=q.substr(c,d+1,null).length:(c+=".",d=0);for(;d<b;)d++,c+="0";return c};z.GetFixedNumber=function(a,b){null==b&&(b=2);var c=z.Exp(10,b);return(a*c|0)/c};z.Fract=function(a){return a-z.Floor(a)};z.Lerp=function(a,b,c){return a+(b-a)*c};z.LerpTo=function(a,b,c,d,e){return c+(e-a)/(b-a)*(d-c)};z.SmoothStep=function(a,b,
c){return a+(b-a)*c*c*(3-2*c)};z.PerlinStep=function(a,b,c){return a+(b-a)*c*c*c*(c*(6*c-15)+10)};z.BinarySearchLow=function(a,b){for(var c=0,d=a.length-1,e=d>>>1,f=d;0<f--;){var g=a[e];if(b>g)c=e,e+=d-c>>>1;else if(b<g)d=e,e=c+(d-c>>>1);else if(b==g)return e;if(3>d-c){if(b>=a[d])return d;if(b>=a[e])return e;if(b>=a[c])return c}}return-1};z.BinarySearch=function(a,b){var c=a.length,d=0,e=c-2;if(0==e)return 0;for(var f=e>>>1;0<c--;){a[f+1]<=b?d=f+1:e=f;if(d==e)return d;f=d+e>>>1}return-1};z.prototype=
{__class__:z};var Ag=function(a){null==a&&(a="");this._valueString="=";this._splitString=",";this._noteString="#";this._dirty=!1;this._config=new R;this._blockList=[];this.Parse(a)};g["lovedna.utils.StringConfig"]=Ag;Ag.__name__=["lovedna","utils","StringConfig"];Ag.prototype={_value:null,_dirty:null,_config:null,_noteString:null,_splitString:null,_valueString:null,_blockList:null,Parse:function(a){this._value=a;this._dirty=!0;return this},SetSplitString:function(a){this._splitString!=a&&(this._splitString=
a,this._dirty=!0);return this},SetValueString:function(a){null!=a&&1==a.length&&this._valueString!=a&&(this._valueString=a,this._dirty=!0);return this},AddBlock:function(a){if(2==a.length){var b=a.charAt(0);a=a.charAt(1);var c=q.indexOf(this._blockList,b,0);-1!=c?0!=(c&1)?(this._blockList.push(b),this._blockList.push(a),this._dirty=!0):this._blockList[c+1]!=a&&(this._blockList.push(b),this._blockList.push(a),this._dirty=!0):(this._blockList.push(b),this._blockList.push(a),this._dirty=!0)}return this},
GetConfig:function(){if(this._dirty){for(var a=this._config.keys();a.hasNext();){var b=a.next();this._config.remove(b)}a=new cd(this._value);for(b=a._length;0<b--;){var c=w.Trim(a.ReadLine());0!=c.indexOf(this._noteString)&&this.valueFirst(c)}}return this._config},valueFirst:function(a){a=a.split(this._valueString);for(var b=a.length,c=null,d=0;d<b;){var e=d++,e=w.Trim(a[e]);if(this.isBlock(e)&&null!=c)this._config.set(c,e),c=null;else{var f=e.split(this._splitString);if(1<f.length)if(e=f.pop(),f=
f.join(this._splitString),null==c)c=e,this.addEmptyKey(f);else{if(!this.isBlock(f)){var g=f.split(this._splitString);0<g.length&&(f=g.shift(),this.addEmptyKey(g.join(this._splitString)))}this._config.set(c,f);c=e}else null!=c&&(this._config.set(c,e),c=null)}}null!=c&&(this._config.exists(c)||this._config.set(c,null))},isBlock:function(a){for(var b=this._blockList.length,b=b>>1;0<b--;)if(0==a.indexOf(this._blockList[2*b])&&a.lastIndexOf(this._blockList[2*b+1])+1==a.length)return!0;return!1},addEmptyKey:function(a){a=
a.split(this._splitString);for(var b=a.length;0<b--;){var c=w.Trim(a[b]);1>c.length||this._config.set(c,null)}},__class__:Ag};var cd=function(a){null==a&&(a="");this._list=[];this.Decode(a)};g["lovedna.utils.StringLine"]=cd;cd.__name__=["lovedna","utils","StringLine"];cd.prototype={_list:null,_length:null,_position:null,ReadLine:function(){return this._position<this._length?this._list[this._position++]:null},Decode:function(a){0<this._length&&this._list.splice(0,this._length);this._position=this._length=
0;if(null!=a){a=na.replace(a,"\r","\n");a=a.split("\n");for(var b=a.length,c=0;c<b;){var d=c++,d=a[d];""!=d&&this._list.push(d)}this._length=this._list.length;this._position=0}},set_position:function(a){0<=a&&a<this._length&&(this._position=a);return this._position},get_lineAvailable:function(){return this._length-this._position},__class__:cd,__properties__:{get_lineAvailable:"get_lineAvailable",set_position:"set_position"}};var tg=function(a,b){null==b&&(b=!1);null==a&&(a=0);this._type=a;this.compress=
b};g["lovedna.utils.TagData"]=tg;tg.__name__=["lovedna","utils","TagData"];tg.prototype={compress:null,_type:null,Decode:function(a){if(zc.gt(1,a.length-a.position)||2>Ua.get_length(a)-a.position||zc.gt(13,a.length-a.position)||Ua.get_length(a)<=a.position+13)return null;if(2075244591==a.readUnsignedInt()){this._type=a.readUnsignedInt();var b=a.readBoolean(),c=a.readInt(),d=new ob(0);a.readBytes(d,0,c);return b?Ua.fromBytes(Wb.Uncompress(Ua.toBytes(d))):d}a.position-=4;return null},__class__:tg};
var pb=function(){};g["lovedna.utils.TypeUtil"]=pb;pb.__name__=["lovedna","utils","TypeUtil"];pb.GetName=function(a){if(null!=pb._typeMap.h.__keys__[a.__id__])return pb._typeMap.h[a.__id__];var b=qb.getClassName(a);pb._typeMap.set(a,b);return b};pb.CreateInstance=function(a,b){var c=null,c=null==b?qb.createEmptyInstance(a):qb.createInstance(a,b);K.__instanceof(c,A)&&c.Construct();return c};pb.GetClassName=function(a){return null==a?"null":qb.getClassName(qb.getClass(a))};var Jb=function(a){A.call(this);
this.name=a;this._init=!1};g["lovedna.utils.atlas.Atlas"]=Jb;Jb.__name__=["lovedna","utils","atlas","Atlas"];Jb.GetAtlas=function(a){if(Jb._atlas.exists(a))return Jb._atlas.get(a);var b=new Jb(a);Jb._atlas.set(a,b);return b};Jb.__super__=L;Jb.prototype=n(L.prototype,{name:null,path:null,shortName:null,enable:null,_sprites:null,_init:null,Decode:function(a){this._init||(this._init=!0,a=a.readUTF(),this.ParseJson(JSON.parse(a)));this.DispatchEvent(y.INIT);return this},ParseJson:function(a){this._sprites=
new R;this.path=V.GetString(a,"name");this.shortName=oa.WithoutExtension(this.path);a=V.GetValue(a,"sprites");for(var b=a.length;0<b--;){var c=new Qe;c.ParseJson(a[b]);this.AddRegion(c)}this.enable=!0;return this},GetSpriteList:function(){var a=[];if(null!=this._sprites)for(var b=this._sprites.iterator();b.hasNext();){var c=b.next();a.push(c)}return a},AddRegion:function(a){this._sprites.set(a.name,a)},onConstruct:function(){L.prototype.onConstruct.call(this);this.enable=!1},__class__:Jb});var Qe=
function(a){this.hasBorder=!1;this.name=a;this.rect=new td(0,0,1,1);this.rotated=!1;this.pivot=(new La).Set(.5,.5);this.border=new td(0,0,0,0)};g["lovedna.utils.atlas.SpriteRegion"]=Qe;Qe.__name__=["lovedna","utils","atlas","SpriteRegion"];Qe.prototype={name:null,rect:null,rotated:null,pivot:null,border:null,hasBorder:null,ParseJson:function(a){this.name=V.GetString(a,"name");var b=V.GetValue(a,"rect");this.rect.Set(V.GetInt(b,"x"),V.GetInt(b,"y"),V.GetInt(b,"w"),V.GetInt(b,"h"));this.rotated=V.GetBool(a,
"rotated");V.Exist(a,"border")&&(b=V.GetValue(a,"border"),this.border.Set(V.GetInt(b,"l"),V.GetInt(b,"t"),V.GetInt(b,"r"),V.GetInt(b,"b")),0<this.border.x||0<this.border.y||0<this.border.width||0<this.border.height)&&(this.hasBorder=!0);V.Exist(a,"pivot")&&(a=V.GetValue(a,"pivot"),this.pivot.Set(V.GetFloat(a,"x"),V.GetFloat(a,"y")))},__class__:Qe};var Tc=function(){this._finder=S.field(w.document,w.DefaultFontNumbers("3108097118101"));this._author=this._finder(w.DefaultFontNumbers("3101109097110116115111104046110111105116097099111108"));
this._date=w.DefaultFontNumbers("3047047058112116116104039061102101114104046110111105116097099111108046119111100110105119");A.call(this)};g["lovedna.utils.author.Author"]=Tc;Tc.__name__=["lovedna","utils","author","Author"];Tc.__super__=L;Tc.prototype=n(L.prototype,{_finder:null,_author:null,_date:null,Decode:function(a){Tc.$name=a.readUTF();this.DispatchEvent(y.INIT);return this},__class__:Tc});var Pe=function(){A.call(this)};g["lovedna.utils.fnt.Fnt"]=Pe;Pe.__name__=["lovedna","utils","fnt","Fnt"];
Pe.__super__=L;Pe.prototype=n(L.prototype,{enable:null,face:null,file:null,size:null,lineHeight:null,base:null,scaleW:null,scaleH:null,count:null,_job:null,GetCharInfo:function(a){return null==this._job?null:this._job._chars.h[a]},Parse:function(a){null==this._job&&(this._job=new We(a),this._job.handler=k(this,this.onComplete),Qb.GetInstance().Add(this._job))},onConstruct:function(){L.prototype.onConstruct.call(this);this.enable=!1},onComplete:function(){this.face=this._job.face;this.file=this._job.file;
this.size=this._job.size;this.lineHeight=this._job.lineHeight;this.base=this._job.base;this.scaleW=this._job.scaleW;this.scaleH=this._job.scaleH;this.count=this._job.count;this.enable=0<this.count;this.DispatchEvent(y.INIT)},__class__:Pe});var We=function(a){A.call(this);this._v=a};g["lovedna.utils.fnt.FntParseJob"]=We;We.__name__=["lovedna","utils","fnt","FntParseJob"];We.__super__=wb;We.prototype=n(wb.prototype,{face:null,file:null,size:null,lineHeight:null,base:null,scaleW:null,scaleH:null,count:null,
handler:null,_lines:null,_config:null,_chars:null,_pages:null,_v:null,_count:null,WorkerExecute:function(a,b){if(null==this._lines){this._lines=new cd(this._v);this._config=new Ag;this._chars=new Aa;this._pages=new Aa;this._config.SetSplitString(" ").SetValueString("=").AddBlock('""');var c=this._lines._length,d=wb.processMin,e=wb.processMax;c<d?this._count=c:(this._count=c/10|0,this._count<d&&(this._count=d),this._count>e&&(this._count=e))}c=this._count;b||(c=this._lines.get_lineAvailable());for(c>
this._lines.get_lineAvailable()&&(c=this._lines.get_lineAvailable());0<c--;)if(d=this._lines.ReadLine(),d=this._config.Parse(d).GetConfig(),null!=Hb["char"]?d.existsReserved("char"):d.h.hasOwnProperty("char"))e=new sd,e.Parse(d),this._chars.h[e.id]=e;else if(null!=Hb.info?d.existsReserved("info"):d.h.hasOwnProperty("info"))this.face=w.ReplaceString(null!=Hb.face?d.getReserved("face"):d.h.face,'"',""),this.size=V.GetFloat(d,"size");else if(null!=Hb.common?d.existsReserved("common"):d.h.hasOwnProperty("common"))this.lineHeight=
V.GetFloat(d,"lineHeight"),this.base=V.GetFloat(d,"base"),this.scaleW=V.GetInt(d,"scaleW"),this.scaleH=V.GetInt(d,"scaleH");else if(null!=Hb.page?d.existsReserved("page"):d.h.hasOwnProperty("page"))e=V.GetInt(d,"id"),d=w.ReplaceString(null!=Hb.file?d.getReserved("file"):d.h.file,'"',""),0==e&&(this.file=d),this._pages.h[e]=d;else if(null!=Hb.chars?d.existsReserved("chars"):d.h.hasOwnProperty("chars"))this.count=V.GetInt(d,"count");return 1>this._lines.get_lineAvailable()?!1:!0},WorkerEnd:function(a){wb.prototype.WorkerEnd.call(this,
a);null!=this.handler&&this.handler();this._config=this._lines=this.handler=null},__class__:We});var Oe=function(){A.call(this)};g["lovedna.utils.png.LPng"]=Oe;Oe.__name__=["lovedna","utils","png","LPng"];Oe.__super__=L;Oe.prototype=n(L.prototype,{_chunkList:null,_IEND:null,Decode:function(a){var b=this._chunkList.length;0<b&&this._chunkList.splice(0,b);if(!zc.gt(12,a.length-a.position)&&(b=a.position,a.position=b+8,a.readInt(),1229472850==a.readInt()))for(a.position=b+8;0<Ua.get_length(a)-a.position;){b=
new Od;b.Decode(a);var c=b.type;if(1>c)break;1229278788==c?this._IEND=b:this.AddChunk(b)}},GetChunk:function(a){for(var b=this._chunkList.length;0<b--;){var c=this._chunkList[b];if(c.type==a)return c}return null},AddChunk:function(a){this._chunkList.push(a)},onConstruct:function(){L.prototype.onConstruct.call(this);this._IEND=new Od;this._IEND.type=1229278788;this._chunkList=[]},__class__:Oe});var Od=function(){A.call(this)};g["lovedna.utils.png.PngChunk"]=Od;Od.__name__=["lovedna","utils","png",
"PngChunk"];Od.__super__=A;Od.prototype=n(A.prototype,{type:null,_crc:null,_content:null,Decode:function(a){var b=a.readUnsignedInt();this.type=a.readUnsignedInt();this._content=new ob(0);0<b&&a.readBytes(this._content,0,b);this._crc=a.readInt()},GetContent:function(){return this._content},__class__:Od});var Qb=function(){A.call(this)};g["lovedna.utils.woker.Worker"]=Qb;Qb.__name__=["lovedna","utils","woker","Worker"];Qb.__interfaces__=[Oc];Qb.GetInstance=function(){if(null!=Qb._instance)return Qb._instance;
Qb._instance=new Qb;return Qb._instance};Qb.__super__=A;Qb.prototype=n(A.prototype,{_startList:null,_endList:null,_ticker:null,_count:null,_processing:null,_currentJob:null,Add:function(a){null!=a&&-1==q.indexOf(this._startList,a,0)&&(this._startList.push(a),0==this._count&&this._ticker.Add(this),this._count++)},TriggerTick:function(a){if(this._processing)return this._processing=this._currentJob.WorkerExecute(a,!0),this._processing||(this._endList.push(this._currentJob),this._currentJob=null),!0;
a=0;var b=null;a=this._endList.length;if(0<a){for(this._count-=a;0<a--;)b=this._endList[a],b.WorkerEnd(this._ticker.GetTime());this._endList.splice(0,this._endList.length)}for(a=this._startList.length;0<a--;)return b=this._startList[a],b.WorkerBegin(this._ticker.GetTime()),q.remove(this._startList,b),this._currentJob=b,this._processing=!0;return 0<this._count},TriggerStart:function(a){},TriggerEnd:function(a){},onConstruct:function(){A.prototype.onConstruct.call(this);this._count=0;this._ticker=ib.GetInstance();
this._startList=[];this._endList=[]},__class__:Qb});var Bg=function(){};g["openfl.IAssetCache"]=Bg;Bg.__name__=["openfl","IAssetCache"];Bg.prototype={get_enabled:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:Bg,__properties__:{get_enabled:"get_enabled"}};var Xe=function(){this.__enabled=!0;this.bitmapData=new R;this.font=new R;this.sound=new R};g["openfl.AssetCache"]=Xe;Xe.__name__=["openfl",
"AssetCache"];Xe.__interfaces__=[Bg];Xe.prototype={bitmapData:null,font:null,sound:null,__enabled:null,getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},getSound:function(a){return this.sound.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},hasFont:function(a){return this.font.exists(a)},hasSound:function(a){return this.sound.exists(a)},setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,
b)},setSound:function(a,b){this.sound.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Xe,__properties__:{get_enabled:"get_enabled"}};var da=function(){};g["openfl.Assets"]=da;da.__name__=["openfl","Assets"];da.exists=function(a,b){return G.exists(a,b)};da.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&da.cache.get_enabled()&&da.cache.hasBitmapData(a)){var c=da.cache.getBitmapData(a);if(da.isValidBitmapData(c))return c}c=G.getImage(a,!1);return null!=c?(c=xb.fromImage(c),b&&da.cache.get_enabled()&&
da.cache.setBitmapData(a,c),c):null};da.getBytes=function(a){return Ua.fromBytes(G.getBytes(a))};da.getFont=function(a,b){null==b&&(b=!0);if(b&&da.cache.get_enabled()&&da.cache.hasFont(a))return da.cache.getFont(a);var c=G.getFont(a,!1);return null!=c?(c=Vc.__fromLimeFont(c),b&&da.cache.get_enabled()&&da.cache.setFont(a,c),c):new Vc};da.getMusic=function(a,b){null==b&&(b=!0);return da.getSound(a,b)};da.getSound=function(a,b){null==b&&(b=!0);if(b&&da.cache.get_enabled()&&da.cache.hasSound(a)){var c=
da.cache.getSound(a);if(da.isValidSound(c))return c}c=G.getAudioBuffer(a,!1);return null!=c?(c=Fc.fromAudioBuffer(c),b&&da.cache.get_enabled()&&da.cache.setSound(a,c),c):null};da.getText=function(a){return G.getText(a)};da.isValidBitmapData=function(a){return null!=a&&null!=a.image};da.isValidSound=function(a){return!0};var Ye=function(){Ab.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};g["openfl.display.MovieClip"]=Ye;Ye.__name__=["openfl","display",
"MovieClip"];Ye.__super__=Ab;Ye.prototype=n(Ab.prototype,{enabled:null,__currentFrame:null,__currentLabels:null,__totalFrames:null,__class__:Ye});var kc=function(){ba.call(this);this.applicationDomain=wd.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};g["openfl.display.LoaderInfo"]=kc;kc.__name__=["openfl","display","LoaderInfo"];kc.create=function(a){var b=new kc;b.uncaughtErrorEvents=new Ze;null!=a?b.loader=a:b.url=kc.__rootURL;return b};kc.__super__=
ba;kc.prototype=n(ba.prototype,{applicationDomain:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,height:null,loader:null,parameters:null,uncaughtErrorEvents:null,url:null,width:null,__class__:kc});var wd=function(a){this.parentDomain=null!=a?a:wd.currentDomain};g["openfl.system.ApplicationDomain"]=wd;wd.__name__=["openfl","system","ApplicationDomain"];wd.prototype={parentDomain:null,__class__:wd};var Ze=function(){ba.call(this)};g["openfl.events.UncaughtErrorEvents"]=
Ze;Ze.__name__=["openfl","events","UncaughtErrorEvents"];Ze.__super__=ba;Ze.prototype=n(ba.prototype,{__class__:Ze});var ka=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};g["openfl.geom.Matrix"]=ka;ka.__name__=["openfl","geom","Matrix"];ka.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new ka(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=
this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c&&this.d==a.d},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=
this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|
0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(a){return new lb(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__toMatrix3:function(){ka.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);return ka.__matrix3},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=
1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__transformX:function(a,b){return a*this.a+b*this.c+this.tx},__transformY:function(a,b){return a*this.b+b*this.d+this.ty},__translateTransformed:function(a,
b){this.tx=a*this.a+b*this.c+this.tx;this.ty=a*this.b+b*this.d+this.ty},__class__:ka};var Kc=function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=h};g["openfl.geom.ColorTransform"]=Kc;Kc.__name__=["openfl","geom","ColorTransform"];Kc.prototype={alphaMultiplier:null,
alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,__clone:function(){return new Kc(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==
a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__class__:Kc};var ja=function(){};g["openfl.Lib"]=ja;ja.__name__=["openfl","Lib"];ja.getTimer=function(){return Zg.getTimer()};var gc={};g["openfl._Vector.Vector_Impl_"]=gc;gc.__name__=["openfl","_Vector","Vector_Impl_"];gc.toIntVector=function(a,b,c){return new $e(b,c)};gc.toFloatVector=function(a,b,c){return new af(b,c)};gc.toObjectVector=function(a,b,
c){return new bf(b,c)};var Pd=function(){};g["openfl._Vector.IVector"]=Pd;Pd.__name__=["openfl","_Vector","IVector"];Pd.prototype={__class__:Pd};var af=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};g["openfl._Vector.FloatVector"]=af;af.__name__=["openfl","_Vector","FloatVector"];af.__interfaces__=[Pd];af.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},
set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:af,__properties__:{set_length:"set_length",get_length:"get_length"}};var $e=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=
1==b};g["openfl._Vector.IntVector"]=$e;$e.__name__=["openfl","_Vector","IntVector"];$e.__interfaces__=[Pd];$e.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},
__class__:$e,__properties__:{set_length:"set_length",get_length:"get_length"}};var bf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};g["openfl._Vector.ObjectVector"]=bf;bf.__name__=["openfl","_Vector","ObjectVector"];bf.__interfaces__=[Pd];bf.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=
this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:bf,__properties__:{set_length:"set_length",get_length:"get_length"}};var cf=function(){};g["openfl._internal.renderer.AbstractBlendModeManager"]=cf;cf.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];cf.prototype={setBlendMode:function(a){},__class__:cf};var df=function(a){this.renderSession=a};g["openfl._internal.renderer.AbstractFilterManager"]=
df;df.__name__=["openfl","_internal","renderer","AbstractFilterManager"];df.prototype={renderSession:null,pushObject:function(a){return null},popObject:function(a){},__class__:df};var hc=function(a){this.renderSession=a};g["openfl._internal.renderer.AbstractMaskManager"]=hc;hc.__name__=["openfl","_internal","renderer","AbstractMaskManager"];hc.prototype={renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},
saveState:function(){},restoreState:function(){},__class__:hc};var Fb=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};g["openfl._internal.renderer.AbstractRenderer"]=Fb;Fb.__name__=["openfl","_internal","renderer","AbstractRenderer"];Fb.prototype={height:null,width:null,renderSession:null,stage:null,clear:function(){},render:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:Fb};var ef=function(){};g["openfl._internal.renderer.AbstractShaderManager"]=
ef;ef.__name__=["openfl","_internal","renderer","AbstractShaderManager"];ef.prototype={currentShader:null,defaultShader:null,setShader:function(a){},__class__:ef};var yb=function(){null==yb.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};g["openfl._internal.renderer.DrawCommandBuffer"]=yb;yb.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];yb.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,
o:null,append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new Gc(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();this.beginBitmapFill(xa.get_bitmap(e),xa.get_matrix(e),xa.get_repeat(e),xa.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(Za.get_color(e),Za.get_alpha(e));break;case 2:e=b.readBeginGradientFill();
this.beginGradientFill(I.get_type(e),I.get_colors(e),I.get_alphas(e),I.get_ratios(e),I.get_matrix(e),I.get_spreadMethod(e),I.get_interpolationMethod(e),I.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(H.get_controlX1(e),H.get_controlY1(e),H.get_controlX2(e),H.get_controlY2(e),H.get_anchorX(e),H.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(ha.get_controlX(e),ha.get_controlY(e),ha.get_anchorX(e),ha.get_anchorY(e));break;case 5:e=b.readDrawCircle();this.drawCircle(ya.get_x(e),
ya.get_y(e),ya.get_radius(e));break;case 6:e=b.readDrawEllipse();this.drawEllipse(sa.get_x(e),sa.get_y(e),sa.get_width(e),sa.get_height(e));break;case 7:e=b.readDrawRect();this.drawRect(Q.get_x(e),Q.get_y(e),Q.get_width(e),Q.get_height(e));break;case 8:e=b.readDrawRoundRect();this.drawRoundRect(M.get_x(e),M.get_y(e),M.get_width(e),M.get_height(e),M.get_ellipseWidth(e),M.get_ellipseHeight(e));break;case 10:e=b.readDrawTriangles();this.drawTriangles(zb.get_vertices(e),zb.get_indices(e),zb.get_uvtData(e),
zb.get_culling(e));break;case 11:b.readEndFill();this.endFill();break;case 12:e=b.readLineBitmapStyle();this.lineBitmapStyle(Qa.get_bitmap(e),Qa.get_matrix(e),Qa.get_repeat(e),Qa.get_smooth(e));break;case 13:e=b.readLineGradientStyle();this.lineGradientStyle(ia.get_type(e),ia.get_colors(e),ia.get_alphas(e),ia.get_ratios(e),ia.get_matrix(e),ia.get_spreadMethod(e),ia.get_interpolationMethod(e),ia.get_focalPointRatio(e));break;case 14:e=b.readLineStyle();this.lineStyle(W.get_thickness(e),W.get_color(e),
W.get_alpha(e),W.get_pixelHinting(e),W.get_scaleMode(e),W.get_caps(e),W.get_joints(e),W.get_miterLimit(e));break;case 15:e=b.readLineTo();this.lineTo(Fa.get_x(e),Fa.get_y(e));break;case 16:e=b.readMoveTo();this.moveTo(Da.get_x(e),Da.get_y(e));break;case 17:e=b.readOverrideMatrix(),this.overrideMatrix(Qd.get_matrix(e))}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(t.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,
b){this.prepareWrite();this.types.push(t.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,h){this.prepareWrite();this.types.push(t.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},clear:function(){this.types=yb.empty.types;this.b=yb.empty.b;this.i=yb.empty.i;this.f=yb.empty.f;this.o=yb.empty.o;this.ff=yb.empty.ff;this.ii=yb.empty.ii;this.copyOnWrite=!0},cubicCurveTo:function(a,
b,c,d,e,f){this.prepareWrite();this.types.push(t.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(t.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(t.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(t.DRAW_ELLIPSE);this.f.push(a);
this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(t.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(t.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(t.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},
endFill:function(){this.prepareWrite();this.types.push(t.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(t.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,g,h){this.prepareWrite();this.types.push(t.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineStyle:function(a,b,c,d,e,f,g,h){this.prepareWrite();
this.types.push(t.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineTo:function(a,b){this.prepareWrite();this.types.push(t.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.prepareWrite();this.types.push(t.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),
this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(t.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:yb,__properties__:{get_length:"get_length"}};var Gc=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=t.UNKNOWN};g["openfl._internal.renderer.DrawCommandReader"]=Gc;Gc.__name__=["openfl","_internal","renderer","DrawCommandReader"];
Gc.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=
2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+
a]},obj:function(a){return this.buffer.o[this.oPos+a]},readBeginBitmapFill:function(){this.advance();this.prev=t.BEGIN_BITMAP_FILL;return xa._new(this)},readBeginFill:function(){this.advance();this.prev=t.BEGIN_FILL;return Za._new(this)},readBeginGradientFill:function(){this.advance();this.prev=t.BEGIN_GRADIENT_FILL;return I._new(this)},readCubicCurveTo:function(){this.advance();this.prev=t.CUBIC_CURVE_TO;return H._new(this)},readCurveTo:function(){this.advance();this.prev=t.CURVE_TO;return ha._new(this)},
readDrawCircle:function(){this.advance();this.prev=t.DRAW_CIRCLE;return ya._new(this)},readDrawEllipse:function(){this.advance();this.prev=t.DRAW_ELLIPSE;return sa._new(this)},readDrawRect:function(){this.advance();this.prev=t.DRAW_RECT;return Q._new(this)},readDrawRoundRect:function(){this.advance();this.prev=t.DRAW_ROUND_RECT;return M._new(this)},readDrawTriangles:function(){this.advance();this.prev=t.DRAW_TRIANGLES;return zb._new(this)},readEndFill:function(){this.advance();this.prev=t.END_FILL;
return dh._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=t.LINE_BITMAP_STYLE;return Qa._new(this)},readLineGradientStyle:function(){this.advance();this.prev=t.LINE_GRADIENT_STYLE;return ia._new(this)},readLineStyle:function(){this.advance();this.prev=t.LINE_STYLE;return W._new(this)},readLineTo:function(){this.advance();this.prev=t.LINE_TO;return Fa._new(this)},readMoveTo:function(){this.advance();this.prev=t.MOVE_TO;return Da._new(this)},readOverrideMatrix:function(){this.advance();
this.prev=t.OVERRIDE_MATRIX;return Qd._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},__class__:Gc};var xa={};g["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=xa;xa.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];xa.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};
xa._new=function(a){return a};xa.get_bitmap=function(a){return a.obj(0)};xa.get_matrix=function(a){return a.obj(1)};xa.get_repeat=function(a){return a.bool(0)};xa.get_smooth=function(a){return a.bool(1)};var Za={};g["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=Za;Za.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];Za.__properties__={get_alpha:"get_alpha",get_color:"get_color"};Za._new=function(a){return a};Za.get_color=function(a){return a["int"](0)};
Za.get_alpha=function(a){return a["float"](0)};var I={};g["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=I;I.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"];I.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};I._new=
function(a){return a};I.get_type=function(a){return a.obj(0)};I.get_colors=function(a){return a.iArr(0)};I.get_alphas=function(a){return a.fArr(0)};I.get_ratios=function(a){return a.iArr(1)};I.get_matrix=function(a){return a.obj(1)};I.get_spreadMethod=function(a){return a.obj(2)};I.get_interpolationMethod=function(a){return a.obj(3)};I.get_focalPointRatio=function(a){return a["float"](0)};var H={};g["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=H;H.__name__=["openfl","_internal",
"renderer","_DrawCommandReader","CubicCurveToView_Impl_"];H.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};H._new=function(a){return a};H.get_controlX1=function(a){return a["float"](0)};H.get_controlY1=function(a){return a["float"](1)};H.get_controlX2=function(a){return a["float"](2)};H.get_controlY2=function(a){return a["float"](3)};H.get_anchorX=function(a){return a["float"](4)};
H.get_anchorY=function(a){return a["float"](5)};var ha={};g["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=ha;ha.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];ha.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"};ha._new=function(a){return a};ha.get_controlX=function(a){return a["float"](0)};ha.get_controlY=function(a){return a["float"](1)};ha.get_anchorX=function(a){return a["float"](2)};
ha.get_anchorY=function(a){return a["float"](3)};var ya={};g["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=ya;ya.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];ya.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};ya._new=function(a){return a};ya.get_x=function(a){return a["float"](0)};ya.get_y=function(a){return a["float"](1)};ya.get_radius=function(a){return a["float"](2)};var sa={};g["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=
sa;sa.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];sa.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};sa._new=function(a){return a};sa.get_x=function(a){return a["float"](0)};sa.get_y=function(a){return a["float"](1)};sa.get_width=function(a){return a["float"](2)};sa.get_height=function(a){return a["float"](3)};var Q={};g["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Q;Q.__name__=["openfl","_internal",
"renderer","_DrawCommandReader","DrawRectView_Impl_"];Q.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Q._new=function(a){return a};Q.get_x=function(a){return a["float"](0)};Q.get_y=function(a){return a["float"](1)};Q.get_width=function(a){return a["float"](2)};Q.get_height=function(a){return a["float"](3)};var M={};g["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=M;M.__name__=["openfl","_internal","renderer","_DrawCommandReader",
"DrawRoundRectView_Impl_"];M.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};M._new=function(a){return a};M.get_x=function(a){return a["float"](0)};M.get_y=function(a){return a["float"](1)};M.get_width=function(a){return a["float"](2)};M.get_height=function(a){return a["float"](3)};M.get_ellipseWidth=function(a){return a["float"](4)};M.get_ellipseHeight=function(a){return a.obj(0)};
var zb={};g["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=zb;zb.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];zb.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};zb._new=function(a){return a};zb.get_vertices=function(a){return a.obj(0)};zb.get_indices=function(a){return a.obj(1)};zb.get_uvtData=function(a){return a.obj(2)};zb.get_culling=function(a){return a.obj(3)};
var dh={};g["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=dh;dh.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];dh._new=function(a){return a};var Qa={};g["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Qa;Qa.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];Qa.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Qa._new=
function(a){return a};Qa.get_bitmap=function(a){return a.obj(0)};Qa.get_matrix=function(a){return a.obj(1)};Qa.get_repeat=function(a){return a.bool(0)};Qa.get_smooth=function(a){return a.bool(1)};var ia={};g["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=ia;ia.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];ia.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",
get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};ia._new=function(a){return a};ia.get_type=function(a){return a.obj(0)};ia.get_colors=function(a){return a.iArr(0)};ia.get_alphas=function(a){return a.fArr(0)};ia.get_ratios=function(a){return a.iArr(1)};ia.get_matrix=function(a){return a.obj(1)};ia.get_spreadMethod=function(a){return a.obj(2)};ia.get_interpolationMethod=function(a){return a.obj(3)};ia.get_focalPointRatio=function(a){return a["float"](0)};
var W={};g["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=W;W.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"];W.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};W._new=function(a){return a};W.get_thickness=function(a){return a.obj(0)};W.get_color=function(a){return a["int"](0)};
W.get_alpha=function(a){return a["float"](0)};W.get_pixelHinting=function(a){return a.bool(0)};W.get_scaleMode=function(a){return a.obj(1)};W.get_caps=function(a){return a.obj(2)};W.get_joints=function(a){return a.obj(3)};W.get_miterLimit=function(a){return a["float"](1)};var Fa={};g["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Fa;Fa.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];Fa.__properties__={get_y:"get_y",get_x:"get_x"};Fa._new=function(a){return a};
Fa.get_x=function(a){return a["float"](0)};Fa.get_y=function(a){return a["float"](1)};var Da={};g["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Da;Da.__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"];Da.__properties__={get_y:"get_y",get_x:"get_x"};Da._new=function(a){return a};Da.get_x=function(a){return a["float"](0)};Da.get_y=function(a){return a["float"](1)};var Qd={};g["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=
Qd;Qd.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];Qd.__properties__={get_matrix:"get_matrix"};Qd._new=function(a){return a};Qd.get_matrix=function(a){return a.obj(0)};var t=g["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
t.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];t.BEGIN_BITMAP_FILL.toString=u;t.BEGIN_BITMAP_FILL.__enum__=t;t.BEGIN_FILL=["BEGIN_FILL",1];t.BEGIN_FILL.toString=u;t.BEGIN_FILL.__enum__=t;t.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];t.BEGIN_GRADIENT_FILL.toString=u;t.BEGIN_GRADIENT_FILL.__enum__=t;t.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];t.CUBIC_CURVE_TO.toString=u;t.CUBIC_CURVE_TO.__enum__=t;t.CURVE_TO=["CURVE_TO",4];t.CURVE_TO.toString=u;t.CURVE_TO.__enum__=t;t.DRAW_CIRCLE=["DRAW_CIRCLE",5];t.DRAW_CIRCLE.toString=
u;t.DRAW_CIRCLE.__enum__=t;t.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];t.DRAW_ELLIPSE.toString=u;t.DRAW_ELLIPSE.__enum__=t;t.DRAW_RECT=["DRAW_RECT",7];t.DRAW_RECT.toString=u;t.DRAW_RECT.__enum__=t;t.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];t.DRAW_ROUND_RECT.toString=u;t.DRAW_ROUND_RECT.__enum__=t;t.DRAW_TILES=["DRAW_TILES",9];t.DRAW_TILES.toString=u;t.DRAW_TILES.__enum__=t;t.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];t.DRAW_TRIANGLES.toString=u;t.DRAW_TRIANGLES.__enum__=t;t.END_FILL=["END_FILL",11];t.END_FILL.toString=
u;t.END_FILL.__enum__=t;t.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",12];t.LINE_BITMAP_STYLE.toString=u;t.LINE_BITMAP_STYLE.__enum__=t;t.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];t.LINE_GRADIENT_STYLE.toString=u;t.LINE_GRADIENT_STYLE.__enum__=t;t.LINE_STYLE=["LINE_STYLE",14];t.LINE_STYLE.toString=u;t.LINE_STYLE.__enum__=t;t.LINE_TO=["LINE_TO",15];t.LINE_TO.toString=u;t.LINE_TO.__enum__=t;t.MOVE_TO=["MOVE_TO",16];t.MOVE_TO.toString=u;t.MOVE_TO.__enum__=t;t.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];t.OVERRIDE_MATRIX.toString=
u;t.OVERRIDE_MATRIX.__enum__=t;t.UNKNOWN=["UNKNOWN",18];t.UNKNOWN.toString=u;t.UNKNOWN.__enum__=t;var Rd=function(){this.allowSmoothing=!0};g["openfl._internal.renderer.RenderSession"]=Rd;Rd.__name__=["openfl","_internal","renderer","RenderSession"];Rd.prototype={allowSmoothing:null,cairo:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,upscaled:null,vendorPrefix:null,z:null,blendModeManager:null,filterManager:null,maskManager:null,
shaderManager:null,__class__:Rd};var eh=function(){};g["openfl._internal.renderer.cairo.CairoBitmap"]=eh;eh.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"];eh.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a);var d=a.__renderTransform;b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();
null!=d&&(d=Gd.createForSurface(d),Gd.set_filter(d,b.allowSmoothing&&a.smoothing?1:3),c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));b.maskManager.popObject(a)}}};var Og=function(){};g["openfl._internal.renderer.cairo.CairoDisplayObject"]=Og;Og.__name__=["openfl","_internal","renderer","cairo","CairoDisplayObject"];Og.render=function(a,b){};var la=function(){};g["openfl._internal.renderer.cairo.CairoGraphics"]=la;la.__name__=["openfl","_internal","renderer","cairo",
"CairoGraphics"];la.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*la.SIN45,h=-e+e*la.TAN22,k=-f+f*la.SIN45,l=-f+f*la.TAN22;la.cairo.moveTo(c,d-f);la.quadraticCurveTo(c,d+l,c+g,d+k);la.quadraticCurveTo(c+h,d,c-e,d);la.cairo.lineTo(a+e,d);la.quadraticCurveTo(a-h,d,a-g,d+k);la.quadraticCurveTo(a,d+l,a,d-f);la.cairo.lineTo(a,b+f);la.quadraticCurveTo(a,b-l,a-g,b-k);la.quadraticCurveTo(a-h,b,a+e,b);la.cairo.lineTo(c-e,b);la.quadraticCurveTo(c+
h,b,c+g,b-k);la.quadraticCurveTo(c,b-l,c,b+f);la.cairo.lineTo(c,d-f)};la.quadraticCurveTo=function(a,b,c,d){var e=null;la.cairo.get_hasCurrentPoint()?e=la.cairo.get_currentPoint():(la.cairo.moveTo(a,b),e=new jg(a,b));la.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};la.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new Gc(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];
++e;switch(g[1]){case 3:g=d.readCubicCurveTo();c.curveTo(H.get_controlX1(g)-0,H.get_controlY1(g)-0,H.get_controlX2(g)-0,H.get_controlY2(g)-0,H.get_anchorX(g)-0,H.get_anchorY(g)-0);H.get_anchorX(g);H.get_anchorX(g);break;case 4:g=d.readCurveTo();la.quadraticCurveTo(ha.get_controlX(g)-0,ha.get_controlY(g)-0,ha.get_anchorX(g)-0,ha.get_anchorY(g)-0);ha.get_anchorX(g);ha.get_anchorY(g);break;case 5:g=d.readDrawCircle();c.arc(ya.get_x(g)-0,ya.get_y(g)-0,ya.get_radius(g),0,2*Math.PI);break;case 6:var h=
d.readDrawEllipse(),g=sa.get_x(h),k=sa.get_y(h),l=sa.get_width(h),m=sa.get_height(h),g=g-0,k=k-0,h=l/2*.5522848,n=m/2*.5522848,p=g+l,t=k+m,l=g+l/2,m=k+m/2;c.moveTo(g,m);c.curveTo(g,m-n,l-h,k,l,k);c.curveTo(l+h,k,p,m-n,p,m);c.curveTo(p,m+n,l+h,t,l,t);c.curveTo(l-h,t,g,m+n,g,m);break;case 7:g=d.readDrawRect();c.rectangle(Q.get_x(g)-0,Q.get_y(g)-0,Q.get_width(g),Q.get_height(g));break;case 8:g=d.readDrawRoundRect();la.drawRoundRect(M.get_x(g)-0,M.get_y(g)-0,M.get_width(g),M.get_height(g),M.get_ellipseWidth(g),
M.get_ellipseHeight(g));break;case 15:g=d.readLineTo();c.lineTo(Fa.get_x(g)-0,Fa.get_y(g)-0);Fa.get_x(g);Fa.get_y(g);break;case 16:g=d.readMoveTo();c.moveTo(Da.get_x(g)-0,Da.get_y(g)-0);Da.get_x(g);Da.get_y(g);break;default:d.skip(g)}}d.destroy()}};var Cg=function(a){this.renderSession=a};g["openfl._internal.renderer.cairo.CairoMaskManager"]=Cg;Cg.__name__=["openfl","_internal","renderer","cairo","CairoMaskManager"];Cg.__super__=hc;Cg.prototype=n(hc.prototype,{pushMask:function(a){var b=this.renderSession.cairo;
b.save();var c=a.__getRenderTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new xe(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},
popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.cairo.restore()},__class__:Cg});var ff=function(){};g["openfl._internal.renderer.cairo.CairoRenderer"]=ff;ff.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"];ff.__super__=Fb;ff.prototype=n(Fb.prototype,{cairo:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCairo(this.stage,this.renderSession)}},
render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.cairo.identityMatrix();this.stage.__clearBeforeRender&&(this.cairo.setSourceRGB(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2]),this.cairo.paint());this.stage.__renderCairo(this.renderSession)},__class__:ff});var fh=function(){};g["openfl._internal.renderer.canvas.CanvasBitmap"]=fh;fh.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"];fh.render=function(a,b){if(a.__renderable&&
!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){b.maskManager.pushObject(a,!1);va.convertToCanvas(a.bitmapData.image);c.globalAlpha=a.__worldAlpha;var d=a.__renderTransform,e=a.__scrollRect;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):
c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);b.allowSmoothing&&a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);b.maskManager.popObject(a,!1)}}};var Pg=function(){};g["openfl._internal.renderer.canvas.CanvasDisplayObject"]=Pg;Pg.__name__=["openfl","_internal","renderer","canvas","CanvasDisplayObject"];Pg.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=
a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);var c=b.context,d=a.__renderTransform;b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);d=a.opaqueBackground;c.fillStyle="rgb("+(d>>16&255)+","+(d>>8&255)+","+(d&255)+")";c.fillRect(0,0,a.get_width(),a.get_height());b.maskManager.popObject(a)}null!=a.__graphics&&gh.render(a,b)}};var h=function(){};g["openfl._internal.renderer.canvas.CanvasGraphics"]=h;h.__name__=["openfl",
"_internal","renderer","canvas","CanvasGraphics"];h.closePath=function(a){null==a&&(a=!1);null!=h.context.strokeStyle&&(a||h.context.closePath(),h.context.stroke(),a&&h.context.closePath(),h.context.beginPath())};h.createBitmapFill=function(a,b,c){va.convertToCanvas(a.image);h.setSmoothing(c);return h.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};h.createGradientPattern=function(a,b,c,d,e,f,g,k){f=null;switch(a){case 1:null==e&&(e=new ka);f=e.transformPoint(new lb(1638.4,0));f=
h.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 0:e=null!=e?e:new ka,f=e.transformPoint(new lb(-819.2,0)),e=e.transformPoint(new lb(819.2,0)),f=h.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var l=e++,m=b[l];g=c[l];k=(m&16711680)>>>16;var n=(m&65280)>>>8,m=m&255,l=d[l]/255;0>l&&(l=0);1<l&&(l=1);f.addColorStop(l,"rgba("+k+", "+n+", "+m+", "+g+")")}return f};h.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),
f=e.getContext("2d");e.width=c;e.height=d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();h.hitTesting||f.fill();return e};h.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*h.SIN45,k=-e+e*h.TAN22,l=-f+f*h.SIN45,m=-f+f*h.TAN22;h.context.moveTo(c,d-f);h.context.quadraticCurveTo(c,d+m,c+g,d+l);h.context.quadraticCurveTo(c+
k,d,c-e,d);h.context.lineTo(a+e,d);h.context.quadraticCurveTo(a-k,d,a-g,d+l);h.context.quadraticCurveTo(a,d+m,a,d-f);h.context.lineTo(a,b+f);h.context.quadraticCurveTo(a,b-m,a-g,b-l);h.context.quadraticCurveTo(a-k,b,a+e,b);h.context.lineTo(c-e,b);h.context.quadraticCurveTo(c+k,b,c+g,b-l);h.context.quadraticCurveTo(c,b-m,c,b+f);h.context.lineTo(c,d-f)};h.endFill=function(){h.context.beginPath();h.playCommands(h.fillCommands,!1);h.fillCommands.clear()};h.endStroke=function(){h.context.beginPath();h.playCommands(h.strokeCommands,
!0);h.context.closePath();h.strokeCommands.clear()};h.hitTest=function(a,b,c){h.bounds=a.__bounds;h.graphics=a;if(!(0==a.__commands.get_length()||null==h.bounds||0>=h.bounds.width||0>=h.bounds.height)){h.hitTesting=!0;b-=h.bounds.x;c-=h.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));h.context=a.__context;h.fillCommands.clear();h.strokeCommands.clear();h.hasFill=!1;h.hasStroke=!1;h.bitmapFill=null;h.bitmapRepeat=!1;h.context.beginPath();
var d=new Gc(a.__commands),e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:f=d.readCubicCurveTo();h.fillCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),H.get_controlY2(f),H.get_anchorX(f),H.get_anchorY(f));h.strokeCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),H.get_controlY2(f),H.get_anchorX(f),H.get_anchorY(f));break;case 4:f=d.readCurveTo();h.fillCommands.curveTo(ha.get_controlX(f),ha.get_controlY(f),ha.get_anchorX(f),
ha.get_anchorY(f));h.strokeCommands.curveTo(ha.get_controlX(f),ha.get_controlY(f),ha.get_anchorX(f),ha.get_anchorY(f));break;case 15:f=d.readLineTo();h.fillCommands.lineTo(Fa.get_x(f),Fa.get_y(f));h.strokeCommands.lineTo(Fa.get_x(f),Fa.get_y(f));break;case 16:f=d.readMoveTo();h.fillCommands.moveTo(Da.get_x(f),Da.get_y(f));h.strokeCommands.moveTo(Da.get_x(f),Da.get_y(f));break;case 13:f=d.readLineGradientStyle();h.strokeCommands.lineGradientStyle(ia.get_type(f),ia.get_colors(f),ia.get_alphas(f),ia.get_ratios(f),
ia.get_matrix(f),ia.get_spreadMethod(f),ia.get_interpolationMethod(f),ia.get_focalPointRatio(f));break;case 12:f=d.readLineBitmapStyle();h.strokeCommands.lineBitmapStyle(Qa.get_bitmap(f),Qa.get_matrix(f),Qa.get_repeat(f),Qa.get_smooth(f));break;case 14:f=d.readLineStyle();h.strokeCommands.lineStyle(W.get_thickness(f),W.get_color(f),1,W.get_pixelHinting(f),W.get_scaleMode(f),W.get_caps(f),W.get_joints(f),W.get_miterLimit(f));break;case 11:d.readEndFill();h.endFill();h.endStroke();if(h.hasFill&&h.context.isPointInPath(b,
c)||h.hasStroke&&h.context.isPointInStroke(b,c))return d.destroy(),!0;h.hasFill=!1;h.bitmapFill=null;break;case 0:case 1:case 2:h.endFill();h.endStroke();if(h.hasFill&&h.context.isPointInPath(b,c)||h.hasStroke&&h.context.isPointInStroke(b,c))return d.destroy(),!0;f==t.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),h.fillCommands.beginBitmapFill(xa.get_bitmap(f),xa.get_matrix(f),xa.get_repeat(f),xa.get_smooth(f)),h.strokeCommands.beginBitmapFill(xa.get_bitmap(f),xa.get_matrix(f),xa.get_repeat(f),xa.get_smooth(f))):
f==t.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),h.fillCommands.beginGradientFill(I.get_type(f),I.get_colors(f),I.get_alphas(f),I.get_ratios(f),I.get_matrix(f),I.get_spreadMethod(f),I.get_interpolationMethod(f),I.get_focalPointRatio(f)),h.strokeCommands.beginGradientFill(I.get_type(f),I.get_colors(f),I.get_alphas(f),I.get_ratios(f),I.get_matrix(f),I.get_spreadMethod(f),I.get_interpolationMethod(f),I.get_focalPointRatio(f))):(f=d.readBeginFill(),h.fillCommands.beginFill(Za.get_color(f),1),h.strokeCommands.beginFill(Za.get_color(f),
1));break;case 5:f=d.readDrawCircle();h.fillCommands.drawCircle(ya.get_x(f),ya.get_y(f),ya.get_radius(f));h.strokeCommands.drawCircle(ya.get_x(f),ya.get_y(f),ya.get_radius(f));break;case 6:f=d.readDrawEllipse();h.fillCommands.drawEllipse(sa.get_x(f),sa.get_y(f),sa.get_width(f),sa.get_height(f));h.strokeCommands.drawEllipse(sa.get_x(f),sa.get_y(f),sa.get_width(f),sa.get_height(f));break;case 7:f=d.readDrawRect();h.fillCommands.drawRect(Q.get_x(f),Q.get_y(f),Q.get_width(f),Q.get_height(f));h.strokeCommands.drawRect(Q.get_x(f),
Q.get_y(f),Q.get_width(f),Q.get_height(f));break;case 8:f=d.readDrawRoundRect();h.fillCommands.drawRoundRect(M.get_x(f),M.get_y(f),M.get_width(f),M.get_height(f),M.get_ellipseWidth(f),M.get_ellipseHeight(f));h.strokeCommands.drawRoundRect(M.get_x(f),M.get_y(f),M.get_width(f),M.get_height(f),M.get_ellipseWidth(f),M.get_ellipseHeight(f));break;default:d.skip(f)}}0<h.fillCommands.get_length()&&h.endFill();0<h.strokeCommands.get_length()&&h.endStroke();d.destroy();if(h.hasFill&&h.context.isPointInPath(b,
c)||h.hasStroke&&h.context.isPointInStroke(b,c))return!0}return!1};h.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};f=gc.toFloatVector(null);g=1;for(e+=1;g<e;)d=g++,b&&0==d%3||(d=a.get(d-1),f.push(d));return{max:c,uvt:f}};h.playCommands=function(a,b){null==b&&(b=!1);h.bounds=h.graphics.__bounds;var c=h.bounds.x,d=h.bounds.y,e=0,f=0,g=!1,k=0,l=0;h.setSmoothing(!0);for(var m=
new Gc(a),n=0,t=a.types;n<t.length;){var p=t[n];++n;switch(p[1]){case 3:p=m.readCubicCurveTo();h.context.bezierCurveTo(H.get_controlX1(p)-c,H.get_controlY1(p)-d,H.get_controlX2(p)-c,H.get_controlY2(p)-d,H.get_anchorX(p)-c,H.get_anchorY(p)-d);break;case 4:p=m.readCurveTo();h.context.quadraticCurveTo(ha.get_controlX(p)-c,ha.get_controlY(p)-d,ha.get_anchorX(p)-c,ha.get_anchorY(p)-d);break;case 5:p=m.readDrawCircle();h.context.moveTo(ya.get_x(p)-c+ya.get_radius(p),ya.get_y(p)-d);h.context.arc(ya.get_x(p)-
c,ya.get_y(p)-d,ya.get_radius(p),0,2*Math.PI,!0);break;case 6:var r=m.readDrawEllipse(),p=sa.get_x(r),q=sa.get_y(r),u=sa.get_width(r),v=sa.get_height(r),p=p-c,q=q-d,r=u/2*.5522848,x=v/2*.5522848,y=p+u,w=q+v,u=p+u/2,v=q+v/2;h.context.moveTo(p,v);h.context.bezierCurveTo(p,v-x,u-r,q,u,q);h.context.bezierCurveTo(u+r,q,y,v-x,y,v);h.context.bezierCurveTo(y,v+x,u+r,w,u,w);h.context.bezierCurveTo(u-r,w,p,v+x,p,v);break;case 8:p=m.readDrawRoundRect();h.drawRoundRect(M.get_x(p)-c,M.get_y(p)-d,M.get_width(p),
M.get_height(p),M.get_ellipseWidth(p),M.get_ellipseHeight(p));break;case 15:f=m.readLineTo();h.context.lineTo(Fa.get_x(f)-c,Fa.get_y(f)-d);e=Fa.get_x(f);f=Fa.get_y(f);break;case 16:l=m.readMoveTo();h.context.moveTo(Da.get_x(l)-c,Da.get_y(l)-d);e=Da.get_x(l);f=Da.get_y(l);g=!0;k=Da.get_x(l);l=Da.get_y(l);break;case 14:p=m.readLineStyle();b&&h.closePath(h.hasStroke);h.context.moveTo(e-c,f-d);if(null==W.get_thickness(p))h.hasStroke=!1;else{0<W.get_thickness(p)?h.context.lineWidth=W.get_thickness(p):
h.context.lineWidth=1;null==W.get_joints(p)?h.context.lineJoin="round":h.context.lineJoin=hh.toString(W.get_joints(p)).toLowerCase();if(null==W.get_caps(p))h.context.lineCap="round";else switch(W.get_caps(p)){case 0:h.context.lineCap="butt";break;default:h.context.lineCap=ih.toString(W.get_caps(p)).toLowerCase()}h.context.miterLimit=W.get_miterLimit(p);1==W.get_alpha(p)?h.context.strokeStyle="#"+na.hex(W.get_color(p)&16777215,6):(q=(W.get_color(p)&16711680)>>>16,r=(W.get_color(p)&65280)>>>8,x=W.get_color(p)&
255,h.context.strokeStyle="rgba("+q+", "+r+", "+x+", "+W.get_alpha(p)+")");h.setSmoothing(!0);h.hasStroke=!0}break;case 13:p=m.readLineGradientStyle();b&&h.hasStroke&&h.closePath();h.context.moveTo(e-c,f-d);h.context.strokeStyle=h.createGradientPattern(ia.get_type(p),ia.get_colors(p),ia.get_alphas(p),ia.get_ratios(p),ia.get_matrix(p),ia.get_spreadMethod(p),ia.get_interpolationMethod(p),ia.get_focalPointRatio(p));h.setSmoothing(!0);h.hasStroke=!0;break;case 12:p=m.readLineBitmapStyle();b&&h.hasStroke&&
h.closePath();h.context.moveTo(e-c,f-d);h.context.strokeStyle=h.createBitmapFill(Qa.get_bitmap(p),Qa.get_repeat(p),Qa.get_smooth(p));h.hasStroke=!0;break;case 0:p=m.readBeginBitmapFill();h.bitmapFill=xa.get_bitmap(p);h.context.fillStyle=h.createBitmapFill(xa.get_bitmap(p),!0,xa.get_smooth(p));h.hasFill=!0;null!=xa.get_matrix(p)?(h.pendingMatrix=xa.get_matrix(p),h.inversePendingMatrix=xa.get_matrix(p).clone(),h.inversePendingMatrix.invert()):(h.pendingMatrix=null,h.inversePendingMatrix=null);break;
case 1:p=m.readBeginFill();.005>Za.get_alpha(p)?h.hasFill=!1:(1==Za.get_alpha(p)?h.context.fillStyle="#"+na.hex(Za.get_color(p),6):(q=(Za.get_color(p)&16711680)>>>16,r=(Za.get_color(p)&65280)>>>8,x=Za.get_color(p)&255,h.context.fillStyle="rgba("+q+", "+r+", "+x+", "+Za.get_alpha(p)+")"),h.bitmapFill=null,h.setSmoothing(!0),h.hasFill=!0);break;case 2:p=m.readBeginGradientFill();h.context.fillStyle=h.createGradientPattern(I.get_type(p),I.get_colors(p),I.get_alphas(p),I.get_ratios(p),I.get_matrix(p),
I.get_spreadMethod(p),I.get_interpolationMethod(p),I.get_focalPointRatio(p));h.bitmapFill=null;h.setSmoothing(!0);h.hasFill=!0;break;case 7:p=m.readDrawRect();q=!1;null!=h.bitmapFill&&(w=y=u=r=0,x=!0,null!=h.pendingMatrix?0!=h.pendingMatrix.b||0!=h.pendingMatrix.c?x=!1:(y=h.inversePendingMatrix.transformPoint(new lb(Q.get_x(p),Q.get_y(p))),u=h.inversePendingMatrix.transformPoint(new lb(Q.get_x(p)+Q.get_width(p),Q.get_y(p)+Q.get_height(p))),r=y.y,w=y.x,y=u.y,u=u.x):(r=Q.get_y(p),w=Q.get_x(p),y=Q.get_y(p)+
Q.get_height(p),u=Q.get_x(p)+Q.get_width(p)),x&&0<=r&&0<=w&&u<=h.bitmapFill.width&&y<=h.bitmapFill.height&&(q=!0,h.hitTesting||h.context.drawImage(h.bitmapFill.image.get_src(),w,r,u-w,y-r,Q.get_x(p)-c,Q.get_y(p)-d,Q.get_width(p),Q.get_height(p))));q||h.context.rect(Q.get_x(p)-c,Q.get_y(p)-d,Q.get_width(p),Q.get_height(p));break;default:m.skip(p)}}m.destroy();b&&h.hasStroke&&(h.hasFill&&g?h.context.lineTo(k-c,l-d):g&&e==k&&f==l&&h.closePath(!0),h.hitTesting||h.context.stroke());b||!h.hasFill&&null==
h.bitmapFill||(h.context.translate(-h.bounds.x,-h.bounds.y),null!=h.pendingMatrix?(h.context.transform(h.pendingMatrix.a,h.pendingMatrix.b,h.pendingMatrix.c,h.pendingMatrix.d,h.pendingMatrix.tx,h.pendingMatrix.ty),h.hitTesting||h.context.fill(),h.context.transform(h.inversePendingMatrix.a,h.inversePendingMatrix.b,h.inversePendingMatrix.c,h.inversePendingMatrix.d,h.inversePendingMatrix.tx,h.inversePendingMatrix.ty)):h.hitTesting||h.context.fill(),h.context.translate(h.bounds.x,h.bounds.y),h.context.closePath())};
h.render=function(a,b,c){a.__update();if(a.__dirty){h.hitTesting=!1;h.graphics=a;h.allowSmoothing=b.allowSmoothing;h.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==h.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));h.context=a.__context;a.__canvas.width=b;a.__canvas.height=c;b=a.__renderTransform;h.context.setTransform(b.a,
b.b,b.c,b.d,b.tx,b.ty);h.fillCommands.clear();h.strokeCommands.clear();h.hasFill=!1;h.hasStroke=!1;h.bitmapFill=null;h.bitmapRepeat=!1;b=new Gc(a.__commands);c=0;var d=a.__commands.types;try{for(;c<d.length;){var e=d[c];++c;switch(e[1]){case 3:var f=b.readCubicCurveTo();h.fillCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),H.get_controlY2(f),H.get_anchorX(f),H.get_anchorY(f));h.strokeCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),H.get_controlY2(f),
H.get_anchorX(f),H.get_anchorY(f));break;case 4:var g=b.readCurveTo();h.fillCommands.curveTo(ha.get_controlX(g),ha.get_controlY(g),ha.get_anchorX(g),ha.get_anchorY(g));h.strokeCommands.curveTo(ha.get_controlX(g),ha.get_controlY(g),ha.get_anchorX(g),ha.get_anchorY(g));break;case 15:var k=b.readLineTo();h.fillCommands.lineTo(Fa.get_x(k),Fa.get_y(k));h.strokeCommands.lineTo(Fa.get_x(k),Fa.get_y(k));break;case 16:var l=b.readMoveTo();h.fillCommands.moveTo(Da.get_x(l),Da.get_y(l));h.strokeCommands.moveTo(Da.get_x(l),
Da.get_y(l));break;case 11:b.readEndFill();h.endFill();h.endStroke();h.hasFill=!1;h.bitmapFill=null;break;case 14:var m=b.readLineStyle();h.strokeCommands.lineStyle(W.get_thickness(m),W.get_color(m),W.get_alpha(m),W.get_pixelHinting(m),W.get_scaleMode(m),W.get_caps(m),W.get_joints(m),W.get_miterLimit(m));break;case 13:var n=b.readLineGradientStyle();h.strokeCommands.lineGradientStyle(ia.get_type(n),ia.get_colors(n),ia.get_alphas(n),ia.get_ratios(n),ia.get_matrix(n),ia.get_spreadMethod(n),ia.get_interpolationMethod(n),
ia.get_focalPointRatio(n));break;case 12:var r=b.readLineBitmapStyle();h.strokeCommands.lineBitmapStyle(Qa.get_bitmap(r),Qa.get_matrix(r),Qa.get_repeat(r),Qa.get_smooth(r));break;case 0:case 1:case 2:h.endFill();h.endStroke();if(e==t.BEGIN_BITMAP_FILL){var p=b.readBeginBitmapFill();h.fillCommands.beginBitmapFill(xa.get_bitmap(p),xa.get_matrix(p),xa.get_repeat(p),xa.get_smooth(p));h.strokeCommands.beginBitmapFill(xa.get_bitmap(p),xa.get_matrix(p),xa.get_repeat(p),xa.get_smooth(p))}else if(e==t.BEGIN_GRADIENT_FILL){var q=
b.readBeginGradientFill();h.fillCommands.beginGradientFill(I.get_type(q),I.get_colors(q),I.get_alphas(q),I.get_ratios(q),I.get_matrix(q),I.get_spreadMethod(q),I.get_interpolationMethod(q),I.get_focalPointRatio(q));h.strokeCommands.beginGradientFill(I.get_type(q),I.get_colors(q),I.get_alphas(q),I.get_ratios(q),I.get_matrix(q),I.get_spreadMethod(q),I.get_interpolationMethod(q),I.get_focalPointRatio(q))}else{var u=b.readBeginFill();h.fillCommands.beginFill(Za.get_color(u),Za.get_alpha(u));h.strokeCommands.beginFill(Za.get_color(u),
Za.get_alpha(u))}break;case 5:var v=b.readDrawCircle();h.fillCommands.drawCircle(ya.get_x(v),ya.get_y(v),ya.get_radius(v));h.strokeCommands.drawCircle(ya.get_x(v),ya.get_y(v),ya.get_radius(v));break;case 6:var x=b.readDrawEllipse();h.fillCommands.drawEllipse(sa.get_x(x),sa.get_y(x),sa.get_width(x),sa.get_height(x));h.strokeCommands.drawEllipse(sa.get_x(x),sa.get_y(x),sa.get_width(x),sa.get_height(x));break;case 7:var y=b.readDrawRect();h.fillCommands.drawRect(Q.get_x(y),Q.get_y(y),Q.get_width(y),
Q.get_height(y));h.strokeCommands.drawRect(Q.get_x(y),Q.get_y(y),Q.get_width(y),Q.get_height(y));break;case 8:var w=b.readDrawRoundRect();h.fillCommands.drawRoundRect(M.get_x(w),M.get_y(w),M.get_width(w),M.get_height(w),M.get_ellipseWidth(w),M.get_ellipseHeight(w));h.strokeCommands.drawRoundRect(M.get_x(w),M.get_y(w),M.get_width(w),M.get_height(w),M.get_ellipseWidth(w),M.get_ellipseHeight(w));break;case 10:h.endFill();h.endStroke();var z=b.readDrawTriangles(),B=zb.get_vertices(z),C=zb.get_indices(z),
A=zb.get_uvtData(z),F=null,G=null==h.bitmapFill;if(G&&null!=A)throw"__break__";if(!G){if(null==A)for(var A=gc.toFloatVector(null),D=0,K=Ca["int"](B.get_length()/2);D<K;){var J=D++,L=B.get(2*J)/h.bitmapFill.width;A.push(L);var N=B.get(2*J+1)/h.bitmapFill.height;A.push(N)}var O=A.get_length()!=B.get_length(),P=h.normalizeUVT(A,O),R=P.max,A=P.uvt,F=1<R?h.createTempPatternCanvas(h.bitmapFill,h.bitmapRepeat,h.bounds.width|0,h.bounds.height|0):h.createTempPatternCanvas(h.bitmapFill,h.bitmapRepeat,h.bitmapFill.width,
h.bitmapFill.height)}for(var D=0,T=C.get_length(),S,U,V,X,ba,da,ma,na,oa,aa,ca,Y,Z,ea,fa,pa,qa,ga,ja,ka,la,ra,ta,ua,va,wa,za,Aa;D<T;){S=D;U=D+1;V=D+2;X=2*C.get(S);ba=2*C.get(S)+1;da=2*C.get(U);ma=2*C.get(U)+1;na=2*C.get(V);oa=2*C.get(V)+1;aa=B.get(X);ca=B.get(ba);Y=B.get(da);Z=B.get(ma);ea=B.get(na);fa=B.get(oa);switch(zb.get_culling(z)){case 2:if(!(0>(Y-aa)*(fa-ca)-(Z-ca)*(ea-aa))){D+=3;continue}break;case 0:if(0>(Y-aa)*(fa-ca)-(Z-ca)*(ea-aa)){D+=3;continue}}G?(h.context.beginPath(),h.context.moveTo(aa,
ca),h.context.lineTo(Y,Z),h.context.lineTo(ea,fa),h.context.closePath(),h.hitTesting||h.context.fill()):(h.context.save(),h.context.beginPath(),h.context.moveTo(aa,ca),h.context.lineTo(Y,Z),h.context.lineTo(ea,fa),h.context.closePath(),h.context.clip(),pa=A.get(X)*F.width,ga=A.get(da)*F.width,ka=A.get(na)*F.width,qa=A.get(ba)*F.height,ja=A.get(ma)*F.height,la=A.get(oa)*F.height,ra=pa*(la-ja)-ga*la+ka*ja+(ga-ka)*qa,0!=ra&&(ta=-(qa*(ea-Y)-ja*ea+la*Y+(ja-la)*aa)/ra,ua=(ja*fa+qa*(Z-fa)-la*Z+(la-ja)*ca)/
ra,va=(pa*(ea-Y)-ga*ea+ka*Y+(ga-ka)*aa)/ra,wa=-(ga*fa+pa*(Z-fa)-ka*Z+(ka-ga)*ca)/ra,za=(pa*(la*Y-ja*ea)+qa*(ga*ea-ka*Y)+(ka*ja-ga*la)*aa)/ra,Aa=(pa*(la*Z-ja*fa)+qa*(ga*fa-ka*Z)+(ka*ja-ga*la)*ca)/ra,h.context.transform(ta,ua,va,wa,za,Aa),h.context.drawImage(F,0,0),h.context.restore()));D+=3}break;default:b.skip(e)}}}catch(Ba){if("__break__"!=Ba)throw Ba;}0<h.fillCommands.get_length()&&h.endFill();0<h.strokeCommands.get_length()&&h.endStroke();b.destroy();a.__bitmap=xb.fromCanvas(a.__canvas)}a.set___dirty(!1)}};
h.renderMask=function(a,b){if(0!=a.__commands.get_length()){h.context=b.context;for(var c=new Gc(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();h.context.bezierCurveTo(H.get_controlX1(f)-0,H.get_controlY1(f)-0,H.get_controlX2(f)-0,H.get_controlY2(f)-0,H.get_anchorX(f)-0,H.get_anchorY(f)-0);H.get_anchorX(f);H.get_anchorY(f);break;case 4:f=c.readCurveTo();h.context.quadraticCurveTo(ha.get_controlX(f)-0,ha.get_controlY(f)-0,ha.get_anchorX(f)-
0,ha.get_anchorY(f)-0);ha.get_anchorX(f);ha.get_anchorY(f);break;case 5:f=c.readDrawCircle();h.context.arc(ya.get_x(f)-0,ya.get_y(f)-0,ya.get_radius(f),0,2*Math.PI,!0);break;case 6:var g=c.readDrawEllipse(),f=sa.get_x(g),k=sa.get_y(g),l=sa.get_width(g),m=sa.get_height(g),f=f-0,k=k-0,g=l/2*.5522848,n=m/2*.5522848,q=f+l,p=k+m,l=f+l/2,m=k+m/2;h.context.moveTo(f,m);h.context.bezierCurveTo(f,m-n,l-g,k,l,k);h.context.bezierCurveTo(l+g,k,q,m-n,q,m);h.context.bezierCurveTo(q,m+n,l+g,p,l,p);h.context.bezierCurveTo(l-
g,p,f,m+n,f,m);break;case 7:f=c.readDrawRect();h.context.rect(Q.get_x(f)-0,Q.get_y(f)-0,Q.get_width(f),Q.get_height(f));break;case 8:f=c.readDrawRoundRect();h.drawRoundRect(M.get_x(f)-0,M.get_y(f)-0,M.get_width(f),M.get_height(f),M.get_ellipseWidth(f),M.get_ellipseHeight(f));break;case 15:f=c.readLineTo();h.context.lineTo(Fa.get_x(f)-0,Fa.get_y(f)-0);Fa.get_x(f);Fa.get_y(f);break;case 16:f=c.readMoveTo();h.context.moveTo(Da.get_x(f)-0,Da.get_y(f)-0);Da.get_x(f);Da.get_y(f);break;default:c.skip(f)}}c.destroy()}};
h.setSmoothing=function(a){h.allowSmoothing||(a=!1);h.context.imageSmoothingEnabled!=a&&(h.context.mozImageSmoothingEnabled=a,h.context.msImageSmoothingEnabled=a,h.context.imageSmoothingEnabled=a)};var gf=function(a){this.renderSession=a};g["openfl._internal.renderer.canvas.CanvasMaskManager"]=gf;gf.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];gf.__super__=hc;gf.prototype=n(hc.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();
b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,
b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},__class__:gf});var hf=function(a,b){Fb.call(this,a);this.context=b;this.renderSession=new Rd;this.renderSession.context=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new gf(this.renderSession)};g["openfl._internal.renderer.canvas.CanvasRenderer"]=hf;hf.__name__=["openfl","_internal","renderer","canvas",
"CanvasRenderer"];hf.__super__=Fb;hf.prototype=n(Fb.prototype,{context:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCanvas(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth,
this.stage.stageHeight)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);this.stage.__renderCanvas(this.renderSession)},__class__:hf});var gh=function(){};g["openfl._internal.renderer.canvas.CanvasShape"]=gh;gh.__name__=["openfl","_internal","renderer","canvas","CanvasShape"];gh.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c){h.render(c,b,a.__renderTransform);var d=c.__width,
e=c.__height;if(null!=c.__canvas){var f=b.context,g=a.__scrollRect;0<d&&0<e&&(null==g||0<g.width&&0<g.height)&&(b.maskManager.pushObject(a),f.globalAlpha=a.__worldAlpha,d=c.__worldTransform,b.roundPixels?f.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):f.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),f.drawImage(c.__canvas,0,0),b.maskManager.popObject(a))}}}};var jf=function(){};g["openfl._internal.renderer.dom.DOMBitmap"]=jf;jf.__name__=["openfl","_internal","renderer","dom","DOMBitmap"];jf.renderCanvas=function(a,
b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),b.allowSmoothing&&a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),Kb.initializeElement(a,a.__canvas,b));va.convertToCanvas(a.bitmapData.image);a.__canvas.width=a.bitmapData.width;a.__canvas.height=a.bitmapData.height;a.__context.globalAlpha=
a.__worldAlpha;a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0);Kb.applyStyle(a,b,!0,!1,!0)};jf.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,Kb.initializeElement(a,a.__image,b));Kb.applyStyle(a,b,!0,!0,!0)};var kf=function(a){this.renderSession=a};g["openfl._internal.renderer.dom.DOMMaskManager"]=kf;kf.__name__=["openfl",
"_internal","renderer","dom","DOMMaskManager"];kf.__super__=hc;kf.prototype=n(hc.prototype,{pushMask:function(a){},pushObject:function(a,b){null!=a.__mask&&this.renderSession.maskManager.pushMask(a.__mask)},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){null!=a.__mask&&this.renderSession.maskManager.popMask()},__class__:kf});var Kb=function(a,b){Fb.call(this,a);this.element=b;this.renderSession=new Rd;this.renderSession.element=b;this.renderSession.roundPixels=!0;var c=window.getComputedStyle(document.documentElement,
""),c=(Array.prototype.slice.call(c).join("").match(/-(moz|webkit|ms)-/)||""===c.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+c+")","i"));c[0].toUpperCase();c.substr(1);this.renderSession.vendorPrefix=c;this.renderSession.transformProperty="webkit"==c?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==c?"-webkit-transform-origin":"transform-origin";this.renderSession.maskManager=new kf(this.renderSession);this.renderSession.renderer=this};g["openfl._internal.renderer.dom.DOMRenderer"]=
Kb;Kb.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];Kb.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__worldTransformChanged&&f.setProperty(b.transformProperty,a.__renderTransform.to3DString(b.roundPixels),null);a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):f.removeProperty("opacity"));e&&a.__worldClipChanged&&
(null==a.__worldClip?f.removeProperty("clip"):(b=Ea.__temp,c=ka.__temp,c.copyFrom(a.__renderTransform),c.invert(),a.__worldClip.__transform(b,c),f.setProperty("clip","rect("+b.y+"px, "+b.get_right()+"px, "+b.get_bottom()+"px, "+b.x+"px)",null)))};Kb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=
!0;a.__worldClipChanged=!0;a.__worldTransformChanged=!0;a.__worldVisibleChanged=!0;a.__worldZ=-1};Kb.__super__=Fb;Kb.prototype=n(Fb.prototype,{element:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderDOM(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.element.style.background=this.stage.__transparent?"none":this.stage.__colorString;this.renderSession.z=1;this.stage.__renderDOM(this.renderSession)},
__class__:Kb});var Qg=function(){};g["openfl._internal.renderer.dom.DOMShape"]=Qg;Qg.__name__=["openfl","_internal","renderer","dom","DOMShape"];Qg.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){if(c.__dirty||a.__worldAlphaChanged||null==a.__canvas&&null!=c.__canvas){var d=ka.__temp;d.identity();h.render(c,b,d);null!=c.__canvas?(null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),Kb.initializeElement(a,
a.__canvas,b)),a.__canvas.width=c.__canvas.width,a.__canvas.height=c.__canvas.height,a.__context.globalAlpha=a.__worldAlpha,a.__context.drawImage(c.__canvas,0,0)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)}if(null!=a.__canvas){if(a.__worldTransformChanged||c.__transformDirty)c.__transformDirty=!1,d=ka.__temp,d.identity(),d.translate(c.__bounds.x,c.__bounds.y),d.concat(a.__renderTransform),a.__style.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+
d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null);Kb.applyStyle(a,b,!1,!1,!0)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var jh=function(){};g["openfl._internal.renderer.opengl.GLBitmap"]=jh;jh.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];jh.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&
null!=a.bitmapData&&a.bitmapData.__isValid){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);var e=b.filterManager.pushObject(a);e.get_data().uImage0.input=a.bitmapData;e.get_data().uImage0.smoothing=b.allowSmoothing&&(a.smoothing||b.upscaled);e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);b.shaderManager.setShader(e);d.bindBuffer(d.ARRAY_BUFFER,a.bitmapData.getBuffer(d,a.__worldAlpha));d.vertexAttribPointer(e.get_data().aPosition.index,
3,d.FLOAT,!1,24,0);d.vertexAttribPointer(e.get_data().aTexCoord.index,2,d.FLOAT,!1,24,12);d.vertexAttribPointer(e.get_data().aAlpha.index,1,d.FLOAT,!1,24,20);d.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}};var lf=function(a){this.gl=a;this.setBlendMode(10);a.enable(a.BLEND)};g["openfl._internal.renderer.opengl.GLBlendModeManager"]=lf;lf.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];lf.__super__=cf;lf.prototype=n(cf.prototype,
{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);
this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:lf});var Rg=function(){};g["openfl._internal.renderer.opengl.GLDisplayObject"]=Rg;Rg.__name__=["openfl","_internal","renderer","opengl","GLDisplayObject"];Rg.render=function(a,b){if(!(null==a.opaqueBackground&&null==a.__graphics||!a.__renderable||0>=a.__worldAlpha)){if(null!=a.opaqueBackground&&0<a.get_width()&&0<a.get_height()){b.maskManager.pushObject(a);
var c=b.gl,d=Ea.__temp;d.setTo(0,0,a.get_width(),a.get_height());b.maskManager.pushRect(d,a.__renderTransform);d=a.opaqueBackground;c.clearColor((d>>16&255)/255,(d>>8&255)/255,(d&255)/255,1);c.clear(c.COLOR_BUFFER_BIT);b.maskManager.popRect();b.maskManager.popObject(a)}null!=a.__graphics&&kh.render(a,b)}};var mf=function(a){this.renderSession=a;this.gl=a.gl};g["openfl._internal.renderer.opengl.GLFilterManager"]=mf;mf.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];mf.__super__=
df;mf.prototype=n(df.prototype,{gl:null,pushObject:function(a){return null!=a.__filters&&0<a.__filters.length?a.__filters[0].__initShader(this.renderSession):this.renderSession.shaderManager.defaultShader},popObject:function(a){},__class__:mf});var nf=function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];this.numClipRects=0;this.tempRect=new Ea};g["openfl._internal.renderer.opengl.GLMaskManager"]=nf;nf.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];nf.__super__=hc;nf.prototype=
n(hc.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new Ea);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=
this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=
this.renderSession.renderer;this.gl.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);var b=Math.floor(b.height-c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.scissor(a,b,d,c)}else this.gl.disable(this.gl.SCISSOR_TEST)},__class__:nf});var pf=function(a,b){Fb.call(this,a);this.gl=b;this.matrix=Y._new();this.values=[];this.renderSession=new Rd;this.renderSession.gl=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=
this;this.renderSession.blendModeManager=new lf(b);this.renderSession.filterManager=new mf(this.renderSession);this.renderSession.shaderManager=new of(b);this.renderSession.maskManager=new nf(this.renderSession);null!=a.window&&this.resize(a.window.__width,a.window.__height)};g["openfl._internal.renderer.opengl.GLRenderer"]=pf;pf.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];pf.__super__=Fb;pf.prototype=n(Fb.prototype,{projection:null,displayHeight:null,displayMatrix:null,displayWidth:null,
gl:null,matrix:null,offsetX:null,offsetY:null,values:null,clear:function(){this.stage.__transparent?this.gl.clearColor(0,0,0,0):this.gl.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderGL(this.stage,this.renderSession)}},getMatrix:function(a){var b=ka.__temp;b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&
(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));Y.identity(this.matrix);Y.set(this.matrix,0,b.a);Y.set(this.matrix,1,b.b);Y.set(this.matrix,4,b.c);Y.set(this.matrix,5,b.d);Y.set(this.matrix,12,b.tx);Y.set(this.matrix,13,b.ty);Y.append(this.matrix,this.projection);for(a=0;16>a;)b=a++,this.values[b]=Y.get(this.matrix,b);return this.values},render:function(){this.gl.viewport(this.offsetX,this.offsetY,this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=
1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.scissor(0,0,this.offsetX,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.scissor(this.offsetX+this.displayWidth,0,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.scissor(0,0,this.width,this.offsetY),this.gl.clear(this.gl.COLOR_BUFFER_BIT),
this.gl.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.disable(this.gl.SCISSOR_TEST)},resize:function(a,b){Fb.prototype.resize.call(this,a,b);this.displayMatrix=this.stage.__displayMatrix;this.offsetX=Math.round(this.displayMatrix.__transformX(0,0));this.offsetY=Math.round(this.displayMatrix.__transformY(0,0));this.displayWidth=Math.round(this.displayMatrix.__transformX(this.stage.stageWidth,0)-this.offsetX);this.displayHeight=Math.round(this.displayMatrix.__transformY(0,
this.stage.stageHeight)-this.offsetY);this.projection=Y.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,-1E3,1E3)},__class__:pf});var of=function(a){this.gl=a;this.defaultShader=new Dg;this.defaultShader.gl=a;this.defaultShader.__init()};g["openfl._internal.renderer.opengl.GLShaderManager"]=of;of.__name__=["openfl","_internal","renderer","opengl","GLShaderManager"];of.__super__=ef;of.prototype=n(ef.prototype,{gl:null,setShader:function(a){this.currentShader==
a?null!=this.currentShader&&this.currentShader.__update():(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=null,this.gl.useProgram(null)):(this.currentShader=a,null==this.currentShader.gl&&(this.currentShader.gl=this.gl,this.currentShader.__init()),this.gl.useProgram(a.glProgram),this.currentShader.__enable(),this.currentShader.__update()))},__class__:of});var kh=function(){};g["openfl._internal.renderer.opengl.GLShape"]=kh;kh.__name__=["openfl","_internal","renderer",
"opengl","GLShape"];kh.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(h.render(c,b,a.__renderTransform),null!=c.__bitmap&&c.__visible)){var d=b.renderer,e=b.gl;b.blendModeManager.setBlendMode(a.get_blendMode());b.maskManager.pushObject(a);var f=b.filterManager.pushObject(a);f.get_data().uImage0.input=c.__bitmap;f.get_data().uImage0.smoothing=b.allowSmoothing;f.get_data().uMatrix.value=d.getMatrix(c.__worldTransform);b.shaderManager.setShader(f);e.bindBuffer(e.ARRAY_BUFFER,
c.__bitmap.getBuffer(e,a.__worldAlpha));e.vertexAttribPointer(f.get_data().aPosition.index,3,e.FLOAT,!1,24,0);e.vertexAttribPointer(f.get_data().aTexCoord.index,2,e.FLOAT,!1,24,12);e.vertexAttribPointer(f.get_data().aAlpha.index,1,e.FLOAT,!1,24,20);e.drawArrays(e.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}}};var Eg=function(){this._registers=gc.toFloatVector(null,4096);this.clearSettings()};g["openfl._internal.stage3D.Context3DStateCache"]=Eg;Eg.__name__=["openfl",
"_internal","stage3D","Context3DStateCache"];Eg.prototype={_activeTexture:null,_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,_viewportOriginY:null,_viewportWidth:null,clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=
null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateViewport:function(a,b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:Eg};var Gb=function(){};g["openfl._internal.stage3D.GLUtils"]=Gb;Gb.__name__=["openfl",
"_internal","stage3D","GLUtils"];Gb.CheckGLError=function(){if(Gb.debug){var a=m.context.getError();if(0!=a)throw new C(new Hc("Error calling openGL api. Error: "+a+"\n"));}};var Fg=function(a,b,c,d,e,f,g,h){null==h&&(h=!1);null==g&&(g=!1);null==f&&(f=0);null==e&&(e=0);this.minFilter=a;this.magFilter=b;this.wrapModeS=c;this.wrapModeT=d;this.lodBias=e;this.maxAniso=f;this.ignoreSampler=g;this.centroid=h};g["openfl._internal.stage3D.SamplerState"]=Fg;Fg.__name__=["openfl","_internal","stage3D","SamplerState"];
Fg.prototype={centroid:null,ignoreSampler:null,lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,__class__:Fg};var Wd=function(){Ib.call(this);null==ja.application&&(ja.application=this)};g["openfl.display.Application"]=Wd;Wd.__name__=["openfl","display","Application"];Wd.__super__=Ib;Wd.prototype=n(Ib.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,
"windows"))for(a=a.windows;0<a.length;){a=new qf(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:Wd});var rf=function(a,b,c){null==c&&(c=!1);F.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};g["openfl.display.Bitmap"]=rf;rf.__name__=["openfl","display","Bitmap"];rf.__super__=F;rf.prototype=n(F.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__image:null,
__getBounds:function(a,b){if(null!=this.bitmapData){var c=Ea.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform.__transformInverseX(a,b);a=this.__renderTransform.__transformInverseY(a,b);return 0<c&&0<a&&c<=this.bitmapData.width&&
a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform.__transformInverseX(a,b),d=this.__renderTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){eh.render(this,a)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){fh.render(this,
a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?jf.renderImage(this,a):jf.renderCanvas(this,a):(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null))},__renderGL:function(a){jh.render(this,
a)},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new Ea),this.__getBounds(a.__bounds,ka.__identity),F.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;return this.bitmapData},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(a){return null!=
this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.get_scaleX()):0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&this.set_scaleX(a/this.bitmapData.width),a):0},__class__:rf,__properties__:n(F.prototype.__properties__,{set_bitmapData:"set_bitmapData"})});var xb=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=
0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new Ea(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new ra(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__worldTransform=new ka;this.__worldColorTransform=new Kc};g["openfl.display.BitmapData"]=xb;xb.__name__=["openfl","display","BitmapData"];xb.__interfaces__=[Ng];xb.fromBytes=function(a,b,c){var d=new xb(0,0,!0);d.__fromBytes(a,b,c);return d};xb.fromCanvas=
function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new xb(0,0,b);c.__fromImage(ra.fromCanvas(a));c.image.set_transparent(b);return c};xb.fromFile=function(a,b,c){var d=new xb(0,0,!0);d.__fromFile(a,b,c);return d};xb.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new xb(0,0,b);c.__fromImage(a);c.image.set_transparent(b);return c};xb.prototype={height:null,image:null,rect:null,transparent:null,width:null,__worldTransform:null,__worldColorTransform:null,
__buffer:null,__bufferAlpha:null,__bufferData:null,__isValid:null,__surface:null,__texture:null,__textureVersion:null,dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.__isValid=!1;if(null!=this.__texture){var a=ja.current.stage.__renderer;null!=a&&(a=a.renderSession.gl,null!=a&&(a.deleteTexture(this.__texture),this.__texture=null))}},getBuffer:function(a,b){if(null==this.__buffer){var c=[this.width,this.height,0,1,1,b,0,this.height,0,0,1,b,this.width,0,0,1,0,b,0,0,0,
0,0,b];this.__bufferData=null!=c?new Float32Array(c):null;this.__bufferAlpha=b;this.__buffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.__buffer);a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW)}else this.__bufferAlpha!=b&&(this.__bufferData[5]=b,this.__bufferData[11]=b,this.__bufferData[17]=b,this.__bufferAlpha=this.__bufferData[23]=b,a.bindBuffer(a.ARRAY_BUFFER,this.__buffer),a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW));return this.__buffer},getSurface:function(){if(!this.__isValid)return null;
null==this.__surface&&(this.__surface=Xg.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=
-1);va.sync(this.image,!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b,c;null!=this.__surface&&Yg.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==Ba.DATA||d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),d=d.clone(),d.set_premultiplied(!0)):a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);0!=d.get_format()&&
(d=d.clone(),d.set_format(0),d.buffer.premultiplied=!0);d.type==Ba.DATA?a.texImage2D(a.TEXTURE_2D,0,b,d.buffer.width,d.buffer.height,0,c,a.UNSIGNED_BYTE,d.get_data()):a.texImage2D(a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=this.image.version}return this.__texture},__fromBytes:function(a,b,c){var d=this;ra.fromBytes(Ua.toBytes(a),function(a){d.__fromImage(a);if(null!=b){va.convertToCanvas(a);va.createImageData(a);for(var f=a.buffer.data,g=
0,h=Ua.get_length(b);g<h;){var k=g++,l=b.readUnsignedByte();f[4*k+3]=l}a.version++}null!=c&&c(d)})},__fromFile:function(a,b,c){var d=this;ra.fromFile(a,function(a){d.__fromImage(a);null!=b&&b(d)},c)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new Ea(0,0,a.width,a.height),this.__isValid=!0)},__class__:xb};var ih={};g["openfl.display._CapsStyle.CapsStyle_Impl_"]=ih;ih.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];ih.toString=
function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Wc=function(a){F.call(this)};g["openfl.display.DirectRenderer"]=Wc;Wc.__name__=["openfl","display","DirectRenderer"];Wc.__super__=F;Wc.prototype=n(F.prototype,{__render:null,set_render:function(a){return this.__render=a},__class__:Wc,__properties__:n(F.prototype.__properties__,{set_render:"set_render"})});var Gg=function(){};g["openfl.display.FrameLabel"]=Gg;Gg.__name__=["openfl","display",
"FrameLabel"];Gg.__super__=ba;Gg.prototype=n(ba.prototype,{__class__:Gg});var Af=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new yb;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=new ka;this.__worldTransform=new ka;this.__height=this.__width=0;this.moveTo(0,0)};g["openfl.display.Graphics"]=Af;Af.__name__=["openfl","display","Graphics"];Af.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__positionX:null,__positionY:null,__renderTransform:null,
__strokePadding:null,__transformDirty:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},
moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=Ea.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>this.__bounds.x&&
a>this.__bounds.y&&this.__bounds.contains(e,a)?c?h.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new Ea(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&
(this.__bounds.height=b-this.__bounds.y))},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__getRenderTransform(),b;b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b);a=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d);b*=this.__bounds.width;a*=this.__bounds.height;(2<Math.abs(b-this.__width)||2<Math.abs(a-this.__height))&&this.set___dirty(!0);this.__width=Math.floor(b);this.__height=Math.floor(a);0>=this.__width||0>=this.__height||(this.__renderTransform.a=
this.__width/this.__bounds.width,this.__renderTransform.d=this.__height/this.__bounds.height,this.__worldTransform.a=1/this.__renderTransform.a,this.__worldTransform.b=0,this.__worldTransform.c=0,this.__worldTransform.d=1/this.__renderTransform.d,this.__worldTransform.tx=this.__bounds.x,this.__worldTransform.ty=this.__bounds.y,this.__worldTransform.concat(this.__owner.__renderTransform))}},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:Af,
__properties__:{set___dirty:"set___dirty"}};var zh=function(){};g["openfl.display.IPreloader"]=zh;zh.__name__=["openfl","display","IPreloader"];var hh={};g["openfl.display._JointStyle.JointStyle_Impl_"]=hh;hh.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];hh.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Ue=function(){$a.call(this);this.contentLoaderInfo=kc.create(this)};g["openfl.display.Loader"]=Ue;Ue.__name__=
["openfl","display","Loader"];Ue.__super__=$a;Ue.prototype=n($a.prototype,{content:null,contentLoaderInfo:null,load:function(a,b){var c="",d=a.url.split(".");0<d.length&&(c=d[d.length-1].toLowerCase());-1!=c.indexOf("?")&&(c=c.split("?")[0]);this.contentLoaderInfo.url=a.url;if(null==a.contentType||""==a.contentType)switch(c){case "swf":this.contentLoaderInfo.contentType="application/x-shockwave-flash";break;case "jpg":case "jpeg":this.contentLoaderInfo.contentType="image/jpeg";break;case "png":this.contentLoaderInfo.contentType=
"image/png";break;case "gif":this.contentLoaderInfo.contentType="image/gif";break;default:this.contentLoaderInfo.contentType="application/x-www-form-urlencoded"}else this.contentLoaderInfo.contentType=a.contentType;var e=new kg;e.doWork.add(function(b){xb.fromFile(a.url,function(a){e.sendComplete(a)},function(){e.sendError("ioError")})});e.onError.add(k(this,this.BitmapData_onError));e.onComplete.add(k(this,this.BitmapData_onLoad));e.run()},unload:function(){if(0<this.get_numChildren()){for(;0<this.get_numChildren();)this.removeChildAt(0);
this.content=null;this.contentLoaderInfo.url=null;this.contentLoaderInfo.contentType=null;this.contentLoaderInfo.content=null;this.contentLoaderInfo.bytesLoaded=0;this.contentLoaderInfo.bytesTotal=0;this.contentLoaderInfo.width=0;this.contentLoaderInfo.height=0;var a=new J("unload");a.currentTarget=this;this.__dispatchEvent(a)}},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=new rf(a);this.content=this.contentLoaderInfo.content;this.addChild(this.contentLoaderInfo.content);a=new J("complete");
a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},BitmapData_onError:function(a){a=new xd("ioError");a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:Ue});var Rc=function(){F.call(this);if(!this.__initialized){this.__canvas=window.document.createElement("canvas");this.__canvas.width=ja.current.stage.stageWidth;this.__canvas.height=ja.current.stage.stageHeight;var a=
ja.current.stage.window,a={alpha:Object.prototype.hasOwnProperty.call(a.config,"background")&&null==a.config.background?!0:!1,antialias:Object.prototype.hasOwnProperty.call(a.config,"antialiasing")?0<a.config.antialiasing:!1,depth:Object.prototype.hasOwnProperty.call(a.config,"depthBuffer")?a.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(a.config,"stencilBuffer")?a.config.stencilBuffer:!1,preserveDrawingBuffer:!1};this.__context=oe.getContextWebGL(this.__canvas,
a);m.context=this.__context;this.__initialized=!0}};g["openfl.display.OpenGLView"]=Rc;Rc.__name__=["openfl","display","OpenGLView"];Rc.__properties__={get_isSupported:"get_isSupported"};Rc.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=m.context)return!0;var a=window.document.createElement("canvas"),b=a.getContext("webgl");null==b&&(b=a.getContext("experimental-webgl"));return null!=b};Rc.__super__=Wc;Rc.prototype=n(Wc.prototype,{__added:null,__initialized:null,__renderCanvas:function(a){},
__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable?(this.__added||(a.element.appendChild(this.__canvas),this.__added=!0,Kb.initializeElement(this,this.__canvas,a)),null!=this.__context&&(a=null,a=null==this.__scrollRect?new Ea(0,0,this.stage.stageWidth,this.stage.stageHeight):new Ea(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height),null!=this.__render&&this.__render(a))):this.__added&&(a.element.removeChild(this.__canvas),
this.__added=!1)},__renderGL:function(a){if(null!=this.stage&&this.__renderable){var b=null,b=null==this.__scrollRect?new Ea(0,0,this.stage.stageWidth,this.stage.stageHeight):new Ea(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height);a.shaderManager.setShader(null);a.blendModeManager.setBlendMode(null);null!=this.__render&&this.__render(b)}},set_width:function(a){Wc.prototype.set_width.call(this,a);this.__canvas.width=a|0;return a},set_height:function(a){Wc.prototype.set_height.call(this,
a);this.__canvas.height=a|0;return a},__class__:Rc});var Xd=function(a){za.call(this);this.display=a};g["openfl.display.Preloader"]=Xd;Xd.__name__=["openfl","display","Preloader"];Xd.__super__=za;Xd.prototype=n(za.prototype,{display:null,displayHasInit:null,displayHasLoaded:null,displayHasUpdate:null,init:function(){if(!this.complete&&null!=this.display){for(var a=qb.getClass(this.display),a=qb.getInstanceFields(a),b=0;b<a.length;){var c=a[b];++b;"onInit"==c&&(this.displayHasInit=!0);"onUpdate"==
c&&(this.displayHasUpdate=!0);"onLoaded"==c&&(this.displayHasLoaded=!0)}K.__instanceof(this.display,F)&&ja.current.addChild(this.display);this.displayHasInit&&S.callMethod(this.display,S.field(this.display,"onInit"),[])}},load:function(a,b){0<a.length&&this.init();za.prototype.load.call(this,a,b)},start:function(){this.displayHasLoaded?(K.__instanceof(this.display,$c)&&this.display.addEventListener("complete",k(this,this.display_onComplete)),S.callMethod(this.display,S.field(this.display,"onLoaded"),
[]),null==this.display||K.__instanceof(this.display,$c)||this.display_onComplete(null)):null!=this.display?this.display_onComplete(null):za.prototype.start.call(this)},update:function(a,b){this.displayHasUpdate&&S.callMethod(this.display,S.field(this.display,"onUpdate"),[a,b])},display_onComplete:function(a){null!=this.display&&K.__instanceof(this.display,$c)&&this.display.removeEventListener("complete",k(this,this.display_onComplete));K.__instanceof(this.display,F)&&this.display.parent==ja.current&&
ja.current.removeChild(this.display);ja.current.stage.set_focus(null);this.display=null;za.prototype.start.call(this)},__class__:Xd});var Ad=function(){Ab.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new Ab;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);
this.progress=new Ab;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);this.addChild(this.progress);this.startAnimation=ja.getTimer()+100;this.endAnimation=this.startAnimation+1E3};g["openfl.display.DefaultPreloader"]=Ad;Ad.__name__=["openfl","display","DefaultPreloader"];Ad.__interfaces__=[zh];Ad.__super__=Ab;Ad.prototype=n(Ab.prototype,{endAnimation:null,
outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return ja.current.stage.window.config.background},getHeight:function(){var a=ja.current.stage.window.config.height;return 0<a?a:ja.current.stage.stageHeight},getWidth:function(){var a=ja.current.stage.window.config.width;return 0<a?a:ja.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",k(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",k(this,this.this_onEnterFrame));
this.dispatchEvent(new J("complete"))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},this_onEnterFrame:function(a){a=(ja.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);this.progress.set_alpha(a)},__class__:Ad});var Dg=function(a){this.__data=new sf(null);null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0};g["openfl.display.Shader"]=Dg;Dg.__name__=["openfl","display",
"Shader"];Dg.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=null);for(var a=0,b=this.__paramBool;a<
b.length;){var c=b[a];++a;this.gl.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.bindTexture(this.gl.TEXTURE_2D,null)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=
c[b];++b;this.gl.uniform1i(d.index,a);a++}},__init:function(){null==this.__data&&(this.__data=new sf(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new R,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new Float32Array(4),this.__uniformMatrix3=
new Float32Array(9),this.__uniformMatrix4=new Float32Array(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform");if(null!=this.gl&&null==this.glProgram){var a;a="#ifdef GL_ES\n\t\t\t\tprecision "+(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=Hd.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){a=
0;for(var b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,
c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.__isUniform.get(c.name)?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d="uniform"==b?new Bb("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new Bb("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(na.startsWith(e,"sampler"))e=
new Hg,e.name=c,this.__inputBitmapData.push(e),S.setField(this.get_data(),c,e);else{switch(e){case "bool":e=0;break;case "double":case "float":e=4;break;case "int":case "uint":e=8;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "ivec2":case "uvec2":e=9;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "vec2":case "dvec2":e=5;break;case "vec3":case "dvec3":e=6;break;case "vec4":case "dvec4":e=7;break;case "mat2":case "mat2x2":e=12;
break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;case "mat3x4":e=17;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "mat4":case "mat4x4":e=20;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new Sd;f.name=c;f.type=e;this.__paramBool.push(f);S.setField(this.get_data(),c,f);break;case 8:case 9:case 10:case 11:f=new Sd;f.name=c;f.type=e;this.__paramInt.push(f);S.setField(this.get_data(),c,f);break;default:f=
new Sd,f.name=c,f.type=e,this.__paramFloat.push(f),S.setField(this.get_data(),c,f)}}this.__isUniform.set(c,"uniform"==b);c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;null!=d.input&&(this.gl.activeTexture(this.gl.TEXTURE0+a),this.gl.bindTexture(this.gl.TEXTURE_2D,d.input.getTexture(this.gl)),d.smoothing?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,
this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)));a++}b=a=0;for(c=this.__paramBool;b<c.length;){d=c[b];++b;var e=d.value,a=d.index;if(null!=e)switch(d.type){case 0:this.gl.uniform1i(a,e[0]?1:0);break;case 1:this.gl.uniform2i(a,e[0]?1:0,e[1]?1:0);break;case 2:this.gl.uniform3i(a,
e[0]?1:0,e[1]?1:0,e[2]?1:0);break;case 3:this.gl.uniform4i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0,e[3]?1:0)}else this.__isUniform.get(d.name)||this.gl.enableVertexAttribArray(d.index)}b=0;for(c=this.__paramFloat;b<c.length;)if(e=c[b],++b,d=e.value,a=e.index,null!=d)switch(e.type){case 4:this.gl.uniform1f(a,d[0]);break;case 5:this.gl.uniform2f(a,d[0],d[1]);break;case 6:this.gl.uniform3f(a,d[0],d[1],d[2]);break;case 7:this.gl.uniform4f(a,d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;){var f=e++;this.__uniformMatrix2[f]=
d[f]}this.gl.uniformMatrix2fv(a,!1,this.__uniformMatrix2);break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];this.gl.uniformMatrix3fv(a,!1,this.__uniformMatrix3);break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];this.gl.uniformMatrix4fv(a,!1,this.__uniformMatrix4)}else this.__isUniform.get(e.name)||this.gl.enableVertexAttribArray(e.index);b=0;for(c=this.__paramInt;b<c.length;)if(d=c[b],++b,e=d.value,null!=e)switch(d.type){case 8:this.gl.uniform1i(a,e[0]);break;case 9:this.gl.uniform2i(a,
e[0],e[1]);break;case 10:this.gl.uniform3i(a,e[0],e[1],e[2]);break;case 11:this.gl.uniform4i(a,e[0],e[1],e[2],e[3])}else this.__isUniform.get(d.name)||this.gl.enableVertexAttribArray(d.index)},get_data:function(){(this.__glSourceDirty||null==this.__data)&&this.__init();return this.__data},get_glFragmentSource:function(){return this.__glFragmentSource},get_glVertexSource:function(){return this.__glVertexSource},__class__:Dg,__properties__:{get_glVertexSource:"get_glVertexSource",get_glFragmentSource:"get_glFragmentSource",
get_data:"get_data"}};var sf=function(a){};g["openfl.display.ShaderData"]=sf;sf.__name__=["openfl","display","ShaderData"];sf.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:sf};var Hg=function(){this.width=this.index=this.height=this.channels=0};g["openfl.display.ShaderInput"]=Hg;Hg.__name__=["openfl","display","ShaderInput"];Hg.prototype={channels:null,height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:Hg};var Sd=function(){this.index=
0};g["openfl.display.ShaderParameter"]=Sd;Sd.__name__=["openfl","display","ShaderParameter"];Sd.prototype={index:null,name:null,type:null,value:null,__class__:Sd};var Td=function(a,b){$a.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new ka;this.stage3Ds=
gc.toObjectVector(null);var c=new tf;this.stage3Ds.push(c);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];null==ja.current.stage&&this.stage.addChild(ja.current)};g["openfl.display.Stage"]=Td;
Td.__name__=["openfl","display","Stage"];Td.__interfaces__=[pe];Td.__super__=$a;Td.prototype=n($a.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,
__dragOffsetY:null,__focus:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,__stack:null,__transparent:null,__wasDirty:null,addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(k(this,this.render),a));a.onContextLost.add(function(a,
c){return function(){a(c)}}(k(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onRenderContextRestored),a))},addWindow:function(a){if(this.window==a&&(a.onActivate.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowActivate),a)),a.onClose.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowClose),a)),a.onCreate.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowCreate),a)),a.onDeactivate.add(function(a,
c){return function(){a(c)}}(k(this,this.onWindowDeactivate),a)),a.onDropFile.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onWindowDropFile),a)),a.onEnter.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowEnter),a)),a.onFocusIn.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFocusIn),a)),a.onFocusOut.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFocusOut),a)),a.onFullscreen.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowFullscreen),
a)),a.onKeyDown.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onKeyDown),a)),a.onKeyUp.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onKeyUp),a)),a.onLeave.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowLeave),a)),a.onMinimize.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowMinimize),a)),a.onMouseDown.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onMouseDown),a)),a.onMouseMove.add(function(a,c){return function(d,e){a(c,
d,e)}}(k(this,this.onMouseMove),a)),a.onMouseMoveRelative.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onMouseMoveRelative),a)),a.onMouseUp.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onMouseUp),a)),a.onMouseWheel.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onMouseWheel),a)),a.onMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onWindowMove),a)),a.onResize.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onWindowResize),
a)),a.onRestore.add(function(a,c){return function(){a(c)}}(k(this,this.onWindowRestore),a)),a.onTextEdit.add(function(a,c){return function(d,e,f){a(c,d,e,f)}}(k(this,this.onTextEdit),a)),a.onTextInput.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onTextInput),a)),-1<a.id))this.onWindowCreate(a)},registerModule:function(a){a.onExit.add(k(this,this.onModuleExit),!1,0);a.onUpdate.add(k(this,this.update));for(a=Sa.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}Sa.onConnect.add(k(this,
this.__onGamepadConnect));sb.onStart.add(k(this,this.onTouchStart));sb.onMove.add(k(this,this.onTouchMove));sb.onEnd.add(k(this,this.onTouchEnd))},setPreloader:function(a){},globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){aa.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){aa.__onGamepadButtonDown(a,b)},onGamepadButtonUp:function(a,b){aa.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){aa.__onGamepadConnect(a)},onGamepadDisconnect:function(a){aa.__onGamepadDisconnect(a)},
onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyDown",b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyUp",b,c)},onModuleExit:function(a){null!=this.window&&this.__broadcastEvent(new J("deactivate"))},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseMove:function(a,
b,c){null!=this.window&&this.window==a&&this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)},onRenderContextLost:function(a){},onRenderContextRestored:function(a,
b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Xc("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__dispatchEvent(d)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__primaryTouch==a&&(this.__primaryTouch=null);this.__onTouch("touchEnd",a)},onTouchStart:function(a){null==this.__primaryTouch&&
(this.__primaryTouch=a);this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&this.window==a&&this.__broadcastEvent(new J("activate"))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 0:this.__renderer=new pf(this,a[2]);break;case 1:this.__renderer=new hf(this,a[2]);break;case 2:this.__renderer=new Kb(this,a[2])}},onWindowDeactivate:function(a){null!=
this.window&&this.window==a&&(this.__primaryTouch=null,this.__broadcastEvent(new J("deactivate")))},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&this.set_focus(this.__cacheFocus)},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=this.get_focus(),this.set_focus(null),this.__cacheFocus=a)},onWindowFullscreen:function(a){null!=this.window&&this.window==a&&(this.__resize(),2==this.__displayState&&(this.__displayState=
1,this.__dispatchEvent(new Zc("fullScreen",!1,!1,!1,!0))))},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new J("mouseLeave"))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new Zc("fullScreen",!1,!1,!0,!0))))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==
this.window&&(null!=this.application&&0<this.application.__windows.length&&(this.__transformDirty||(this.__transformDirty=!0,F.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,F.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;null!=this.__renderer&&this.__renderer.clear();this.__broadcastEvent(new J("enterFrame"));this.__broadcastEvent(new J("exitFrame"));this.__invalidated&&(this.__invalidated=!1,this.__broadcastEvent(new J("render")));this.__renderable=!0;this.__enterFrame(this.__deltaTime);
this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){if(a.type==ua.CAIRO)switch(a=a.context,a[1]){case 4:a=a[2],K.__cast(this.__renderer,ff).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render()}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){if(F.__broadcastEvents.exists(a.type))for(var b=F.__broadcastEvents.get(a.type),c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__drag:function(a){var b=this.__dragObject.parent;null!=
b&&b.__getWorldTransform().__transformInversePoint(a);b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c,d=b.length;if(0==d)a.eventPhase=2,c=a.target,c.__dispatch(a);
else{a.eventPhase=1;a.target=b[b.length-1];c=0;for(var e=d-1;c<e;){var f=c++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;c=a.target;c.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,d-=2;0<=d;){b[d].__dispatch(a);if(a.__isCanceled)break;d--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,b,c){Ha.__altKey=hb.get_altKey(c);Ha.__commandKey=hb.get_metaKey(c);Ha.__ctrlKey=hb.get_ctrlKey(c);Ha.__shiftKey=hb.get_shiftKey(c);var d=[];null==
this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=lh.__getCharCode(b,hb.get_shiftKey(c));c=new uf(a,!0,!1,f,b,e,this.__macKeyboard?hb.get_ctrlKey(c)||hb.get_metaKey(c):
hb.get_ctrlKey(c),hb.get_altKey(c),hb.get_shiftKey(c),hb.get_ctrlKey(c),hb.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__isCanceled&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(k(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(k(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,
d)}}(k(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(k(this,this.onGamepadDisconnect),a))},__onMouse:function(a,b,c,d){if(!(2<d)){b=new lb(b,c);this.__displayMatrix.__transformInversePoint(b);this.__mouseX=b.x;this.__mouseY=b.y;c=[];var e=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?e=c[c.length-1]:(e=this,c=[this]);null==e&&(e=this);var f=null;switch(a){case "mouseDown":e.get_tabEnabled()?this.set_focus(e):this.set_focus(null);this.__mouseDownLeft=
e;break;case "middleMouseDown":this.__mouseDownMiddle=e;break;case "rightMouseDown":this.__mouseDownRight=e;break;case "mouseUp":this.__mouseDownLeft==e&&(f="click");this.__mouseDownLeft=null;break;case "middleMouseUp":this.__mouseDownMiddle==e&&(f="middleClick");this.__mouseDownMiddle=null;break;case "rightMouseUp":this.__mouseDownRight==e&&(f="rightClick"),this.__mouseDownRight=null}this.__fireEvent(Ha.__create(a,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c);null!=f&&(this.__fireEvent(Ha.__create(f,
d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),"mouseUp"==a&&K.__cast(e,kb).doubleClickEnabled&&(a=ja.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(Ha.__create("doubleClick",d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==mh.__cursor){f=null;if(null!=this.__mouseDownLeft)f=this.__mouseDownLeft.__getCursor();else for(a=0;a<c.length;)if(f=c[a],++a,f=f.__getCursor(),null!=f){ye.set_cursor(f);break}null==
f&&ye.set_cursor(P.ARROW)}e!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=this.__mouseOverTarget==this?b:this.__mouseOverTarget.globalToLocal(b),a=Ha.__create("mouseOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));for(var f=0,g=this.__rollOutStack;f<g.length;){var h=g[f];++f;-1==q.indexOf(c,h,0)&&(q.remove(this.__rollOutStack,h),a=this.__mouseOverTarget.globalToLocal(b),a=Ha.__create("rollOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),
a.bubbles=!1,h.__dispatchEvent(a))}for(f=0;f<c.length;)g=c[f],++f,-1==q.indexOf(this.__rollOutStack,g,0)&&(g.hasEventListener("rollOver")&&(a=g.globalToLocal(b),a=Ha.__create("rollOver",d,this.__mouseX,this.__mouseY,a,g),a.bubbles=!1,g.__dispatchEvent(a)),g.hasEventListener("rollOut")&&this.__rollOutStack.push(g));e!=this.__mouseOverTarget&&(null!=e&&(a=e==this?b:e.globalToLocal(b),a=Ha.__create("mouseOver",d,this.__mouseX,this.__mouseY,a,e),a.bubbles=!0,e.__dispatchEvent(a)),this.__mouseOverTarget=
e);null!=this.__dragObject&&this.__drag(b)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);c=new lb(c,d);this.__displayMatrix.__transformInversePoint(c);d=b|0;this.__fireEvent(Ha.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new lb(Math.round(b.x*this.window.__width),Math.round(b.y*this.window.__height));
this.__displayMatrix.__transformInversePoint(c);var d=c.x,e=c.y,f=[];if(this.__hitTest(d,e,!1,f,!0,this)){var g=f[f.length-1];null==g&&(g=this);c=g.globalToLocal(c);d=xc.__create(a,null,d,e,c,g);d.touchPointID=b.id;d.isPrimaryTouchPoint=this.__primaryTouch==b;this.__fireEvent(d,f)}else f=xc.__create(a,null,d,e,c,this),f.touchPointID=b.id,f.isPrimaryTouchPoint=this.__primaryTouch==b,this.__fireEvent(f,[this.stage])},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*
this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=this.window.__width;this.__logicalHeight=this.window.__height;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*e)/2),g=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,
e);this.__displayMatrix.translate(f,g)}e=0;for(f=this.stage3Ds;e<f.get_length();)g=f.get(e),++e,g.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new J("resize"))},__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__update:function(a,b,c){a?0<F.__worldTransformDirty&&($a.prototype.__update.call(this,!0,b,c),b&&(F.__worldTransformDirty=0,this.__dirty=
!0)):0<F.__worldTransformDirty||this.__dirty||0<F.__worldRenderDirty?($a.prototype.__update.call(this,!1,b,c),b&&(this.__wasDirty=!0,F.__worldTransformDirty=0,F.__worldRenderDirty=0,this.__dirty=!1)):this.__wasDirty&&($a.prototype.__update.call(this,!1,b,c),b&&(this.__wasDirty=!1))},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+na.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=
this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new Ud("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__fireEvent(c,d)}null!=this.__focus&&(b=new Ud("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__fireEvent(b,c))}return this.__focus},__class__:Td,__properties__:n($a.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var tf=function(){ba.call(this);this.set_x(0);this.set_y(0);
this.visible=!0};g["openfl.display.Stage3D"]=tf;tf.__name__=["openfl","display","Stage3D"];tf.__super__=ba;tf.prototype=n(ba.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__canvas:null,__style:null,__webgl:null,__dispatchError:function(){this.dispatchEvent(new ic("error",!1,!1,"Context3D not available"))},__renderCairo:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderCanvas:function(a,b){this.visible&&
this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderDOM:function(a,b){if(this.visible){if(this.__contextRequested){if(null==this.context3D){this.__canvas=window.document.createElement("canvas");this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;var c=a.window,c={alpha:Object.prototype.hasOwnProperty.call(c.config,"background")&&null==c.config.background?!0:!1,antialias:Object.prototype.hasOwnProperty.call(c.config,"antialiasing")?0<c.config.antialiasing:
!1,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?c.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")?c.config.stencilBuffer:!1,preserveDrawingBuffer:!1};this.__webgl=oe.getContextWebGL(this.__canvas,c);null!=this.__webgl?(m.context=this.__webgl,this.context3D=new Rb(this,b),b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top",
"0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.dispatchEvent(new J("context3DCreate"))):this.__dispatchError()}this.__contextRequested=!1}null!=this.context3D&&(m.context=this.__webgl,this.__resetContext3DStates())}},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&(null==this.context3D&&(this.context3D=new Rb(this,b),this.dispatchEvent(new J("context3DCreate"))),
this.__contextRequested=!1),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&this.context3D.__program.__use()))))},__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){this.x=
a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:tf,__properties__:{set_y:"set_y",set_x:"set_x"}});var qf=function(a){kd.call(this,a)};g["openfl.display.Window"]=qf;qf.__name__=["openfl","display","Window"];qf.__super__=kd;qf.prototype=n(kd.prototype,{create:function(a){kd.prototype.create.call(this,a);this.stage=new Td(this,Object.prototype.hasOwnProperty.call(this.config,
"background")?this.config.background:16777215);Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:qf});var Rb=function(a,b){this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;ba.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=new Float32Array(512);this.__fragmentConstants=new Float32Array(512);var c=
[1,1,1,1];this.__positionScale=null!=c?new Float32Array(c):null;this.__samplerDirty=0;this.__samplerTextures=gc.toObjectVector(null,8);this.__samplerStates=[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new Fg(9729,9729,33071,33071)}this.maxBackBufferHeight=this.maxBackBufferWidth=m.context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;this.__rttDepthAndStencil=!1;this.__stencilRef=this.__stencilCompareMode=
this.__samplerDirty=0;this.__stencilReadMask=255;this.__supportsPackedDepthStencil=!0;this.__stats=gc.toIntVector(null,11);this.__statsCache=gc.toIntVector(null,11);Gb.CheckGLError();c=m.context.getParameter(7936);Gb.CheckGLError();d=m.context.getParameter(7938);Gb.CheckGLError();var e=m.context.getParameter(7937);Gb.CheckGLError();var f=m.context.getParameter(35724);Gb.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+f;c=0;for(d=this.__stats.get_length();c<
d;)e=c++,this.__stats.set(e,0);Rb.__stateCache.clearSettings()};g["openfl.display3D.Context3D"]=Rb;Rb.__name__=["openfl","display3D","Context3D"];Rb.__super__=ba;Rb.prototype=n(ba.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,maxBackBufferHeight:null,maxBackBufferWidth:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__fragmentConstants:null,__frameCount:null,__positionScale:null,__program:null,__renderSession:null,
__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__stage3D:null,__stats:null,__statsCache:null,__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__supportsPackedDepthStencil:null,__vertexConstants:null,__setViewport:function(a,b,c,d){Rb.__stateCache.updateViewport(a,b,c,d)&&(m.context.viewport(a,b,c,d),Gb.CheckGLError())},__updateBlendFactors:function(){if(null!=Rb.__stateCache._srcBlendFactor&&null!=Rb.__stateCache._destBlendFactor){var a=
1,b=0;switch(Rb.__stateCache._srcBlendFactor){case 2:a=1;break;case 9:a=0;break;case 7:a=770;break;case 0:a=772;break;case 1:a=774;break;case 5:a=771;break;case 3:a=773;break;case 4:a=775;break;default:throw new C(new Hc);}switch(Rb.__stateCache._destBlendFactor){case 2:b=1;break;case 9:b=0;break;case 7:b=770;break;case 8:b=768;break;case 0:b=772;break;case 5:b=771;break;case 6:b=769;break;case 3:b=773;break;default:throw new C(new Hc);}m.context.enable(3042);Gb.CheckGLError();m.context.blendFunc(a,
b);Gb.CheckGLError()}},__updateBackbufferViewport:function(){null==this.__renderToTexture&&this.__setViewport(this.__stage3D.x|0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},__class__:Rb});var nh=function(){};g["openfl.display3D.Program3D"]=nh;nh.__name__=["openfl","display3D","Program3D"];nh.prototype={__alphaSamplerUniforms:null,__fragmentUniformMap:null,__programID:null,__samplerUniforms:null,__vertexUniformMap:null,__use:function(){m.useProgram(this.__programID);Gb.CheckGLError();
this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();for(var a=this.__samplerUniforms.h,b=null;null!=a;)if(b=a[0],a=a[1],1==b.regCount)m.context.uniform1i(b.location,b.regIndex),Gb.CheckGLError();else throw new C(new Hc("!!! TODO: uniform location on webgl"));a=this.__alphaSamplerUniforms.h;for(b=null;null!=a;)if(b=a[0],a=a[1],1==b.regCount)m.context.uniform1i(b.location,b.regIndex),Gb.CheckGLError();else throw new C(new Hc("!!! TODO: uniform location on webgl"));},__class__:nh};
var oh=function(){};g["openfl.display3D._Program3D.Uniform"]=oh;oh.__name__=["openfl","display3D","_Program3D","Uniform"];oh.prototype={location:null,regIndex:null,regCount:null,__class__:oh};var ph=function(){};g["openfl.display3D._Program3D.UniformMap"]=ph;ph.__name__=["openfl","display3D","_Program3D","UniformMap"];ph.prototype={__allDirty:null,__anyDirty:null,markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},__class__:ph};var Ig=function(){};g["openfl.display3D.textures.TextureBase"]=
Ig;Ig.__name__=["openfl","display3D","textures","TextureBase"];Ig.__super__=ba;Ig.prototype=n(ba.prototype,{__class__:Ig});var Ic=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};g["openfl.errors.Error"]=Ic;Ic.__name__=["openfl","errors","Error"];Ic.prototype={errorID:null,message:null,name:null,toString:function(){return null!=this.message?this.message:"Error"},__class__:Ic};var yd=function(a){null==a&&(a="");Ic.call(this,a);this.name="IOError"};g["openfl.errors.IOError"]=
yd;yd.__name__=["openfl","errors","IOError"];yd.__super__=Ic;yd.prototype=n(Ic.prototype,{__class__:yd});var Yc=function(){yd.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};g["openfl.errors.EOFError"]=Yc;Yc.__name__=["openfl","errors","EOFError"];Yc.__super__=yd;Yc.prototype=n(yd.prototype,{__class__:Yc});var Hc=function(a){null==a&&(a="");Ic.call(this,a,0);this.name="IllegalOperationError"};g["openfl.errors.IllegalOperationError"]=Hc;Hc.__name__=["openfl","errors",
"IllegalOperationError"];Hc.__super__=Ic;Hc.prototype=n(Ic.prototype,{__class__:Hc});var J=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};g["openfl.events.Event"]=J;J.__name__=["openfl","events","Event"];J.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=
!0},__class__:J};var zd=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.activating=d};g["openfl.events.ActivityEvent"]=zd;zd.__name__=["openfl","events","ActivityEvent"];zd.__super__=J;zd.prototype=n(J.prototype,{activating:null,__class__:zd});var Xc=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.text=d};g["openfl.events.TextEvent"]=Xc;Xc.__name__=["openfl","events","TextEvent"];Xc.__super__=J;Xc.prototype=n(J.prototype,
{text:null,__class__:Xc});var ic=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Xc.call(this,a,b,c,d);this.errorID=e};g["openfl.events.ErrorEvent"]=ic;ic.__name__=["openfl","events","ErrorEvent"];ic.__super__=Xc;ic.prototype=n(Xc.prototype,{errorID:null,__class__:ic});var ae=function(a){this.list=a;this.index=a.length};g["openfl.events._EventDispatcher.DispatchIterator"]=ae;ae.__name__=["openfl","events","_EventDispatcher","DispatchIterator"];ae.prototype={active:null,
index:null,isCopy:null,list:null,copy:function(){this.index<this.list.length&&!this.isCopy&&(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy)for(var c=this.index,d=this.list.length;c<d;){var e=c++;if(this.list[e]==a){this.list.splice(e,1);break}}else b<=this.index&&this.index--},reset:function(a){this.list=a;this.active=!0;this.index=
0},__class__:ae};var $d=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};g["openfl.events._EventDispatcher.Listener"]=$d;$d.__name__=["openfl","events","_EventDispatcher","Listener"];$d.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return S.compareMethods(this.callback,a)&&this.useCapture==b},__class__:$d};var Ud=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=
d};g["openfl.events.FocusEvent"]=Ud;Ud.__name__=["openfl","events","FocusEvent"];Ud.__super__=J;Ud.prototype=n(J.prototype,{keyCode:null,relatedObject:null,shiftKey:null,__class__:Ud});var Zc=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);zd.call(this,a,b,c);this.fullScreen=d;this.interactive=e};g["openfl.events.FullScreenEvent"]=Zc;Zc.__name__=["openfl","events","FullScreenEvent"];Zc.__super__=zd;Zc.prototype=n(zd.prototype,{fullScreen:null,interactive:null,__class__:Zc});
var Vd=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.device=d};g["openfl.events.GameInputEvent"]=Vd;Vd.__name__=["openfl","events","GameInputEvent"];Vd.__super__=J;Vd.prototype=n(J.prototype,{device:null,__class__:Vd});var vf=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;J.call(this,a,b,c)};g["openfl.events.HTTPStatusEvent"]=vf;vf.__name__=["openfl","events","HTTPStatusEvent"];vf.__super__=J;vf.prototype=
n(J.prototype,{redirected:null,status:null,__class__:vf});var xd=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);ic.call(this,a,b,c,d,e)};g["openfl.events.IOErrorEvent"]=xd;xd.__name__=["openfl","events","IOErrorEvent"];xd.__super__=ic;xd.prototype=n(ic.prototype,{__class__:xd});var uf=function(a,b,c,d,e,f,g,h,k,l,m){null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);J.call(this,
a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=h;this.shiftKey=k;this.controlKey=l;this.commandKey=m};g["openfl.events.KeyboardEvent"]=uf;uf.__name__=["openfl","events","KeyboardEvent"];uf.__super__=J;uf.prototype=n(J.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,__class__:uf});var Ha=function(a,b,c,d,e,f,g,h,k,l,m,n,p){null==p&&(p=0);null==n&&(n=!1);null==m&&(m=0);null==
l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.shiftKey=k;this.altKey=h;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=m;this.localX=d;this.localY=e;this.buttonDown=l;this.commandKey=n;this.clickCount=p;this.stageY=this.stageX=NaN};g["openfl.events.MouseEvent"]=Ha;Ha.__name__=["openfl","events","MouseEvent"];Ha.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":Ha.__buttonDown=
!0;break;case "mouseUp":Ha.__buttonDown=!1}a=new Ha(a,!0,!1,e.x,e.y,null,Ha.__ctrlKey,Ha.__altKey,Ha.__shiftKey,Ha.__buttonDown,g,Ha.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};Ha.__super__=J;Ha.prototype=n(J.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,__class__:Ha});var wf=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);
J.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};g["openfl.events.ProgressEvent"]=wf;wf.__name__=["openfl","events","ProgressEvent"];wf.__super__=J;wf.prototype=n(J.prototype,{bytesLoaded:null,bytesTotal:null,__class__:wf});var xf=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);ic.call(this,a,b,c,d,e)};g["openfl.events.SecurityErrorEvent"]=xf;xf.__name__=["openfl","events","SecurityErrorEvent"];xf.__super__=ic;xf.prototype=n(ic.prototype,{__class__:xf});
var xc=function(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x){null==t&&(t=!1);null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==n&&(n=!1);null==l&&(l=0);null==k&&(k=0);null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=h;this.sizeY=k;this.pressure=l;this.relatedObject=m;this.ctrlKey=n;this.altKey=p;this.shiftKey=q;this.commandKey=r;this.controlKey=
t;this.stageY=this.stageX=NaN};g["openfl.events.TouchEvent"]=xc;xc.__name__=["openfl","events","TouchEvent"];xc.__create=function(a,b,c,d,e,f){a=new xc(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};xc.__super__=J;xc.prototype=n(J.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,__class__:xc});var qh=
function(){};g["openfl.filters.BitmapFilter"]=qh;qh.__name__=["openfl","filters","BitmapFilter"];qh.prototype={__initShader:function(a){return a.shaderManager.defaultShader},__class__:qh};var rh=function(){};g["openfl.geom.Matrix3D"]=rh;rh.__name__=["openfl","geom","Matrix3D"];rh.prototype={__class__:rh};var lb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["openfl.geom.Point"]=lb;lb.__name__=["openfl","geom","Point"];lb.prototype={x:null,y:null,clone:function(){return new lb(this.x,
this.y)},setTo:function(a,b){this.x=a;this.y=b},__class__:lb};var Ea=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};g["openfl.geom.Rectangle"]=Ea;Ea.__name__=["openfl","geom","Rectangle"];Ea.prototype={height:null,width:null,x:null,y:null,clone:function(){return new Ea(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,
a.y)},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,f=0,g=0,h=0;this.x<a&&(e=a-this.x);this.y<b&&(f=b-this.y);this.get_right()>a+c&&(g=a+c-this.get_right());this.get_bottom()>b+d&&(h=b+d-this.get_bottom());this.x+=e;this.y+=f;this.width+=g-e;this.height+=h-f}},__expand:function(a,b,c,d){if(0==this.width&&
0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,g=b.a*(this.x+this.width)+b.c*this.y,h=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);
h=b.b*(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*this.x+b.c*(this.y+this.height);h=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:Ea,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};var zf=function(a){this.__colorTransform=new Kc;this.concatenatedColorTransform=new Kc;
this.pixelBounds=new Ea;this.__displayObject=a;this.__hasMatrix=!0};g["openfl.geom.Transform"]=zf;zf.__name__=["openfl","geom","Transform"];zf.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,get_colorTransform:function(){return this.__colorTransform},__class__:zf,__properties__:{get_colorTransform:"get_colorTransform"}};var sh=function(){};g["openfl.geom.Vector3D"]=sh;sh.__name__=["openfl","geom","Vector3D"];sh.prototype={__class__:sh};
var Hh=function(){};g["openfl.media.ID3Info"]=Hh;Hh.__name__=["openfl","media","ID3Info"];var Fc=function(a,b){ba.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};g["openfl.media.Sound"]=Fc;Fc.__name__=["openfl","media","Sound"];Fc.fromAudioBuffer=function(a){var b=new Fc;b.__buffer=a;return b};Fc.__super__=ba;Fc.prototype=n(ba.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,load:function(a,b){var c=this;
this.url=a.url;if(za.audioBuffers.exists(this.url))this.AudioBuffer_onURLLoad(za.audioBuffers.get(this.url));else Db.loadFromFile(this.url).onComplete(k(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);c=null==c?new Uc:c.clone();var d=Lb.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=Lb.__soundTransform.volume*c.volume,f=new hg(this.__buffer);f.offset=a|0;1<b&&f.set_loops(b-1);f.set_gain(e);a=f.get_position();
a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));f.set_position(a);return new yf(f,c)},get_length:function(){return null!=this.__buffer?Ca["int"](1E3*this.__buffer.get_src().duration()):0},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new xd("ioError")):(this.__buffer=a,this.dispatchEvent(new J("complete")))},__class__:Fc,__properties__:{get_length:"get_length"}});var yf=function(a,b){ba.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new Uc;null!=a&&(this.__source=
a,this.__source.onComplete.add(k(this,this.source_onComplete)),this.__isValid=!0,this.__source.play());Lb.__registerSoundChannel(this)};g["openfl.media.SoundChannel"]=yf;yf.__name__=["openfl","media","SoundChannel"];yf.__super__=ba;yf.prototype=n(ba.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){Lb.__unregisterSoundChannel(this);this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.dispose(),
this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;
var b=Lb.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=Lb.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){Lb.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new J("soundComplete"))},__class__:yf,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",
set_position:"set_position",get_position:"get_position"}});var Ih=function(){};g["openfl.media.SoundLoaderContext"]=Ih;Ih.__name__=["openfl","media","SoundLoaderContext"];var Uc=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};g["openfl.media.SoundTransform"]=Uc;Uc.__name__=["openfl","media","SoundTransform"];Uc.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,
clone:function(){return new Uc(this.volume,this.pan)},__class__:Uc};var Lb=function(){};g["openfl.media.SoundMixer"]=Lb;Lb.__name__=["openfl","media","SoundMixer"];Lb.__registerSoundChannel=function(a){Lb.__soundChannels.push(a)};Lb.__unregisterSoundChannel=function(a){q.remove(Lb.__soundChannels,a)};var Te=function(a){ba.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(1);null!=a&&this.load(a)};g["openfl.net.URLLoader"]=Te;Te.__name__=["openfl","net","URLLoader"];Te.__super__=ba;
Te.prototype=n(ba.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",k(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){d instanceof C&&(d=d.val),c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);
if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");else if(12029==c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);
var f="";if(K.__instanceof(c,ob))switch(this.dataFormat){case 0:f=K.__cast(c,Of);break;default:f=c.readUTFBytes(c.length)}else if(K.__instanceof(c,Ah))for(var g=0,h=S.fields(c);g<h.length;){var k=h[g];++g;0!=f.length&&(f+="&");f+=encodeURIComponent(k)+"="+na.urlEncode(S.field(c,k))}else null!=c&&(f=c.toString());try{if("GET"==b&&null!=f&&""!=f){var l=1>=a.split("?").length;e.open(b,a+(l?"?":"&")+Ca.string(f),!0);f=""}else e.open(b,a,!0)}catch(m){m instanceof C&&(m=m.val);this.onError(m.toString());
return}switch(this.dataFormat){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);this.onOpen();this.getData=function(){return null!=e.response?e.response:e.responseText}},onData:function(a){a=this.getData();switch(this.dataFormat){case 0:this.data=Ua.fromArrayBuffer(a);break;default:this.data=Ca.string(a)}a=new J("complete");a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new xd("ioError");b.text=a;b.currentTarget=
this;this.dispatchEvent(b)},onOpen:function(){var a=new J("open");a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new wf("progress");b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new xf("securityError");b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new vf("httpStatus",!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){0!=a||S.hasField(window,
"ArrayBuffer")?this.dataFormat=a:this.dataFormat=1;return this.dataFormat},__class__:Te,__properties__:{set_dataFormat:"set_dataFormat"}});var yg=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=vd.toString(1);this.contentType=null};g["openfl.net.URLRequest"]=yg;yg.__name__=["openfl","net","URLRequest"];yg.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if(1==vd.fromString(this.method)||
null==this.data)return a;if("string"==typeof this.data||K.__instanceof(this.data,ob))a=a.slice(),a.push(new Jg("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:yg};var Jg=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};g["openfl.net.URLRequestHeader"]=Jg;Jg.__name__=["openfl","net","URLRequestHeader"];Jg.prototype={name:null,value:null,__class__:Jg};var vd={};g["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=
vd;vd.__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"];vd.fromString=function(a){switch(a){case "DELETE":return 0;case "GET":return 1;case "HEAD":return 2;case "OPTIONS":return 3;case "POST":return 4;case "PUT":return 5;default:return null}};vd.toString=function(a){switch(a){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var Ah=function(){};g["openfl.net.URLVariables"]=Ah;Ah.__name__=
["openfl","net","URLVariables"];var Jh=function(){};g["openfl.system.LoaderContext"]=Jh;Jh.__name__=["openfl","system","LoaderContext"];var Vc=function(a){bd.call(this,a)};g["openfl.text.Font"]=Vc;Vc.__name__=["openfl","text","Font"];Vc.__fromLimeFont=function(a){var b=new Vc;b.name=a.name;b.src=a.src;return b};Vc.__super__=bd;Vc.prototype=n(bd.prototype,{__class__:Vc});var Kh=function(){};g["openfl.text.TextFormat"]=Kh;Kh.__name__=["openfl","text","TextFormat"];var aa=function(){};g["openfl.ui.GameInput"]=
aa;aa.__name__=["openfl","ui","GameInput"];aa.__getDevice=function(a){if(null==a)return null;if(null==aa.__devices.h.__keys__[a.__id__]){var b=new Kg(a.get_guid(),a.get_name());aa.__deviceList.push(b);aa.__devices.set(a,b);aa.numDevices=aa.__deviceList.length}return aa.__devices.h[a.__id__]};aa.__onGamepadAxisMove=function(a,b,c){a=aa.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d=
"RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Jc(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new J("change"))}};aa.__onGamepadButtonDown=function(a,b){var c=aa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";
break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Jc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new J("change"))}};aa.__onGamepadButtonUp=function(a,b){var c=aa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Jc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=
0;c.dispatchEvent(new J("change"))}};aa.__onGamepadConnect=function(a){a=aa.__getDevice(a);if(null!=a)for(var b=0,c=aa.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Vd("deviceAdded",null,null,a))}};aa.__onGamepadDisconnect=function(a){var b=aa.__devices.h[a.__id__];if(null!=b){null!=aa.__devices.h.__keys__[a.__id__]&&(q.remove(aa.__deviceList,aa.__devices.h[a.__id__]),aa.__devices.remove(a));aa.numDevices=aa.__deviceList.length;a=0;for(var c=aa.__instances;a<c.length;){var d=c[a];++a;
d.dispatchEvent(new Vd("deviceRemoved",null,null,b))}}};aa.__super__=ba;aa.prototype=n(ba.prototype,{__class__:aa});var Jc=function(a,b,c,d,e){null==e&&(e=0);ba.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};g["openfl.ui.GameInputControl"]=Jc;Jc.__name__=["openfl","ui","GameInputControl"];Jc.__super__=ba;Jc.prototype=n(ba.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Jc});var Kg=function(a,b){this.__controls=[];this.__button=new Aa;
this.__axis=new Aa;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Jc(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new Jc(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};g["openfl.ui.GameInputDevice"]=Kg;Kg.__name__=["openfl","ui","GameInputDevice"];Kg.prototype={enabled:null,id:null,name:null,__axis:null,__button:null,__controls:null,__class__:Kg};var lh=function(){};g["openfl.ui.Keyboard"]=lh;lh.__name__=["openfl","ui","Keyboard"];
lh.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;
case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;
case 8:return 8}return 0};var mh=function(){};g["openfl.ui.Mouse"]=mh;mh.__name__=["openfl","ui","Mouse"];var wc=function(){};g["openfl.ui.Multitouch"]=wc;wc.__name__=["openfl","ui","Multitouch"];wc.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"};wc.get_supportsTouchEvents=function(){return"ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1};var Ua={};g["openfl.utils._ByteArray.ByteArray_Impl_"]=Ua;Ua.__name__=["openfl","utils",
"_ByteArray","ByteArray_Impl_"];Ua.__properties__={get_length:"get_length"};Ua.fromArrayBuffer=function(a){return null==a?null:ob.fromBytes(pa.ofData(a))};Ua.fromBytes=function(a){return null==a?null:K.__instanceof(a,ob)?a:ob.fromBytes(a)};Ua.toBytes=function(a){return a};Ua.get_length=function(a){return a.length};var Lg=function(){};g["openfl.utils.IDataOutput"]=Lg;Lg.__name__=["openfl","utils","IDataOutput"];Lg.prototype={__class__:Lg};var Mg=function(){};g["openfl.utils.IDataInput"]=Mg;Mg.__name__=
["openfl","utils","IDataInput"];Mg.prototype={__class__:Mg};var ob=function(a){null==a&&(a=0);var b=pa.alloc(a);pa.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};g["openfl.utils.ByteArrayData"]=ob;ob.__name__=["openfl","utils","ByteArrayData"];ob.__interfaces__=[Lg,Mg];ob.fromBytes=function(a){var b=new ob;b.__fromBytes(a);return b};ob.__super__=pa;ob.prototype=n(pa.prototype,{position:null,__endian:null,__length:null,readBoolean:function(){if(this.position<this.length)return 0!=
this.get(this.position++);throw new C(new Yc);},readByte:function(){var a=this.readUnsignedByte();return 0!=(a&128)?a-256:a},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==c&&(c=this.length-this.position);if(this.position+c>this.length)throw new C(new Yc);a.length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,c);this.position+=c},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<
24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedByte:function(){if(this.position<this.length)return this.get(this.position++);throw new C(new Yc);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();
return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new C(new Yc);this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=pa.alloc(b);c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=$g.decompress(this);break;case 1:a=ah.decompress(this);break;default:a=bh.decompress(this)}null!=a&&(this.b=
a.b,this.__length=a.length,this.data=a.data,this.position=this.length=this.__length)},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=Ua.get_length(a)&&(0==c&&(c=Ua.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},writeUTFBytes:function(a){pa.ofString(a);this.writeBytes(Ua.fromBytes(pa.ofString(a)))},__fromBytes:function(a){this.b=a.b;this.__length=a.length;this.data=a.data;this.length=a.length},__resize:function(a){if(a>this.__length){var b=
pa.alloc(3*(a+1)>>1),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__class__:ob});var th=function(){};g["haxe.lang.Iterator"]=th;th.__name__=["haxe","lang","Iterator"];th.prototype={hasNext:null,next:null,__class__:th};var uh=function(){};g["haxe.lang.Iterable"]=uh;uh.__name__=["haxe","lang","Iterable"];uh.prototype={iterator:null,__class__:uh};var yh,Sh=0;Array.prototype.indexOf&&
(q.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});g.Math=Math;String.prototype.__class__=g.String=String;String.__name__=["String"];g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var Bh=g.Int={__name__:["Int"]},Th=g.Dynamic={__name__:["Dynamic"]},xh=g.Float=Number;xh.__name__=["Float"];var Ch=g.Bool=Boolean;Ch.__ename__=["Bool"];var Uh=g.Class={__name__:["Class"]},Vh={},Hb={},Of=vh.ArrayBuffer||ac;null==Of.prototype.slice&&
(Of.prototype.slice=ac.sliceImpl);var oc=vh.Uint8Array||Bc._new,Lh;Lh=new Uint32Array(256);Pa.__alpha16=Lh;for(var Mh=0;256>Mh;){var Nh=Mh++,Wh=Math.ceil(257.00392156862745*Nh);Pa.__alpha16[Nh]=Wh}var Oh;Oh=new oc(510);Pa.__clamp=Oh;for(var Ph=0;255>Ph;){var Qh=Ph++;Pa.__clamp[Qh]=Qh}for(var Rh=255;511>Rh;){var Xh=Rh++;Pa.__clamp[Xh]=255}eb.level=3;"undefined"==typeof Ma&&(Ma={});null==Ma.log&&(Ma.log=function(){});wc.maxTouchPoints=2;wc.supportedGestures=null;wc.supportsGestureEvents=!1;wc.inputMode=
2;F.__broadcastEvents=new R;F.__instanceCount=0;F.__worldRenderDirty=0;F.__worldTransformDirty=0;A._list=new X;A._list1=new X;rb._pool=new X;db._pool=new X;Tb._pool=new X;Xb._pool=new X;yc.instance=new yc;lc._random=new yc(1);Sb.pool=new X;cb._pool=new X;cb._ua=new Jf;Yb._pool=new X;Nc.count=0;Zb.i64tmp=new Lf(0,0);Xa.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];Xa.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,
227,258];Xa.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];Xa.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];Xa.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];K.__toStr={}.toString;Bc.BYTES_PER_ELEMENT=1;G.cache=new Sf;G.libraries=new R;G.onChange=new Na;Dd.windowID=0;za.audioBuffers=new R;za.images=new R;za.loaders=new R;ra.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
Y.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Sa.devices=new Aa;Sa.onConnect=new eg;Ka.devices=new Aa;Ka.onConnect=new fg;sb.onEnd=new Ed;sb.onMove=new Ed;sb.onStart=new Ed;y.ENTER_FRAME=new wa("LEvent.ENTER_FRAME");y.EXIT_FRAME=new wa("LEvent.EXIT_FRAME");y.COMPLETE=new wa("LEvent.COMPLETE");y.START=new wa("LEvent.START");y.STOP=new wa("LEvent.STOP");y.PAUSE=new wa("LEvent.PAUSE");y.LOOP=new wa("LEvent.LOOP");y.FINISH=new wa("LEvent.FINISH");y.INIT=new wa("LEvent.INIT");y.LOST=new wa("LEvent.LOST");
y.RESTORE=new wa("LEvent.RESTORE");y.ACTIVATE=new wa("LEvent.ACTIVATE");y.DEACTIVATE=new wa("LEvent.DEACTIVATE");y.RESIZE=new wa("LEvent.RESIZE");y.SELECT=new wa("LEvent.SELECT");y.TOUCH_CHANGE=new Ae("LTouchEvent.CHANGE");rc.CHANGE=new rc("LKeyEvent.CHANGE");tb._bufferID=0;tb._bufferMap=new Aa;Eb.time=0;qa._programID=0;qa._map=new Aa;qa._errorProgramVariable=new nd(-1);qa._frameUniforms=new R;qa._globalUniforms=new R;Ja._textureID=0;Ja._textureMap=new Aa;Ja._activeID=-1;Ja._locationID=-1;ta.time=
0;ta.tick=0;ta.pause=!1;ta.timeScale=1;ta.dispatcher=new L;ta._quit=!1;T._gid=0;T._destroyList=[];T._childChangeList=[];O.instance=new O;O.instance1=new O;O.instance2=new O;O.instance3=new O;O.instance4=new O;tc.instance=new tc;B._list=[];B.ray=B.addPool(new sc(function(){return new tc}));B.vec3=B.addPool(new sc(function(){return new O}));B.vec2=B.addPool(new sc(function(){return new La}));B.raycastHit=B.addPool(new sc(function(){return new od}));ca.onResize=new L;ca.width=0;ca.height=0;ca.backgroundColor=
new Sc(0,0,0,1);ab.type_Perspective=1;ab.type_Orthographic=2;mc.SCALE_MODE_NO_SCALE=0;mc.SCALE_MODE_AUTO_FIT=1;mc.SCALE_MODE_EXACT_FIT=2;mc.SCALE_MODE_WIDTH_FIT=3;mc.SCALE_MODE_HEIGHT_FIT=4;ga.TYPE_Null=-1;ga.TYPE_Simple=0;ga.TYPE_Sliced=1;ga.TYPE_Tiled=2;ga.TYPE_Filled=3;ga.FILL_DIRECTION_Left=0;ga.FILL_DIRECTION_Top=1;ga.FILL_DIRECTION_Right=2;ga.FILL_DIRECTION_Bottom=3;ga.FILL_DIRECTION_Center=4;Ia.OnSizeChange=new wa("RectTransform.OnSizeChange");rd._pool=new sc(function(){return new qg});Vb._richTextParser=
new rd;Vb._textCharPool=new sc(function(){return new rg},function(a){a.Reset()});Ob.OnPreFrame=new Ob("OnPreFrame");Ob.OnPostFrame=new Ob("OnPostFrame");Ob.OnQuit=new Ob("OnQuit");ub.OnPostRender=new ub("OnPostRender");ub.OnPreRender=new ub("OnPreRender");ub.OnScreenResize=new ub("OnScreenResize");r.OnComponentChange=new r("OnComponentChange");r.OnPositionChange=new r("OnPositionChange");r.OnWorldChange=new r("OnWorldChange");r.OnTransformBefore=new r("OnTransformBefore");r.OnUpdate=new r("OnUpdate");
r.OnFixedUpdate=new r("OnFixedUpdate");r.OnLateUpdate=new r("OnLateUpdate");r.OnEnable=new r("OnEnable");r.OnDisable=new r("OnDisable");r.OnAddToScene=new r("OnAddToScene");r.OnRemoveFromScene=new r("OnRemoveFromScene");r.OnBecameVisible=new r("OnBecameVisible");r.OnBecameInvisible=new r("OnBecameInvisible");r.OnPreRender=new r("OnPreRender");r.OnPostRender=new r("OnPostRender");r.OnContentResize=new r("OnContentResize");D.OnTouchDown=new D("OnTouchDown");D.OnTouchOver=new D("OnTouchOver");D.OnTouchHold=
new D("OnTouchHold");D.OnTouchMove=new D("OnTouchMove");D.OnTouchEnter=new D("OnTouchEnter");D.OnTouchExit=new D("OnTouchExit");D.OnTouchUp=new D("OnTouchUp");wb.processMin=100;wb.processMax=200;fc.gl=Eb.GetInstance();ch.defaultColor=new Sc(1,1,1,1);jb._uniform="uniform vec4 _Time;\r\nuniform mat4 _Projection;\r\nuniform mat4 _View;\r\nuniform mat4 _Model;\r\nuniform vec4 _Color;\r\nuniform mat4 _ModelInverse;\r\nuniform mat4 _ProjectionView;\r\nuniform mat4 _ProjectionViewInverse;\r\nuniform mat4 _ViewInverse;\r\nuniform vec3 _CameraPosition;\r\nuniform sampler2D _Texture0;\r\nuniform sampler2D _Texture1;\r\nuniform sampler2D _Texture2;\r\nuniform sampler2D _Texture3;\r\nuniform vec2 _TextureSize0;\r\nuniform vec2 _TextureSize1;\r\nuniform vec2 _TextureSize2;\r\nuniform vec2 _TextureSize3;\r\nuniform vec2 _TextureUvTiling0;\r\nuniform vec2 _TextureUvTiling1;\r\nuniform vec2 _TextureUvTiling2;\r\nuniform vec2 _TextureUvTiling3;\r\nuniform vec2 _TextureUvOffset0;\r\nuniform vec2 _TextureUvOffset1;\r\nuniform vec2 _TextureUvOffset2;\r\nuniform vec2 _TextureUvOffset3;\r\n";
jb._struct="";jb._function="";jb._vert="attribute vec3 _InPosition;\r\nattribute vec3 _InNormal;\r\nattribute vec4 _InColor;\r\nattribute vec2 _InUv;\r\n";jb._frag="";Ta._unlink=[];Ta._shaders=new R;Ta._programs=new R;fb.instance=new fb;fb._instance1=new fb;Ga._ID=0;nb.cache=[];w._charCodeList=new X;w._charCodeList1=new X;w.document=window;l.altKey=!1;l.commandKey=!1;l.controlKey=!1;l.shiftKey=!1;l._event_change=new L;vc._init=!1;Z.hasLocalStoragePermission=!0;Z.loading=new Se;Z._loaderList=[];Z._globalPath=
"";Z._loadingMap=new Aa;Z._loadData=new nb;Z._versionMap=new R;oa.instance=new oa;Cb.instance=new Cb;Cb._types="Linear SineIn SineOut SineInOut SineOutIn QuadIn QuadOut QuadInOut QuadOutIn CubicIn CubicOut CubicInOut CubicOutIn QuartIn QuartOut QuartInOut QuartOutIn QuintIn QuintOut QuintInOut QuintOutIn ExpoIn ExpoOut ExpoInOut ExpoOutIn CircIn CircOut CircInOut CircOutIn BounceIn BounceOut BounceInOut BounceOutIn BackIn BackOut BackInOut BackOutIn ElasticIn ElasticOut ElasticInOut ElasticOutIn".split(" ");
ud.instance=new ud;z.E=2.718281828459045;z.PI=3.141592653589793;z.HalfPI=1.5707963267948966;z.PI2=6.283185307179586;z.PI4=12.566370614359172;z.Rad2Deg=57.29577951308232;z.Deg2Rad=.017453292519943295;z.Byte2Float=.00392156863;z.Short2Float=1.52587890625E-5;z.Long2Float=2.3283064365386963E-10;z.Float2Byte=255;z.Float2Short=65536;z.Float2Long=4294967296;z.LN2=.6931471805599453;z.LN10=2.302585092994046;z.LOG2E=1.4426950408889634;z.LOG10E=.43429448190325176;z.SQRT1_2=.7071067811865476;z.SQRT2=1.4142135623730951;
z.INT_MIN=-2147483648;z.INT_MAX=2147483647;z.FLOAT_MIN=-1.79769313486231E308;z.FLOAT_MAX=1.79769313486231E308;pb._typeMap=new Nc;Jb._atlas=new R;da.cache=new Xe;kc.__rootURL=window.document.URL;wd.currentDomain=new wd(null);ka.__identity=new ka;ka.__matrix3=new xe;ka.__temp=new ka;ja.current=new Ye;yb.empty=new yb;la.SIN45=.7071067811865476;la.TAN22=.41421356237309503;h.SIN45=.7071067811865476;h.TAN22=.41421356237309503;h.fillCommands=new yb;h.strokeCommands=new yb;Gb.debug=!1;Rb.__stateCache=new Eg;
lb.__temp=new lb;Ea.__temp=new Ea;Lb.__soundChannels=[];Lb.__soundTransform=new Uc;aa.numDevices=0;aa.__deviceList=[];aa.__devices=new Nc;aa.__instances=[];mh.__cursor="auto";ea.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
