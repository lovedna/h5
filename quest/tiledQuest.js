(function(La,Qb,Wg){function r(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function m(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=xh++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Qb.openfl=Qb.openfl||{};Qb.UUID=Qb.UUID||{};Qb.Ease=Qb.Ease||
{};Qb.lime=Qb.lime||{};var g={},v=function(){return N.__string_rec(this,"")},va=function(){};g.ApplicationMain=va;va.__name__=["ApplicationMain"];va.config=null;va.preloader=null;va.create=function(){var a=new Pd;a.create(va.config);var b=new Yb;va.preloader=new Qd(b);a.setPreloader(va.preloader);va.preloader.onComplete.add(va.init);va.preloader.create(va.config);var b=[],c=[];if(null!=va.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;"FONT"!=c[f]&&(b[f]=va.config.assetsPrefix+b[f])}va.preloader.load(b,
c);a.exec()};va.init=function(){va.preloader=null;va.start()};va.main=function(){va.config={build:"131",company:"liwei",file:"tiledQuest",fps:30,name:"tiledQuest",orientation:"",packageName:"tiledQuest",version:"1.0.0",windows:[{antialiasing:0,background:11259375,borderless:!1,depthBuffer:!0,display:0,fullscreen:!1,hardware:!1,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"tiledQuest",vsync:!1,width:0,x:null,y:null}]}};va.start=function(){for(var a=!1,b=xa.resolveClass("Main"),c=0,
d=xa.getClassFields(b);c<d.length;){var e=d[c];++c;if("main"==e){a=!0;break}}w.initialize();a?X.callMethod(b,X.field(b,"main"),[]):xa.createInstance(Rd,[]);aa.current.stage.window.__fullscreen&&aa.current.stage.dispatchEvent(new Sd("fullScreen",!1,!1,!0,!0));aa.current.stage.dispatchEvent(new O("resize",!1,!1))};var pd=function(){new mf};g.Main=pd;pd.__name__=["Main"];pd.prototype={__class__:pd};var Rd=function(){pd.call(this)};g.DocumentClass=Rd;Rd.__name__=["DocumentClass"];Rd.__super__=pd;Rd.prototype=
r(pd.prototype,{__class__:Rd});var Td=function(){this.onChange=new sa};g["lime.AssetLibrary"]=Td;Td.__name__=["lime","AssetLibrary"];Td.prototype={exists:function(a,b){return!1},getBytes:function(a){return null},getFont:function(a){return null},getImage:function(a){return null},getPath:function(a){return null},getText:function(a){a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){return!0},unload:function(){},__class__:Td};var Ud=function(){this.type=new E;this.path=
new E;this.className=new E;this.onChange=new sa;var a=null;null!=va.config&&Object.prototype.hasOwnProperty.call(va.config,"assetsPrefix")&&(a=va.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),d=a+this.path.get(c);this.path.set(c,d)}};g.DefaultAssetLibrary=Ud;Ud.__name__=["DefaultAssetLibrary"];Ud.__super__=Td;Ud.prototype=r(Td.prototype,{exists:function(a,b){var c;c=null!=b?N.__cast(b,String):null;var d=this.type.get(a);return null==d||d!=c&&("SOUND"!=c&&
"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getBytes:function(a){a=this.path.get(a);a=Ba.loaders.get(a);if(null==a)return null;a=a.bytes;return null!=a?a:null},getFont:function(a){return N.__cast(xa.createInstance(this.className.get(a),[]),Sc)},getImage:function(a){return Db.fromImageElement(function(b){b=b.path.get(a);return Ba.images.get(b)}(this))},getPath:function(a){return this.path.get(a)},getText:function(a){a=this.path.get(a);a=Ba.loaders.get(a);
if(null==a)return null;a=a.bytes;return null!=a?a.getString(0,a.length):null},isLocal:function(a,b){null!=b&&N.__cast(b,String);return!0},__class__:Ud});var nf=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,b)};g.EReg=nf;nf.__name__=["EReg"];nf.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:nf};var ma=function(){this.offset=this._length=0};g["lovedna.ds.LArray"]=ma;ma.__name__=["lovedna","ds","LArray"];
ma.prototype={Add:function(a){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[this.offset+this._length++]=a},Pop:function(){if(null==this._buffer||1>this._length)return null;this._length--;return this._buffer[this._length]},Get:function(a){return null==this._buffer||1>this._length||a>=this._length?null:this._buffer[a+this.offset]},Set:function(a,b){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[a+this.offset]=b;this._length<a+1&&(this._length=a+1)},Clear:function(){this.offset=
this._length=0},Trim:function(){if(null!=this._buffer&&0<this._length&&!(0==this.offset&&this._length>=this._buffer.length)){var a=[];for(this._i=this._length;0<this._i--;)a[this._i]=this._buffer[this._i+this.offset];this._buffer=a}},Copy:function(a){null==this._buffer&&(this._buffer=[],this.offset=this._length=0);for(this._i=a._length;0<this._i--;)this._buffer[this._i]=a._buffer[this._i];this._length=a._length;this.offset=a.offset},Dispose:function(){this._buffer=null;this._length=0},RemoveAt:function(a,
b){null==b&&(b=1);if(!(null==this._buffer||0>a||a>=this._length||1>b||(a+b>=this._length&&(b=this._length-a),1>b))){for(this._i=a;this._i<this._length-1;)this._buffer[this.offset+this._i]=this._buffer[this.offset+this._i+b],this._i++;this._length-=b}},Insert:function(a,b){if(!(0>a))if(null==this._buffer&&(this._buffer=[],this.offset=this._length=0),a>=this._length)this._buffer[a+this.offset]=b,this._length=a+1;else{for(this._i=this._length;this._i>a;)this._buffer[this._i+this.offset]=this._buffer[this._i-
1+this.offset],this._i--;this._buffer[a+this.offset]=b;this._length++}},Contains:function(a){return-1<this.IndexOf(a)},IndexOf:function(a){if(null==this._buffer)return-1;for(this._i=this._length;0<this._i--;)if(a==this._buffer[this._i+-this.offset])return this._i;return-1},Sort:function(a){this._buffer.sort(a)},set_length:function(a){if(null==this._buffer)return 0;0<=a&&(this._length=a);return this._length},__class__:ma,__properties__:{set_length:"set_length"}};var Y=function(){this._constructed=
!1;this.Construct()};g["lovedna.core.LObject"]=Y;Y.__name__=["lovedna","core","LObject"];Y.TriggerTick=function(a){a=Y._list._length;if(!(1>a)){Y._list1.Copy(Y._list);for(Y._list.Clear();0<a--;)Y._list1.Get(a).onLateConstruct();Y._list1.Clear()}};Y.prototype={Construct:function(){this._constructed||(this._constructed=!0,this.onConstruct(),Y._list.Add(this))},onConstruct:function(){},onLateConstruct:function(){},__class__:Y};var Vd=function(){};g["lovedna.events.IEventDispatcher"]=Vd;Vd.__name__=["lovedna",
"events","IEventDispatcher"];Vd.prototype={__class__:Vd};var F=function(a){Y.call(this);this._dispatcher=null!=a?a:this};g["lovedna.events.LEventDispatcher"]=F;F.__name__=["lovedna","events","LEventDispatcher"];F.__interfaces__=[Vd];F.__super__=Y;F.prototype=r(Y.prototype,{AddEventListener:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);a=a._type;if(null!=a&&null!=b)if(null==this._eventMap&&(this._eventMap=new E),null==c&&(c=0),null==d&&(d=!1),null==e&&(e=0),this._eventMap.exists(a)){a=
this._eventMap.get(a);for(var f=a.length;0<f--;)if(a[f].match(b))return;a.push(new Wd(this,b,c,d,e));a.sort(m(this,this.sortByPriority))}else f=[],this._eventMap.set(a,f),f.push(new Wd(this,b,c,d,e))},DispatchEvent:function(a){if(null==this._eventMap)return!1;var b=a._type;if(null==b)return!1;b=this._eventMap.get(b);if(null==b)return!1;null==this._eventList&&(this._eventList=[]);if(-1!=x.indexOf(this._eventList,a,0))return!1;this._eventList.push(a);a.setTarget(this._dispatcher);for(var c=b.length;0<
c--;)b[c].dispatch(a);this._eventList.splice(0,this._eventList.length);return!0},RemoveEventListener:function(a,b){if(null!=this._eventMap){var c=a._type,d=this._eventMap.get(c);if(null!=d){for(var e=d.length;0<e--;){var f=d[e];f.match(b)&&(f.destroy(),d.splice(e,1))}0==d.length&&this._eventMap.remove(c);this._eventMap.iterator().hasNext()||(this._eventMap=null)}}},RemoveAllEventListener:function(){if(null!=this._eventMap){for(var a=this._eventMap.keys();a.hasNext();){for(var b=a.next(),c=this._eventMap.get(b),
d=c.length;0<d--;)c[d].destroy();c.splice(0,c.length);this._eventMap.remove(b)}this._eventMap=null}},sortByPriority:function(a,b){var c=a.priority,d=b.priority;return c>d?1:c<d?-1:0},__class__:F});var ga=function(){this._componentListDirty=!1;this._componentLength=0;this._actorDirty=this._actorDirty1=!0;this.pivotX=this.pivotY=this.pivotZ=0;this.scaleX=this.scaleY=this.scaleZ=1;this.x=this.y=this.z=this.rotationX=this.rotationY=this.rotationZ=0;this.visible=!0;this.childCount=0;this.cameraCull=!0;
this.destroyed=!1;F.call(this)};g["lovedna.graphics.core.GActor"]=ga;ga.__name__=["lovedna","graphics","core","GActor"];ga.__super__=F;ga.prototype=r(F.prototype,{AddChild:function(a){if(null!=a&&a!=this){var b=a.parent;b==this||a.Contains(this)||(null!=b&&b.RemoveChild(a),null==this._childs&&(this._childs=[]),this._childs.push(a),a.parent=this,this.childCount=this._childs.length,a._actorDirty=a._actorDirty1=!0,null!=this.scene&&this.scene.ChildrenDirty())}},RemoveChild:function(a){if(null!=a&&a!=
this&&null!=this._childs&&a.parent==this){var b=x.indexOf(this._childs,a,0);-1!=b&&(this._childs.splice(b,1),a.parent=null,this.childCount=this._childs.length,null!=this.scene&&this.scene.ChildrenDirty())}},Contains:function(a){if(null==a||a==this)return!1;for(a=a.parent;null!=a;){if(a==this)return!0;var b=a.parent;if(b==a)break;a=b}return!1},GetComponent:function(a){if(null==this._componentMap||1>this._componentLength)return null;var b=Tc.GetName(a);if(this._componentMap.exists(b))return this._componentMap.get(b);
for(b=this._componentLength;0<b--;){var c=this._componentList[b];if(N.__instanceof(c,a))return c}return null},InFrustum:function(a){return a.ContainsPoint(this._worldPos.Set(this._local.d12,this._local.d13,this._local.d14))},Dispose:function(){if(!this.destroyed){this.destroyed=!0;null!=this.parent&&this.parent.RemoveChild(this);this.RemoveAllEventListener();for(var a=this._componentLength;0<a--;)this._componentList[a].Dispose();this._componentList=null;this._componentLength=0;this._mat4=this._worldPos=
this.up=this._world=this._local=this.name=this.uuid=this.layers=this._componentMap=null}},onConstruct:function(){F.prototype.onConstruct.call(this);this.time=new Xd;this.layers=new lc(0);this.uuid=mc.Get();this.gid=ga._gid++;this.name="actor "+this.gid;this._local=new Qa;this._world=new Qa;this.up=(new U).Set(0,1,0);this._worldPos=U.instance;this._mat4=Qa.instance},enterFrame:function(){if(!this.destroyed&&null!=this.parent){this.time.Multiply(this.parent.time);this._actorDirty1=!1;this.onEnterFrameBefore();
if(0<this._componentLength){this._componentListDirty&&(this._componentListDirty=!1,this._componentList.sort(m(this,this.sortComponent)));for(var a=this._componentLength;0<a--;){var b=this._componentList[a];0>b.order&&b.enterFrame()}}this.onEnterFrame();if(0<this._componentLength)for(a=this._componentLength;0<a--;)b=this._componentList[a],0<=b.order&&b.enterFrame()}},updateTransform:function(){this.destroyed||null==this.parent||(this.parent._actorDirty&&(this._actorDirty=!0),this._actorDirty&&(this.lastChangeTime=
this.time.time,this._local.Identity(),this._local.Copy(this.parent._local),0==this.x&&0==this.y&&0==this.z||this._local.AppendTranslationV(this.x,this.y,this.z),0!=this.rotationX&&this._local.AppendRotationX(this.rotationX),0!=this.rotationY&&this._local.AppendRotationY(this.rotationY),0!=this.rotationZ&&this._local.AppendRotationZ(this.rotationZ),1==this.scaleX&&1==this.scaleY&&1==this.scaleZ||this._local.AppendScaleV(this.scaleX,this.scaleY,this.scaleZ),this._world.Copy(this._local),0==this.pivotX&&
0==this.pivotY&&0==this.pivotZ||this._world.AppendTranslationV(-this.pivotX,-this.pivotY,-this.pivotZ),this.onTransformChange()))},exitFrame:function(){if(!this.destroyed&&null!=this.parent){this._actorDirty=this._actorDirty1;if(0<this._componentLength)for(var a=this._componentLength;0<a--;){var b=this._componentList[a];0>b.order&&b.exitFrame()}this.onExitFrame();if(0<this._componentLength)for(a=this._componentLength;0<a--;)b=this._componentList[a],0<=b.order&&b.exitFrame()}},onAddToScene:function(){},
onRemoveFromScene:function(){},onEnterFrameBefore:function(){},onEnterFrame:function(){},onExitFrame:function(){},onTransformChange:function(){},sortComponent:function(a,b){var c=a.order,d=b.order;return c>d?1:c<d?-1:0},set_visible:function(a){this.visible!=a&&(this.visible=a,null!=this.scene&&this.scene.ChildrenDirty());return a},set_x:function(a){this.x!=a&&(this.x=a,this._actorDirty=this._actorDirty1=!0);return a},set_y:function(a){this.y!=a&&(this.y=a,this._actorDirty=this._actorDirty1=!0);return a},
set_z:function(a){this.z!=a&&(this.z=a,this._actorDirty=this._actorDirty1=!0);return a},set_scaleX:function(a){this.scaleX!=a&&(this.scaleX=a,this._actorDirty=this._actorDirty1=!0);return a},set_scaleY:function(a){this.scaleY!=a&&(this.scaleY=a,this._actorDirty=this._actorDirty1=!0);return a},set_pivotX:function(a){this.pivotX!=a&&(this.pivotX=a,this._actorDirty=this._actorDirty1=!0);return a},set_pivotY:function(a){this.pivotY!=a&&(this.pivotY=a,this._actorDirty=this._actorDirty1=!0);return a},__class__:ga,
__properties__:{set_pivotY:"set_pivotY",set_pivotX:"set_pivotX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_z:"set_z",set_y:"set_y",set_x:"set_x",set_visible:"set_visible"}});var Yd=function(){this._failCode=0;ga.call(this)};g.End=Yd;Yd.__name__=["End"];Yd.__super__=ga;Yd.prototype=r(ga.prototype,{ShowFail:function(a){this._time=2500;this._failCode=a;this._end.Load("end/ENDING"+this._failCode+".png");this._bg.material.color.set_a(0);this._end.material.color.set_a(0);this._con.set_visible(!1)},
ShowSuccess:function(){this._time=2500;this._failCode=0;this._end.Load("end/ENDING6.png");this._bg.material.color.set_a(0);this._end.material.color.set_a(0);this._con.set_visible(!1)},ShowComplete:function(){this._time=2500;this._failCode=-1;this._end.Load("end/END_CHARA.png");this._bg.material.color.set_a(0);this._end.material.color.set_a(0);this._con.set_visible(!1)},onConstruct:function(){var a=this;ga.prototype.onConstruct.call(this);this._bg=new nb;this.AddChild(this._bg);this._end=new nb;this.AddChild(this._end);
this._bg.Load("bg/LANGIT.png",!0);this._end.set_z(.5);this._con=new ga;this._ease=new yb;this.AddChild(this._con);this._retry=new Ac;this._con.AddChild(this._retry);this._retry.set_x(300);this._retry.set_z(1.2);this._retry.Load("ui/RETRY0.png");this._retry.onRelease=function(b){a.parent.RemoveChild(a);if(null!=a.onRetry)a.onRetry()};this._next=new Ac;this._con.AddChild(this._next);this._next.Load("ui/NEXT0.png");this._next.set_x(300);this._next.set_y(-140);this._next.set_z(1.2);this._next.onRelease=
function(b){a.parent.RemoveChild(a);if(null!=a.onNext)a.onNext()};this._option=new Ac;this._con.AddChild(this._option);this._option.Load("ui/OPTION0.png");this._option.set_x(300);this._option.set_y(140);this._option.set_z(1.2);this._option.onRelease=function(b){a.parent.RemoveChild(a);if(null!=a.onOption)a.onOption()}},onEnterFrame:function(){ga.prototype.onEnterFrame.call(this);if(0<this._time){var a=this._ease.ExpoIn(1-this._time/2500);this._time-=this.time.tick;this._bg.material.color.set_a(a);
this._end.material.color.set_a(a);if(0>=this._time&&(this._time=0,this._con.set_visible(!0),this._option.set_visible(!1),0!=this._failCode?(this._next.set_visible(!1),-1==this._failCode&&this._option.set_visible(!0)):this._next.set_visible(!0),null!=this.onShow))this.onShow()}},__class__:Yd});var $a=function(){this.mouseEnable=!1;this.order=0;ga.call(this)};g["lovedna.graphics.display.GDisplay"]=$a;$a.__name__=["lovedna","graphics","display","GDisplay"];$a.__super__=ga;$a.prototype=r(ga.prototype,
{IsReady:function(){return null!=this.mesh&&null!=this.material&&2<this.mesh.get_count()},Raycast:function(a){if(null==this.mesh||null!=this.boundingInfo.sphere&&!a.IntersectsSphere(this.boundingInfo.sphere)||null!=this.boundingInfo.box&&null==a.IntersectBox(this.boundingInfo.box))return null;if(0==this.raycastInfo.pickMode){var b=q.pickInfo.Get();b.z=a.start.Distance(this._world.TransformVec3(this._worldPos.Set(this._local.d12,this._local.d13,this._local.d14)));return b}b=this.mesh.geometry;if(null!=
b){var c=Zb.instance;c.Copy(a);var d=Qa.instance3.Copy(this._world).Inverse();c.ApplyMatrix4(d);this.raycastInfo.ray.Copy(c);b=b.Raycast(this.raycastInfo);if(null!=b)return b.mode=1,b.worldPos.Copy(this._world.TransformVec3(U.instance3.Copy(b.localPos))),b.z=a.start.Distance(b.worldPos),b}return null},InFrustum:function(a){return null!=this.boundingInfo.sphere?a.IntersectsSphere(this.boundingInfo.sphere):ga.prototype.InFrustum.call(this,a)},Dispose:function(){ga.prototype.Dispose.call(this);null!=
this.boundingInfo&&(this.boundingInfo.Dispose(),this.boundingInfo=null);null!=this.material&&(this.material.Dispose(),this.material=null)},onConstruct:function(){ga.prototype.onConstruct.call(this);this.name="display "+this.gid;this.boundingInfo=new of;this.raycastInfo=new pf},onTransformChange:function(){ga.prototype.onTransformChange.call(this);this.cameraCull&&this.updateBoundingInfo()},updateBoundingInfo:function(){this.boundingInfo.Apply(this._world)},__class__:$a});var nb=function(){this.fillDirection=
this.fillAmount=1;this.fillMethod=2;this.imageType=0;this.imagePivotX=this.imagePivotY=.5;this.width=this.height=this.nativeWidth=this.nativeHeight=0;$a.call(this)};g["lovedna.graphics.display.GImage"]=nb;nb.__name__=["lovedna","graphics","display","GImage"];nb.__super__=$a;nb.prototype=r($a.prototype,{Dispose:function(){$a.prototype.Dispose.call(this);this._loader=null;null!=this._sprite&&(this._sprite.RemoveEventListener(ea.INIT,m(this,this.sprite_init)),this._sprite=null);this._geom=null;null!=
this._mesh&&(this._mesh.Dispose(),this._mesh=null);null!=this.material&&(this.material.Dispose(),this.material=null)},Load:function(a,b){null==b&&(b=!0);this._imageUrl!=a&&(this._imageUrl=a,b&&this.set_width(this.set_height(0)),this._loader.Exist(this._imageUrl)?this.forceLoad():this._urlDirty=!0)},onConstruct:function(){$a.prototype.onConstruct.call(this);this._loader=Ma.get_instance();this._pivotDirty=!1;this.name="image "+this.gid;this.material=new Zd;this.material.cullFace=!1;this._geom=new Bc;
this._mesh=new $d;this.raycastInfo.pickMode=1},onExitFrame:function(){$a.prototype.onExitFrame.call(this);this._urlDirty&&this.forceLoad();this._geomDirty&&(null!=this._sprite&&this._sprite.enable&&(this.nativeWidth=this._sprite.width,this.nativeHeight=this._sprite.height,0==this.width&&this.set_width(this.nativeWidth),0==this.height&&this.set_height(this.nativeHeight),this.updateSprite(),this._pivotDirty=!0),this._geomDirty=!1);this._pivotDirty&&(null!=this._sprite&&this._sprite.enable&&(0<=this.imagePivotX&&
1>=this.imagePivotX?.5!=this.imagePivotX?this.set_pivotX(this.width*this.imagePivotX):this.set_pivotX(this.width*this._sprite.region.pivot.x):this.set_pivotX(this.imagePivotX),0<=this.imagePivotY&&1>=this.imagePivotY?.5!=this.imagePivotY?this.set_pivotY(-this.height*this.imagePivotY):this.set_pivotY(-this.height*this._sprite.region.pivot.y):this.set_pivotY(-this.imagePivotY)),this._pivotDirty=!1)},sprite_init:function(a){this._geomDirty=!0;this._sprite.RemoveEventListener(ea.INIT,m(this,this.sprite_init));
0==this.imageType&&(a=this._sprite.region.border,(0<a.x||0<a.y||0<a.width||0<a.height)&&this.set_imageType(2))},forceLoad:function(){this.mesh=null;this._urlDirty=!1;null!=this._sprite&&this._sprite.RemoveEventListener(ea.INIT,m(this,this.sprite_init));this._sprite=this._loader.Load(this._imageUrl);this._sprite.enable?this.forceUpdate():this._sprite.AddEventListener(ea.INIT,m(this,this.sprite_init))},forceUpdate:function(){if(null!=this._sprite&&0!=this._sprite.enable){if(0==this.imageType){var a=
this._sprite.region.border;(0<a.x||0<a.y||0<a.width||0<a.height)&&this.set_imageType(2)}0==this.width&&this.set_width(this._sprite.width);0==this.height&&this.set_height(this._sprite.height);0<=this.imagePivotX&&1>=this.imagePivotX?.5!=this.imagePivotX?this.set_pivotX(this.width*this.imagePivotX):this.set_pivotX(this.width*this._sprite.region.pivot.x):this.set_pivotX(this.imagePivotX);0<=this.imagePivotY&&1>=this.imagePivotY?.5!=this.imagePivotY?this.set_pivotY(-this.height*this.imagePivotY):this.set_pivotY(-this.height*
this._sprite.region.pivot.y):this.set_pivotY(-this.imagePivotY);this.updateSprite();this._geomDirty=this._pivotDirty=this._urlDirty=!1}},updateSprite:function(){if(null!=this._sprite&&this._sprite.enable){var a=this.material;if(null!=a)switch(a.texture=this._sprite._texture,this.imageType){case 1:this.simpleFill();break;case 2:this.slicedFill();break;case 3:this.filledFill();break;case 0:this.simpleFill();break;default:this.simpleFill()}}},buildGeom:function(){this._geom.Build();this.boundingInfo.From(this._geom);
this._mesh.From(this._geom);this.mesh=this._mesh;this.cameraCull&&this.updateBoundingInfo()},simpleFill:function(){this._geom.Clear();var a=q.vertex.Get();a.position=q.vec3.Get().Set(0,0,0);a.uv=this._sprite.uv00;this._geom.AddVertex(a);a=q.vertex.Get();a.position=q.vec3.Get().Set(0,-this.height,0);a.uv=this._sprite.uv01;this._geom.AddVertex(a);a=q.vertex.Get();a.position=q.vec3.Get().Set(this.width,-this.height,0);a.uv=this._sprite.uv11;this._geom.AddVertex(a);a=q.vertex.Get();a.position=q.vec3.Get().Set(this.width,
0,0);a.uv=this._sprite.uv10;this._geom.AddVertex(a);this._geom.AddFace(0,1,2);this._geom.AddFace(0,2,3);this.buildGeom()},slicedFill:function(){var a=this._sprite.width,b=this._sprite.height,c=this._sprite.region.border,d=3,e=3;0>=c.x&&d--;0>=c.width&&d--;0>=c.y&&e--;0>=c.height&&e--;1<d&&this.width==a&&(d=1);1<e&&this.height==b&&(e=1);if(1==d&&1==e)this.simpleFill();else{var f=q.floatArr.Get(),h=q.floatArr.Get(),u=q.floatArr.Get(),M=q.floatArr.Get();f.Clear();h.Clear();u.Clear();M.Clear();f.Add(0);
u.Add(0);1==d?f.Add(this.width):(0<c.x&&(f.Add(c.x),u.Add(c.x)),0<c.width&&(f.Add(this.width-c.width),u.Add(a-c.width)));u.Add(a);h.Add(0);M.Add(0);1!=e&&(0<c.y&&(h.Add(c.y),M.Add(c.y)),0<c.height&&(h.Add(this.height-c.height),M.Add(b-c.height)));h.Add(this.height);M.Add(b);var g=0,l=0;this._geom.Clear();for(var c=0,k=q.vec2.Get().Copy(this._sprite.uv00),g=q.vec2.Get().Copy(this._sprite.uv11),n=q.vec2.Get().Copy(g).Sub(k),fb=this._sprite.region.rotated,$b=0;$b<d;)for(var I=$b++,g=I+1,p=0;p<e;){var m=
p++,l=m+1,t=f.Get(I),r=h.Get(m),v=f.Get(g),y=h.Get(l),x=u.Get(I),m=M.Get(m),B=u.Get(g),l=M.Get(l),A=q.vertex.Get();A.position=q.vec3.Get().Set(t,-r,0);A.uv=q.vec2.Get().Copy(n).ScaleV(x/a,m/b,fb).Add(k);this._geom.AddVertex(A);A=q.vertex.Get();A.position=q.vec3.Get().Set(t,-y,0);A.uv=q.vec2.Get().Copy(n).ScaleV(x/a,l/b,fb).Add(k);this._geom.AddVertex(A);t=q.vertex.Get();t.position=q.vec3.Get().Set(v,-y,0);t.uv=q.vec2.Get().Copy(n).ScaleV(B/a,l/b,fb).Add(k);this._geom.AddVertex(t);y=q.vertex.Get();
y.position=q.vec3.Get().Set(v,-r,0);y.uv=q.vec2.Get().Copy(n).ScaleV(B/a,m/b,fb).Add(k);this._geom.AddVertex(y);this._geom.AddFace(c,c+1,c+2);this._geom.AddFace(c,c+2,c+3);c+=4}this.buildGeom()}},filledFill:function(){if(!(.001>=this.fillAmount))if(1<=this.fillAmount)this.simpleFill();else{this._geom.Clear();var a=q.vec2.Get().Copy(this._sprite.uv00),b=q.vec2.Get().Copy(this._sprite.uv11),c=q.vec2.Get().Copy(b).Sub(a),d=this._sprite.region.rotated;if(2==this.fillMethod||1==this.fillMethod){if(1==
this.fillMethod)if(2==this.fillDirection){var e=this.width*(1-this.fillAmount),f=q.vertex.Get();f.position=q.vec3.Get().Set(e,0,0);f.uv=q.vec2.Get().Copy(c).ScaleV(this.fillAmount,0,d).Add(a);this._geom.AddVertex(f);f=q.vertex.Get();f.position=q.vec3.Get().Set(e,-this.height,0);f.uv=q.vec2.Get().Copy(c).ScaleV(this.fillAmount,1,d).Add(a);this._geom.AddVertex(f);e=q.vertex.Get();e.position=q.vec3.Get().Set(this.width,-this.height,0);e.uv=b;this._geom.AddVertex(e);b=q.vertex.Get();b.position=q.vec3.Get().Set(this.width,
0,0);b.uv=q.vec2.Get().Copy(c).ScaleV(1,0,d).Add(a);this._geom.AddVertex(b)}else b=this.width*this.fillAmount,e=q.vertex.Get(),e.position=q.vec3.Get().Set(0,0,0),e.uv=a,this._geom.AddVertex(e),e=q.vertex.Get(),e.position=q.vec3.Get().Set(0,-this.height,0),e.uv=this._sprite.uv01,this._geom.AddVertex(e),e=q.vertex.Get(),e.position=q.vec3.Get().Set(b,-this.height,0),e.uv=q.vec2.Get().Copy(c).ScaleV(this.fillAmount,1,d).Add(a),this._geom.AddVertex(e),e=q.vertex.Get(),e.position=q.vec3.Get().Set(b,0,0),
e.uv=q.vec2.Get().Copy(c).ScaleV(this.fillAmount,0,d).Add(a),this._geom.AddVertex(e);else 3==this.fillDirection?(e=this.height*(1-this.fillAmount),f=q.vertex.Get(),f.position=q.vec3.Get().Set(0,-e,0),f.uv=q.vec2.Get().Copy(c).ScaleV(0,this.fillAmount,d).Add(a),this._geom.AddVertex(f),f=q.vertex.Get(),f.position=q.vec3.Get().Set(0,-this.height,0),f.uv=q.vec2.Get().Copy(c).ScaleV(0,1,d).Add(a),this._geom.AddVertex(f),f=q.vertex.Get(),f.position=q.vec3.Get().Set(this.width,-this.height,0),f.uv=b,this._geom.AddVertex(f),
b=q.vertex.Get(),b.position=q.vec3.Get().Set(this.width,-e,0),b.uv=q.vec2.Get().Copy(c).ScaleV(1,this.fillAmount,d).Add(a)):(b=this.height*this.fillAmount,e=q.vertex.Get(),e.position=q.vec3.Get().Set(0,0,0),e.uv=a,this._geom.AddVertex(e),e=q.vertex.Get(),e.position=q.vec3.Get().Set(0,-b,0),e.uv=q.vec2.Get().Copy(c).ScaleV(0,this.fillAmount,d).Add(a),this._geom.AddVertex(e),e=q.vertex.Get(),e.position=q.vec3.Get().Set(this.width,-b,0),e.uv=q.vec2.Get().Copy(c).ScaleV(1,this.fillAmount,d).Add(a),this._geom.AddVertex(e),
b=q.vertex.Get(),b.position=q.vec3.Get().Set(this.width,0,0),b.uv=q.vec2.Get().Copy(c).ScaleV(1,0,d).Add(a)),this._geom.AddVertex(b);this._geom.AddFace(0,1,2);this._geom.AddFace(0,2,3);this.buildGeom()}else 3==this.fillMethod&&this.filledFill360()}},filledFill360:function(){},set_width:function(a){this.width!=a&&(this.width=a,this._geomDirty=!0);return this.width},set_height:function(a){this.height!=a&&(this.height=a,this._geomDirty=!0);return this.height},set_imagePivotX:function(a){this.imagePivotX!=
a&&(this.imagePivotX=a,this._pivotDirty=!0);return this.imagePivotX},set_imagePivotY:function(a){this.imagePivotY!=a&&(this.imagePivotY=a,this._pivotDirty=!0);return this.imagePivotY},set_imageType:function(a){this.imageType!=a&&(this.imageType=a,this._geomDirty=!0);return this.imageType},set_fillMethod:function(a){this.fillMethod!=a&&(this.fillMethod=a,this._geomDirty=!0);return this.fillMethod},set_fillDirection:function(a){this.fillDirection!=a&&(this.fillDirection=a,this._geomDirty=!0);return this.fillDirection},
set_fillAmount:function(a){this.fillAmount!=a&&0<=a&&1>=a&&(this.fillAmount=a,this._geomDirty=!0);return this.fillAmount},__class__:nb,__properties__:r($a.prototype.__properties__,{set_fillAmount:"set_fillAmount",set_fillDirection:"set_fillDirection",set_fillMethod:"set_fillMethod",set_imageType:"set_imageType",set_imagePivotY:"set_imagePivotY",set_imagePivotX:"set_imagePivotX",set_height:"set_height",set_width:"set_width"})});var Ac=function(){nb.call(this)};g.GButton=Ac;Ac.__name__=["GButton"];
Ac.__super__=nb;Ac.prototype=r(nb.prototype,{onConstruct:function(){nb.prototype.onConstruct.call(this);this.mouseEnable=!0;this.AddEventListener(ac.CHANGE,m(this,this.this_change))},this_change:function(a){var b=a.action;if(3==b){if(null!=a.relatedTarget&&a.relatedTarget.target==this&&null!=this.onRelease)this.onRelease(this)}else 4==b?this.material.color.set_rgb(13421772):5==b&&this.material.color.set_rgb(16777215)},__class__:Ac});var mf=function(){this._loaded=!1;Da.SetGlobalPath("assets");Ma.SetAtlas("ui.png");
Ma.SetAtlas("end.png");Ma.SetAtlas("object.png");Ma.SetAtlas("tile.png");Ma.SetAtlas("girl.png");Ma.SetAtlas("font0.png");Eb.GetInstance().AddEventListener(ea.INIT,m(this,this.view_init))};g.GameStage=mf;mf.__name__=["GameStage"];mf.prototype={LoadLevel:function(a){this._success=!1;this._moved=0;this._level=a;this._loaded=!1;this._loader.Load("level/level"+this._level+".txt")},Reload:function(){this.LoadLevel(this._level)},Next:function(){this._level++;this.Reload()},view_init:function(a){var b=this;
Eb.GetInstance().set_showFPS(!1);this._loader=new Da;this._loader.AddEventListener(ea.COMPLETE,m(this,this.loader_complete));this._arr=new qf(6,5);this._scene=new ae;this._scene.currentCamera.mouseEnable=!0;this._scene.currentCamera.pickManager.pickHandler.AddEventListener(ac.CHANGE,m(this,this.pickHandler_change));Eb.GetInstance().AddScene(this._scene);this._canvas=new Cc(800,480);this._scene.AddChild(this._canvas);this._container=new ga;this._canvas.AddChild(this._container);this._container.set_x(-400);
this._container.set_y(240);a=new ob(ob.defaultFont,"font0.png");ob.AddFont(a);this._bg=new nb;this._bg.set_imagePivotX(this._bg.set_imagePivotY(0));this._bg.set_z(-.1);this._bg.order=-1;this._bg.Load("bg/PLAY-BG.png");this._container.AddChild(this._bg);this._end=new Yd;this._end.set_x(400);this._end.set_y(-240);this._end.set_z(3);this._end.onShow=function(){b.clear()};this._end.onRetry=function(){b.Reload()};this._end.onNext=function(){b.Next()};this._end.onOption=function(){b._level=1;b.Reload()};
this._retry=new Ac;this._retry.set_z(1);this._retry.set_x(676);this._retry.set_y(-400);this._container.AddChild(this._retry);this._retry.Load("ui/RETRY0.png");this._retry.onRelease=function(a){b._success||b.Reload()};this._retry.mouseEnable=!1;this._progress=new be;this._progress.set_imagePivotY(0);this._container.AddChild(this._progress);this._progress.set_z(1);this._progress.set_x(670);this._progress.set_y(-100);this._progress.set_height(200);this._text=new Dc;this._text.set_alignmentX(0);this._text.set_width(100);
this._text.letterSpace=-10;this._text.order=1;this._text.set_z(2);this._container.AddChild(this._text);this._text.set_text("1000");this._text.set_x(620);this._text.set_y(-100);this._shared=new qd("quest");a=this._shared.Get("level");null!=a?this.LoadLevel(a):this.LoadLevel(1)},pickHandler_change:function(a){var b=a.action,c=Na.instance;c.Copy(a.touch.position);this._canvas.ScreenToLocal(c);c.x+=400;c.y+=240;a=c.x/96|0;c=c.y/96|0;0>a||0>c||5<a||4<c||(1==b?this._success||null==this._select||0>a-this._xinc||
0>c-this._yinc||6<a-this._xinc+this._select.width||5<c-this._yinc+this._select.height||!this.testMove(a,c)||(this.moveTo(a-this._xinc,c-this._yinc),this._selectX=a,this._selectY=c):2==b?this._success||(b=this._arr.Get(a,c),null!=b&&1==b.moved&&(this._select=b,this._xinc=a-this._select.x,this._yinc=c-this._select.y,this._selectX=a,this._selectY=c)):3==b&&(this._select=null))},clear:function(){for(var a=this._arr._length;0<a--;){var b=this._arr._list[a];null!=b&&b.Destroy()}this._arr.Clear()},loader_complete:function(a){this.clear();
this._moveMax=100;a=this._loader.GetCurrent();a=new rd(a.text);for(var b=a.get_length(),c=0;0<b--;){var d=a.ReadLine();if("bg"==d)c=1;else if("star"==d)c=2;else if("map"==d)c=3;else if(1==c)this._bg.Load("bg/"+d,!0);else if(2==c){var e=d.split(",");this._moveMax=ha.parseInt(e[0])}else if(3==c){e=new rf;e.parse(d);this._container.AddChild(e._image);for(var d=0,f=e.width;d<f;){var h=d++;this._arr.Set(e.x+h,e.y,e)}d=0;for(f=e.height;d<f;)h=d++,this._arr.Set(e.x,e.y+h,e)}}this._loaded=!0;this._retry.mouseEnable=
!0;this.setProgress(1)},fail:function(a){this._success=!0;this._retry.mouseEnable=!1;this._container.AddChild(this._end);this._end.ShowFail(a)},win:function(){this._success=!0;this._retry.mouseEnable=!1;this._container.AddChild(this._end);20<=this._level?(this._end.ShowComplete(),this._shared.Set("level",1)):(this._end.ShowSuccess(),this._shared.Set("level",this._level+1))},setProgress:function(a){this._text.set_text((this._moveMax-this._moved|0)+"");this._progress.SetProgress(a)},testMove:function(a,
b){var c=this._select.width,d=this._select.height,e=this._select.x,f=this._select.y,h=a-this._selectX,u=b-this._selectY;if(1!=((0>h?-h:h)|0)+((0>u?-u:u)|0))return!1;for(var M=0;M<c;)for(var g=M++,l=0;l<d;){var k=l++,k=this._arr.Get(e+g+h,f+k+u);if(null!=k&&k!=this._select)return!1}return!0},moveTo:function(a,b){for(var c=this._select.width,d=this._select.height,e=this._select.x,f=this._select.y,h=0;h<c;)for(var u=h++,M=0;M<d;){var g=M++;this._arr.Set(e+u,f+g,null)}e=a;f=b;for(h=0;h<c;)for(u=h++,M=
0;M<d;)g=M++,this._arr.Set(e+u,f+g,this._select);this._select.x=a;this._select.y=b;this._select.RefreshPosition();""!=this._select.type&&this.check();this._moved++;this._success||this._moved>=this._moveMax&&this.fail(10);this.setProgress(1-this._moved/this._moveMax)},check:function(){for(var a=new E,b=this._select.width,c=this._select.height,d=this._select.x,e=this._select.y,f=0,h=0;h<b;){var u=h++,M=this._arr.Get(d+u,e-1);null!=M&&""!=M.type&&(a.set(M.type,M),f++);M=this._arr.Get(d+u,e+c);null!=
M&&""!=M.type&&(a.set(M.type,M),f++)}for(h=0;h<c;)u=h++,M=this._arr.Get(d-1,e+u),null!=M&&""!=M.type&&(a.set(M.type,M),f++),M=this._arr.Get(d+b,e+u),null!=M&&""!=M.type&&(a.set(M.type,M),f++);if(0<f)switch(this._select.type){case "h":if(null!=ta.s?a.existsReserved("s"):a.h.hasOwnProperty("s"))if(b=null!=ta.s?a.getReserved("s"):a.h.s,b.Load("s1"),b.type="",0==this._select.state)this._select.Load("h1"),this._select.state=1;else if(2==this._select.state){this._select.Load("h3");this._select.state=1;
this.fail(1);break}if(null!=ta.m?a.existsReserved("m"):a.h.hasOwnProperty("m"))if(b=null!=ta.m?a.getReserved("m"):a.h.m,0==this._select.state){b.Load("m2");this._select.Load("h2");this.fail(3);break}else if(2==this._select.state){b.Load("m2");this._select.Load("hp1");this.fail(5);break}else 1==this._select.state&&(b.Load("m1"),b.type="",this._select.Load("h"),this._select.state=4);if(null!=ta.p?a.existsReserved("p"):a.h.hasOwnProperty("p"))if(a=null!=ta.p?a.getReserved("p"):a.h.p,0==this._select.state)a.Load(""),
this._select.Load("hp"),this._select.state=2;else if(1==this._select.state){a.Load("p1");this._select.Load("h");this.fail(2);break}else if(4==this._select.state){a.Load("");this._select.Load("hp");this.win();break}break;case "s":if(null!=ta.h?a.existsReserved("h"):a.h.hasOwnProperty("h"))if(this._select.Load("s1"),a=null!=ta.h?a.getReserved("h"):a.h.h,0==a.state)a.Load("h1"),this._select.type="",a.state=1;else if(2==a.state){a.Load("h3");a.state=1;this.fail(1);break}break;case "m":if(null!=ta.h?a.existsReserved("h"):
a.h.hasOwnProperty("h"))if(b=null!=ta.h?a.getReserved("h"):a.h.h,1==b.state){this._select.Load("m1");this._select.type="";b.Load("h");b.state=4;break}else if(0==b.state){this._select.Load("m2");this._select.type="";b.Load("h2");b.state=0;this.fail(3);break}else if(2==b.state){this._select.Load("m2");this._select.type="";b.Load("hp1");b.state=0;this.fail(5);break}if(null!=ta.p?a.existsReserved("p"):a.h.hasOwnProperty("p")){a=null!=ta.p?a.getReserved("p"):a.h.p;this._select.Load("m2");this._select.type=
"";a.Load("p2");a.state=0;this.fail(4);break}break;case "p":if(null!=ta.h?a.existsReserved("h"):a.h.hasOwnProperty("h"))if(b=null!=ta.h?a.getReserved("h"):a.h.h,0==b.state)this._select.Load(""),this._select.type="",b.Load("hp"),b.state=2;else if(1==b.state){this._select.Load("p1");this._select.type="";b.Load("h");this.fail(2);break}else if(4==b.state){this._select.Load("");this._select.type="";b.Load("hp");this.win();break}if(null!=ta.m?a.existsReserved("m"):a.h.hasOwnProperty("m"))(null!=ta.m?a.getReserved("m"):
a.h.m).Load("m2"),this._select.Load("p2"),this.fail(4)}},__class__:mf};var x=function(){};g.HxOverrides=x;x.__name__=["HxOverrides"];x.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new B("Invalid date format : "+
a);}};x.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};x.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};x.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};x.remove=function(a,b){var c=x.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};x.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var sd=function(){this.length=0};g.List=sd;sd.__name__=["List"];sd.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},__class__:sd};Math.__name__=["Math"];var Xg=function(){};g["openfl.events.IEventDispatcher"]=Xg;Xg.__name__=["openfl","events","IEventDispatcher"];var na=
function(a){null!=a&&(this.__targetDispatcher=a)};g["openfl.events.EventDispatcher"]=na;na.__name__=["openfl","events","EventDispatcher"];na.__interfaces__=[Xg];na.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};na.prototype={addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new E,this.__eventMap=new E,this.__newEventMap=new E);if(this.__eventMap.exists(a)){1==this.__dispatching.get(a)?this.__newEventMap.exists(a)?
e=this.__newEventMap.get(a):(e=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,e)):e=this.__eventMap.get(a);a=0;for(var f=e.length;a<f;){var h=a++;if(X.compareMethods(e[h].callback,b))return}e.push(new ce(b,c,d));e.sort(na.__sortByPriority)}else e=[],e.push(new ce(b,c,d)),this.__eventMap.set(a,e)},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==this.__eventMap?!1:1==this.__dispatching.get(a)&&
this.__newEventMap.exists(a)?0<this.__newEventMap.get(a).length:this.__eventMap.exists(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap.get(a);if(null!=d){var e=1==this.__dispatching.get(a);e&&(this.__newEventMap.exists(a)?d=this.__newEventMap.get(a):(d=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,d)));for(var f=0,h=d.length;f<h;){var u=f++;if(d[u].match(b,c)){d.splice(u,1);break}}e||(0==d.length&&this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()||
(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;if(1==this.__dispatching.get(b)){c=this.__newEventMap.get(b);if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(b);if(null==c)return!1;this.__dispatching.set(b,!0)}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var d=1==a.eventPhase,e=0,f;e<c.length;){f=c[e];if(f.useCapture==d&&(f.callback(a),a.__isCanceledNow))break;
f==c[e]&&e++}null!=this.__newEventMap&&this.__newEventMap.exists(b)&&(c=this.__newEventMap.get(b),0<c.length?this.__eventMap.set(b,c):this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(b):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(a.type,!1);return!0},__class__:na};var de=function(){};g["openfl.display.IBitmapDrawable"]=de;de.__name__=["openfl","display","IBitmapDrawable"];de.prototype={__class__:de};var Q=function(){this.__cacheAsBitmapSmooth=
!0;this.__maskCached=this.__cacheAsBitmap=!1;na.call(this);this.__alpha=1;this.__transform=new Ea;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new Ea;this.__offset=new Ua;this.__worldOffset=new Ua;this.__worldAlpha=1;this.__worldTransform=new Ea;this.__worldColorTransform=new bc;this.__worldVisible=!0;this.set_name("instance"+ ++Q.__instanceCount)};g["openfl.display.DisplayObject"]=Q;Q.__name__=["openfl","display","DisplayObject"];Q.__interfaces__=
[de];Q.__super__=na;Q.prototype=r(na.prototype,{globalToLocal:function(a){a=a.clone();this.__getWorldTransform().__transformInversePoint(a);return a},__broadcast:function(a,b){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var c=na.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:c}return!1},__dispatchEvent:function(a){var b=na.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&
(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,b);else{var c=oa.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height)}},__getWorldTransform:function(){if(this.__transformDirty||0<Q.__worldTransformDirty){var a=
[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,
b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(a){null!=this.__graphics&&yg.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&ia.renderMask(this.__graphics,a)},__renderCanvas:function(a){null!=this.__graphics&&zg.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a)},__renderDOM:function(a){null!=this.__graphics&&Ag.render(this,a)},__renderGL:function(a){!this.__renderable||
0>=this.__worldAlpha||(this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?A.render(this,a):(k.render(this.__graphics,a),ub.renderBitmap(this,a))),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),
null!=this.__scrollRect&&a.maskManager.popRect()))},__cacheGL:function(a){var b=null!=this.__cacheAsBitmapMatrix,c=this.__cachedBitmapBounds.x,d=this.__cachedBitmapBounds.y,e=this.__cachedBitmapBounds.width,f=this.__cachedBitmapBounds.height;null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new Ea);b?(b=oa.__temp,this.__cachedBitmapBounds.__transform(b,this.__cacheAsBitmapMatrix),c=b.x,d=b.y,e=b.width,f=b.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()):this.__cacheGLMatrix.identity();
if(!(0>=e&&0>=f)){if(this.__updateCachedBitmap||this.__updateFilters)null!=this.__cachedFilterBounds&&(e+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),f+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=pb.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(e),Math.ceil(f)),e=this.__cacheGLMatrix.clone(),e.translate(-c,-d),b=this.__shader,this.__shader=null,this.__cachedBitmap.__drawGL(a,
this,e,null,null,null,!0,!1,!0),this.__shader=b,this.__updateCachedBitmap=!1;this.__updateFilters&&(nc.__applyFilters(this.__filters,a,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1);this.__cacheGLMatrix.invert();this.__cacheGLMatrix.__translateTransformed(c,d);this.__cacheGLMatrix.concat(this.__renderTransform);this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);a.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,
this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}},__setStageReference:function(a){this.stage!=a&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new O("removedFromStage",!1,!1))),this.stage=a,null!=a&&this.dispatchEvent(new O("addedToStage",!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,
Q.__worldRenderDirty++)},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);b&&this.__transformDirty&&(this.__transformDirty=!1,Q.__worldTransformDirty--);a||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new Uc),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=
!0);null!=c&&this.__updateMask(c);!a&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new oa),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,Ea.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new oa),this.__cachedFilterBounds.setEmpty(),
nc.__expandBounds(this.__filters,this.__cachedFilterBounds,Ea.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));a||(this.__worldTransformChanged=!this.__worldTransform.equals(this.__worldTransformCache),null==this.__worldTransformCache?this.__worldTransformCache=this.__worldTransform.clone():this.__worldTransformCache.copyFrom(this.__worldTransform),a=null,this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||
(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=this.parent?(c=this.parent.__worldVisible&&this.get_visible(),this.__worldVisibleChanged=this.__worldVisible!=c,this.__worldVisible=c,c=this.get_alpha()*this.parent.__worldAlpha,this.__worldAlphaChanged=this.__worldAlpha!=c,this.__worldAlpha=c,null!=this.parent.__worldClip&&(a=this.parent.__worldClip.clone()),null!=this.get_scrollRect()&&(c=this.get_scrollRect().clone(),c.__transform(c,this.__worldTransform),null!=
a&&c.__contract(a.x-this.get_scrollRect().x,a.y-this.get_scrollRect().y,a.width,a.height),a=c)):(this.__worldAlpha=this.get_alpha(),this.__worldVisibleChanged=this.__worldVisible!=this.get_visible(),this.__worldVisible=this.get_visible(),this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha(),null!=this.get_scrollRect()&&(a=this.get_scrollRect().clone(),a.__transform(a,this.__worldTransform))),this.__worldClipChanged=null==a&&null!=this.__worldClip||null!=a&&!a.equals(this.__worldClip),this.__worldClip=
a,b&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(a){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,Q.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&
(a.__bounds=new oa),this.__graphics.__getBounds(a.__bounds,Ea.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a.clone():this.__transform;null==this.__worldTransform&&(this.__worldTransform=new Ea);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__worldOffset.setTo(0,0)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=
a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},get_alpha:function(){return this.__alpha},
get_cacheAsBitmap:function(){return this.__cacheAsBitmap},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_height:function(a){var b=new oa,c=Ea.__temp;c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_mask:function(){return this.__mask},get_mouseX:function(){var a;a=null!=this.stage?this.stage.__mouseX:aa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:aa.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(a,
b)},get_mouseY:function(){var a;a=null!=this.stage?this.stage.__mouseX:aa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:aa.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(a,b)},set_name:function(a){return this.__name=a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.c)a==this.__transform.a||this.__transformDirty||
(this.__transformDirty=!0,Q.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==
this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=
new sf(this));return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,Q.__worldRenderDirty++);return this.__visible=a},set_width:function(a){var b=new oa,c=Ea.__temp;c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);return a},get_x:function(){return this.__transform.tx},
set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++);return this.__transform.ty=a},__class__:Q,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",set_visible:"set_visible",
get_visible:"get_visible",get_transform:"get_transform",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_mask:"get_mask",set_height:"set_height",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",get_alpha:"get_alpha"}});var Va=function(){Q.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};g["openfl.display.InteractiveObject"]=
Va;Va.__name__=["openfl","display","InteractiveObject"];Va.__super__=Q;Va.prototype=r(Q.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:Q.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:Va,__properties__:r(Q.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});
var db=function(){Va.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};g["openfl.display.DisplayObjectContainer"]=db;db.__name__=["openfl","display","DisplayObjectContainer"];db.__super__=Va;db.prototype=r(Va.prototype,{addChild:function(a){if(null!=a){null!=a.parent&&a.parent.removeChild(a);this.__children.push(a);a.parent=this;null!=this.stage&&a.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,Q.__worldTransformDirty++);a.__renderDirty||(a.__updateCachedBitmap=
!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,Q.__worldRenderDirty++);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,Q.__worldRenderDirty++);var b=new O("added",!0);b.target=a;a.__dispatchEvent(b)}return a},removeChild:function(a){null!=a&&a.parent==this&&(a.__dispatchEvent(new O("removed",!0)),null!=this.stage&&a.__setStageReference(null),a.parent=null,x.remove(this.__children,
a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,Q.__worldTransformDirty++),a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,Q.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,Q.__worldRenderDirty++));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?
this.removeChild(this.__children[a]):null},__broadcast:function(a,b){null==a.target&&(a.target=this);var c=Va.prototype.__broadcast.call(this,a,b);if(!a.__isCanceled&&b)for(var d=0,e=this.__children;d<e.length;){var f=e[d];++d;f.__broadcast(a,!0);if(a.__isCanceled)return!0}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){Va.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),
this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)Va.prototype.__getRenderBounds.call(this,a,b);else if(Va.prototype.__getBounds.call(this,a,b),0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=
d[c];++c;0==e.get_scaleX()||0==e.get_scaleY()||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new Ua(a,b))))return!1;var h=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=
--h;){if(this.__children[h].__hitTest(a,b,c,null,!0,this.__children[h]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(var u=!1,M=!1;0<=--h&&!(((u=this.__children[h].__getInteractive(null))||this.mouseEnabled&&!M)&&this.__children[h].__hitTest(a,b,c,d,!0,this.__children[h])&&(M=!0,u)););if(M)return d.splice(e,0,f),!0}}else for(;0<=--h;)this.__children[h].__hitTest(a,b,c,d,!1,this.__children[h]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,
b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Va.prototype.__renderCairo.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();
null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCairoMask:function(a){null!=this.__graphics&&ia.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Va.prototype.__renderCanvas.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=
0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a);var b=new oa;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){Va.prototype.__renderDOM.call(this,a);null!=
this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__renderDOM(a);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask()},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha))if(this.__cacheAsBitmap)this.__cacheGL(a);else{null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,
this.__renderTransform);null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this);null!=this.__graphics&&(this.__graphics.__hardware?A.render(this,a):(k.render(this.__graphics,a),ub.renderBitmap(this,a)));for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask();null!=this.__scrollRect&&a.maskManager.popRect();
0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(a){if(this.stage!=a&&(null!=this.stage&&this.__dispatchEvent(new O("removedFromStage",!1,!1)),this.stage=a,null!=a&&this.__dispatchEvent(new O("addedToStage",!1,!1)),null!=this.__children))for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){Va.prototype.__update.call(this,a,b,c);if((this.__renderable||this.__isMask||
this.__worldAlphaChanged||this.__worldClipChanged||this.__worldTransformChanged||this.__worldVisibleChanged)&&b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){Va.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:db,__properties__:r(Va.prototype.__properties__,{get_numChildren:"get_numChildren"})});var Rb=
function(){db.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=oc.create(null)};g["openfl.display.Sprite"]=Rb;Rb.__name__=["openfl","display","Sprite"];Rb.__super__=db;Rb.prototype=r(db.prototype,{__getCursor:function(){return this.buttonMode&&this.useHandCursor?S.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=
f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(db.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return db.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?
!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Uc,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:Rb,__properties__:r(db.prototype.__properties__,{get_graphics:"get_graphics"})});var Yb=function(){Rb.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new Rb;this.outline.get_graphics().beginFill(b,
.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new Rb;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};g.NMEPreloader=Yb;Yb.__name__=["NMEPreloader"];Yb.__super__=Rb;Yb.prototype=r(Rb.prototype,{getBackgroundColor:function(){return 11259375},getHeight:function(){return aa.current.stage.stageHeight},
getWidth:function(){return aa.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new O("complete"))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:Yb});var be=function(){nb.call(this)};g.ProgressPanel=be;be.__name__=["ProgressPanel"];be.__super__=nb;be.prototype=r(nb.prototype,{SetProgress:function(a){this._img.set_fillAmount(a)},onConstruct:function(){nb.prototype.onConstruct.call(this);this.Load("ui/rating-panel.png");this._img=
new nb;this._img.set_fillAmount(1);this._img.set_imageType(3);this._img.set_fillMethod(2);this._img.set_fillDirection(3);this._img.set_imagePivotY(0);this._img.set_y(-10);this._img.set_x(-1);this._img.Load("ui/rating-bar.png");this.AddChild(this._img);this._img.set_height(172);this._img.set_z(.4)},__class__:be});var X=function(){};g.Reflect=X;X.__name__=["Reflect"];X.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};X.field=function(a,b){try{return a[b]}catch(c){return c instanceof
B&&(c=c.val),null}};X.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};X.callMethod=function(a,b,c){return b.apply(a,c)};X.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};X.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};X.compareMethods=function(a,b){return a==b?!0:X.isFunction(a)&&X.isFunction(b)?
a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};X.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var ha=function(){};g.Std=ha;ha.__name__=["Std"];ha.string=function(a){return N.__string_rec(a,"")};ha["int"]=function(a){return a|0};ha.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=x.cca(a,1)&&88!=x.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};ha.parseFloat=function(a){return parseFloat(a)};var ee=function(){this.b=""};g.StringBuf=
ee;ee.__name__=["StringBuf"];ee.prototype={add:function(a){this.b+=ha.string(a)},__class__:ee};var L=function(){};g.StringTools=L;L.__name__=["StringTools"];L.urlEncode=function(a){return encodeURIComponent(a)};L.startsWith=function(a,b){return a.length>=b.length&&x.substr(a,0,b.length)==b};L.isSpace=function(a,b){var c=x.cca(a,b);return 8<c&&14>c||32==c};L.ltrim=function(a){for(var b=a.length,c=0;c<b&&L.isSpace(a,c);)c++;return 0<c?x.substr(a,c,b-c):a};L.rtrim=function(a){for(var b=a.length,c=0;c<
b&&L.isSpace(a,b-c-1);)c++;return 0<c?x.substr(a,0,b-c):a};L.trim=function(a){return L.ltrim(L.rtrim(a))};L.replace=function(a,b,c){return a.split(b).join(c)};L.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};L.fastCodeAt=function(a,b){return a.charCodeAt(b)};var rf=function(){this.x=this.y=0};g.TileSet=rf;rf.__name__=["TileSet"];rf.prototype={parse:function(a){a=a.split(",");this.y=ha.parseInt(a[0]);this.x=ha.parseInt(a[1]);
this.moved=ha.parseInt(a[2]);this.width=ha.parseInt(a[3]);this.height=ha.parseInt(a[4]);this._objectid=a[5];this._image=new nb;this._image.set_imagePivotX(this._image.set_imagePivotY(0));this._image.Load("tile/"+this.moved+""+this.width+""+this.height+".png",!0);this.state=0;this.type="";if(null!=this._objectid){switch(this._objectid){case "h":case "s":case "p":case "m":this.type=this._objectid}this.Load(this._objectid)}this.RefreshPosition()},RefreshPosition:function(){this._image.set_x(96*this.x);
this._image.set_y(96*-this.y);this._image.set_z(.1*this.y)},Load:function(a){null==this._child&&(this._child=new nb,this._child.set_imagePivotY(.8),this._child.set_scaleX(this._child.set_scaleY(.65)),this._child.set_x(48*this.width),this._child.set_y(48*-this.height),this._image.AddChild(this._child),this._child.set_z(1));""==a?this._child.Load(""):this._child.Load("object/"+a+".png",!0)},Destroy:function(){null!=this._image&&this._image.Dispose();null!=this._child&&this._child.Dispose();this._child=
this._image=null},__class__:rf};var ba=g.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};ba.TNull=["TNull",0];ba.TNull.toString=v;ba.TNull.__enum__=ba;ba.TInt=["TInt",1];ba.TInt.toString=v;ba.TInt.__enum__=ba;ba.TFloat=["TFloat",2];ba.TFloat.toString=v;ba.TFloat.__enum__=ba;ba.TBool=["TBool",3];ba.TBool.toString=v;ba.TBool.__enum__=ba;ba.TObject=["TObject",4];ba.TObject.toString=v;ba.TObject.__enum__=ba;ba.TFunction=["TFunction",
5];ba.TFunction.toString=v;ba.TFunction.__enum__=ba;ba.TClass=function(a){a=["TClass",6,a];a.__enum__=ba;a.toString=v;return a};ba.TEnum=function(a){a=["TEnum",7,a];a.__enum__=ba;a.toString=v;return a};ba.TUnknown=["TUnknown",8];ba.TUnknown.toString=v;ba.TUnknown.__enum__=ba;var xa=function(){};g.Type=xa;xa.__name__=["Type"];xa.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};xa.getEnumName=function(a){return a.__ename__.join(".")};xa.resolveClass=function(a){a=g[a];return null!=
a&&a.__name__?a:null};xa.resolveEnum=function(a){a=g[a];return null!=a&&a.__ename__?a:null};xa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7]);default:throw new B("Too many arguments");}};xa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};xa.createEnum=function(a,b,c){var d=X.field(a,b);if(null==d)throw new B("No such constructor "+b);if(X.isFunction(d)){if(null==c)throw new B("Constructor "+b+" need parameters");return X.callMethod(a,d,c)}if(null!=c&&0!=c.length)throw new B("Constructor "+b+" does not need parameters");return d};xa.getClassFields=function(a){a=X.fields(a);x.remove(a,"__name__");
x.remove(a,"__interfaces__");x.remove(a,"__properties__");x.remove(a,"__super__");x.remove(a,"__meta__");x.remove(a,"prototype");return a};xa.getEnumConstructs=function(a){return a.__constructs__.slice()};xa["typeof"]=function(a){switch(typeof a){case "boolean":return ba.TBool;case "string":return ba.TClass(String);case "number":return Math.ceil(a)==a%2147483648?ba.TInt:ba.TFloat;case "object":if(null==a)return ba.TNull;var b=a.__enum__;if(null!=b)return ba.TEnum(b);a=N.getClass(a);return null!=a?
ba.TClass(a):ba.TObject;case "function":return a.__name__||a.__ename__?ba.TObject:ba.TFunction;case "undefined":return ba.TNull;default:return ba.TUnknown}};var ab={};g["_UInt.UInt_Impl_"]=ab;ab.__name__=["_UInt","UInt_Impl_"];ab.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};ab.toFloat=function(a){return 0>a?4294967296+a:a+0};var Vc=function(){this.a1=1;this.a2=0};g["format.tools.Adler32"]=Vc;Vc.__name__=["format","tools","Adler32"];Vc.read=function(a){var b=new Vc,c=a.readByte(),d=a.readByte(),
e=a.readByte();a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};Vc.prototype={update:function(a,b,c){var d=this.a1,e=this.a2,f=b;for(b+=c;f<b;)c=f++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;this.a2=e},equals:function(a){return a.a1==this.a1&&a.a2==this.a2},__class__:Vc};var cc=g["format.tools.Huffman"]={__ename__:["format","tools","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};cc.Found=function(a){a=["Found",0,a];a.__enum__=cc;a.toString=v;return a};cc.NeedBit=function(a,b){var c=["NeedBit",
1,a,b];c.__enum__=cc;c.toString=v;return c};cc.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=cc;c.toString=v;return c};var tf=function(){};g["format.tools.HuffTools"]=tf;tf.__name__=["format","tools","HuffTools"];tf.prototype={treeDepth:function(a){switch(a[1]){case 0:return 0;case 2:throw new B("assert");case 1:var b=a[3];a=this.treeDepth(a[2]);b=this.treeDepth(b);return 1+(a<b?a:b)}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b)switch(a[1]){case 1:return b=
a[3],cc.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));default:throw new B("assert");}for(var c=1<<b,d=[],e=0;e<c;)e++,d.push(cc.Found(-1));this.treeWalk(d,0,0,b,a);return cc.NeedBits(b,d)},treeWalk:function(a,b,c,d,e){switch(e[1]){case 1:var f=e[3],h=e[2];0<d?(this.treeWalk(a,b,c+1,d-1,h),this.treeWalk(a,b|1<<c,c+1,d-1,f)):a[b]=this.treeCompress(e);break;default:a[b]=this.treeCompress(e)}},treeMake:function(a,b,c,d){if(d>b)throw new B("Invalid huffman");var e=c<<5|d;if(a.h.hasOwnProperty(e))return cc.Found(a.h[e]);
c<<=1;d+=1;return cc.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,c|1,d))},make:function(a,b,c,d){var e=[],f=[];if(32<d)throw new B("Invalid huffman");for(var h=0;h<d;)h++,e.push(0),f.push(0);for(h=0;h<c;){var u=h++,u=a[u+b];if(u>=d)throw new B("Invalid huffman");e[u]++}for(var h=0,u=1,M=d-1;u<M;){var g=u++,h=h+e[g]<<1;f[g]=h}e=new Wa;for(h=0;h<c;)u=h++,M=a[u+b],0!=M&&(g=f[M-1],f[M-1]=g+1,e.h[g<<5|M]=u);return this.treeCompress(cc.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},__class__:tf};
var Bg=function(){};g["format.tools.Inflate"]=Bg;Bg.__name__=["format","tools","Inflate"];Bg.run=function(a){return Oa.run(new fe(a))};var uf=function(a){this.buffer=pa.alloc(65536);this.pos=0;a&&(this.crc=new Vc)};g["format.tools._InflateImpl.Window"]=uf;uf.__name__=["format","tools","_InflateImpl","Window"];uf.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=pa.alloc(65536);this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},addBytes:function(a,
b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:uf};var da=g["format.tools._InflateImpl.State"]={__ename__:["format","tools","_InflateImpl","State"],__constructs__:"Head Block CData Flat Crc Dist DistOne Done".split(" ")};
da.Head=["Head",0];da.Head.toString=v;da.Head.__enum__=da;da.Block=["Block",1];da.Block.toString=v;da.Block.__enum__=da;da.CData=["CData",2];da.CData.toString=v;da.CData.__enum__=da;da.Flat=["Flat",3];da.Flat.toString=v;da.Flat.__enum__=da;da.Crc=["Crc",4];da.Crc.toString=v;da.Crc.__enum__=da;da.Dist=["Dist",5];da.Dist.toString=v;da.Dist.__enum__=da;da.DistOne=["DistOne",6];da.DistOne.toString=v;da.DistOne.__enum__=da;da.Done=["Done",7];da.Done.toString=v;da.Done.__enum__=da;var Oa=function(a,b,c){null==
c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new tf;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?da.Head:da.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new uf(c)};g["format.tools.InflateImpl"]=Oa;Oa.__name__=["format","tools","InflateImpl"];Oa.run=function(a,b){null==b&&(b=65536);for(var c=pa.alloc(b),d=new vf,e=new Oa(a);;){var f=e.readBytes(c,
0,b);d.addBytes(c,0,f);if(f<b)break}return d.getBytes()};Oa.prototype={buildFixedHuffman:function(){if(null!=Oa.FIXED_HUFFMAN)return Oa.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}Oa.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return Oa.FIXED_HUFFMAN},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=
8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},addByte:function(a){this.window.addByte(a);
this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a[1]){case 0:return a[2];case 1:var b=a[3];a=a[2];return this.applyHuffman(this.getBit()?b:a);case 2:return this.applyHuffman(a[3][this.getBits(a[2])])}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);
switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=e;a[c]=e;c++;break;case 16:e=c+3+this.getBits(2);if(e>b)throw new B("Invalid data");for(;c<e;)a[c]=d,c++;break;case 17:c+=3+this.getBits(3);if(c>b)throw new B("Invalid data");break;case 18:c+=11+this.getBits(7);if(c>b)throw new B("Invalid data");break;default:throw new B("Invalid data");}}},inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();
if(8!=(a&15))throw new B("Invalid data");var b=this.input.readByte(),c=0!=(b&32);if(0!=((a<<8)+b)%31)throw new B("Invalid data");if(c)throw new B("Unsupported dictionary");this.state=da.Block;return!0;case 4:a=this.window.checksum();if(null==a)return this.state=da.Done,!0;b=Vc.read(this.input);if(!a.equals(b))throw new B("Invalid CRC");this.state=da.Done;return!0;case 7:return!1;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=
65535-this.len)throw new B("Invalid data");this.state=da.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=da.CData,!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,d=0;d<c;){var e=d++;this.lengths[Oa.CODE_LENGTHS_POS[e]]=this.getBits(3)}for(;19>c;)d=c++,this.lengths[Oa.CODE_LENGTHS_POS[d]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];d=0;for(e=a+b;d<e;)d++,c.push(0);this.inflateLengths(c,
a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=da.CData;return!0;default:throw new B("Invalid data");}case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?da.Crc:da.Block),0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=da.CData),0<this.needed;case 5:for(;0<this.len&&0<this.needed;)a=
this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=da.CData);return 0<this.needed;case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?da.Crc:da.Block;else{b-=257;a=Oa.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw new B("Invalid data");this.len=Oa.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=Oa.DIST_EXTRA_BITS_TBL[b];
if(-1==a)throw new B("Invalid data");this.dist=Oa.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw new B("Invalid data");this.state=1==this.dist?da.DistOne:da.Dist}return!0}},__class__:Oa};var wf=function(){};g["haxe.IMap"]=wf;wf.__name__=["haxe","IMap"];var xf=function(a,b){this.high=a;this.low=b};g["haxe._Int64.___Int64"]=xf;xf.__name__=["haxe","_Int64","___Int64"];xf.prototype={__class__:xf};var Xb=function(){this.buf=new ee;this.cache=[];this.useCache=Xb.USE_CACHE;
this.useEnumIndex=Xb.USE_ENUM_INDEX;this.shash=new E;this.scount=0};g["haxe.Serializer"]=Xb;Xb.__name__=["haxe","Serializer"];Xb.run=function(a){var b=new Xb;b.serialize(a);return b.toString()};Xb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+
(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=X.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(X.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=xa["typeof"](a);
switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=
0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case sd:this.buf.b+="l";a=a.h;for(b=null;null!=a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(a.getTime());break;case E:this.buf.b+=
"b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=ta[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Wa:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case pc:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=X.field(c,"__id__"),X.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+=
"h";break;case pa:d=0;e=a.length-2;b=new ee;for(c=Xb.BASE64;d<e;){var f=a.get(d++),h=a.get(d++),u=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|h>>4)&63));b.add(c.charAt((h<<2|u>>6)&63));b.add(c.charAt(u&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=
":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(xa.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(xa.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(N.__instanceof(a,ah))a=xa.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(N.__instanceof(a,bh))this.buf.b+=
"B",this.serializeString(xa.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(xa.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=ha.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=ha.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);
this.useCache&&this.cache.push(a);break;case 5:throw new B("Cannot serialize function");default:throw new B("Cannot serialize "+ha.string(a));}},__class__:Xb};var qc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};g["haxe.Timer"]=qc;qc.__name__=["haxe","Timer"];qc.delay=function(a,b){var c=new qc(b);c.run=function(){c.stop();a()};return c};qc.stamp=function(){return(new Date).getTime()/1E3};qc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},
__class__:qc};var Fb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Fb.DEFAULT_RESOLVER;null==a&&(a=xa,Fb.DEFAULT_RESOLVER=a);this.setResolver(a)};g["haxe.Unserializer"]=Fb;Fb.__name__=["haxe","Unserializer"];Fb.initCodes=function(){for(var a=[],b=0,c=Fb.BASE64.length;b<c;){var d=b++;a[Fb.BASE64.charCodeAt(d)]=d}return a};Fb.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},
get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return ha.parseFloat(x.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new B("Invalid object");
if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new B("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new B("Invalid enum format");var c=this.readDigits();if(0==c)return xa.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return xa.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;
case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new B("Invalid string length");var b=x.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==
b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new B("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new B("Invalid string reference");return this.scache[a];case 120:throw new B(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==
b)throw new B("Class not found "+a);a=xa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new B("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new B("Enum not found "+a);this.pos++;var c=this.readDigits(),d=xa.getEnumConstructs(b)[c];if(null==d)throw new B("Unknown enum index "+
a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new sd;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new E;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Wa;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new B("Invalid IntMap format");
return a;case 77:a=new pc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=
x.substr(this.buf,this.pos,19),a=x.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new B("Invalid bytes length");var e=Fb.CODES;null==e&&(e=Fb.initCodes(),Fb.CODES=e);for(var f=this.pos,h=a&3,u=f+(a-h),b=pa.alloc(3*(a>>2)+(2<=h?h-1:0)),c=0;f<u;){var M=e[L.fastCodeAt(d,f++)],g=e[L.fastCodeAt(d,f++)];b.set(c++,M<<2|g>>4);M=e[L.fastCodeAt(d,f++)];b.set(c++,
g<<4|M>>2);g=e[L.fastCodeAt(d,f++)];b.set(c++,M<<6|g)}2<=h&&(g=e[L.fastCodeAt(d,f++)],u=e[L.fastCodeAt(d,f++)],b.set(c++,g<<2|u>>4),3==h&&(d=e[L.fastCodeAt(d,f++)],b.set(c++,u<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new B("Class not found "+a);a=xa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new B("Invalid custom data");return a;case 65:a=this.unserialize();
b=this.resolver.resolveClass(a);if(null==b)throw new B("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new B("Enum not found "+a);return b}this.pos--;throw new B("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Fb};var yf=function(){};g["haxe.Utf8"]=yf;yf.__name__=["haxe","Utf8"];yf.iter=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;b(x.cca(a,e))}};var Cg=function(){};g["haxe.crypto.Crc32"]=Cg;Cg.__name__=
["haxe","crypto","Crc32"];Cg.make=function(a){var b=-1,c=a.b.bufferValue,d=0;for(a=a.length;d<a;){for(var e=d++,e=(b^c.bytes[e])&255,f=0;8>f;)f++,e=1==(e&1)?e>>>1^-306674912:e>>>1;b=b>>>8^e}return b^-1};var Ec=function(){};g["haxe.crypto.Md5"]=Ec;Ec.__name__=["haxe","crypto","Md5"];Ec.encode=function(a){var b=new Ec;a=b.doEncode(Ec.str2blks(a));return b.hex(a)};Ec.str2blks=function(a){for(var b=(a.length+8>>6)+1,c=[],d=16*b,e=0;e<d;){var f=e++;c[f]=0}for(d=0;d<a.length;)c[d>>2]|=x.cca(a,d)<<(8*a.length+
d)%4*8,d++;c[d>>2]|=128<<(8*a.length+d)%4*8;a=8*a.length;b=16*b-2;c[b]=a&255;c[b]|=(a>>>8&255)<<8;c[b]|=(a>>>16&255)<<16;c[b]|=(a>>>24&255)<<24;return c};Ec.prototype={bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitAND:function(a,b){return(a>>>1&b>>>1)<<1|a&1&b&1},addme:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},hex:function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;for(var e=0;4>e;)var f=e++,
b=b+("0123456789abcdef".charAt(d>>8*f+4&15)+"0123456789abcdef".charAt(d>>8*f&15))}return b},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,c,d,e,f){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(d,f)),e),c)},ff:function(a,b,c,d,e,f,h){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(~b,d)),a,b,e,f,h)},gg:function(a,b,c,d,e,f,h){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(c,~d)),a,b,e,f,h)},hh:function(a,b,c,d,e,f,h){return this.cmn(this.bitXOR(this.bitXOR(b,
c),d),a,b,e,f,h)},ii:function(a,b,c,d,e,f,h){return this.cmn(this.bitXOR(c,this.bitOR(b,~d)),a,b,e,f,h)},doEncode:function(a){for(var b=1732584193,c=-271733879,d=-1732584194,e=271733878,f=0;f<a.length;)var h=b,u=c,M=d,g=e,b=this.ff(b,c,d,e,a[f],7,-680876936),e=this.ff(e,b,c,d,a[f+1],12,-389564586),d=this.ff(d,e,b,c,a[f+2],17,606105819),c=this.ff(c,d,e,b,a[f+3],22,-1044525330),b=this.ff(b,c,d,e,a[f+4],7,-176418897),e=this.ff(e,b,c,d,a[f+5],12,1200080426),d=this.ff(d,e,b,c,a[f+6],17,-1473231341),c=
this.ff(c,d,e,b,a[f+7],22,-45705983),b=this.ff(b,c,d,e,a[f+8],7,1770035416),e=this.ff(e,b,c,d,a[f+9],12,-1958414417),d=this.ff(d,e,b,c,a[f+10],17,-42063),c=this.ff(c,d,e,b,a[f+11],22,-1990404162),b=this.ff(b,c,d,e,a[f+12],7,1804603682),e=this.ff(e,b,c,d,a[f+13],12,-40341101),d=this.ff(d,e,b,c,a[f+14],17,-1502002290),c=this.ff(c,d,e,b,a[f+15],22,1236535329),b=this.gg(b,c,d,e,a[f+1],5,-165796510),e=this.gg(e,b,c,d,a[f+6],9,-1069501632),d=this.gg(d,e,b,c,a[f+11],14,643717713),c=this.gg(c,d,e,b,a[f],
20,-373897302),b=this.gg(b,c,d,e,a[f+5],5,-701558691),e=this.gg(e,b,c,d,a[f+10],9,38016083),d=this.gg(d,e,b,c,a[f+15],14,-660478335),c=this.gg(c,d,e,b,a[f+4],20,-405537848),b=this.gg(b,c,d,e,a[f+9],5,568446438),e=this.gg(e,b,c,d,a[f+14],9,-1019803690),d=this.gg(d,e,b,c,a[f+3],14,-187363961),c=this.gg(c,d,e,b,a[f+8],20,1163531501),b=this.gg(b,c,d,e,a[f+13],5,-1444681467),e=this.gg(e,b,c,d,a[f+2],9,-51403784),d=this.gg(d,e,b,c,a[f+7],14,1735328473),c=this.gg(c,d,e,b,a[f+12],20,-1926607734),b=this.hh(b,
c,d,e,a[f+5],4,-378558),e=this.hh(e,b,c,d,a[f+8],11,-2022574463),d=this.hh(d,e,b,c,a[f+11],16,1839030562),c=this.hh(c,d,e,b,a[f+14],23,-35309556),b=this.hh(b,c,d,e,a[f+1],4,-1530992060),e=this.hh(e,b,c,d,a[f+4],11,1272893353),d=this.hh(d,e,b,c,a[f+7],16,-155497632),c=this.hh(c,d,e,b,a[f+10],23,-1094730640),b=this.hh(b,c,d,e,a[f+13],4,681279174),e=this.hh(e,b,c,d,a[f],11,-358537222),d=this.hh(d,e,b,c,a[f+3],16,-722521979),c=this.hh(c,d,e,b,a[f+6],23,76029189),b=this.hh(b,c,d,e,a[f+9],4,-640364487),
e=this.hh(e,b,c,d,a[f+12],11,-421815835),d=this.hh(d,e,b,c,a[f+15],16,530742520),c=this.hh(c,d,e,b,a[f+2],23,-995338651),b=this.ii(b,c,d,e,a[f],6,-198630844),e=this.ii(e,b,c,d,a[f+7],10,1126891415),d=this.ii(d,e,b,c,a[f+14],15,-1416354905),c=this.ii(c,d,e,b,a[f+5],21,-57434055),b=this.ii(b,c,d,e,a[f+12],6,1700485571),e=this.ii(e,b,c,d,a[f+3],10,-1894986606),d=this.ii(d,e,b,c,a[f+10],15,-1051523),c=this.ii(c,d,e,b,a[f+1],21,-2054922799),b=this.ii(b,c,d,e,a[f+8],6,1873313359),e=this.ii(e,b,c,d,a[f+
15],10,-30611744),d=this.ii(d,e,b,c,a[f+6],15,-1560198380),c=this.ii(c,d,e,b,a[f+13],21,1309151649),b=this.ii(b,c,d,e,a[f+4],6,-145523070),e=this.ii(e,b,c,d,a[f+11],10,-1120210379),d=this.ii(d,e,b,c,a[f+2],15,718787259),c=this.ii(c,d,e,b,a[f+9],21,-343485551),b=this.addme(b,h),c=this.addme(c,u),d=this.addme(d,M),e=this.addme(e,g),f=f+16;return[b,c,d,e]},__class__:Ec};var Wa=function(){this.h={}};g["haxe.ds.IntMap"]=Wa;Wa.__name__=["haxe","ds","IntMap"];Wa.__interfaces__=[wf];Wa.prototype={set:function(a,
b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return x.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Wa};var pc=function(){this.h={};this.h.__keys__={}};g["haxe.ds.ObjectMap"]=pc;pc.__name__=["haxe","ds","ObjectMap"];pc.__interfaces__=[wf];
pc.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++pc.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return x.iter(a)},__class__:pc};var zf=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};g["haxe.ds._StringMap.StringMapIterator"]=zf;zf.__name__=["haxe",
"ds","_StringMap","StringMapIterator"];zf.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:zf};var E=function(){this.h={}};g["haxe.ds.StringMap"]=E;E.__name__=["haxe","ds","StringMap"];E.__interfaces__=[wf];E.prototype={set:function(a,b){null!=ta[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=ta[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=ta[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},
setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=ta[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return x.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new zf(this,this.arrayKeys())},__class__:E};var Fc={};g["haxe.ds._Vector.Vector_Impl_"]=Fc;Fc.__name__=["haxe","ds","_Vector","Vector_Impl_"];Fc.blit=function(a,b,c,d,e){for(var f=0;f<e;){var h=f++;c[d+h]=a[b+h]}};var pa=function(a){this.length=a.byteLength;this.b=new rc(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};g["haxe.io.Bytes"]=pa;pa.__name__=["haxe","io","Bytes"];
pa.alloc=function(a){return new pa(new ge(a))};pa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=L.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|L.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new pa((new rc(b)).buffer)};pa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new pa(a)};pa.prototype={get:function(a){return this.b[a]},set:function(a,
b){this.b[a]=b&255},blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new B(bb.OutsideBounds);0==c&&d==b.length?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new B(bb.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,h=a+b;f<h;){var u=d[f++];if(128>u){if(0==u)break;c+=e(u)}else if(224>u)c+=e((u&63)<<6|d[f++]&127);else if(240>u)var M=d[f++],c=c+e((u&31)<<12|(M&127)<<6|d[f++]&127);else var M=d[f++],
g=d[f++],u=(u&15)<<18|(M&127)<<12|(g&127)<<6|d[f++]&127,c=c+e((u>>10)+55232),c=c+e(u&1023|56320)}return c},__class__:pa};var vf=function(){this.b=[]};g["haxe.io.BytesBuffer"]=vf;vf.__name__=["haxe","io","BytesBuffer"];vf.prototype={addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new B(bb.OutsideBounds);a=a.b;var d=b;for(b+=c;d<b;)c=d++,this.b.push(a[c])},getBytes:function(){var a=new pa((new rc(this.b)).buffer);this.b=null;return a},__class__:vf};var he=function(){};g["haxe.io.Input"]=he;
he.__name__=["haxe","io","Input"];he.prototype={readByte:function(){throw new B("Not implemented");},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw new B(bb.OutsideBounds);for(;0<d;)e[b]=this.readByte(),b++,d--;return c},read:function(a){for(var b=pa.alloc(a),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw new B(bb.Blocked);c+=d;a-=d}return b},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},__class__:he};var fe=function(a,
b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new B(bb.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=c};g["haxe.io.BytesInput"]=fe;fe.__name__=["haxe","io","BytesInput"];fe.__super__=he;fe.prototype=r(he.prototype,{readByte:function(){if(0==this.len)throw new B(new ie);this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new B(bb.OutsideBounds);if(0==this.len&&0<c)throw new B(new ie);this.len<c&&(c=this.len);var d=
this.b;a=a.b;for(var e=0;e<c;){var f=e++;a[b+f]=d[this.pos+f]}this.pos+=c;this.len-=c;return c},__class__:fe});var ie=function(){};g["haxe.io.Eof"]=ie;ie.__name__=["haxe","io","Eof"];ie.prototype={toString:function(){return"Eof"},__class__:ie};var bb=g["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};bb.Blocked=["Blocked",0];bb.Blocked.toString=v;bb.Blocked.__enum__=bb;bb.Overflow=["Overflow",1];bb.Overflow.toString=v;bb.Overflow.__enum__=
bb;bb.OutsideBounds=["OutsideBounds",2];bb.OutsideBounds.toString=v;bb.OutsideBounds.__enum__=bb;bb.Custom=function(a){a=["Custom",3,a];a.__enum__=bb;a.toString=v;return a};var dc=function(){};g["haxe.io.FPHelper"]=dc;dc.__name__=["haxe","io","FPHelper"];dc.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};dc.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/.6931471805599453);-127>c?
c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};dc.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};dc.doubleToI64=function(a){var b=dc.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|
0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Wc=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=x.substr(a,0,c),a=x.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=x.substr(a,0,b),a=x.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=x.substr(a,b+1,null),this.file=x.substr(a,0,b)):(this.ext=null,this.file=a)};g["haxe.io.Path"]=Wc;Wc.__name__=["haxe","io","Path"];Wc.withoutExtension=
function(a){a=new Wc(a);a.ext=null;return a.toString()};Wc.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Wc};var B=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,B)};g["js._Boot.HaxeError"]=B;B.__name__=["js","_Boot","HaxeError"];B.__super__=Error;B.prototype=r(Error.prototype,{__class__:B});var N=function(){};g["js.Boot"]=N;N.__name__=
["js","Boot"];N.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=N.__nativeClassName(a);return null!=a?N.__resolveNativeClass(a):null};N.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=
f?c+(","+N.__string_rec(a[f],b)):c+N.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+N.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(h){return h instanceof B&&(h=h.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==
c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+N.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};N.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||N.__interfLoop(f,b))return!0}return N.__interfLoop(a.__super__,b)};N.__instanceof=function(a,b){if(null==b)return!1;switch(b){case ch:return(a|0)===a;case Yg:return"number"==
typeof a;case dh:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case yh:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||N.__interfLoop(N.getClass(a),b))return!0}else{if("object"==typeof b&&N.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ah&&null!=a.__name__||b==bh&&null!=a.__ename__?!0:a.__enum__==b}};N.__cast=function(a,b){if(N.__instanceof(a,b))return a;throw new B("Cannot cast "+ha.string(a)+
" to "+ha.string(b));};N.__nativeClassName=function(a){a=N.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};N.__isNativeObj=function(a){return null!=N.__nativeClassName(a)};N.__resolveNativeClass=function(a){return Wg[a]};var Af=function(){};g["js.Browser"]=Af;Af.__name__=["js","Browser"];Af.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof B&&(b=b.val),null}};var ec=function(a){if(a instanceof Array&&
null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};g["js.html.compat.ArrayBuffer"]=ec;ec.__name__=["js","html","compat","ArrayBuffer"];ec.sliceImpl=function(a,b){var c=new rc(this,a,null==b?null:b-a),d=new ge(c.byteLength);(new rc(d)).set(c);return d};ec.prototype={slice:function(a,b){return new ec(this.a.slice(a,b))},__class__:ec};var Dg=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:
c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new B(bb.OutsideBounds);};g["js.html.compat.DataView"]=Dg;Dg.__name__=["js","html","compat","DataView"];Dg.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+
a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return dc.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return dc.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?
b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>
16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,dc.floatToI32(b),c)},setFloat64:function(a,b,c){b=dc.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Dg};var vc=function(){};g["js.html.compat.Uint8Array"]=vc;vc.__name__=["js","html","compat","Uint8Array"];vc._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=
0;c.buffer=new ec(c)}else if(N.__instanceof(a,ec))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new ec(c);else throw new B("TODO "+ha.string(a));c.subarray=vc._subarray;c.set=vc._set;return c};vc._set=function(a,b){if(N.__instanceof(a.buffer,ec)){if(a.byteLength+b>this.byteLength)throw new B("set() outside of range");for(var c=
0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new B("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new B("TODO");};vc._subarray=function(a,b){var c=vc._new(this.slice(a,b));c.byteOffset=a;return c};var Bf=function(){this.enabled=!0;this.audio=new E;this.font=new E;this.image=new E;this.version=ha["int"](1E6*Math.random())};g["lime.AssetCache"]=Bf;Bf.__name__=["lime","AssetCache"];
Bf.prototype={clear:function(a){if(null==a)this.audio=new E,this.font=new E,this.image=new E;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();L.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),L.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),L.startsWith(c,a)&&this.image.remove(c)}},__class__:Bf};var sa=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Void_Void"]=
sa;sa.__name__=["lime","app","Event_Void_Void"];sa.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),
this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?c++:this.remove(a[c]),!this.canceled););},__class__:sa};var w=function(){};g["lime.Assets"]=w;w.__name__=["lime","Assets"];w.exists=function(a,b){w.initialize();null==b&&(b="BINARY");var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=x.substr(a,d,null);c=w.getLibrary(c);return null!=c?c.exists(d,b):!1};w.getBytes=function(a){w.initialize();
var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=x.substr(a,c,null);var d=w.getLibrary(b);if(null!=d)if(d.exists(c,"BINARY")){if(d.isLocal(c,"BINARY"))return d.getBytes(c);La.log('[Assets] String or Bytes asset "'+a+'" exists, but only asynchronously')}else La.log('[Assets] There is no String or Bytes asset with an ID of "'+a+'"');else La.log('[Assets] There is no asset library named "'+b+'"');return null};w.getFont=function(a,b){null==b&&(b=!0);w.initialize();if(b&&w.cache.enabled&&w.cache.font.exists(a))return w.cache.font.get(a);
var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=x.substr(a,d,null);var e=w.getLibrary(c);if(null!=e)if(e.exists(d,"FONT")){if(e.isLocal(d,"FONT"))return c=e.getFont(d),b&&w.cache.enabled&&w.cache.font.set(a,c),c;La.log('[Assets] Font asset "'+a+'" exists, but only asynchronously')}else La.log('[Assets] There is no Font asset with an ID of "'+a+'"');else La.log('[Assets] There is no asset library named "'+c+'"');return null};w.getImage=function(a,b){null==b&&(b=!0);w.initialize();if(b&&
w.cache.enabled&&w.cache.image.exists(a)){var c=w.cache.image.get(a);if(w.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=x.substr(a,d,null);var e=w.getLibrary(c);if(null!=e)if(e.exists(d,"IMAGE")){if(e.isLocal(d,"IMAGE"))return c=e.getImage(d),b&&w.cache.enabled&&w.cache.image.set(a,c),c;La.log('[Assets] Image asset "'+a+'" exists, but only asynchronously')}else La.log('[Assets] There is no Image asset with an ID of "'+a+'"');else La.log('[Assets] There is no asset library named "'+
c+'"');return null};w.getLibrary=function(a){if(null==a||""==a)a="default";return w.libraries.get(a)};w.getPath=function(a){w.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=x.substr(a,c,null);var d=w.getLibrary(b);if(null!=d){if(d.exists(c,null))return d.getPath(c);La.log('[Assets] There is no asset with an ID of "'+a+'"')}else La.log('[Assets] There is no asset library named "'+b+'"');return null};w.getText=function(a){w.initialize();var b=a.substring(0,a.indexOf(":")),c;
c=a.indexOf(":")+1;c=x.substr(a,c,null);var d=w.getLibrary(b);if(null!=d)if(d.exists(c,"TEXT")){if(d.isLocal(c,"TEXT"))return d.getText(c);La.log('[Assets] String asset "'+a+'" exists, but only asynchronously')}else La.log('[Assets] There is no String asset with an ID of "'+a+'"');else La.log('[Assets] There is no asset library named "'+b+'"');return null};w.initialize=function(){w.initialized||(w.registerLibrary("default",new Ud),w.initialized=!0)};w.isValidImage=function(a){return!0};w.registerLibrary=
function(a,b){if(w.libraries.exists(a)){if(w.libraries.get(a)==b)return;w.unloadLibrary(a)}null!=b&&b.onChange.add(w.library_onChange);w.libraries.set(a,b)};w.unloadLibrary=function(a){w.initialize();var b=w.libraries.get(a);null!=b&&(w.cache.clear(a+":"),b.onChange.remove(w.library_onChange),b.unload());w.libraries.remove(a)};w.library_onChange=function(){w.cache.clear();w.onChange.dispatch()};var Cf=function(a){this.gameDeviceCache=new Wa;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=
0;this.framePeriod=-1;Gc.init()};g["lime._backend.html5.HTML5Application"]=Cf;Cf.__name__=["lime","_backend","html5","HTML5Application"];Cf.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;
case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;
case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",m(this,this.handleKeyEvent),!1);window.addEventListener("keyup",m(this,this.handleKeyEvent),!1);window.addEventListener("focus",m(this,this.handleWindowEvent),!1);window.addEventListener("blur",m(this,this.handleWindowEvent),!1);window.addEventListener("resize",
m(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",m(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];
window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),h=Math.max(0,16-(f-a)),u=window.setTimeout(function(){b(f+h)},h);a=f+h;return u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},getFrameRate:function(){return 0>this.framePeriod?60:1E3==this.framePeriod?0:1E3/this.framePeriod},
handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(m(this,
this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.windows[0].onKeyDown.dispatch(b,c),this.parent.windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.windows[0].onKeyUp.dispatch(b,c),this.parent.windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=
this.parent.windows[0])switch(a.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();break;case "blur":this.parent.windows[0].onFocusOut.dispatch();this.parent.windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.windows[0].__width;var b=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==a&&this.parent.windows[0].__height==b||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,
this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=ya.__getDeviceData();if(null!=a)for(var b,c,d,e,f,h=0,u=a.length;h<u;)if(b=h++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Df;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var M=c++;f.buttons.push(e.buttons[M].value)}c=0;for(d=e.axes.length;c<d;)M=
c++,f.axes.push(e.axes[M]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(ya.__connect(b),f.isGamepad&&ib.__connect(b))}f=this.gameDeviceCache.h[b];d=ya.devices.h[b];c=ib.devices.h[b];if(e.connected){for(var g=0,l=e.buttons.length;g<l;){var k=g++,M=e.buttons[k].value;if(M!=f.buttons[k]){if(6==k)d.onAxisMove.dispatch(e.axes.length,M),null!=c&&c.onAxisMove.dispatch(4,M);else if(7==k)d.onAxisMove.dispatch(e.axes.length+1,M),null!=c&&c.onAxisMove.dispatch(5,M);else if(0<
M?d.onButtonDown.dispatch(k):d.onButtonUp.dispatch(k),null!=c){switch(k){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<M?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[k]=M}}b=0;for(M=e.axes.length;b<M;)g=b++,e.axes[g]!=f.axes[g]&&(d.onAxisMove.dispatch(g,
e.axes[g]),null!=c&&c.onAxisMove.dispatch(g,e.axes[g]),f.axes[g]=e.axes[g])}else f.connected&&(f.connected=!1,ya.__disconnect(b),ib.__disconnect(b))}},__class__:Cf};var Df=function(){this.connected=!0;this.buttons=[];this.axes=[]};g["lime._backend.html5.GameDeviceData"]=Df;Df.__name__=["lime","_backend","html5","GameDeviceData"];Df.prototype={__class__:Df};var wc=function(){};g["lime._backend.html5.HTML5Mouse"]=wc;wc.__name__=["lime","_backend","html5","HTML5Mouse"];wc.__cursor=null;wc.__hidden=null;
wc.set_cursor=function(a){if(wc.__cursor!=a){if(!wc.__hidden)for(var b=0,c=Gb.current.windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor="crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor=
"nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor="text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;default:d.backend.element.style.cursor="auto"}}wc.__cursor=a}return wc.__cursor};var Ef=function(a){this.parent=a};g["lime._backend.html5.HTML5Renderer"]=Ef;Ef.__name__=["lime","_backend","html5","HTML5Renderer"];Ef.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",
m(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",m(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=jb.DOM(this.parent.window.backend.div),this.parent.type=Ga.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=jb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Ga.CANVAS)},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();
this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:Ef};var td=function(a){this.unusedTouchesPool=new sd;this.currentTouches=new Wa;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element)};g["lime._backend.html5.HTML5Window"]=td;td.__name__=["lime","_backend","html5","HTML5Window"];td.prototype={close:function(){this.parent.application.removeWindow(this.parent)},
create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=td.windowID++;N.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.div=window.document.createElement("div");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform",
"translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),
this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,
m(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",m(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",m(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",m(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",m(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",
m(this,this.handleGamepadEvent),!0)}},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":ya.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&ib.__connect(a.gamepad.index);break;case "gamepaddisconnected":ya.__disconnect(a.gamepad.index),ib.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/
c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY),a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,
c,a.button);break;case "mousemove":this.parent.onMouseMove.dispatch(b,c)}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?
this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else a=Math.min(this.element.clientWidth/this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*a+"px",this.canvas.style.height=this.setHeight*a+"px",this.canvas.style.marginLeft=(this.element.clientWidth-
this.setWidth*a)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px"):(this.div.style.width=this.setWidth*a+"px",this.div.style.height=this.setHeight*a+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px")},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():
this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var h=f[e];++e;var u=0,M=0;null!=b?(u=c/b.width*(h.clientX-b.left),M=d/b.height*(h.clientY-b.top)):(u=h.clientX,M=h.clientY);switch(a.type){case "touchstart":var g=this.unusedTouchesPool.pop();null==g?g=new Sb(u/c,M/d,h.identifier,0,0,h.force,this.parent.id):(g.x=u/c,g.y=M/d,g.id=h.identifier,g.dx=0,g.dy=0,g.pressure=h.force,g.device=
this.parent.id);this.currentTouches.h[h.identifier]=g;Sb.onStart.dispatch(g);null==this.primaryTouch&&(this.primaryTouch=g);g==this.primaryTouch&&this.parent.onMouseDown.dispatch(u,M,0);break;case "touchend":g=this.currentTouches.h[h.identifier];if(null!=g){var k=g.x,l=g.y;g.x=u/c;g.y=M/d;g.dx=g.x-k;g.dy=g.y-l;g.pressure=h.force;Sb.onEnd.dispatch(g);this.currentTouches.remove(h.identifier);this.unusedTouchesPool.add(g);g==this.primaryTouch&&(this.parent.onMouseUp.dispatch(u,M,0),this.primaryTouch=
null)}break;case "touchmove":g=this.currentTouches.h[h.identifier],null!=g&&(k=g.x,l=g.y,g.x=u/c,g.y=M/d,g.dx=g.x-k,g.dy=g.y-l,g.pressure=h.force,Sb.onMove.dispatch(g),g==this.primaryTouch&&this.parent.onMouseMove.dispatch(u,M))}}},resize:function(a,b){},setFullscreen:function(a){return!1},__class__:td};var je=function(){};g["lime.app.IModule"]=je;je.__name__=["lime","app","IModule"];je.prototype={__class__:je};var ud=function(){this.onExit=new Hc};g["lime.app.Module"]=ud;ud.__name__=["lime","app",
"Module"];ud.__interfaces__=[je];ud.prototype={onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){La.log("onGamepadConnect (module)")},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,
c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},
onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__class__:ud};var Gb=function(){this.onUpdate=
new Hc;this.onExit=new Hc;null==Gb.current&&(Gb.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new Wa;this.backend=new Cf(this);this.onExit.add(m(this,this.onModuleExit));this.onUpdate.add(m(this,this.update));ib.onConnect.add(m(this,this.__onGamepadConnect));ya.onConnect.add(m(this,this.__onJoystickConnect));Sb.onStart.add(m(this,this.onTouchStart));Sb.onMove.add(m(this,this.onTouchMove));Sb.onEnd.add(m(this,this.onTouchEnd))};g["lime.app.Application"]=Gb;Gb.__name__=
["lime","app","Application"];Gb.current=null;Gb.__super__=ud;Gb.prototype=r(ud.prototype,{addModule:function(a){this.modules.push(a);if(0<this.windows.length){for(var b=0,c=this.windows;b<c.length;){var d=c[b];++b;a.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)a.onPreloadComplete()}},addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(m(this,this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(m(this,this.onRenderContextLost),
a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(m(this,this.onRenderContextRestored),a));this.renderers.push(a)},createWindow:function(a){a.onActivate.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowActivate),a));a.onClose.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowClose),a));a.onCreate.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowCreate),a));a.onDeactivate.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowDeactivate),
a));a.onDropFile.add(function(a,b){return function(e){a(b,e)}}(m(this,this.onWindowDropFile),a));a.onEnter.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowEnter),a));a.onFocusIn.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowFocusOut),a));a.onFullscreen.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,b){return function(e,
f){a(b,e,f)}}(m(this,this.onKeyDown),a));a.onKeyUp.add(function(a,b){return function(e,f){a(b,e,f)}}(m(this,this.onKeyUp),a));a.onLeave.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowLeave),a));a.onMinimize.add(function(a,b){return function(){a(b)}}(m(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,b){return function(e,f,h){a(b,e,f,h)}}(m(this,this.onMouseDown),a));a.onMouseMove.add(function(a,b){return function(e,f){a(b,e,f)}}(m(this,this.onMouseMove),a));a.onMouseMoveRelative.add(function(a,
b){return function(e,f){a(b,e,f)}}(m(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,b){return function(e,f,h){a(b,e,f,h)}}(m(this,this.onMouseUp),a));a.onMouseWheel.add(function(a,b){return function(e,f){a(b,e,f)}}(m(this,this.onMouseWheel),a));a.onMove.add(function(a,b){return function(e,f){a(b,e,f)}}(m(this,this.onWindowMove),a));a.onResize.add(function(a,b){return function(e,f){a(b,e,f)}}(m(this,this.onWindowResize),a));a.onRestore.add(function(a,b){return function(){a(b)}}(m(this,
this.onWindowRestore),a));a.onTextEdit.add(function(a,b){return function(e,f,h){a(b,e,f,h)}}(m(this,this.onTextEdit),a));a.onTextInput.add(function(a,b){return function(e){a(b,e)}}(m(this,this.onTextInput),a));if(null==a.renderer){var b=new Ff(a);this.addRenderer(b)}a.create(this);this.windows.push(a);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Gb.current=this;return this.backend.exec()},onGamepadAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;
f.onGamepadAxisMove(a,b,c)}},onGamepadButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonDown(a,b)}},onGamepadButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonUp(a,b)}},onGamepadConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadConnect(a)}},onGamepadDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadDisconnect(a)}},onJoystickAxisMove:function(a,
b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickAxisMove(a,b,c)}},onJoystickButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonDown(a,b)}},onJoystickButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonUp(a,b)}},onJoystickConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickConnect(a)}},onJoystickDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=
c[b];++b;d.onJoystickDisconnect(a)}},onJoystickHatMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickHatMove(a,b,c)}},onJoystickTrackballMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickTrackballMove(a,b,c)}},onKeyDown:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyDown(a,b,c)}},onKeyUp:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyUp(a,b,c)}},onModuleExit:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onModuleExit(a)}this.backend.exit()},onMouseDown:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var h=f[e];++e;h.onMouseDown(a,b,c,d)}},onMouseMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMove(a,b,c)}},onMouseMoveRelative:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMoveRelative(a,b,c)}},onMouseUp:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var h=f[e];
++e;h.onMouseUp(a,b,c,d)}},onMouseWheel:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseWheel(a,b,c)}},onPreloadComplete:function(){for(var a=0,b=this.modules;a<b.length;){var c=b[a];++a;c.onPreloadComplete()}},onPreloadProgress:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onPreloadProgress(a,b)}},onRenderContextLost:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onRenderContextLost(a)}},onRenderContextRestored:function(a,
b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onRenderContextRestored(a,b)}},onTextEdit:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var h=f[e];++e;h.onTextEdit(a,b,c,d)}},onTextInput:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onTextInput(a,b)}},onTouchEnd:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchEnd(a)}},onTouchMove:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchMove(a)}},onTouchStart:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchStart(a)}},onWindowActivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowActivate(a)}},onWindowClose:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowClose(a)}this.removeWindow(a)},onWindowCreate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowCreate(a)}},onWindowDeactivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowDeactivate(a)}},
onWindowDropFile:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onWindowDropFile(a,b)}},onWindowEnter:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowEnter(a)}},onWindowFocusIn:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusIn(a)}},onWindowFocusOut:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusOut(a)}},onWindowFullscreen:function(a){for(var b=0,c=this.modules;b<c.length;){var d=
c[b];++b;d.onWindowFullscreen(a)}},onWindowLeave:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowLeave(a)}},onWindowMinimize:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowMinimize(a)}},onWindowMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowMove(a,b,c)}},onWindowResize:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowResize(a,b,c)}},onWindowRestore:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowRestore(a)}},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(x.remove(this.windows,a),this.windowByID.remove(a.id),a.close(),this.windows[0]==a&&(this.window=null))},render:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.render(a)}},setPreloader:function(a){null!=this.preloader&&(this.preloader.onProgress.remove(m(this,this.onPreloadProgress)),this.preloader.onComplete.remove(m(this,this.onPreloadComplete)));
this.preloader=a;if(a.complete)this.onPreloadComplete();else a.onProgress.add(m(this,this.onPreloadProgress)),a.onComplete.add(m(this,this.onPreloadComplete))},update:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.update(a)}},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(m(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(m(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,
c){return function(d){a(c,d)}}(m(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(m(this,this.onGamepadDisconnect),a))},__onJoystickConnect:function(a){this.onJoystickConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(m(this,this.onJoystickAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(m(this,this.onJoystickButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,d)}}(m(this,this.onJoystickButtonUp),
a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(m(this,this.onJoystickDisconnect),a));a.onHatMove.add(function(a,c){return function(d,e){a(c,d,e)}}(m(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,c){return function(d,e){a(c,d,e)}}(m(this,this.onJoystickTrackballMove),a))},__class__:Gb});var xc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Dynamic_Void"]=xc;xc.__name__=["lime","app","Event_Dynamic_Void"];xc.prototype=
{add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:xc};var ke=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Float_Float_Int_Void"]=ke;ke.__name__=["lime","app","Event_Float_Float_Int_Void"];ke.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,
a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?f++:this.remove(d[f]),!this.canceled););},__class__:ke};
var Xc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Float_Float_Void"]=Xc;Xc.__name__=["lime","app","Event_Float_Float_Void"];Xc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Xc};var le=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Int_Float_Void"]=le;le.__name__=
["lime","app","Event_Int_Float_Void"];le.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:le};var me=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Int_Int_Void"]=me;me.__name__=["lime","app","Event_Int_Int_Void"];me.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>
this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?
e++:this.remove(c[e]),!this.canceled););},__class__:me};var Hc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Int_Void"]=Hc;Hc.__name__=["lime","app","Event_Int_Void"];Hc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Hc};var Gf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=
Gf;Gf.__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"];Gf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Gf};var Hf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};g["lime.app.Event_String_Int_Int_Void"]=Hf;Hf.__name__=["lime","app","Event_String_Int_Int_Void"];Hf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:Hf};var ne=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};g["lime.app.Event_String_Void"]=ne;ne.__name__=["lime","app","Event_String_Void"];ne.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:ne};var If=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};g["lime.app.Event_lime_graphics_RenderContext_Void"]=If;If.__name__=["lime","app","Event_lime_graphics_RenderContext_Void"];If.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=
--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:If};var Jf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Jf;Jf.__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"];
Jf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,
1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Jf};var oe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_lime_ui_GamepadButton_Void"]=oe;oe.__name__=["lime","app","Event_lime_ui_GamepadButton_Void"];oe.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;
if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?
d++:this.remove(b[d]),!this.canceled););},__class__:oe};var Kf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_lime_ui_Gamepad_Void"]=Kf;Kf.__name__=["lime","app","Event_lime_ui_Gamepad_Void"];Kf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Kf};var Lf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};
g["lime.app.Event_lime_ui_Joystick_Void"]=Lf;Lf.__name__=["lime","app","Event_lime_ui_Joystick_Void"];Lf.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Lf};var pe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=pe;pe.__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];pe.prototype=
{add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:pe};var vd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};g["lime.app.Event_lime_ui_Touch_Void"]=vd;vd.__name__=["lime","app","Event_lime_ui_Touch_Void"];vd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=
d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)X.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),
c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:vd};var kb=function(a){if(null!=a){null==kb.__threadPool&&(kb.__threadPool=new Mf,kb.__threadPool.doWork.add(kb.threadPool_doWork),kb.__threadPool.onComplete.add(kb.threadPool_onComplete),kb.__threadPool.onError.add(kb.threadPool_onError));var b=new qe;b.future=this;kb.__threadPool.queue({promise:b,work:a})}};g["lime.app.Future"]=kb;kb.__name__=["lime","app","Future"];kb.__threadPool=null;kb.threadPool_doWork=function(a){try{var b=a.work();
kb.__threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof B&&(c=c.val),kb.__threadPool.sendError({promise:a.promise,error:c})}};kb.threadPool_onComplete=function(a){a.promise.complete(a.result)};kb.threadPool_onError=function(a){a.promise.error(a.error)};kb.prototype={onComplete:function(a){null!=a&&(this.__completed?a(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},__class__:kb};var Ba=
function(){this.loaded=this.total=0;this.onProgress=new me;this.onComplete=new sa;this.onProgress.add(m(this,this.update))};g["lime.app.Preloader"]=Ba;Ba.__name__=["lime","app","Preloader"];Ba.prototype={create:function(a){},load:function(a,b){for(var c=null,d=w.cache.version,e=0,f=a.length;e<f;){var h=e++,c=a[h];switch(b[h]){case "IMAGE":Ba.images.exists(c)||(h=new Image,Ba.images.set(c,h),h.onload=m(this,this.image_onLoad),h.src=c+"?"+d,this.total++);break;case "BINARY":Ba.loaders.exists(c)||(h=
new re,Ba.loaders.set(c,h),this.total++);break;case "TEXT":Ba.loaders.exists(c)||(h=new re,Ba.loaders.set(c,h),this.total++);break;case "FONT":this.total++,this.loadFont(c)}}for(c=Ba.loaders.keys();c.hasNext();)e=c.next(),Ba.loaders.get(e).load(e+"?"+d).onComplete(m(this,this.loader_onComplete));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(Ic=window.document.fonts,m(Ic,Ic.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){b.loaded++;b.onProgress.dispatch(b.loaded,
b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,h=!1;a=function(){if(c.offsetWidth!=e){if(!h)return h=!0,!1;b.loaded++;null!=f&&
window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==
this.total&&this.start()},__class__:Ba};var qe=function(){this.future=new kb};g["lime.app.Promise"]=qe;qe.__name__=["lime","app","Promise"];qe.prototype={complete:function(a){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=
a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var b=0,c=this.future.__progressListeners;b<c.length;){var d=c[b];++b;d(a)}return this},__class__:qe};var eh=function(){};g["lime.audio.ALAudioContext"]=eh;eh.__name__=["lime","audio","ALAudioContext"];var fh=function(){};g["lime.audio.ALCAudioContext"]=
fh;fh.__name__=["lime","audio","ALCAudioContext"];var gh=function(){};g["lime.audio.AudioBuffer"]=gh;gh.__name__=["lime","audio","AudioBuffer"];var fc=g["lime.audio.AudioContext"]={__ename__:["lime","audio","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};fc.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=fc;c.toString=v;return c};fc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=fc;a.toString=v;return a};fc.WEB=function(a){a=["WEB",2,a];a.__enum__=fc;a.toString=v;return a};
fc.FLASH=function(a){a=["FLASH",3,a];a.__enum__=fc;a.toString=v;return a};fc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=fc;a.toString=v;return a};var Gc=function(){};g["lime.audio.AudioManager"]=Gc;Gc.__name__=["lime","audio","AudioManager"];Gc.context=null;Gc.init=function(a){if(null==Gc.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Gc.context=fc.WEB(new AudioContext)}catch(b){b instanceof B&&(b=b.val),Gc.context=fc.HTML5(new Nf)}else Gc.context=a};
var Eg=function(){};g["lime.audio.AudioSource"]=Eg;Eg.__name__=["lime","audio","AudioSource"];Eg.prototype={__class__:Eg};var hh=function(){};g["lime.audio.FlashAudioContext"]=hh;hh.__name__=["lime","audio","FlashAudioContext"];var Nf=function(){};g["lime.audio.HTML5AudioContext"]=Nf;Nf.__name__=["lime","audio","HTML5AudioContext"];Nf.prototype={__class__:Nf};var Fg=function(){};g["lime.graphics.ConsoleRenderContext"]=Fg;Fg.__name__=["lime","graphics","ConsoleRenderContext"];Fg.prototype={__class__:Fg};
var ih=function(){};g["lime.graphics.FlashRenderContext"]=ih;ih.__name__=["lime","graphics","FlashRenderContext"];var Db=function(a,b,c,d,e,f,h){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;if(null==h)if(null!=Gb.current&&null!=Gb.current.renderers[0])switch(Gb.current.renderers[0].context[1]){case 2:case 1:this.type=Ya.CANVAS;break;case 3:this.type=Ya.FLASH;break;default:this.type=Ya.DATA}else this.type=Ya.DATA;else this.type=
h;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new sc(null,d,e);wa.createCanvas(this,d,e);null!=f&&this.fillRect(new wd(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new rc(a):null,this.buffer=new sc(a,d,e),null!=f&&this.fillRect(new wd(0,0,d,e),f)}}else this.__fromImageBuffer(a)};g["lime.graphics.Image"]=Db;Db.__name__=["lime","graphics","Image"];Db.fromCanvas=function(a){if(null==a)return null;var b=new sc(null,a.width,a.height);b.set_src(a);return new Db(b)};Db.fromFile=function(a,
b,c){var d=new Db;d.__fromFile(a,b,c);return d};Db.fromImageElement=function(a){if(null==a)return null;var b=new sc(null,a.width,a.height);b.set_src(a);return new Db(b)};Db.prototype={clone:function(){if(null!=this.buffer){this.type==Ya.CANVAS&&null==this.buffer.__srcImage&&(wa.convertToCanvas(this),wa.sync(this,!0));var a=new Db(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.dirty=this.dirty;return a}return new Db(null,this.offsetX,this.offsetY,this.width,
this.height,null,this.type)},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:wa.fillRect(this,a,b,c);break;case 1:wa.convertToData(this);if(0==this.buffer.data.length)break;gc.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>
16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},resize:function(a,b){switch(this.type[1]){case 0:wa.resize(this,a,b);break;case 1:gc.resize(this,a,b)}this.buffer.width=a;this.buffer.height=b;this.offsetY=this.offsetX=0;this.width=a;this.height=b},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&
(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromFile:function(a,b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.onload=function(a){d.buffer=new sc(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&
0<this.buffer.height&&(wa.convertToCanvas(this),wa.sync(this,!1),wa.createImageData(this));return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){if(this.buffer.format!=a)switch(this.type[1]){case 1:gc.setFormat(this,a)}return this.buffer.format=a},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},
set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 1:wa.convertToData(this),gc.multiplyAlpha(this)}else if(!a&&this.buffer.premultiplied)switch(this.type[1]){case 1:wa.convertToData(this),gc.unmultiplyAlpha(this)}return a},get_rect:function(){return new wd(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&wa.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},
set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:Db,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var sc=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=
c;this.bitsPerPixel=d;this.format=null==e?0:e;this.transparent=!0};g["lime.graphics.ImageBuffer"]=sc;sc.__name__=["lime","graphics","ImageBuffer"];sc.prototype={clone:function(){var a=new sc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,b=null!=b?new rc(b):null;a.data=b;b=this.data;b=null!=b?new rc(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),
a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,
0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){N.__instanceof(a,Image)?this.__srcImage=a:N.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:sc,__properties__:{get_stride:"get_stride",
set_src:"set_src",get_src:"get_src"}};var Ya=g["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Ya.CANVAS=["CANVAS",0];Ya.CANVAS.toString=v;Ya.CANVAS.__enum__=Ya;Ya.DATA=["DATA",1];Ya.DATA.toString=v;Ya.DATA.__enum__=Ya;Ya.FLASH=["FLASH",2];Ya.FLASH.toString=v;Ya.FLASH.__enum__=Ya;Ya.CUSTOM=["CUSTOM",3];Ya.CUSTOM.toString=v;Ya.CUSTOM.__enum__=Ya;var jb=g["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],
__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};jb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=jb;a.toString=v;return a};jb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=jb;a.toString=v;return a};jb.DOM=function(a){a=["DOM",2,a];a.__enum__=jb;a.toString=v;return a};jb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=jb;a.toString=v;return a};jb.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=jb;a.toString=v;return a};jb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=
jb;a.toString=v;return a};jb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=jb;a.toString=v;return a};jb.NONE=["NONE",7];jb.NONE.toString=v;jb.NONE.__enum__=jb;var Ff=function(a){this.onRender=new sa;this.onContextRestored=new If;this.onContextLost=new sa;this.window=a;this.backend=new Ef(this);this.window.renderer=this};g["lime.graphics.Renderer"]=Ff;Ff.__name__=["lime","graphics","Renderer"];Ff.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:Ff};
var Ga=g["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};Ga.OPENGL=["OPENGL",0];Ga.OPENGL.toString=v;Ga.OPENGL.__enum__=Ga;Ga.CANVAS=["CANVAS",1];Ga.CANVAS.toString=v;Ga.CANVAS.__enum__=Ga;Ga.DOM=["DOM",2];Ga.DOM.toString=v;Ga.DOM.__enum__=Ga;Ga.FLASH=["FLASH",3];Ga.FLASH.toString=v;Ga.FLASH.__enum__=Ga;Ga.CAIRO=["CAIRO",4];Ga.CAIRO.toString=v;Ga.CAIRO.__enum__=Ga;Ga.CONSOLE=["CONSOLE",5];Ga.CONSOLE.toString=
v;Ga.CONSOLE.__enum__=Ga;Ga.CUSTOM=["CUSTOM",6];Ga.CUSTOM.toString=v;Ga.CUSTOM.__enum__=Ga;var Gg=function(){};g["lime.graphics.cairo.Cairo"]=Gg;Gg.__name__=["lime","graphics","cairo","Cairo"];Gg.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(a,
b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:Gg,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var Hg={};g["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=Hg;Hg.__name__=["lime","graphics","cairo",
"_CairoImageSurface","CairoImageSurface_Impl_"];Hg.fromImage=function(a){return null};var xd={};g["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=xd;xd.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];xd.__properties__={set_filter:"set_filter"};xd.createForSurface=function(a){return 0};xd.set_filter=function(a,b){return b};var Ig={};g["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Ig;Ig.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];
Ig.flush=function(a){};var p=function(){};g["lime.graphics.opengl.GL"]=p;p.__name__=["lime","graphics","opengl","GL"];p.context=null;p.drawElements=function(a,b,c,d){p.context.drawElements(a,b,c,d)};var wa=function(){};g["lime.graphics.utils.ImageCanvasUtil"]=wa;wa.__name__=["lime","graphics","utils","ImageCanvasUtil"];wa.convertToCanvas=function(a){var b=a.buffer;null!=b.__srcImage?(null==b.__srcCanvas&&(wa.createCanvas(a,b.__srcImage.width,b.__srcImage.height),b.__srcContext.drawImage(b.__srcImage,
0,0)),b.__srcImage=null):null!=b.data&&null==b.__srcCanvas?(wa.createCanvas(a,b.width,b.height),wa.createImageData(a)):null==b.data&&null!=b.__srcImageData&&(b.data=b.__srcImageData.data)};wa.convertToData=function(a){null==a.buffer.data&&(wa.convertToCanvas(a),wa.sync(a,!1),wa.createImageData(a),a.buffer.__srcCanvas=null,a.buffer.__srcContext=null)};wa.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=
c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};wa.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,
a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new rc(b):null;a.data=b}};wa.fillRect=function(a,b,c,d){wa.convertToCanvas(a);wa.sync(a,!0);if(0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==(c&255))a.buffer.__srcCanvas.width=a.buffer.width;else{var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);a.buffer.__srcContext.fillStyle=
"rgba("+d+", "+e+", "+f+", "+c/255+")";a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)}};wa.resize=function(a,b,c){var d=a.buffer;if(null==d.__srcCanvas)wa.createCanvas(a,b,c),d.__srcContext.drawImage(d.get_src(),0,0,b,c);else{wa.sync(a,!0);var e=d.__srcCanvas;d.__srcCanvas=null;wa.createCanvas(a,b,c);d.__srcContext.drawImage(e,0,0,b,c)}};wa.sync=function(a,b){a.dirty&&null!=a.buffer.__srcImageData&&a.type!=Ya.DATA&&(a.buffer.__srcContext.putImageData(a.buffer.__srcImageData,
0,0),a.buffer.data=null,a.dirty=!1);b&&(a.buffer.__srcImageData=null,a.buffer.data=null)};var gc=function(){};g["lime.graphics.utils.ImageDataUtil"]=gc;gc.__name__=["lime","graphics","utils","ImageDataUtil"];gc.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=a.buffer.data;if(null!=d){var e=a.buffer.format,
f=a.buffer.premultiplied;b=new Of(a,b);for(var h,u=0,g=b.height;u<g;){h=u++;h=b.offset+b.stride*h;for(var k=0,l=b.width;k<l;){var C=k++,C=h+4*C;f&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(Ra.a16=Ra.__alpha16[c&255],c=((c>>24&255)*Ra.a16>>16&255)<<24|((c>>16&255)*Ra.a16>>16&255)<<16|((c>>8&255)*Ra.a16>>16&255)<<8|c&255));switch(e){case 2:d[C]=c>>8&255;d[C+1]=c>>16&255;d[C+2]=c>>24&255;d[C+3]=c&255;break;case 0:d[C]=c>>24&255;d[C+1]=c>>16&255;d[C+2]=c>>8&255;d[C+3]=c&255;break;case 1:d[C]=c&255,d[C+1]=
c>>24&255,d[C+2]=c>>16&255,d[C+3]=c>>8&255}}}a.dirty=!0}};gc.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var h=f++,u=4*h;switch(c){case 2:e=(b[u+2]&255)<<24|(b[u+1]&255)<<16|(b[u]&255)<<8|b[u+3]&255;break;case 0:e=(b[u]&255)<<24|(b[u+1]&255)<<16|(b[u+2]&255)<<8|b[u+3]&255;break;case 1:e=(b[u+1]&255)<<24|(b[u+2]&255)<<16|(b[u+3]&255)<<8|b[u]&255}h*=4;0==(e&255)?0!=e&&(e=0):255!=(e&255)&&(Ra.a16=Ra.__alpha16[e&
255],e=((e>>24&255)*Ra.a16>>16&255)<<24|((e>>16&255)*Ra.a16>>16&255)<<16|((e>>8&255)*Ra.a16>>16&255)<<8|e&255);switch(c){case 2:b[h]=e>>8&255;b[h+1]=e>>16&255;b[h+2]=e>>24&255;b[h+3]=e&255;break;case 0:b[h]=e>>24&255;b[h+1]=e>>16&255;b[h+2]=e>>8&255;b[h+3]=e&255;break;case 1:b[h]=e&255,b[h+1]=e>>24&255,b[h+2]=e>>16&255,b[h+3]=e>>8&255}}a.buffer.premultiplied=!0;a.dirty=!0}};gc.resize=function(a,b,c){var d=a.buffer;if(d.width!=b||d.height!=c){var e=b*c*4,e=null!=e?new rc(e):null,e=new sc(e,b,c),f=
a.width,h=a.height;a=a.get_data();for(var u=e.data,g,k,l,C,n,fb,$b,I,m,p=0;p<c;)for(var q=p++,t=0;t<b;){n=t++;I=(n+.5)/b*f-.5;m=(q+.5)/c*h-.5;fb=I|0;$b=m|0;g=4*($b*f+fb);k=fb<f-1?g+4:g;l=$b<h-1?g+4*f:g;C=k!=g?l+4:l;n=4*(q*b+n);fb=I-fb;$b=m-$b;m=1-fb;I=1-$b;var r=ha["int"]((ab.toFloat(a[g])*m+ab.toFloat(a[k])*fb)*I+(ab.toFloat(a[l])*m+ab.toFloat(a[C])*fb)*$b);u[n]=r;r=ha["int"]((ab.toFloat(a[g+1])*m+ab.toFloat(a[k+1])*fb)*I+(ab.toFloat(a[l+1])*m+ab.toFloat(a[C+1])*fb)*$b);u[n+1]=r;fb=ha["int"]((ab.toFloat(a[g+
2])*m+ab.toFloat(a[k+2])*fb)*I+(ab.toFloat(a[l+2])*m+ab.toFloat(a[C+2])*fb)*$b);u[n+2]=fb;u[n+3]=0==a[k+3]||0==a[l+3]||0==a[C+3]?0:a[g+3]}d.data=e.data;d.width=b;d.height=c}};gc.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,h,u,g,k,l,C,n,fb,m,I,p;switch(a.get_format()){case 0:f=0;h=1;u=2;g=3;break;case 1:f=1;h=2;u=3;g=0;break;case 2:f=2,h=1,u=0,g=3}switch(b){case 0:k=0;l=1;C=2;n=3;break;case 1:k=1;l=2;C=3;n=0;break;case 2:k=2,l=1,C=0,n=3}for(var q=0;q<e;)d=4*q++,fb=
c[d+f],m=c[d+h],I=c[d+u],p=c[d+g],c[d+k]=fb,c[d+l]=m,c[d+C]=I,c[d+n]=p;a.buffer.format=b;a.dirty=!0}};gc.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var h=f++,u=4*h;switch(c){case 2:e=(b[u+2]&255)<<24|(b[u+1]&255)<<16|(b[u]&255)<<8|b[u+3]&255;break;case 0:e=(b[u]&255)<<24|(b[u+1]&255)<<16|(b[u+2]&255)<<8|b[u+3]&255;break;case 1:e=(b[u+1]&255)<<24|(b[u+2]&255)<<16|(b[u+3]&255)<<8|b[u]&255}if(0!=(e&255)&&255!=(e&255)){Ra.unmult=255/
(e&255);var u=Math.round((e>>24&255)*Ra.unmult),u=Ra.__clamp[u],g;g=Math.round((e>>16&255)*Ra.unmult);g=Ra.__clamp[g];var k=Math.round((e>>8&255)*Ra.unmult);e=(u&255)<<24|(g&255)<<16|(Ra.__clamp[k]&255)<<8|e&255}h*=4;switch(c){case 2:b[h]=e>>8&255;b[h+1]=e>>16&255;b[h+2]=e>>24&255;b[h+3]=e&255;break;case 0:b[h]=e>>24&255;b[h+1]=e>>16&255;b[h+2]=e>>8&255;b[h+3]=e&255;break;case 1:b[h]=e&255,b[h+1]=e>>24&255,b[h+2]=e>>16&255,b[h+3]=e>>8&255}}a.buffer.premultiplied=!1;a.dirty=!0}};var Of=function(a,
b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};g["lime.graphics.utils._ImageDataUtil.ImageDataView"]=
Of;Of.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];Of.prototype={__class__:Of};var se=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};g["lime.math.Matrix3"]=se;se.__name__=["lime","math","Matrix3"];se.prototype={__class__:se};var wd=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};
g["lime.math.Rectangle"]=wd;wd.__name__=["lime","math","Rectangle"];wd.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashRectangle:function(){return null},__class__:wd};var Pf=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["lime.math.Vector2"]=Pf;Pf.__name__=["lime","math","Vector2"];Pf.prototype={__class__:Pf};var jh=function(){};g["lime.math.Vector4"]=jh;jh.__name__=["lime","math","Vector4"];var Ra={};g["lime.math.color._RGBA.RGBA_Impl_"]=Ra;Ra.__name__=["lime","math",
"color","_RGBA","RGBA_Impl_"];Ra.__alpha16=null;Ra.__clamp=null;Ra.a16=null;Ra.unmult=null;var re=function(){this.promise=new qe};g["lime.net.HTTPRequest"]=re;re.__name__=["lime","net","HTTPRequest"];re.prototype={load:function(a){var b=this;this.bytesTotal=this.bytesLoaded=0;var c=new XMLHttpRequest;c.addEventListener("progress",m(this,this.request_onProgress),!1);c.onreadystatechange=function(){4==c.readyState&&(null!=c.status&&200<=c.status&&400>=c.status?(b.bytes=hc.ofData(c.response),b.promise.complete(b.bytes)):
b.promise.error(c.status))};c.open("GET",a,!0);c.responseType="arraybuffer";c.send("");return this.promise.future},request_onProgress:function(a){this.promise.progress(a.loaded/a.total)},__class__:re};var Qf=function(){this.onError=new xc;this.onComplete=new xc;this.doWork=new xc};g["lime.system.BackgroundWorker"]=Qf;Qf.__name__=["lime","system","BackgroundWorker"];Qf.prototype={run:function(a){this.canceled=!1;this.__runMessage=a;this.__doWork()},sendComplete:function(a){this.canceled||(this.canceled=
!0,this.onComplete.dispatch(a))},sendError:function(a){this.canceled||(this.canceled=!0,this.onError.dispatch(a))},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__class__:Qf};var te=function(){};g["lime.system.System"]=te;te.__name__=["lime","system","System"];te.embed=Qb.lime.embed=function(a,b,c,d,e){var f=null,f="string"==typeof a?window.document.getElementById(N.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&(d=L.replace(d,"#",""),a=-1<d.indexOf("0x")?
ha.parseInt(d):ha.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);va.config.windows[0].background=a;va.config.windows[0].element=f;va.config.windows[0].width=b;va.config.windows[0].height=c;va.config.assetsPrefix=e;va.create()};te.getTimer=function(){return(new Date).getTime()};var Mf=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new xc;this.onComplete=new xc;this.doWork=new xc;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};g["lime.system.ThreadPool"]=Mf;Mf.__name__=["lime",
"system","ThreadPool"];Mf.prototype={queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:Mf};var Sc=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};g["lime.text.Font"]=Sc;Sc.__name__=["lime","text","Font"];Sc.prototype={__fromFile:function(a){this.__fontPath=a},__class__:Sc};var ib=function(a){this.onDisconnect=new sa;this.onButtonUp=new oe;this.onButtonDown=
new oe;this.onAxisMove=new Jf;this.id=a;this.connected=!0};g["lime.ui.Gamepad"]=ib;ib.__name__=["lime","ui","Gamepad"];ib.__connect=function(a){if(!ib.devices.h.hasOwnProperty(a)){var b=new ib(a);ib.devices.h[a]=b;ib.onConnect.dispatch(b)}};ib.__disconnect=function(a){var b=ib.devices.h[a];null!=b&&(b.connected=!1);ib.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};ib.prototype={get_guid:function(){return ya.__getDeviceData()[this.id].id},get_name:function(){return ya.__getDeviceData()[this.id].id},
__class__:ib,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var ya=function(a){this.onTrackballMove=new le;this.onHatMove=new Gf;this.onDisconnect=new sa;this.onButtonUp=new Hc;this.onButtonDown=new Hc;this.onAxisMove=new le;this.id=a;this.connected=!0};g["lime.ui.Joystick"]=ya;ya.__name__=["lime","ui","Joystick"];ya.__connect=function(a){if(!ya.devices.h.hasOwnProperty(a)){var b=new ya(a);ya.devices.h[a]=b;ya.onConnect.dispatch(b)}};ya.__disconnect=function(a){var b=ya.devices.h[a];null!=
b&&(b.connected=!1);ya.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};ya.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};ya.prototype={__class__:ya};var qb={};g["lime.ui._KeyModifier.KeyModifier_Impl_"]=qb;qb.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];qb.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};qb.get_altKey=
function(a){return 0<(a&256)||0<(a&512)};qb.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};qb.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};qb.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var ue=function(){};g["lime.ui.Mouse"]=ue;ue.__name__=["lime","ui","Mouse"];ue.__properties__={set_cursor:"set_cursor"};ue.set_cursor=function(a){return wc.set_cursor(a)};var S=g["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};
S.ARROW=["ARROW",0];S.ARROW.toString=v;S.ARROW.__enum__=S;S.CROSSHAIR=["CROSSHAIR",1];S.CROSSHAIR.toString=v;S.CROSSHAIR.__enum__=S;S.DEFAULT=["DEFAULT",2];S.DEFAULT.toString=v;S.DEFAULT.__enum__=S;S.MOVE=["MOVE",3];S.MOVE.toString=v;S.MOVE.__enum__=S;S.POINTER=["POINTER",4];S.POINTER.toString=v;S.POINTER.__enum__=S;S.RESIZE_NESW=["RESIZE_NESW",5];S.RESIZE_NESW.toString=v;S.RESIZE_NESW.__enum__=S;S.RESIZE_NS=["RESIZE_NS",6];S.RESIZE_NS.toString=v;S.RESIZE_NS.__enum__=S;S.RESIZE_NWSE=["RESIZE_NWSE",
7];S.RESIZE_NWSE.toString=v;S.RESIZE_NWSE.__enum__=S;S.RESIZE_WE=["RESIZE_WE",8];S.RESIZE_WE.toString=v;S.RESIZE_WE.__enum__=S;S.TEXT=["TEXT",9];S.TEXT.toString=v;S.TEXT.__enum__=S;S.WAIT=["WAIT",10];S.WAIT.toString=v;S.WAIT.__enum__=S;S.WAIT_ARROW=["WAIT_ARROW",11];S.WAIT_ARROW.toString=v;S.WAIT_ARROW.__enum__=S;S.CUSTOM=["CUSTOM",12];S.CUSTOM.toString=v;S.CUSTOM.__enum__=S;var Sb=function(a,b,c,d,e,f,h){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=h};g["lime.ui.Touch"]=
Sb;Sb.__name__=["lime","ui","Touch"];Sb.prototype={__class__:Sb};var Yc=function(a){this.onTextInput=new ne;this.onTextEdit=new Hf;this.onRestore=new sa;this.onResize=new me;this.onMove=new Xc;this.onMouseWheel=new Xc;this.onMouseUp=new ke;this.onMouseMoveRelative=new Xc;this.onMouseMove=new Xc;this.onMouseDown=new ke;this.onMinimize=new sa;this.onLeave=new sa;this.onKeyUp=new pe;this.onKeyDown=new pe;this.onFullscreen=new sa;this.onFocusOut=new sa;this.onFocusIn=new sa;this.onEnter=new sa;this.onDropFile=
new ne;this.onDeactivate=new sa;this.onCreate=new sa;this.onClose=new sa;this.onActivate=new sa;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,
"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new td(this)};g["lime.ui.Window"]=Yc;Yc.__name__=["lime","ui","Window"];Yc.prototype={close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&
this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:Yc,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var hc=function(a,b){pa.call(this,b)};g["lime.utils.Bytes"]=hc;
hc.__name__=["lime","utils","Bytes"];hc.alloc=function(a){a=pa.alloc(a);return new hc(a.length,a.b.bufferValue)};hc.ofData=function(a){a=pa.ofData(a);return new hc(a.length,a.b.bufferValue)};hc.ofString=function(a){a=pa.ofString(a);return new hc(a.length,a.b.bufferValue)};hc.__super__=pa;hc.prototype=r(pa.prototype,{__class__:hc});var Zg=function(){};g["lovedna.core.IDisposable"]=Zg;Zg.__name__=["lovedna","core","IDisposable"];var Zc=function(){};g["lovedna.core.ITrigger"]=Zc;Zc.__name__=["lovedna",
"core","ITrigger"];Zc.prototype={__class__:Zc};var zb=function(){if(null!=zb._instance)throw new B("instance error");zb._instance=this;this._list=[];this._timeScale=1;this._frameTime=16;this._timer=new qc(this._frameTime);this._timer.run=m(this,this.timerHandler)};g["lovedna.core.LTrigger"]=zb;zb.__name__=["lovedna","core","LTrigger"];zb._instance=null;zb.GetInstance=function(){return null!=zb._instance?zb._instance:new zb};zb.prototype={GetTime:function(){return 1E3*qc.stamp()*this._timeScale},Add:function(a){return-1==
x.indexOf(this._list,a,0)?(this._list.push(a),!0):!1},Remove:function(a){a=x.indexOf(this._list,a,0);-1!=a&&this._list.splice(a,1)},timerHandler:function(){Y.TriggerTick();var a=this._list.length;if(!(1>a))for(var b=this.GetTime();0<a--;)this._list[a].TriggerTick(b)||this._list.splice(a,1)},__class__:zb};var qf=function(a,b){this._list=[];this._width=a;this._height=b;this._length=a*b;this._v2=Na.instance};g["lovedna.ds.Array2"]=qf;qf.__name__=["lovedna","ds","Array2"];qf.prototype={Clear:function(){this._list.splice(0,
this._list.length)},Get:function(a,b){return 0>a||0>b||a>=this._width||b>=this._height?null:this._list[0>a||0>b?-1:a>=this._width||b>=this._height?-1:b*this._width+a]},Set:function(a,b,c){0>a||0>b||a>=this._width||b>=this._height||(this._list[0>a||0>b?-1:a>=this._width||b>=this._height?-1:b*this._width+a]=c)},__class__:qf};var lc=function(a){null==a&&(a=0);this.value=0;this.value=a};g["lovedna.ds.Bit32"]=lc;lc.__name__=["lovedna","ds","Bit32"];lc.prototype={Open:function(a){this.value|=1<<a},Close:function(a){this.value&=
~(1<<a)},Set:function(a,b){b?this.Open(a):this.Close(a)},IsOpen:function(a){a=1<<a;return(this.value&a)==a},Clear:function(){this.value=0},__class__:lc};var Nb=function(a){this._type=a};g["lovedna.events.LEvent"]=Nb;Nb.__name__=["lovedna","events","LEvent"];Nb.prototype={setTarget:function(a){this._target=a},__class__:Nb};var ve=function(a){this._type=a};g["lovedna.events.LTouchEvent"]=ve;ve.__name__=["lovedna","events","LTouchEvent"];ve.__super__=Nb;ve.prototype=r(Nb.prototype,{get_touch:function(){null==
this._touch&&(this._touch=new $c(0));return this._touch},__class__:ve,__properties__:{get_touch:"get_touch"}});var ea=function(){};g["lovedna.events.Events"]=ea;ea.__name__=["lovedna","events","Events"];var Wd=function(a,b,c,d,e){0>e&&(e=0);this._dispatcher=a;this._callback=b;this.priority=c;this._once=d;this._delay=e;this._eventList=[]};g["lovedna.events.LListener"]=Wd;Wd.__name__=["lovedna","events","LListener"];Wd.prototype={dispatch:function(a){var b=this;null!=this._callback&&(this._eventList.push(a),
0<this._delay?(null!=this._timer&&this._timer.stop(),this._timer=new qc(this._delay|0),this._timer.run=function(){b._timer.stop();b._timer=null;b.execute()}):this.execute())},destroy:function(){this._dispatcher=this._callback=null;this._delay=0;this._eventList=null},match:function(a){return X.compareMethods(this._callback,a)},execute:function(){if(null!=this._callback&&null!=this._eventList){var a=this._eventList.length;if(0!=a){for(var b=0;b<a;){var c=b++;this._callback(this._eventList[c])}this._once&&
null!=this._dispatcher&&this._dispatcher.RemoveEventListener(this._eventList[0],this._callback);null!=this._eventList&&this._eventList.splice(0,this._eventList.length)}}},__class__:Wd};var yd=function(){this._width=this._height=this._widthHalf=this._heightHalf=0;this._cameraDirty=!0;this.ratio=1;this.fov=60;this.far=6E3;this.near=100;this.order=this.focusX=this.focusY=this.focusZ=this.focusDistance=0;this.mouseEnable=!1;this.type=1;ga.call(this)};g["lovedna.graphics.GCamera"]=yd;yd.__name__=["lovedna",
"graphics","GCamera"];yd.__super__=ga;yd.prototype=r(ga.prototype,{RenderStart:function(){this.clipRectData[0]=this.clipRect.x;this.clipRectData[1]=this.clipRect.y;this.clipRectData[2]=this.clipRect.width;this.clipRectData[3]=this.clipRect.height;if(null!=this.renderTexture){this.renderTexture.Begin(this.time.time);var a=Tb.instance.Copy(this.renderTexture.viewPort);a.width*=this.renderTexture.width;a.height*=this.renderTexture.height;a.Multiply(this.viewPort);this._state.SetViewPort(a);this._state.ClearDepth(1);
this._state.ColorMask(!0,!0,!0,!0);this._state.ClearColor(this.backGround.r,this.backGround.g,this.backGround.b,this.backGround.a);this._state.Clear(this.clearFlag);this._state.ClearStencil(0)}else this._state.SetViewPort(this._viewPort)},RenderEnd:function(){null!=this.renderTexture&&this.renderTexture.End()},Resize:function(a,b){if(a!=this._width||b!=this._height)this._width=a,this._height=b,this._widthHalf=.5*this._width,this._heightHalf=.5*this._height,this.ratio=this._width/this._height,this._cameraDirty=
!0,this.DispatchEvent(ea.RESIZE),this._viewPort.x=this.viewPort.x*this._width,this._viewPort.y=this.viewPort.y*this._height,this._viewPort.width=this.viewPort.width*this._width,this._viewPort.height=this.viewPort.height*this._height},ScreenToCenter:function(a,b){null==b&&(b=!1);a.x-=this._widthHalf;a.y=this._heightHalf-a.y;b&&(a.x/=this._widthHalf,a.y/=this._heightHalf)},onConstruct:function(){ga.prototype.onConstruct.call(this);this.name="camera"+this.gid;this.layers.value=-1;this.frustum=new Rf;
this.position=new U;this.lookAtRay=new Zb;this.positionData=new Float32Array(3);this.projectionMatrix=new Qa;this.viewMatrix=new Qa;this.projectionViewMatrix=new Qa;this.projectionViewInverseMatrix=new Qa;this.viewInverseMatrix=new Qa;this._V3_0=new U;this._V3_1=new U;this._cameraDirty=!0;this.set_z(500);this.sort=new we;this.viewPort=new Tb(0,0,1,1);this.backGround=new vb;this.backGround.set_rgb(11259375);this._state=Ub.GetInstance().state;this._viewPort=new Tb;this.clearFlag=17664;this.pickManager=
new Sf(this);this.pickManager.SetHandler(new zd);this.clipRect=new Tb(-1,-1,1,1);this.clipRectData=new Float32Array(4)},onEnterFrame:function(){ga.prototype.onEnterFrame.call(this);this.updateCamera()},onAddToScene:function(){ga.prototype.onAddToScene.call(this);this.Resize(T.width,T.height)},onTransformChange:function(){ga.prototype.onTransformChange.call(this);this._cameraDirty=!0},updateCamera:function(){if(this._cameraDirty){this._cameraDirty=!1;var a=this._worldPos.Set(this._local.d12,this._local.d13,
this._local.d14),b=a.y,c=a.z;this.positionData[0]=a.x;this.positionData[1]=b;this.positionData[2]=c;this.position.Copy(a);this._V3_0.Copy(a);this._V3_1.Set(this.focusX,this.focusY,this.focusZ);this.viewMatrix.LookAt(this._V3_0,this._V3_1);this.lookAtRay.Set(this._V3_0,this._V3_1);this._V3_1.Sub(this._V3_0,null);this.focusDistance=this._V3_1.get_length();1==this.type?this.projectionMatrix.Perspective(this.fov,this.ratio,this.near,this.far):this.projectionMatrix.Orthographic(-this._widthHalf,this._widthHalf,
this._heightHalf,-this._heightHalf,this.near,this.far);this.viewInverseMatrix.Copy(this.viewMatrix);this.viewInverseMatrix.Inverse();this.projectionViewMatrix.Copy(this.projectionMatrix);this.projectionViewMatrix.Append(this.viewMatrix);this.frustum.FromMatrix(this.projectionViewMatrix);this.projectionViewInverseMatrix.Copy(this.projectionMatrix);this.projectionViewInverseMatrix.Append(this.viewMatrix);this.projectionViewInverseMatrix.Inverse();this.DispatchEvent(ea.CHANGE)}},__class__:yd});var Ad=
function(){this.ratio=1;this.screenSize=new Na;this.canvasSize=new Na;this.canvasScale=new Na;this.leftTop=new Na;this.rightBottom=new Na};g["lovedna.graphics.layout.CanvasInfo"]=Ad;Ad.__name__=["lovedna","graphics","layout","CanvasInfo"];Ad.prototype={Init:function(){this.screenSize.x!=this.canvasSize.x||this.screenSize.y!=this.canvasSize.y?(this.leftTop.x=.5*-this.canvasSize.x*this.canvasScale.x,this.leftTop.y=.5*this.canvasSize.y*this.canvasScale.y):(this.leftTop.x=.5*-this.canvasSize.x,this.leftTop.y=
.5*this.canvasSize.y);this.rightBottom.Copy(this.leftTop).Scale(-1)},Copy:function(a){this.canvas=a.canvas;this.screenSize.Copy(a.screenSize);this.canvasSize.Copy(a.canvasSize);this.canvasScale.Copy(a.canvasScale);this.leftTop.Copy(a.leftTop);this.rightBottom.Copy(a.rightBottom)},__class__:Ad};var Na=function(){this.x=this.y=0};g["lovedna.math.Vec2"]=Na;Na.__name__=["lovedna","math","Vec2"];Na.prototype={Set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},Copy:function(a){if(a==
this)return this;this.x=a.x;this.y=a.y;return this},Add:function(a,b){null==b?(this.x+=a.x,this.y+=a.y):(this.x=a.x+b.x,this.y=a.y+b.y);return this},Sub:function(a,b){null==b?(this.x-=a.x,this.y-=a.y):(this.x=a.x-b.x,this.y=a.y-b.y);return this},Scale:function(a){this.x*=a;this.y*=a;return this},ScaleV:function(a,b,c){null==c&&(c=!1);this.x=c?this.x*b:this.x*a;this.y=c?this.y*a:this.y*b;return this},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+1]=this.y},__class__:Na};var Cc=function(a,b,
c){null==c&&(c=-1);null==b&&(b=-1);null==a&&(a=-1);this._dirty=!0;this._width=this._height=-1;this.scaleMode=1;this.distance=-1;this._width=a;this._height=b;this._w2=this._width>>1;this._h2=this._height>>1;this.set_distance(c);ga.call(this)};g["lovedna.graphics.GCanvas"]=Cc;Cc.__name__=["lovedna","graphics","GCanvas"];Cc.__super__=ga;Cc.prototype=r(ga.prototype,{ScreenToLocal:function(a){if(null!=this.scene){var b=this.scene.currentCamera;null!=b&&(b.ScreenToCenter(a,!0),a.x*=this._w2*this._canvasScaleX/
this.scaleX,a.y*=-this._h2*this._canvasScaleY/this.scaleY)}return a},Dispose:function(){ga.prototype.Dispose.call(this);null!=this._camera&&(this._camera.RemoveEventListener(ea.CHANGE,m(this,this.camera_change)),this._camera=null);this._p2=this._p1=null},onConstruct:function(){ga.prototype.onConstruct.call(this);1>this._width||1>this._height?this.set_scaleMode(0):this.set_scaleMode(1);this._canvasScaleX=this._canvasScaleY=1;this._p1=new U;this._p2=new U;this._info=new Ad;this._info.canvas=this;this.info=
new Ad;this.info.canvas=this},onEnterFrame:function(){ga.prototype.onEnterFrame.call(this);this.updateCanvas()},camera_change:function(a){this._dirty=!0},updateCanvas:function(){if(null!=this.scene){var a=this.scene.currentCamera;if(null!=a&&(this._camera!=a&&(this._dirty=!0,null!=this._camera&&this._camera.RemoveEventListener(ea.CHANGE,m(this,this.camera_change)),this._camera=a,this._camera.AddEventListener(ea.CHANGE,m(this,this.camera_change)),0>=this.distance&&this.set_distance(this._camera.near+
10)),this._dirty)){this._dirty=!1;var b=this.distance;1>b&&(b=1);var c=T.width,d=T.height,e=this._width,f=this._height,h=this.scaleMode;0==h?0<this._width||0<this._height?h=1:(e=c,f=d):(1>this._width&&(e=c),1>this._height&&(f=d));1>e&&(e=c);1>f&&(f=d);this._w2=.5*e;this._h2=.5*f;this._p1.Set(-1,-1,1);this._p2.Set(1,1,1);var u=a.projectionViewInverseMatrix;u.TransformVec3(this._p1,!0);u.TransformVec3(this._p2,!0);var u=b/a.far,g=y.Abs((this._p2.x-this._p1.x)*u),k=y.Abs((this._p2.y-this._p1.y)*u),u=
g/e,l=k/f;this._canvasScaleX=u;this._canvasScaleY=l;switch(h){case 3:l=u;break;case 4:u=l;break;case 1:e/f>g/k?l=u:u=l}h=this._canvasScaleX/u;g=this._canvasScaleY/l;a=a.lookAtRay.At(b);this.set_x(a.x);this.set_y(a.y);this.set_z(a.z);this._info.screenSize.Set(c,d);this._info.canvasSize.Set(e,f);this._info.ratio=h/g;this._info.canvasScale.Set(c/e,d/f);this._info.Init();this.info.Copy(this._info);this.DispatchEvent(ea.RESIZE);this.set_scaleX(u);this.set_scaleY(l);for(c=this.childCount;0<c--;)d=(0>c||
c>=this.childCount||null==this._childs?null:this._childs[c]).GetComponent(xe),null!=d&&(Cc.layoutInfo.Copy(this._info),d.Resize(Cc.layoutInfo))}}},set_distance:function(a){a!=this.distance&&(this.distance=a,this._dirty=!0);return this.distance},set_scaleMode:function(a){a!=this.scaleMode&&(this.scaleMode=a,this._dirty=!0);return this.scaleMode},__class__:Cc,__properties__:r(ga.prototype.__properties__,{set_scaleMode:"set_scaleMode",set_distance:"set_distance"})});var Tf=function(){};g["lovedna.graphics.GCapabilities"]=
Tf;Tf.__name__=["lovedna","graphics","GCapabilities"];Tf.prototype={__class__:Tf};var Ub=function(){Ub._instance=this;this.capabilities=new Tf;this.state=new T;rb.AddShader(new ye);rb.AddShader(new ze);rb.AddShader(new Ae);rb.AddShader(new Be)};g["lovedna.graphics.GContext"]=Ub;Ub.__name__=["lovedna","graphics","GContext"];Ub._instance=null;Ub.GetInstance=function(){return null!=Ub._instance?Ub._instance:new Ub};Ub.prototype={init:function(){this.capabilities.version=p.context.getParameter(7938);
this.capabilities.maxTexturesImageUnits=p.context.getParameter(34930);this.capabilities.maxTextureSize=p.context.getParameter(3379);this.capabilities.maxCubemapTextureSize=p.context.getParameter(34076);this.capabilities.maxRenderTextureSize=p.context.getParameter(34024);this.state.Reset()},lost:function(){var a=zb.GetInstance().GetTime()+1E3;Hb.lost(a);sb.get_instance().lost(a);Sa.lost(a)},restore:function(){sb.get_instance().restore()},__class__:Ub};var ae=function(){this.depth=0;ga.call(this)};
g["lovedna.graphics.GScene"]=ae;ae.__name__=["lovedna","graphics","GScene"];ae.__super__=ga;ae.prototype=r(ga.prototype,{ChildrenDirty:function(){this._childrenDirty=this._childrenDirty1=!0},Resize:function(){for(var a=T.width,b=T.height,c=this._cameraList._length;0<c--;)this._cameraList.Get(c).Resize(a,b);this.DispatchEvent(ea.RESIZE)},GetDisplays:function(){return this._displayList},AddChild:function(a){ga.prototype.AddChild.call(this,a);this.ChildrenDirty()},RemoveChild:function(a){ga.prototype.RemoveChild.call(this,
a);this.ChildrenDirty()},onConstruct:function(){ga.prototype.onConstruct.call(this);this.name="scene"+this.gid;this.scene=this;this.parent=null;this._childrenDirty=this._childrenDirty1=!0;this._view=Eb.GetInstance();this._childList=new ma;this._displayList=new ma;this._lastList=new Wa;this._cameraList=new ma;this._childLength=0;this._context=Ub.GetInstance();this.currentCamera=this._mainCamera=new yd;this.AddChild(this._mainCamera);this._renderManager=ic.GetInstance();this._trigger=zb.GetInstance()},
onAddToScene:function(){ga.prototype.onAddToScene.call(this);this.DispatchEvent(ea.RESIZE)},enter:function(){var a,b;if(this._childrenDirty||this._childrenDirty1){for(a=this._childList._length;0<a--;)b=this._childList.Get(a),this._lastList.h[b.gid]=b;this._cameraList.Clear();this._childList.Clear();this._displayList.Clear();this.makelist();for(a=this._lastList.iterator();a.hasNext();){var c=a.next();c.onRemoveFromScene();c.scene=null;this._lastList.remove(c.gid)}this._childLength=this._childList._length;
0<this._cameraList._length&&this._cameraList.Sort(m(this,this.sortCamera));this._childrenDirty1=this._childrenDirty=!1}this._actorDirty=this._actorDirty1=!1;c=this._trigger.GetTime();a=this._childList._length;T.objectCount+=a;for(var d=0;d<a;)b=d++,b=this._childList.Get(b),b.enterFrame();for(d=0;d<a;)b=d++,b=this._childList.Get(b),b.updateTransform();T.updateTime+=this._trigger.GetTime()-c},render:function(){for(var a=this._trigger.GetTime(),b=this._cameraList._length,c=0;c<b;){var d=c++;this.currentCamera=
this._cameraList.Get(d);this._renderManager.render(this,this.currentCamera,this.time)}T.renderTime+=this._trigger.GetTime()-a},exit:function(){var a,b;a=this._childList._length;for(var c=this._trigger.GetTime(),d=0;d<a;)b=d++,b=this._childList.Get(b),b.exitFrame();T.updateTime+=this._trigger.GetTime()-c},makelist:function(){for(var a=this.childCount,b=0;b<a;){var c=b++;this._addChild(0>c||c>=this.childCount||null==this._childs?null:this._childs[c])}},_addChild:function(a){if(a.visible){N.__instanceof(a,
yd)?this._cameraList.Add(a):N.__instanceof(a,$a)&&this._displayList.Add(a);this._childList.Add(a);null==a.scene&&(a.scene=this,a.onAddToScene());this._lastList.remove(a.gid);for(var b=a.childCount,c=0;c<b;){var d=c++;this._addChild(0>d||d>=a.childCount||null==a._childs?null:a._childs[d])}}},sortCamera:function(a,b){var c=a.order,d=b.order;return c!=d?c<d?-1:1:0},__class__:ae});var U=function(){this.x=this.y=this.z=0;this._sqrt=Math.sqrt};g["lovedna.math.Vec3"]=U;U.__name__=["lovedna","math","Vec3"];
U.prototype={Set:function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;return this},Copy:function(a){if(a==this)return this;this.x=a.x;this.y=a.y;this.z=a.z;return this},Add:function(a,b){null==b?(this.x+=a.x,this.y+=a.y,this.z+=a.z):(this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z);return this},Sub:function(a,b){null==b?(this.x-=a.x,this.y-=a.y,this.z-=a.z):(this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z);return this},Scale:function(a){this.x*=a;this.y*=a;this.z*=a;return this},
Min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},Max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},Dot:function(a,b){return null==b?this.x*a.x+this.y*a.y+this.z*a.z:b.x*a.x+b.y*a.y+b.z*a.z},Cross:function(a,b){var c,d,e;null==b?(c=this.y*a.z-this.z*a.y,d=this.z*a.x-this.x*a.z,e=this.x*a.y-this.y*a.x):(c=a.y*b.z-a.z*b.y,d=a.z*b.x-a.x*b.z,e=a.x*b.y-a.y*b.x);this.x=c;this.y=d;this.z=e;return this},
Normalize:function(){var a=this._sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;this;return this},Distance:function(a,b){var c=U.instance;null==b?(c.x=this.x-a.x,c.y=this.y-a.y,c.z=this.z-a.z):(c.x=a.x-b.x,c.y=a.y-b.y,c.z=a.z-b.z);c;return c._sqrt(c.x*c.x+c.y*c.y+c.z*c.z)},FromArray:function(a,b){null==b&&(b=0);b<a.length+3&&(this.x=a[b],this.y=a[b+1],this.z=a[b+2]);return this},ToArray:function(a,b){null==b&&(b=0);a[b]=this.x;a[b+
1]=this.y;a[b+2]=this.z},get_length:function(){return this._sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},__class__:U,__properties__:{get_length:"get_length"}};var T=function(){this.clearDepth=this.clearStencil=1;this.blendType=0;this.cullFaceSide=1029;this.frontFaceDirection=2304;this.polygonOffsetFactor=this.polygonOffsetUnits=0;this.depthWrite=!0;this.capabilities=new Wa;this.colorMask=new lc;this.colorMask.Set(0,!0);this.colorMask.Set(1,!0);this.colorMask.Set(2,!0);this.colorMask.Set(3,!0);
this.viewPort=new Tb(0,0,1,1)};g["lovedna.graphics.GState"]=T;T.__name__=["lovedna","graphics","GState"];T.OnEnterFrame=function(){T.drawCall=T.objectCount=T.displayCount=0};T.OnExitFrame=function(){Hb._currentProgram=null;p.context.bindTexture(3553,null);p.context.bindBuffer(34962,null);p.context.bindBuffer(34963,null);p.context.useProgram(null)};T.prototype={Reset:function(){this.capabilities=new Wa;this.depthWrite=!0;p.context.depthMask(this.depthWrite);p.context.enable(2884);p.context.disable(2929);
p.context.frontFace(this.frontFaceDirection);p.context.cullFace(this.cullFaceSide)},SetEnable:function(a,b){this.capabilities.h[a]!=b&&((this.capabilities.h[a]=b)?p.context.enable(a):p.context.disable(a))},SetDepthWrite:function(a){this.depthWrite!=a&&(this.depthWrite=a,p.context.depthMask(a))},SetPolygonOffset:function(a,b,c){this.SetEnable(32823,a);!a||b==this.polygonOffsetFactor&&c==this.polygonOffsetUnits||(this.polygonOffsetFactor=b,this.polygonOffsetUnits=c,p.context.polygonOffset(b,c))},SetFrontFaceDirection:function(a){this.frontFaceDirection!=
a&&(this.frontFaceDirection=a,p.context.frontFace(a))},SetCullFaceSide:function(a){this.cullFaceSide!=a&&(this.cullFaceSide=a,p.context.cullFace(a))},SetBlendType:function(a){if(this.blendType!=a)if(this.blendType=a,1==a)this.SetEnable(3042,!1);else switch(this.SetEnable(3042,!0),a){case 2:p.context.blendEquationSeparate(32774,32774);p.context.blendFuncSeparate(770,771,1,771);break;case 3:p.context.blendEquation(32774);p.context.blendFunc(770,1);break;case 5:p.context.blendEquation(32774);p.context.blendFunc(0,
768);break;case 4:p.context.blendEquation(32774),p.context.blendFunc(0,769)}},ClearDepth:function(a){this.clearDepth!=a&&p.context.clearDepth(a)},ColorMask:function(a,b,c,d){var e=lc.instance;e.Clear();e.Set(0,a);e.Set(1,b);e.Set(2,c);e.Set(3,d);e.value!=this.colorMask.value&&(this.colorMask.value=e.value,p.context.colorMask(a,b,c,d))},Clear:function(a){p.context.clear(a)},SetViewPort:function(a){if(!this.viewPort.Equals(a)){this.viewPort.Copy(a);var b=y.Floor(a.x),c=y.Floor(a.y),d=y.Floor(a.width);
a=y.Floor(a.height);p.context.viewport(b,c,d,a)}},ClearColor:function(a,b,c,d){p.context.clearColor(a,b,c,d)},ClearStencil:function(a){this.clearStencil!=a&&(this.clearStencil=a,p.context.clearStencil(a))},__class__:T};var Eb=function(){this._lockRotation=!1;this._showFPS=!0;this._targetFPS=-1;this.lockRotation=0;F.call(this);Eb._instance=this;this._sceneMap=new E};g["lovedna.graphics.GView"]=Eb;Eb.__name__=["lovedna","graphics","GView"];Eb.__interfaces__=[Zc];Eb._instance=null;Eb.GetInstance=function(){return null!=
Eb._instance?Eb._instance:new Eb};Eb.__super__=F;Eb.prototype=r(F.prototype,{TriggerTick:function(a){if(this._resizeDirty){this._resizeDirty=!1;a=aa.current.stage;var b=a.stageHeight;if(this._stageWidth!=a.stageWidth||this._stageHeight!=b){this._stageWidth=a.stageWidth;this._stageHeight=a.stageHeight;this._glview.set_width(this._stageWidth);this._glview.set_height(this._stageHeight);this._rect.width=this._stageWidth;this._rect.height=this._stageHeight;T.width=this._stageWidth;T.height=this._stageHeight;
for(this._i=this._sceneCount;0<this._i--;)this._sceneList[this._i].Resize();this.DispatchEvent(ea.RESIZE);this._lockRotation&&this._infoSprite.set_visible(!1);this._lockRotation=!1;0!=this.lockRotation&&(1==this.lockRotation?this._stageHeight<this._stageWidth&&(this._lockRotation=!0):2==this.lockRotation&&this._stageHeight>this._stageWidth&&(this._lockRotation=!0));this._lockRotation&&(this._infoText.set_text("\u8bf7\u65cb\u8f6c\u5c4f\u5e55"),this._infoText.set_x(.5*(this._stageWidth-this._infoText.get_width())),
this._infoText.set_y(.5*(this._stageHeight-this._infoText.get_textHeight())),this._infoSprite.get_graphics().beginFill(11259375,1),this._infoSprite.get_graphics().drawRect(0,0,this._stageWidth,this._stageHeight),this._infoSprite.set_visible(!0))}}this._lostedDirty&&(this._lostedDirty=!1,this._haslosted&&this._context.lost(),this._lost||this._context.restore());if(this._sceneDirty)for(this._sceneDirty=!1,this._sceneList.sort(m(this,this.sortScene)),a=this._sceneList.length;0<a--;)b=this._sceneList[a],
this._sceneMap.exists(b.uuid)||(this._sceneMap.set(b.uuid,!0),b.onAddToScene());this._initDirty&&(this._initDirty=!1,this.init(),this.DispatchEvent(ea.INIT));return this._resizeDirty||this._sceneDirty?!0:!1},AddScene:function(a){-1==x.indexOf(this._sceneList,a,0)&&(this._sceneList.push(a),this._sceneCount=this._sceneList.length,this._sceneDirty?null:(this._sceneDirty=!0,this._trigger.Add(this)))},onConstruct:function(){F.prototype.onConstruct.call(this);this._trigger=zb.GetInstance();this._init=this._visible=
!1;this._active=!0;this._stageWidth=this._stageHeight=0;this._sceneList=[];this._lost=this._haslosted=!1;this._sceneCount=0;this._frameTime=this._trigger.GetTime();this._fps=this._frameCount=0;this._sceneDirty=!0;this._text=new Ib;this._text.mouseEnabled=!1;this._text.set_selectable(!1);this._text.set_autoSize(1);this._text.set_textColor(16777215);this._infoText=new Ib;this._infoText.mouseEnabled=!1;this._infoText.set_selectable(!1);this._infoText.set_autoSize(1);this._infoText.set_textColor(16711680);
this._infoSprite=new Rb;this._infoSprite.mouseChildren=!1;this._infoSprite.mouseEnabled=!1;this._infoSprite.addChild(this._infoText);this._material=new Ob;this._material.depthTest=!1;this._material.depthWrite=!0;this._material.frontFaceDirection=2304;this._rect=new Tb(0,0,1,1);this.backGround=new vb;this.backGround.set_a(1);this.backGround.set_rgb(11259375);this._actorTime=new Xd},onLateConstruct:function(){F.prototype.onLateConstruct.call(this);var a=aa.current.stage;Jc.get_isSupported()?(this._renderManager=
ic.GetInstance(),a.addEventListener("activate",m(this,this.stage_activate)),a.addEventListener("deactivate",m(this,this.stage_activate)),a.addEventListener("resize",m(this,this.stage_resize)),a.addEventListener("glcontextlost",m(this,this.stage_contextLost)),a.addEventListener("glcontextrestored",m(this,this.stage_contextLost)),this._glview=new Jc,this._glview.addEventListener("addedToStage",m(this,this.this_addedToStage)),this._glview.addEventListener("removedFromStage",m(this,this.this_addedToStage)),
a.addChild(this._glview),a.addChild(this._infoSprite),a.addChild(this._text),0>=this._targetFPS&&(this._targetFPS=a.get_frameRate()),this._text.set_visible(this._showFPS),this._clearFlag=17664,this._trigger.Add(this)):(a.addChild(this._infoSprite),this._text.set_text("need opengl"),this._text.set_textColor(16711680),La.log("not support gl"))},this_addedToStage:function(a){if(this._visible="addedToStage"==a.type)this._time=this._trigger.GetTime(),0==this._init&&(this._resizeDirty=this._initDirty=this._init=
this._enable=!0,this._trigger.Add(this))},stage_activate:function(a){this._active="activate"==a.type;a=aa.current.stage;this._active?(this._time=this._trigger.GetTime(),a.set_frameRate(this._targetFPS)):a.set_frameRate(3)},stage_resize:function(a){this._resizeDirty=!0;this._trigger.Add(this)},stage_contextLost:function(a){(this._lost="glcontextlost"==a.type)&&!this._haslosted&&(this._lostedDirty=this._haslosted=!0,this._trigger.Add(this));!this._lost&&this._haslosted&&(this._haslosted=!1,this._lostedDirty=
!0,this._trigger.Add(this))},init:function(){this._time=this._trigger.GetTime();this._glview.set_render(m(this,this.render));this._context=Ub.GetInstance();this._context.init();this._state=this._context.state;this._textureLoader=sb.get_instance()},sortScene:function(a,b){var c=a.depth,d=b.depth;return c>d?-1:c<d?1:0},render:function(a){if(this._visible){q.Reset();a=this._trigger.GetTime();var b=a-this._time;100<b&&(b%=100);this._frameTime+=b;this._frameCount++;1E3<=this._frameTime&&(this._frameTime%=
1E3,this._fps=this._frameCount,this._frameCount=0,T.time.x=.001*T.updateTime,T.time.y=.001*T.renderTime,T.updateTime=0,T.renderTime=0);this._time=a;T.OnEnterFrame();this._actorTime.set(b,a);this._textureLoader.OnEnterFrame(this._actorTime);if(this._active&&!this._lost&&!this._lockRotation){this._state.ClearDepth(1);this._state.ColorMask(!0,!0,!0,!0);this._state.ClearColor(this.backGround.r,this.backGround.g,this.backGround.b,this.backGround.a);this._state.Clear(this._clearFlag);this._state.ClearStencil(0);
for(this._i=this._sceneCount;0<this._i--;)a=this._sceneList[this._i],a.visible&&(a.time.Multiply(this._actorTime),a.enter());for(this._i=this._sceneCount;0<this._i--;)a=this._sceneList[this._i],a.visible&&a.render();for(this._i=this._sceneCount;0<this._i--;)this._sceneList[this._i].exit()}T.OnExitFrame();this._textureLoader.OnExitFrame(this._actorTime);this._material.Apply();this._state.SetViewPort(this._rect);this._text.set_htmlText("fps "+this._fps+"<br>count "+T.objectCount+"<br>display "+T.displayCount+
"<br>draw "+T.drawCall+"<br>updateTime "+y.ToFixed(T.time.x,2)+"<br>renderTime "+y.ToFixed(T.time.y,2))}},set_showFPS:function(a){this._showFPS!=a&&(this._showFPS=a,this._text.set_visible(a));return this._showFPS},__class__:Eb,__properties__:{set_showFPS:"set_showFPS"}});var vb=function(){this.a=1;this.r=this.g=this.b=0};g["lovedna.math.Color"]=vb;vb.__name__=["lovedna","math","Color"];vb.prototype={Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set_r(a);this.set_g(b);
this.set_b(c);this.set_a(d);this.dirty=!0;return this},GetFloat32Array:function(){if(null==this._data){var a=[this.r,this.g,this.b,this.a];this._data=null!=a?new Float32Array(a):null}this.dirty&&(this._data[0]=this.r,this._data[1]=this.g,this._data[2]=this.b,this._data[3]=this.a,this.dirty=!1);return this._data},ToArray:function(a,b){null==b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;a[b+3]=this.a},set_r:function(a){a!=this.r&&(this.r=a,this.dirty=!0);return a},set_g:function(a){a!=this.g&&(this.g=
a,this.dirty=!0);return a},set_b:function(a){a!=this.b&&(this.b=a,this.dirty=!0);return a},set_a:function(a){a!=this.a&&(this.a=a,this.dirty=!0);return a},set_rgba:function(a){this.set_r(.00392156863*(a>>24&255));this.set_g(.00392156863*(a>>16&255));this.set_b(.00392156863*(a>>8&255));this.set_a(.00392156863*(a&255));this.dirty=!0;return a},set_rgb:function(a){this.set_r(.00392156863*(a>>16&255));this.set_g(.00392156863*(a>>8&255));this.set_b(.00392156863*(a&255));this.dirty=!0;return a},__class__:vb,
__properties__:{set_rgb:"set_rgb",set_rgba:"set_rgba",set_a:"set_a",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var Ab=function(a,b){this._list=[];this._index=0;this._create=a;this._reset=b};g["lovedna.utils.FramePool"]=Ab;Ab.__name__=["lovedna","utils","FramePool"];Ab.prototype={Get:function(){var a=null;this._index<this._list.length&&this._index++;a=this._create();this._list[this._index++]=a;null!=this._reset&&this._reset(a);return a},Reset:function(){this._index=0},Dispose:function(){this._create=
this._list=null},__class__:Ab};var ad=function(){this._lasttype=0;this.Reset()};g["lovedna.utils.HashFNV"]=ad;ad.__name__=["lovedna","utils","HashFNV"];ad.prototype={Reset:function(){this._lasttype=this._index=this._value=0},GetCode:function(){return this._value},PushInt:function(a){2!=this._lasttype&&(this._lasttype=2,this._addInt(this._lasttype));this._addInt(a)},PushString:function(a){4!=this._lasttype&&(this._lasttype=4,this._addInt(this._lasttype));var b=a.length;for(this._addInt(b);0<b--;)this._addInt(x.cca(a,
b))},PushFloat:function(a){8!=this._lasttype&&(this._lasttype=8,this._addInt(this._lasttype));var b=y.Floor(a),c=a-y.Floor(a);this._addInt(b);0!=c&&this._addInt(y.Round(4294967296*(a-y.Floor(a))))},PushBool:function(a){16!=this._lasttype&&(this._lasttype=16,this._addInt(this._lasttype));this._addInt(a?1:0)},_addInt:function(a){this._value*=16777619;this._value^=a},__class__:ad};var bd=function(){this.mode=0;this.localPos=new U;this.worldPos=new U;this.trangle=new U};g["lovedna.graphics.pick.PickInfo"]=
bd;bd.__name__=["lovedna","graphics","pick","PickInfo"];bd.prototype={Copy:function(a){this.target=null;null!=a&&(this.mode=a.mode,this.target=a.target,this.trangle.Copy(a.trangle),this.localPos.Copy(a.localPos),this.worldPos.Copy(a.worldPos));return this},__class__:bd};var Zb=function(){this.start=new U;this.direction=new U;this._vec3=U.instance};g["lovedna.math.Ray"]=Zb;Zb.__name__=["lovedna","math","Ray"];Zb.prototype={Copy:function(a){if(a==this)return this;this.start.Copy(a.start);this.direction.Copy(a.direction);
return this},Set:function(a,b){this.start.Copy(a);this.direction.Sub(b,a);this.direction.Normalize()},At:function(a){this._vec3.Copy(this.direction);this._vec3.Scale(a);this._vec3.Add(this.start,null);return this._vec3},DistanceToPoint:function(a){var b=U.instance;b.Sub(a,this.start);var c=b.Dot(this.direction,null),d=0;return d=0>c?this.start.Distance(a):b.Copy(this.direction).Scale(c).Add(this.start,null).Distance(a)},IntersectsSphere:function(a){return null==a?!1:this.DistanceToPoint(a.center)<=
a.radius},IntersectBox:function(a){var b=0,c=1.79769313486231E308;if(1E-6>y.Abs(this.direction.x)){if(this.start.x<a.min.x||this.start.x>a.max.x)return null}else{var d=1/this.direction.x,e=(a.min.x-this.start.x)*d,d=(a.max.x-this.start.x)*d;if(e>d)var f=e,e=d,d=f;e>b&&(b=e);d<c&&(c=d);if(b>c)return null}if(1E-6>y.Abs(this.direction.y)){if(this.start.y<a.min.y||this.start.y>a.max.y)return null}else if(d=1/this.direction.y,e=(a.min.y-this.start.y)*d,d*=a.max.y-this.start.y,e>d&&(f=e,e=d,d=f),e>b&&(b=
e),d<c&&(c=d),b>c)return null;if(1E-6>y.Abs(this.direction.z)){if(this.start.z<a.min.z||this.start.z>a.max.z)return null}else if(d=1/this.direction.z,e=(a.min.z-this.start.z)*d,a=(a.max.z-this.start.z)*d,e>a&&(d=e,e=a,a=d),e>b&&(b=e),a<c&&(c=a),b>c)return null;return this.At(0<=b?b:c)},IntersectsTriangle:function(a,b,c,d){null==d&&(d=!1);var e=U.instance1,f=U.instance2,h=U.instance3,u=U.instance4;null==a?(f.x-=b.x,f.y-=b.y,f.z-=b.z):(f.x=b.x-a.x,f.y=b.y-a.y,f.z=b.z-a.z);f;null==a?(h.x-=c.x,h.y-=c.y,
h.z-=c.z):(h.x=c.x-a.x,h.y=c.y-a.y,h.z=c.z-a.z);h;u.Cross(f,h);b=this.direction.Dot(u,null);c=0;if(0<b){if(d)return null;c=1}else if(0>b)c=-1,b=-b;else return null;e.Sub(this.start,a);a=c*this.direction.Dot(h.Cross(e,h),null);if(0>a)return null;f=c*this.direction.Dot(f.Cross(e),null);if(0>f||a+f>b)return null;e=-c*(e.x*u.x+e.y*u.y+e.z*u.z);return 0>e?null:this.At(e/b)},ApplyMatrix4:function(a){a.TransformVec3(this.direction.Add(this.start,null));a.TransformVec3(this.start);this.direction.Sub(this.start,
null);this.direction.Normalize();return this},__class__:Zb};var Uf=function(){};g["lovedna.graphics.render.RenderItem"]=Uf;Uf.__name__=["lovedna","graphics","render","RenderItem"];Uf.prototype={__class__:Uf};var Vf=function(){};g["lovedna.graphics.mesh.Vertex"]=Vf;Vf.__name__=["lovedna","graphics","mesh","Vertex"];Vf.prototype={Reset:function(){this._key=this.color=this.uv=this.normal=this.position=null},GetHashID:function(){if(null!=this._key)return this._key;this._key="pos "+y.Floor(1E5*this.position.x)+
"."+y.Floor(1E5*this.position.y)+"."+y.Floor(1E5*this.position.z);null!=this.normal&&(this._key+="normal"+y.Floor(1E5*this.normal.x)+"."+y.Floor(1E5*this.normal.y)+"."+y.Floor(1E5*this.normal.z));null!=this.uv&&(this._key+="uv"+y.Floor(1E5*this.uv.x)+"."+y.Floor(1E5*this.uv.y));null!=this.color&&(this._key+="color"+y.Floor(1E5*this.color.r)+"."+y.Floor(1E5*this.color.g)+"."+y.Floor(1E5*this.color.b)+"."+y.Floor(1E5*this.color.a));return this._key},__class__:Vf};var q=function(){};g["lovedna.graphics.Pools"]=
q;q.__name__=["lovedna","graphics","Pools"];q.AddPool=function(a){q._list.push(a);return a};q.Reset=function(){for(var a=q._list.length;0<a--;)q._list[a].Reset()};var cd=function(){};g["lovedna.graphics.core.GComponent"]=cd;cd.__name__=["lovedna","graphics","core","GComponent"];cd.__super__=Y;cd.prototype=r(Y.prototype,{Dispose:function(){},onConstruct:function(){Y.prototype.onConstruct.call(this);this._started=!1;this.order=0;this.enable=!0},enterFrame:function(){if(this.enable)if(this._started)this.onEnterFrame();
else this._started=!0,this.onStart()},exitFrame:function(){this.onExitFrame()},onStart:function(){},onEnterFrame:function(){},onExitFrame:function(){},__class__:cd});var xe=function(){this.x=this.y=0};g["lovedna.graphics.components.Layout"]=xe;xe.__name__=["lovedna","graphics","components","Layout"];xe.__super__=cd;xe.prototype=r(cd.prototype,{Resize:function(a){var b=.5*a.screenSize.y;this.actor.set_x(.5*a.screenSize.x*this.anchor.x+this.x);this.actor.set_y(b*this.anchor.y+this.y)},onConstruct:function(){cd.prototype.onConstruct.call(this);
this.anchor=(new U).Set(0,0,0);this.x=this.y=0},__class__:xe});var Xd=function(){this.time=this.tick=0;this.timeScale=1};g["lovedna.graphics.core.ActorTime"]=Xd;Xd.__name__=["lovedna","graphics","core","ActorTime"];Xd.prototype={Multiply:function(a){this.time=a.time;this.tick=a.tick*this.timeScale},set:function(a,b){this.tick=a;this.time=b},__class__:Xd};var of=function(){};g["lovedna.graphics.culling.BoundingInfo"]=of;of.__name__=["lovedna","graphics","culling","BoundingInfo"];of.prototype={Dispose:function(){this._sphere=
this._box=this.sphere=this.box=null},From:function(a){this._box=a.box;this._sphere=a.sphere},Apply:function(a){null!=this._sphere&&(null==this.sphere&&(this.box=new Bd,this.sphere=new Cd),this.box.Copy(this._box),this.sphere.Copy(this._sphere),this.box.ApplyMat4(a),this.sphere.ApplyMat4(a))},__class__:of};var Wf=function(){this._paramKey=new ma};g["lovedna.utils.string.RichChunk"]=Wf;Wf.__name__=["lovedna","utils","string","RichChunk"];Wf.prototype={Parse:function(a,b){this._paramMap=new E;this.next=
this.value=this.name=null;this._paramKey.Clear();this.start=b;a=L.replace(a,"<","");a=L.replace(a,">","");a=G.Trim(a);this.type=-1;var c=a.indexOf("/");if(0==c)this.type=1,this.name=x.substr(a,c+1,null);else{c==a.length-1&&(this.type=0,a=G.Trim(x.substr(a,0,a.length-1)));var c=a.indexOf(" "),d=a.indexOf("=");-1==c&&-1==d?this.name=a:-1!=c&&-1!=d?d<c?(c=a.split("="),this.name=G.Trim(c[0]),1<c.length&&(this.value=c[1])):(this.name=x.substr(a,0,c),this.parseParams(x.substr(a,c+1,null))):-1!=c?(this.name=
x.substr(a,0,c),this.parseParams(x.substr(a,c+1,null))):-1!=d&&(this.name=G.Trim(x.substr(a,0,d)),this.parseParams(x.substr(a,d+1,null)))}},GetParam:function(a){return null==this._paramMap?null:this._paramMap.get(a)},GetParams:function(){return this._paramMap},setNext:function(a){this.next=a},parseParams:function(a){a=G.Trim(a);if(-1==a.indexOf(" ")&&-1==a.indexOf("="))this.value=a;else{a=a.split(" ");var b=a.length;if(0!=b)for(var c=0;c<b;){var d=c++,d=G.Trim(a[d]);if(""!=d){var d=d.split("="),e=
G.Trim(d[0]),f=null;1<d.length&&(f=G.Trim(d[1]));this._paramKey.Add(e);this._paramMap.set(e,f)}}}},__class__:Wf};var dd=function(){this._chunkList=new ma;this._list=new ma};g["lovedna.utils.string.RichTextParser"]=dd;dd.__name__=["lovedna","utils","string","RichTextParser"];dd.prototype={Parse:function(a){this.value=a;this._chunkList.Clear();dd._pool.Reset();for(a=a.length;;){var b=G.Utf8IndexOf(this.value,"<",0),c=G.Utf8IndexOf(this.value,">",b),d=c-b;if(0<d){if(this.addChunk(b,G.Utf8Substr(this.value,
b,d+1)),this.value=G.Utf8Substr(this.value,0,b)+G.Utf8Substr(this.value,c+1),this.value.length>a)break}else break;a--;if(0>a)break}this.buildChunk();return this._list},addChunk:function(a,b){var c=dd._pool.Get();c.Parse(b,a);this._chunkList.Add(c)},buildChunk:function(){this._list.Clear();for(var a=this._chunkList._length,b=null,c=0;c<a;){var d=c++,b=this._chunkList.Get(d);if(null==b)break;-1==b.type?(this._list.Add(b),b.setNext(this.getNextChunk(d+1,b.name))):0==b.type&&this._list.Add(b)}},getNextChunk:function(a,
b){for(var c=a,d=this._chunkList._length;c<d;){var e=c++,f=this._chunkList.Get(e);if(f.name==b&&1==f.type)return this._chunkList.RemoveAt(e),f}return null},__class__:dd};var Dc=function(){this._fillLinkData=new ma;this._pressLinkID=-1;this._linksetPool=new Ab(function(){return new Ce});this._geomPool=new Ab(function(){return new Bc});this._charPool=new Ab(function(){return new Xf});this.alignmentX=this.alignmentY=-1;this.htmlText=!0;this.height=100;this.width=200;$a.call(this)};g["lovedna.graphics.display.GTextField"]=
Dc;Dc.__name__=["lovedna","graphics","display","GTextField"];Dc.__super__=$a;Dc.prototype=r($a.prototype,{Raycast:function(a){if(null==this.material||null!=this.boundingInfo.sphere&&!a.IntersectsSphere(this.boundingInfo.sphere))return null;var b=Zb.instance;b.Copy(a);var c=Qa.instance3.Copy(this._world).Inverse();b.ApplyMatrix4(c);this.raycastInfo.ray.Copy(b);b=this._linkGeomList._length;if(0<b)for(this._pressLinkID=-1;0<b--;)if(c=this._linkGeomList.Get(b),this._linkgeom2set.Get(b),c=c.Raycast(this.raycastInfo),
null!=c)return this._pressLinkID!=b&&(this._pressLinkID=b,this.applyLinkSelect(!0)),c.mode=1,c.z=a.start.Distance(this._world.TransformVec3(U.instance3.Copy(c.localPos))),c;return $a.prototype.Raycast.call(this,a)},Dispose:function(){$a.prototype.Dispose.call(this);this._charList.Dispose();this._linkList.Dispose();this._geom.Dispose();this._mesh.Dispose();this._charPool.Dispose();this._geomPool.Dispose();this._linksetPool.Dispose();this._material=null;this._linkGeomList.Dispose();this._linkgeom2set.Dispose();
this.RemoveEventListener(ac.CHANGE,m(this,this.pick_change));null!=this._font&&(this._font.RemoveEventListener(ea.CHANGE,m(this,this.font_change)),this._font=null);null!=this._atlas&&(this._atlas.enable||this._atlas.RemoveEventListener(ea.INIT,m(this,this.atlas_init)),this._atlas=null)},onConstruct:function(){$a.prototype.onConstruct.call(this);this.lineSpace=this.letterSpace=0;this._charList=new ma;this._linkList=new ma;this.set_font(ob.defaultFont);this._geom=new Bc;this._mesh=new $d;this.material=
this._material=new De;this._material.cullFace=!1;this._linkGeomList=new ma;this._linkgeom2set=new ma;this._lineWidthList=new ma;this.AddEventListener(ac.CHANGE,m(this,this.pick_change));this.name="TextField "+this.gid},onEnterFrame:function(){$a.prototype.onEnterFrame.call(this);this._textDirty&&(this.updateText(),this._textDirty=!1)},insertChar:function(a,b,c){var d=a._length;for(b=b.start;0<d--;){var e=a.Get(d);e.start>b&&(e.start+=c);null!=e.next&&e.next.start>b&&(e.next.start+=c)}},updateText:function(){this.mesh=
null;if(null!=this._font){if(null!=this._atlas)this._atlas.name!=this._font.atlas&&(this._atlas.enable||this._atlas.RemoveEventListener(ea.INIT,m(this,this.atlas_init)));else{this._atlas=Jb.GetAtlas(this._font.atlas);if(null==this._atlas)return;if(!this._atlas.enable){this._atlas.AddEventListener(ea.INIT,m(this,this.atlas_init));sb.get_instance().Load(this._atlas.name,!0);return}}if(this._atlas.enable){this._charList.Clear();this._charPool.Reset();this._geomPool.Reset();this._linksetPool.Reset();
this._linkList.Clear();this._linkGeomList.Clear();this._linkgeom2set.Clear();this._lineWidthList.Clear();var a=null;this.htmlText?(this._linkList.Clear(),a=Dc._richTextParser.Parse(this.text),this._text=Dc._richTextParser.value):this._text=this.text;for(var b=this._text.length,c=Ha.GetByName(this.style),d=0,e=0,f=0;f<b;){var h=f++,u=this._text.charAt(h),h=this._charPool.Get();h.Reset();h.size.Set(0,0);h["char"]=u;h.styleID=c.id;h.style=c;u=x.cca(u,0);u=this._atlas._sprites.get(u+"");this._charList.Add(h);
null==u?h.size.Set(d,e):(h.size.Set(u.rect.width,u.rect.height),d=h.size.x,e=h.size.y)}if(this.htmlText){for(b=a._length;0<b--;)f=a.Get(b),"rect"==f.name&&(c=this._charPool.Get(),c["char"]=null,this.insertChar(a,f,1),this._charList.Insert(f.start,c),d=ha.parseInt(f.GetParam("width")),f=ha.parseInt(f.GetParam("height")),c.size.Set(d,f));b=a._length;for(c=0;c<b;)d=c++,d=a.Get(d),f=d.name,"style"==f?this.setStyle(d):"a"==f&&this.setLink(d)}a=this._charList._length;c=b=0;d=e;this._fillLinkData.Clear();
for(f=0;f<a;){var h=f++,h=this._charList.Get(h),u=h.size,g=Ha.GetById(h.styleID);h.style=g;var k=h["char"];if(null!=k&&(k=x.cca(k,0),10==k||13==k)){this.fillLink(-1,b,c,d,this._lineWidthList._length);this._lineWidthList.Add(b);b=0;c+=d+this.lineSpace;continue}g=g.size;1>g&&(g=u.y);var l=u.y/u.x,k=g/l;null==h["char"]&&(l=u.y/e,k=u.x*l,g=u.y*l);l=this.letterSpace;l*=k/u.x;u.Set(k,g);b+k+l>this.width?(this.fillLink(-1,b,c,d,this._lineWidthList._length),this._lineWidthList.Add(b),b=0,c+=d+this.lineSpace,
h.pos.Set(b+l,c),d=e):(h.pos.Set(b+l,c),g>d&&(d=g));h.lineId=this._lineWidthList._length;null!=h["char"]&&this.fillLink(h.linkSet.id,b+l,c,d,h.lineId);b+=k+l}this.fillLink(-1,b,c,d,this._lineWidthList._length);this._lineWidthList.Add(b);this._lineHeight=c+d;this.drawLink();this.drawText()}}},fillLink:function(a,b,c,d,e){this._fillLinkData.Add(a);this._fillLinkData.Add(b);this._fillLinkData.Add(c);this._fillLinkData.Add(d);this._fillLinkData.Add(e)},drawLink:function(){var a=this._fillLinkData._length/
5|0,b=!1,c=-1,d=0,e=this.height-this._lineHeight;0<this.alignmentY||(e=0==this.alignmentY?.5*e:0);for(var f=0;f<a;){var h=5*f++,u=ha["int"](this._fillLinkData.Get(h)),g=this._fillLinkData.Get(h+1),k=this._fillLinkData.Get(h+2),l=this._fillLinkData.Get(h+3),h=ha["int"](this._fillLinkData.Get(h+4));if(u!=c)if(-1==c&&0<=u)d=g,b=!0;else if(-1==u){if(!b)continue;var b=!1,h=this._lineWidthList.Get(h),C=this.width-h,h=0;0<this.alignmentX?h+=C:0==this.alignmentX&&(h+=.5*C);var k=k+e,C=this._geomPool.Get(),
n=q.vertex.Get();n.position=q.vec3.Get().Set(d+h,-k,0);C.AddVertex(n);n=q.vertex.Get();n.position=q.vec3.Get().Set(d+h,-k-l,0);C.AddVertex(n);n=q.vertex.Get();n.position=q.vec3.Get().Set(g+h,-k-l,0);C.AddVertex(n);l=q.vertex.Get();l.position=q.vec3.Get().Set(g+h,-k,0);C.AddVertex(l);C.AddFace(0,1,2);C.AddFace(2,3,0);C.Build();this._linkGeomList.Add(C);this._linkgeom2set.Add(c)}c=u}},drawText:function(){var a=this._font.atlas,b=sb.get_instance().Load(a);if(b.enable){this._material.texture=b;var a=
b.width,b=b.height,c=this._charList._length;this._geom.Clear();var d=0,e=null,f=this.height-this._lineHeight;0<this.alignmentY||(f=0==this.alignmentY?.5*f:0);for(var h=0;h<c;){var u=h++,u=this._charList.Get(u);if(null!=u["char"]){var g=x.cca(u["char"],0);if(10!=g&&13!=g&&(g=this._atlas._sprites.get(g+""),null!=g)){var g=g.rect,k=u.size.x,l=u.size.y,C=q.vertex.Get(),n=u.pos.x,m=u.pos.y,e=this._lineWidthList.Get(u.lineId),e=this.width-e;0<this.alignmentX?n+=e:0==this.alignmentX&&(n+=.5*e);m+=f;e=q.vec3.Get().Set(n,
-m,0);C.position=e;C.uv=q.vec2.Get().Set(g.x/a,g.y/b);C.color=u.GetColor(0);this._geom.AddVertex(C);C=q.vertex.Get();e=q.vec3.Get().Set(n,-m-l,0);C.position=e;C.uv=q.vec2.Get().Set(g.x/a,g.get_bottom()/b);C.color=u.GetColor(1);this._geom.AddVertex(C);C=q.vertex.Get();e=q.vec3.Get().Set(n+k,-m-l,0);C.position=e;C.uv=q.vec2.Get().Set(g.get_right()/a,g.get_bottom()/b);C.color=u.GetColor(1);this._geom.AddVertex(C);C=q.vertex.Get();e=q.vec3.Get().Set(n+k,-m,0);C.position=e;C.uv=q.vec2.Get().Set(g.get_right()/
a,g.y/b);C.color=u.GetColor(0);this._geom.AddVertex(C);this._geom.AddFace(d,d+1,d+2);this._geom.AddFace(d,d+2,d+3);d+=4}}}this.buildGeom();this._mesh._count=d/2*3|0}},buildGeom:function(){this._geom.Build();this.boundingInfo.From(this._geom);this._mesh.From(this._geom);this.mesh=this._mesh;this.cameraCull&&this.updateBoundingInfo()},pick_change:function(a){3!=a.action&&5!=a.action||-1==this._pressLinkID||(this.applyLinkSelect(!1),this._pressLinkID=-1)},applyLinkSelect:function(a){if(-1!=this._pressLinkID){for(var b=
this._linkgeom2set.Get(this._pressLinkID),c=this._linkList.Get(b),d=c.start,e=c.end,f=d;f<e;){var h=f++;this._charList.Get(h).press=a}f=ed.LINK;f.press=a;f.index=b;f.name=c.name;f.text=c.text;f.start=d;f.end=e;f.params=c.params;this.DispatchEvent(f);this.drawText()}},atlas_init:function(a){this._atlas.RemoveEventListener(ea.INIT,m(this,this.atlas_init));this._textDirty=!0},setStyle:function(a){if(null!=a.next){var b=a.value;null==b&&(b=a.GetParam("name"));if(null!=b){var b=Ha.GetByName(b).id,c=a.start;
for(a=a.next.start;c<a;){var d=c++;this._charList.Get(d).styleID=b}}}},setLink:function(a){if(null!=a.next){var b=a.value;null==b&&(b=a.GetParam("name"));null==b&&(b="");var c=a.start,d=a.next.start,e=x.substr(this._text,c,d-c),f=this._linksetPool.Get();f.id=this._linkList._length;f.text=e;f.name=b;f.start=c;f.end=d;f.params=a.GetParams();for(a=c;a<d;)b=a++,this._charList.Get(b).linkSet.Copy(f);this._linkList.Add(f)}},font_change:function(a){this._textDirty=!0},set_text:function(a){this.text!=a&&
(this.text=a,this._textDirty=!0);return a},set_font:function(a){this.font!=a&&(this.font=a,null!=this._font&&this._font.RemoveEventListener(ea.CHANGE,m(this,this.font_change)),this._font=ob.GetFont(this.font),null!=this._font&&this._font.AddEventListener(ea.CHANGE,m(this,this.font_change)),this._textDirty=!0);return a},set_width:function(a){this.width!=a&&(this.width=a,this._textDirty=!0);return a},set_alignmentX:function(a){0<a&&(a=1);0>a&&(a=-1);a!=this.alignmentX&&(this.alignmentX=a,this._textDirty=
!0);return a},__class__:Dc,__properties__:r($a.prototype.__properties__,{set_alignmentX:"set_alignmentX",set_font:"set_font",set_text:"set_text",set_width:"set_width"})});var Yf=function(){this.x=this.y=0};g["lovedna.graphics.display.text.CharRect"]=Yf;Yf.__name__=["lovedna","graphics","display","text","CharRect"];Yf.prototype={__class__:Yf};var Xf=function(){this.press=!1;this.index=this.styleID=0;this.size=new Na;this.pos=new Na;this.offset=new Na;this.linkSet=new Ce;this.rect=new Yf};g["lovedna.graphics.display.text.GChar"]=
Xf;Xf.__name__=["lovedna","graphics","display","text","GChar"];Xf.prototype={Reset:function(){this["char"]=null;this.styleID=0;this.linkSet.Reset();this.style=null;this.pos.Set(0,0);this.size.Set(1,1);this.offset.Set(0,0)},GetColor:function(a){null==a&&(a=0);if(null!=this.style){var b=this.style.gradient,c=this.style.color;1==a&&(c=b?this.style.gradientColor:this.style.color);b?null!=this.linkSet.text&&(c=this.press?1==a?this.style.gradientLinkPressColor:this.style.linkPressColor:1==a?this.style.gradientLinkNormalColor:
this.style.linkNormalColor):null!=this.linkSet.text&&(c=this.press?this.style.linkPressColor:this.style.linkNormalColor);return c}return vb.instance.Set(1,1,1,1)},__class__:Xf};var ob=function(a,b){F.call(this);this.name=a;this.set_atlas(b)};g["lovedna.graphics.display.text.GFont"]=ob;ob.__name__=["lovedna","graphics","display","text","GFont"];ob.AddFont=function(a){ob._map.exists(a.name)||(ob._map.set(a.name,a),Ma.get_instance().AddAtlas(a.atlas))};ob.GetFont=function(a){null==a&&(a="");return ob._map.exists(a)?
ob._map.get(a):ob._map.get("default")};ob.__super__=F;ob.prototype=r(F.prototype,{set_atlas:function(a){this.atlas!=a&&(this.atlas=a,Ma.get_instance().AddAtlas(a),this.DispatchEvent(ea.CHANGE));return a},__class__:ob,__properties__:{set_atlas:"set_atlas"}});var Ce=function(){this.id=-1};g["lovedna.graphics.display.text.GLinkSet"]=Ce;Ce.__name__=["lovedna","graphics","display","text","GLinkSet"];Ce.prototype={Reset:function(){this.id=-1;this.text=null;this.end=this.start=0;this.name="";this.params=
null},Copy:function(a){this.id=a.id;this.start=a.start;this.end=a.end;this.name=a.name;this.text=a.text;this.params=a.params;return this},__class__:Ce};var ed=function(a){this._type=a};g["lovedna.graphics.display.text.TextLinkEvent"]=ed;ed.__name__=["lovedna","graphics","display","text","TextLinkEvent"];ed.__super__=Nb;ed.prototype=r(Nb.prototype,{__class__:ed});var Ha=function(a){this.name=a;this.id=Ha._ID++;this.size=32;this.color=new vb;this.color.set_rgba(-1);this.linkNormalColor=new vb;this.linkNormalColor.set_rgba(16711935);
this.linkPressColor=new vb;this.linkPressColor.set_rgba(13369599);this.gradient=!0;this.gradientColor=new vb;this.gradientColor.set_rgba(-858993409);this.gradientLinkNormalColor=new vb;this.gradientLinkNormalColor.set_rgba(11141375);this.gradientLinkPressColor=new vb;this.gradientLinkPressColor.set_rgba(6684927)};g["lovedna.graphics.display.text.TextStyle"]=Ha;Ha.__name__=["lovedna","graphics","display","text","TextStyle"];Ha.defaultStyle=null;Ha.AddStyle=function(a){var b=a.name;null==b&&(b="default");
if(Ha._nameMap.exists(b))throw La.log(b+" has exist"),new B("--");Ha._nameMap.set(b,a);Ha._idMap.h[a.id]=a};Ha.GetByName=function(a){null!=a&&Ha._nameMap.exists(a)||(a="default");return Ha._nameMap.exists(a)?Ha._nameMap.get(a):(null==Ha.defaultStyle&&(Ha.defaultStyle=new Ha("default"),Ha.AddStyle(Ha.defaultStyle)),Ha.defaultStyle)};Ha.GetById=function(a){return Ha._idMap.h.hasOwnProperty(a)?Ha._idMap.h[a]:Ha.GetByName("default")};Ha.prototype={__class__:Ha};var $c=function(a){null==a&&(a=0);Y.call(this);
this.id=a};g["lovedna.ui.LTouch"]=$c;$c.__name__=["lovedna","ui","LTouch"];$c.__super__=Y;$c.prototype=r(Y.prototype,{Begin:function(){this._actions.Clear();this._frameActions.Clear()},Update:function(){this._frameActions.Clear()},End:function(){this.action=0;this.active=!1},AddAction:function(a){this._actions.Open(a);this._frameActions.Open(a)},HasAction:function(a){return this._actions.IsOpen(a)},IsAction:function(a){return this._frameActions.IsOpen(a)},Copy:function(a){this.id=a.id;this.action=
a.action;this.active=a.active;this.userAction=a.userAction;this.position.Copy(a.position);this.lastPosition.Copy(a.lastPosition);this.motion.Copy(a.motion);this.down.Copy(a.down);this.time.Copy(a.time);this.lastTime.Copy(a.lastTime);this._frameActions.value=a._frameActions.value;this._actions.value=a._actions.value;this._activeObjectList=a._activeObjectList;return this},AddObject:function(a){null!=a&&(this._activeObjectList.Contains(a)||this._activeObjectList.Add(a))},ClearObject:function(){this._activeObjectList.Clear()},
Construct:function(){Y.prototype.Construct.call(this);this.active=!1;this.action=0;this.userAction=!1;this.position=new Na;this.lastPosition=new Na;this.motion=new Na;this.down=new Na;this.time=new U;this.lastTime=new U;this._frameActions=new lc;this._actions=new lc;this._activeObjectList=new ma},__class__:$c});var ac=function(a){this._type=a;this.touch=new $c};g["lovedna.graphics.events.PickEvent"]=ac;ac.__name__=["lovedna","graphics","events","PickEvent"];ac.__super__=Nb;ac.prototype=r(Nb.prototype,
{__class__:ac});var Sa=function(){this._dirty=!1;this._usage=35044;this._time=0;this.id=Sa._bufferID++;this._bind=!1};g["lovedna.graphics.gl.BufferBase"]=Sa;Sa.__name__=["lovedna","graphics","gl","BufferBase"];Sa.lost=function(a){for(var b=Sa._bufferMap.iterator();b.hasNext();)b.next().lostContext(a)};Sa.prototype={Dispose:function(){null!=this._buffer&&(p.context.deleteBuffer(this._buffer),Sa._bufferMap.remove(this.id),this._buffer=null,this._dirty=!0)},Bind:function(a){this._time=a;this._bind=!0},
UnBind:function(){this._bind=!1},createBuffer:function(){null==this._buffer&&(Sa._bufferMap.h[this.id]=this,this._buffer=p.context.createBuffer())},lostContext:function(a){},__class__:Sa};var Kc=function(){this.stride=this.offset=0;this.size=3;this.location=-1;Sa.call(this)};g["lovedna.graphics.gl.BufferFloat"]=Kc;Kc.__name__=["lovedna","graphics","gl","BufferFloat"];Kc.__super__=Sa;Kc.prototype=r(Sa.prototype,{SetData:function(a,b){null==b&&(b=0);this._data=a;this._count=b;this._dirty=!0;return this},
Apply:function(){null==this._buffer||0>this.location||(p.context.enableVertexAttribArray(this.location),p.context.vertexAttribPointer(this.location,this.size,5126,!1,this.stride,this.offset))},Dispose:function(){Sa.prototype.Dispose.call(this);this._data=this.data=null},Bind:function(a){if(!this._bind)if(Sa.prototype.Bind.call(this,a),this._dirty){if(this._dirty=!1,null!=this._data&&(a=this._data.length,0<this._count&&(a=this._count),!(1>a))){if(null==this.data||a>this.data.length)this.data=null!=
a?new Float32Array(a):null;for(;0<a--;)this.data[a]=this._data[a];this.createBuffer();p.context.bindBuffer(34962,this._buffer);p.context.bufferData(34962,this.data,this._usage)}}else null!=this._buffer&&p.context.bindBuffer(34962,this._buffer)},UnBind:function(){Sa.prototype.UnBind.call(this);this._bind&&(p.context.disableVertexAttribArray(this.location),this.location=-1)},lostContext:function(a){Sa.prototype.lostContext.call(this,a);Sa.prototype.Dispose.call(this)},__class__:Kc});var Ee=function(){this.count=
0;Sa.call(this)};g["lovedna.graphics.gl.BufferIndex"]=Ee;Ee.__name__=["lovedna","graphics","gl","BufferIndex"];Ee.__super__=Sa;Ee.prototype=r(Sa.prototype,{SetData:function(a,b){null==b&&(b=0);this._data=a;this.count=0<b?b:a.length;this._dirty=!0;return this},Bind:function(a){if(!this._bind){Sa.prototype.Bind.call(this,a);if(null!=this._data){a=this._data.length;0<this.count&&(a=this.count);if(1>a)return;if(null==this.data||a>this.data.length)this.data=null!=a?new Int16Array(a):null;for(;0<a--;)this.data[a]=
this._data[a]}null!=this.data&&(this._dirty?(this._dirty=!1,this.createBuffer(),p.context.bindBuffer(34963,this._buffer),p.context.bufferData(34963,this.data,this._usage)):null!=this._buffer&&p.context.bindBuffer(34963,this._buffer))}},Dispose:function(){Sa.prototype.Dispose.call(this);this.data=this._data=null},lostContext:function(a){Sa.prototype.lostContext.call(this,a);this.count=0;Sa.prototype.Dispose.call(this)},__class__:Ee});var Hb=function(){this._dirty=!1;this._time=0;this._variables=new E;
this._uniformValue=new E;this._avaiableUniforms=[];this.id=Hb._programID++};g["lovedna.graphics.gl.Program"]=Hb;Hb.__name__=["lovedna","graphics","gl","Program"];Hb._currentProgram=null;Hb.lost=function(a){for(var b=Hb._map.iterator();b.hasNext();)b.next().Unload(a)};Hb.prototype={Upload:function(a,b){null!=a&&null!=b&&null==this._program&&(this._vert=a,this._frag=b,this._dirty=!0)},Bind:function(a){null==a&&(a=0);this._bind||(this._time=a,this._dirty&&null==this._program&&(this._dirty=!1,this.createShader()),
null!=this._program&&(Hb._currentProgram!=this._program&&(Hb._currentProgram=this._program,p.context.useProgram(this._program)),this._bind=!0))},UnBind:function(){this._bind=!1},Apply:function(){if(null!=this._program)for(var a=this._avaiableUniforms.length;0<a--;)this._avaiableUniforms[a].Apply()},Unload:function(a){null==a&&(a=0);if(this._time>a)return!1;null!=this._program&&(p.context.deleteProgram(this._program),this._program=null,this._dirty=!0);return!0},GetVariable:function(a){return this._variables.get(a)},
SetUniform:function(a,b){var c=null;this._uniformValue.exists(a)?c=this._uniformValue.get(a):(c=new z,this._uniformValue.set(a,c));if(null==b)return c;c.Bind(b);return c},SetTexture:function(a,b){if(this._variables.exists(a)){var c=this._variables.get(a).attribute;b.location=c;b.Bind(this._time);this.SetUniform(a,c)}},createShader:function(){var a=p.context.createShader(35633);p.context.shaderSource(a,this._vert);p.context.compileShader(a);if(0==p.context.getShaderParameter(a,35713))throw new B("vertex compileShader "+
p.context.getShaderInfoLog(a));var b=p.context.createShader(35632);p.context.shaderSource(b,this._frag);p.context.compileShader(b);if(0==p.context.getShaderParameter(b,35713))throw new B("fragment compileShader "+p.context.getShaderInfoLog(b));this._program=p.context.createProgram();p.context.attachShader(this._program,a);p.context.attachShader(this._program,b);p.context.linkProgram(this._program);p.context.deleteShader(a);p.context.deleteShader(b);if(0==p.context.getProgramParameter(this._program,
35714))throw new B("linkProgram "+p.context.getProgramInfoLog(this._program));this.createLocations();Hb._map.h[this.id]=this},createLocations:function(){for(var a=null,b=null,b=null,c=p.context.getProgramParameter(this._program,35721);0<c--;)b=p.context.getActiveAttrib(this._program,c),a=b.name,b=new Dd(p.context.getAttribLocation(this._program,a),null),this._variables.set(a,b);for(var c=p.context.getProgramParameter(this._program,35718),d=0,e=0;0<c--;)if(b=p.context.getActiveUniform(this._program,
c),a=b.name,e=b.type,35678==e)b=new Dd(d++,p.context.getUniformLocation(this._program,a)),this._variables.set(a,b),a=this.SetUniform(a,b.attribute),a.setType(e),a.location=b.uniform,this._avaiableUniforms.push(a);else if(35680!=e){b=new Dd(-1,p.context.getUniformLocation(this._program,a));this._variables.set(a,b);var f=!1,h=a.indexOf("[");0<h&&(f=!0,a=x.substr(a,0,h));a=this.SetUniform(a,null);a.setType(e,f);a.location=b.uniform;this._avaiableUniforms.push(a)}},__class__:Hb};var z=function(){this._dirty=
!0};g["lovedna.graphics.gl.ProgramUniform"]=z;z.__name__=["lovedna","graphics","gl","ProgramUniform"];z._funMap=null;z.fun_bool=function(a,b){p.context.uniform1i(a,b)};z.fun_int=function(a,b){p.context.uniform1i(a,b)};z.fun_float=function(a,b){p.context.uniform1f(a,b)};z.fun_boolv=function(a,b){p.context.uniform1iv(a,b)};z.fun_intv=function(a,b){p.context.uniform1iv(a,b)};z.fun_floatv=function(a,b){p.context.uniform1fv(a,b)};z.fun_fvec2=function(a,b){p.context.uniform2fv(a,b)};z.fun_fvec3=function(a,
b){p.context.uniform3fv(a,b)};z.fun_fvec4=function(a,b){p.context.uniform4fv(a,b)};z.fun_ivec2=function(a,b){p.context.uniform2iv(a,b)};z.fun_ivec3=function(a,b){p.context.uniform3iv(a,b)};z.fun_ivec4=function(a,b){p.context.uniform4iv(a,b)};z.fun_mat2=function(a,b){p.context.uniformMatrix2fv(a,!1,b)};z.fun_mat3=function(a,b){p.context.uniformMatrix3fv(a,!1,b)};z.fun_mat4=function(a,b){p.context.uniformMatrix4fv(a,!1,b)};z.prototype={Bind:function(a){a!=this._value&&(this._value=a,this._dirty=!0)},
Apply:function(){null!=this._value&&null!=this._handler&&(this._handler(this.location,this._value),this._dirty=!1)},setType:function(a,b){null==b&&(b=!1);null==z._funMap&&(z._funMap=new E,z._funMap.set("f35664",z.fun_fvec2),z._funMap.set("f35664v",z.fun_fvec2),z._funMap.set("f35665",z.fun_fvec3),z._funMap.set("f35665v",z.fun_fvec3),z._funMap.set("f35666",z.fun_fvec4),z._funMap.set("f35666v",z.fun_fvec4),z._funMap.set("f35667",z.fun_ivec2),z._funMap.set("f35667v",z.fun_ivec2),z._funMap.set("f35668",
z.fun_ivec3),z._funMap.set("f35668v",z.fun_ivec3),z._funMap.set("f35669",z.fun_ivec4),z._funMap.set("f35669v",z.fun_ivec4),z._funMap.set("f35671",z.fun_ivec2),z._funMap.set("f35671v",z.fun_ivec2),z._funMap.set("f35672",z.fun_ivec3),z._funMap.set("f35672v",z.fun_ivec3),z._funMap.set("f35673",z.fun_ivec4),z._funMap.set("f35673v",z.fun_ivec4),z._funMap.set("f35674",z.fun_mat2),z._funMap.set("f35674v",z.fun_mat2),z._funMap.set("f35675",z.fun_mat3),z._funMap.set("f35675v",z.fun_mat3),z._funMap.set("f35676",
z.fun_mat4),z._funMap.set("f35676v",z.fun_mat4),z._funMap.set("f35670",z.fun_bool),z._funMap.set("f35670v",z.fun_boolv),z._funMap.set("f5124",z.fun_int),z._funMap.set("f5124v",z.fun_intv),z._funMap.set("f5126",z.fun_float),z._funMap.set("f5126v",z.fun_floatv));var c;c="f"+a+(b?"v":"");z._funMap.exists(c)&&(this._dirty=!0,this._handler=z._funMap.get(c))},__class__:z};var Dd=function(a,b){this.attribute=a;this.uniform=b};g["lovedna.graphics.gl.ProgramVariable"]=Dd;Dd.__name__=["lovedna","graphics",
"gl","ProgramVariable"];Dd.prototype={__class__:Dd};var wb=function(){this._hasBind=this._hasDispatch=!1;this.location=-1;this.enable=!1;this.width=this.height=0;F.call(this);this.id=wb._textureID++;this.filterMode=9729};g["lovedna.graphics.gl.TextureBase"]=wb;wb.__name__=["lovedna","graphics","gl","TextureBase"];wb.lost=function(a){wb._textureID=0;for(var b=wb._textureMap.iterator();b.hasNext();)b.next().Unload(a)};wb.__super__=F;wb.prototype=r(F.prototype,{SetBitmapData:function(a){this._image!=
a&&(this._image=a,null==this._image?(this.width=this.height=0,this.enable=!1):(this.enable=!0,this.width=this._image.width,this.height=this._image.height,this.isPow2=y.IsPow2(this.width)&&y.IsPow2(this.height)))},Bind:function(a){this._time=a;null!=this._image&&(null==this._texture&&(this._texture=p.context.createTexture()),this.uploadFromBitmapData(this._image),this._hasBind=!0,this._image.dispose(),this._image=null);null==this._texture?(p.context.bindTexture(3553,null),this._hasBind&&!this._hasDispatch&&
(this._hasDispatch=!0,this.DispatchEvent(ea.RESTORE))):0>this.location||(p.context.activeTexture(33984+this.location),p.context.bindTexture(3553,this._texture),this.filterMode!=this._filterMode&&(this._filterMode=this.filterMode,p.context.texParameteri(3553,10240,this._filterMode),p.context.texParameteri(3553,10241,this._filterMode)),this.location=-1)},Unload:function(a){if(!(a<=this._time)&&null!=this._texture)this.onUnload()},onUnload:function(){null!=this._image&&(this._image.dispose(),this._image=
null);wb._textureMap.remove(this.id);this.enable=!1;this._time=0;this.variable=null;p.context.deleteTexture(this._texture);this._texture=null;this.width=this.height=0;this._hasDispatch=this.isPow2=!1},uploadFromBitmapData:function(a){this.uploadFromUInt8Array(a.image.get_data())},uploadFromUInt8Array:function(a){p.context.bindTexture(3553,this._texture);p.context.texParameteri(3553,10240,9728);p.context.texParameteri(3553,10241,9728);y.IsPow2(this.width)?p.context.texParameteri(3553,10242,10497):
p.context.texParameteri(3553,10242,33071);y.IsPow2(this.height)?p.context.texParameteri(3553,10243,10497):p.context.texParameteri(3553,10243,33071);p.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,a);p.context.bindTexture(3553,null);wb._textureMap.h[this.id]=this},__class__:wb});var Zf=function(){};g["lovedna.graphics.gl.RenderTexture"]=Zf;Zf.__name__=["lovedna","graphics","gl","RenderTexture"];Zf.__super__=wb;Zf.prototype=r(wb.prototype,{Begin:function(a){this._resized&&(this._resized=
!1,null!=this._frameBuffer&&(p.context.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),null!=this._renderBuffer&&(p.context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null));null==this._frameBuffer&&(this._frameBuffer=p.context.createFramebuffer(),p.context.bindFramebuffer(36160,this._frameBuffer),this._renderBuffer=p.context.createRenderbuffer(),p.context.bindRenderbuffer(36161,this._renderBuffer),p.context.renderbufferStorage(36161,33189,this._width,this._height),p.context.framebufferRenderbuffer(36160,
36096,36161,this._renderBuffer),null==this._texture&&(this._texture=p.context.createTexture()),this.enable=!0,p.context.bindTexture(3553,this._texture),p.context.texImage2D(3553,0,6408,this._width,this._height,0,6408,5121,null),p.context.texParameteri(3553,10240,9728),p.context.texParameteri(3553,10241,9728),y.IsPow2(this.width)?p.context.texParameteri(3553,10242,10497):p.context.texParameteri(3553,10242,33071),y.IsPow2(this.height)?p.context.texParameteri(3553,10243,10497):p.context.texParameteri(3553,
10243,33071),p.context.framebufferTexture2D(36160,36064,3553,this._texture,0),p.context.bindFramebuffer(36160,null),p.context.bindRenderbuffer(36161,null),p.context.bindTexture(3553,null));p.context.bindFramebuffer(36160,this._frameBuffer);this.location=0;this.Bind(a)},End:function(){p.context.bindFramebuffer(36160,null);p.context.bindTexture(3553,null)},onUnload:function(){wb.prototype.onUnload.call(this);null!=this._frameBuffer&&(p.context.deleteFramebuffer(this._frameBuffer),this._frameBuffer=
null);null!=this._renderBuffer&&(p.context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null)},__class__:Zf});var $f=function(){};g["lovedna.utils.macro.ISingleton"]=$f;$f.__name__=["lovedna","utils","macro","ISingleton"];var Ma=function(){F.call(this,null)};g["lovedna.graphics.loader.AtlasLoader"]=Ma;Ma.__name__=["lovedna","graphics","loader","AtlasLoader"];Ma.__interfaces__=[$f];Ma.__properties__={get_instance:"get_instance"};Ma.SetAtlas=function(a){Ma.get_instance().AddAtlas(a)};Ma.instance=
null;Ma.get_instance=function(){return null==Ma.instance?Ma.instance=new Ma:Ma.instance};Ma.__super__=F;Ma.prototype=r(F.prototype,{AddAtlas:function(a){this._url.Set(a);if(null==this._url.ext||1>this._url.ext.length)a+=".png";this._atlasMap.set(a,!0)},Exist:function(a){this._url.Set(a);a=this._url.dir+".png";var b=!1;this._atlasMap.exists(a)&&(b=!0);var c=this._url.toString(),d=null;return this._spriteMap.exists(c)?(d=this._spriteMap.get(c),d.enable):b?this._loader.Exist(a):this._loader.Exist(c)},
Load:function(a){this._url.Set(a);a=this._url.dir+".png";var b=!1;this._atlasMap.exists(a)&&(b=!0);var c=this._url.toString(),d=null;this._spriteMap.exists(c)?d=this._spriteMap.get(c):b?(d=new Ed(this._url.file),d.set_texture(this._loader.Load(a,!0)),d.atlasName=a,this._spriteMap.set(c,d),Jb._atlas.exists(a)&&d.setup(Jb.GetAtlas(a))):(d=new Ed,this._spriteMap.set(c,d),d.set_texture(this._loader.Load(c)),d._texture.enable&&d.setup(null));return d},onConstruct:function(){F.prototype.onConstruct.call(this);
this._url=new Ka;this._loader=sb.get_instance();this._atlasMap=new E;this._spriteMap=new E},Setup:function(a,b){null==b&&(b=!0);if(b){var c=this._spriteMap.get(a);null!=c&&c.setup(null);for(var d=Jb.GetAtlas(a),e=Ka.WithoutExtension(a),f=d.GetSpriteList(),h=f.length;0<h--;)c=Ka.Combine(e,f[h].name+".png"),c=this._spriteMap.get(c),null!=c&&c.setup(d)}else d=this._spriteMap.get(a),null!=d&&d.setup(null)},__class__:Ma});var Vb=function(){F.call(this,null)};g["lovedna.graphics.loader.FntLoader"]=Vb;Vb.__name__=
["lovedna","graphics","loader","FntLoader"];Vb.__interfaces__=[$f];Vb.__properties__={get_instance:"get_instance"};Vb.instance=null;Vb.get_instance=function(){return null==Vb.instance?Vb.instance=new Vb:Vb.instance};Vb.__super__=F;Vb.prototype=r(F.prototype,{Parse:function(a,b){if(null!=b){var c=b.readInt();if(!(lb.get_length(b)<c)){var c=b.readUTFBytes(c),d=this._fntMap.get(a);null==d&&(d=new Fe,this._fntMap.set(a,d));d.Parse(c)}}},onConstruct:function(){F.prototype.onConstruct.call(this);this._fntMap=
new E},__class__:Vb});var Ed=function(a){F.call(this,null);this.name=a};g["lovedna.graphics.loader.SpriteTexture"]=Ed;Ed.__name__=["lovedna","graphics","loader","SpriteTexture"];Ed.__super__=F;Ed.prototype=r(F.prototype,{onConstruct:function(){F.prototype.onConstruct.call(this);this.region=new Ge;this.uv00=(new Na).Set(0,0);this.uv01=(new Na).Set(0,1);this.uv11=(new Na).Set(1,1);this.uv10=(new Na).Set(1,0)},setup:function(a){if(null==a)this.enable=!0,this.width=this._texture.width,this.height=this._texture.height,
this.region.rect.Set(0,0,this.width,this.height),this.DispatchEvent(ea.INIT);else if(a.enable&&a.name==this.atlasName){this.region.Copy(a._sprites.get(this.name));this.enable=!0;a=this._texture.width;var b=this._texture.height,c=this.region.rect;this.region.rotated?(this.width=c.height,this.height=c.width,this.uv00.Set(c.get_right()/a,c.y/b),this.uv01.Set(c.x/a,c.y/b),this.uv11.Set(c.x/a,c.get_bottom()/b),this.uv10.Set(c.get_right()/a,c.get_bottom()/b)):(this.uv00.Set(c.x/a,c.y/b),this.uv01.Set(c.x/
a,c.get_bottom()/b),this.uv11.Set(c.get_right()/a,c.get_bottom()/b),this.uv10.Set(c.get_right()/a,c.y/b),this.width=c.width,this.height=c.height);this.DispatchEvent(ea.INIT)}},set_texture:function(a){this._texture!=a&&(this._texture=a);return this._texture},__class__:Ed,__properties__:{set_texture:"set_texture"}});var sb=function(){F.call(this,null)};g["lovedna.graphics.loader.TextureLoader"]=sb;sb.__name__=["lovedna","graphics","loader","TextureLoader"];sb.__interfaces__=[$f];sb.__properties__={get_instance:"get_instance"};
sb.instance=null;sb.get_instance=function(){return null==sb.instance?sb.instance=new sb:sb.instance};sb.__super__=F;sb.prototype=r(F.prototype,{Exist:function(a){this._url.Set(a);a=this._url.toString();return this._textureMap.exists(a)?this._textureMap.get(a).enable:!1},Load:function(a,b){null==b&&(b=!1);this._url.Set(a);var c=this._url.toString();if(this._textureMap.exists(c))return this._textureMap.get(c);var d=new wb;d.AddEventListener(ea.RESTORE,m(this,this.texture_restore));this._textureMap.set(c,
d);this._loader.Load(c).needBytes=b;this._needByteMap.set(c,b);return d},OnEnterFrame:function(a){var b=this._bindList._length;if(0<b){--b;var c=this._bindList.Get(b);this._bindList.set_length(b);c.Bind(a.time)}},OnExitFrame:function(a){},lost:function(a){wb.lost(a)},restore:function(){for(var a=this._textureMap.keys();a.hasNext();){var b=a.next();this._loader.Load(b).needBytes=this._needByteMap.get(b)}},onConstruct:function(){F.prototype.onConstruct.call(this);this._textureMap=new E;this._needByteMap=
new E;this._loader=new Da;this._loader.AddEventListener(ea.COMPLETE,m(this,this.loader_complete));this._url=new Ka;this._bindList=new ma;this._dirty=!1;this._errorImage=new pb(5,5,!1,-16776961);this._png=new He},loader_complete:function(a){a=this._loader.GetCurrent();var b=a._url.toString();a._loadType==ua.IMAGE&&(b=this._textureMap.get(b),null!=a.image?(b.SetBitmapData(a.image),this._bindList.Add(b),this._dirty=!0,this.parsePngData(a)):b.SetBitmapData(this._errorImage))},parsePngData:function(a){var b=
a._url.toString();if(null==a.bytes)Ma.get_instance().Setup(b,!1);else if(this._png.Decode(a.bytes),a=this._png.GetChunk(1716666723),null==a)Ma.get_instance().Setup(b,!1);else{a=a.GetContent();for(var c=new ag;;){var d=c.Decode(a);if(null==d)break;switch(c._type){case 1442718530:Jb.GetAtlas(b).Decode(d);Ma.get_instance().Setup(b);break;case -1629174247:Vb.get_instance().Parse(b,d)}}}},texture_restore:function(a){for(var b=this._textureMap.keys();b.hasNext();){var c=b.next();this._textureMap.get(c)==
a._target&&(this._loader.Load(c).needBytes=this._needByteMap.get(c))}},__class__:sb});var bg=function(){this._dirty=!0;this.type=2};g["lovedna.graphics.materials.Blend"]=bg;bg.__name__=["lovedna","graphics","materials","Blend"];bg.prototype={get_id:function(){if(this._dirty){this._dirty=!1;var a=q.hash.Get();a.Reset();a.PushInt(this.type);this.id=a.GetCode()}return this.id},__class__:bg,__properties__:{get_id:"get_id"}};var Ob=function(){this._dirty=!0;this.drawMode=4;this.polygonOffsetUnits=0;this.polygonOffsetFactor=
.01;this.polygonOffset=!1;this.depthTest=this.depthWrite=!0;this.cullFaceSide=1029;this.frontFaceDirection=2305;this.cullFace=!0;this.transparent=!1;this.visible=!0;this.blend=new bg;this._state=Ub.GetInstance().state;this._dirty=!0};g["lovedna.graphics.materials.Material"]=Ob;Ob.__name__=["lovedna","graphics","materials","Material"];Ob.prototype={Dispose:function(){this.blend=this._state=null;null!=this.shader&&(this.shader.Dispose(),this.shader=null)},IsReady:function(){return null==this.shader?
!1:!0},Render:function(a,b){this.Apply();this.shader.program.Bind(b.time.time)},Apply:function(){this._state.SetEnable(2884,this.cullFace);this._state.SetFrontFaceDirection(this.frontFaceDirection);this._state.SetCullFaceSide(this.cullFaceSide);this.depthTest?p.context.enable(2929):p.context.disable(2929);this.transparent?this._state.SetDepthWrite(!0):this._state.SetDepthWrite(this.depthWrite);this._state.SetPolygonOffset(this.polygonOffset,this.polygonOffsetFactor,this.polygonOffsetUnits);this._state.SetBlendType(this.blend.type)},
textureReady:function(a){return null!=a&&a.enable},addFlag:function(a){},get_id:function(){if(this._dirty){this._dirty=!1;var a=this.blend.get_id(),b=q.hash.Get();b.Reset();b.PushBool(this.visible);b.PushBool(this.transparent);b.PushBool(this.transparent);b.PushInt(a);b.PushBool(this.cullFace);b.PushBool(this.depthTest);b.PushBool(this.depthWrite);b.PushBool(this.polygonOffset);b.PushBool(this.polygonOffset);b.PushInt(this.cullFaceSide);b.PushInt(this.frontFaceDirection);b.PushFloat(this.polygonOffsetFactor);
b.PushFloat(this.polygonOffsetUnits);this.id=b.GetCode();this.addFlag(b)}return this.id},__class__:Ob,__properties__:{get_id:"get_id"}};var Zd=function(){Ob.call(this);this.shader=new rb("@image");this.color=(new vb).Set(1,1,1,1);this.transparent=!0;this.uvSet=(new vb).Set(0,0,1,1)};g["lovedna.graphics.materials.MaterialImage"]=Zd;Zd.__name__=["lovedna","graphics","materials","MaterialImage"];Zd.__super__=Ob;Zd.prototype=r(Ob.prototype,{IsReady:function(){return this.textureReady(this.texture)?Ob.prototype.IsReady.call(this):
!1},Render:function(a,b){Ob.prototype.Render.call(this,a,b);var c=this.shader.program,d=a.mesh,e=b.time.time;c.SetUniform("world",a._world.GetFloat32Array());c.SetUniform("view",b.viewMatrix.GetFloat32Array());c.SetUniform("projection",b.projectionMatrix.GetFloat32Array());c.SetUniform("color",this.color.GetFloat32Array());c.SetUniform("clipRect",b.clipRectData);c.SetUniform("uvSet",this.uvSet.GetFloat32Array());d.Bind("position",c.GetVariable("position").attribute,e);d.Bind("uv",c.GetVariable("uv").attribute,
e);c.SetTexture("sampler",this.texture);c.Apply();a.mesh.index.Bind(e);p.drawElements(this.drawMode,a.mesh.get_count(),5123,0);a.mesh.UnBind();this.shader.program.UnBind()},__class__:Zd});var De=function(){Ob.call(this);this.shader=new rb("@text");this.color=(new vb).Set(1,1,1,1);this.transparent=!0};g["lovedna.graphics.materials.MaterialText"]=De;De.__name__=["lovedna","graphics","materials","MaterialText"];De.__super__=Ob;De.prototype=r(Ob.prototype,{IsReady:function(){return this.textureReady(this.texture)?
Ob.prototype.IsReady.call(this):!1},Render:function(a,b){Ob.prototype.Render.call(this,a,b);var c=this.shader.program,d=a.mesh,e=b.time.time;c.SetUniform("world",a._world.GetFloat32Array());c.SetUniform("view",b.viewMatrix.GetFloat32Array());c.SetUniform("projection",b.projectionMatrix.GetFloat32Array());c.SetUniform("gcolor",this.color.GetFloat32Array());d.Bind("position",c.GetVariable("position").attribute,e);d.Bind("uv",c.GetVariable("uv").attribute,e);d.Bind("color",c.GetVariable("color").attribute,
e);c.SetTexture("sampler",this.texture);c.Apply();a.mesh.index.Bind(e);p.drawElements(this.drawMode,a.mesh.get_count(),5123,0);a.mesh.UnBind();this.shader.program.UnBind()},__class__:De});var Bc=function(){this.autoBuildBounding=this.hasNormal=this.hasUv=this.hasColor=!0;this._indexs=new ma;this._vertexs=new ma;this.id=Bc._id++};g["lovedna.graphics.mesh.Geometry"]=Bc;Bc.__name__=["lovedna","graphics","mesh","Geometry"];Bc.prototype={Clear:function(){this._indexs.Clear();this._vertexs.Clear();this.hasColor=
this.hasUv=this.hasNormal=!0},Dispose:function(){this.box=this.sphere=this.colors=this.uvs=this.normals=this.positions=this.indexs=null},AddVertex:function(a){this._vertexs.Add(a);this.hasNormal&&null==a.normal&&(this.hasNormal=!1);this.hasUv&&null==a.uv&&(this.hasUv=!1);this.hasColor&&null==a.color&&(this.hasColor=!1)},AddFace:function(a,b,c){this._indexs.Add(a);this._indexs.Add(b);this._indexs.Add(c)},Build:function(a){null==a&&(a=!0);if(0==this._indexs._length&&0<this._vertexs._length)this.buildIndex();
else{a&&4>this._vertexs._length&&(a=!1);null==this.indexs&&(this.indexs=[],this.positions=[]);this.hasNormal&&null==this.normals&&(this.normals=[]);this.hasUv&&null==this.uvs&&(this.uvs=[]);this.hasColor&&null==this.colors&&(this.colors=[]);this.autoBuildBounding&&null==this.box&&(this.box=new Bd,this.sphere=new Cd);var b=0,c=0,d=0,e=0;if(a){a=q.intArr.Get();a.Clear();for(var f=new E,h=this._vertexs._length,u=0;0<h--;){var g=this._vertexs.Get(h),k=g.GetHashID();if(null!=ta[k]?f.existsReserved(k):
f.h.hasOwnProperty(k))a.Set(h,null!=ta[k]?f.getReserved(k):f.h[k]);else{a.Set(h,u);var l=u++;null!=ta[k]?f.setReserved(k,l):f.h[k]=l;this.autoBuildBounding&&this.box.ExpandByVertex(g.position);g.position.ToArray(this.positions,e);e+=3;this.hasNormal&&(g.normal.ToArray(this.normals,b),b+=3);this.hasUv&&(g.uv.ToArray(this.uvs,c),c+=2);this.hasColor&&(g.color.ToArray(this.colors,d),d+=4)}}for(h=this._indexs._length;0<h--;)u=this._indexs.Get(h),this.indexs[h]=a.Get(u)}else{a=this._vertexs._length;for(f=
0;f<a;)f++,h=this._vertexs.Get(a),this.autoBuildBounding&&this.box.ExpandByVertex(h.position),h.position.ToArray(this.positions,e),e+=3,this.hasNormal&&(h.normal.ToArray(this.normals,b),b+=3),this.hasUv&&(h.uv.ToArray(this.uvs,c),c+=2),this.hasColor&&(h.color.ToArray(this.colors,d),d+=4);for(a=this._indexs._length;0<a--;)this.indexs[a]=this._indexs.Get(a)}this.autoBuildBounding&&(this.sphere.center.Copy(this.box.GetCenter()),this.sphere.radius=.5*this.box.GetSize().get_length())}},Raycast:function(a){var b=
this.indexs.length;if(3>b)return null;var c=a.count;0<c&&b>c&&(b=c);for(var c=b/3|0,d=q.vec3.Get(),e=q.vec3.Get(),f=q.vec3.Get();0<c--;){var h=3*c,b=this.indexs[h],u=this.indexs[h+1],h=this.indexs[h+2];d.FromArray(this.positions,3*b);e.FromArray(this.positions,3*u);f.FromArray(this.positions,3*h);var g=a.ray.IntersectsTriangle(d,e,f,a.backfaceCulling);if(null!=g)return a=q.pickInfo.Get(),a.trangle.Set(b,u,h),a.localPos.Copy(g),a}return null},buildIndex:function(){this.autoBuildBounding&&null==this.box&&
(this.box=new Bd,this.sphere=new Cd);for(var a=new E,b=this._vertexs._length,c=0,d=0;d<b;){var e=d++,e=this._vertexs.Get(e),f=e.GetHashID();if(null!=ta[f]?a.existsReserved(f):a.h.hasOwnProperty(f))this.indexs.push(null!=ta[f]?a.getReserved(f):a.h[f]);else{this.indexs.push(c);var h=c++;null!=ta[f]?a.setReserved(f,h):a.h[f]=h;e.position.ToArray(this.positions,this.positions.length);this.hasNormal&&e.normal.ToArray(this.normals,this.normals.length);this.hasUv&&e.uv.ToArray(this.uvs,this.uvs.length);
this.hasColor&&e.color.ToArray(this.colors,this.colors.length)}}this.autoBuildBounding&&(this.sphere.center.Copy(this.box.GetCenter()),this.sphere.radius=.5*this.box.GetSize().get_length())},__class__:Bc};var $d=function(){this._count=0;this._buffers=new E};g["lovedna.graphics.mesh.Mesh"]=$d;$d.__name__=["lovedna","graphics","mesh","Mesh"];$d.prototype={Dispose:function(){null!=this.index&&(this.index.Dispose(),this.index=null);for(var a=this._buffers.iterator();a.hasNext();)a.next().Dispose();this._buffers=
this.geometry=null},isReady:function(){return null==this.index||3>this._count&&3>this.index.count?!1:!0},From:function(a){this.geometry=a;null==this.index&&(this.index=new Ee);this.index.SetData(a.indexs);this._count=this.index.count;var b=this._buffers.get("position");null==b&&(b=new Kc,this.AddBuffer("position",b));b.SetData(a.positions);a.hasUv&&(b=this._buffers.get("uv"),null==b&&(b=new Kc,this.AddBuffer("uv",b),b.size=2),b.SetData(a.uvs));a.hasNormal&&(b=this._buffers.get("normal"),null==b&&
(b=new Kc,this.AddBuffer("normal",b)),b.SetData(a.normals));a.hasColor&&(b=this._buffers.get("color"),null==b&&(b=new Kc,b.size=4,this.AddBuffer("color",b)),b.SetData(a.colors));return this},AddBuffer:function(a,b){this._buffers.set(a,b)},UnBind:function(){this.index.UnBind();for(var a=this._buffers.iterator();a.hasNext();)a.next().UnBind()},Bind:function(a,b,c){a=this._buffers.get(a);null!=a&&(a.location=b,a.Bind(c),a.Apply())},get_count:function(){return 3>this._count?this.index.count:this._count},
__class__:$d,__properties__:{get_count:"get_count"}};var Ie=function(){};g["lovedna.graphics.pick.IPickHandler"]=Ie;Ie.__name__=["lovedna","graphics","pick","IPickHandler"];Ie.__interfaces__=[Vd];Ie.prototype={__class__:Ie};var zd=function(){F.call(this);this._downList=[];this._overList=[];this._pickEvent=ac.CHANGE;for(var a=0;5>a;)a++,this._downList.push(new bd),this._overList.push(new bd);this._pick=new bd};g["lovedna.graphics.pick.PickHandler"]=zd;zd.__name__=["lovedna","graphics","pick","PickHandler"];
zd.__interfaces__=[Ie];zd.__super__=F;zd.prototype=r(F.prototype,{Init:function(a){null!=this._manager&&this._manager.RemoveEventListener(ea.TOUCH_CHANGE,m(this,this.manager_touchChange));this._manager=a;this._manager.AddEventListener(ea.TOUCH_CHANGE,m(this,this.manager_touchChange))},mouse_move:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=1;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;null==a||null==a.target||a.target.destroyed||a.target.DispatchEvent(this._pickEvent);
this.DispatchEvent(this._pickEvent)},mouse_over:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=4;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;null==a||null==a.target||a.target.destroyed||a.target.DispatchEvent(this._pickEvent);this.DispatchEvent(this._pickEvent)},mouse_out:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=5;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;null==a||null==a.target||a.target.destroyed||
a.target.DispatchEvent(this._pickEvent);this.DispatchEvent(this._pickEvent)},mouse_up:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=3;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;null==a||null==a.target||a.target.destroyed||a.target.DispatchEvent(this._pickEvent);this.DispatchEvent(this._pickEvent)},mouse_down:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=2;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;
null==a||null==a.target||a.target.destroyed||a.target.DispatchEvent(this._pickEvent);this.DispatchEvent(this._pickEvent)},mouse_long:function(a,b){this._pickEvent.touch.Copy(b);this._pickEvent.action=6;this._pickEvent.currentTarget=a;this._pickEvent.relatedTarget=this._related;null==a||null==a.target||a.target.destroyed||a.target.DispatchEvent(this._pickEvent);this.DispatchEvent(this._pickEvent)},manager_touchChange:function(a){a=a.get_touch();if(a.userAction){var b=a.action,c=a.id,d=this.getTarget(a);
this._related=d;2==b||5==b?(2==b&&this.mouse_move(null!=d.target?d:null,a),this._pickEvent.over=d,b=this._overList[c],b.target!=d.target&&(this.mouse_out(b,a),this._related=b,this.mouse_over(d,a)),this._overList[c].Copy(d)):1==b?(this._downList[c].Copy(d),this._overList[c].Copy(d),this._pickEvent.down=d,this._pickEvent.over=d,this.mouse_down(d,a),this.mouse_over(d,a)):3==b?(b=this._downList[c],this._related=d,this.mouse_up(b,a),this.mouse_out(this._overList[c],a),this._overList[c].target=null,this._pickEvent.down=
null,this._pickEvent.over=null):4==b&&(c=this._downList[c],this._related=d,this.mouse_long(c,a))}},getTarget:function(a){this._pick.target=null;a=a._activeObjectList;for(var b=null,c=null,d=-1,e=a._length;0<e--;){var f=a.Get(e);null==b?(c=f,b=f.target,d=f.z):f.z<d&&(c=f,b=f.target,d=f.z)}this._pick.Copy(c);return this._pick},__class__:zd});var Sf=function(a){this.touchManager=new Fd;this._activeTouchList=this.touchManager._activeTouchList;this._camera=a;this._pickRayList=new ma;this._currentTouchID=
0;this._ray=new Zb};g["lovedna.graphics.pick.PickManager"]=Sf;Sf.__name__=["lovedna","graphics","pick","PickManager"];Sf.prototype={isReady:function(){return null!=this.pickHandler&&0<this._activeTouchList._length},SetHandler:function(a){this.pickHandler=a;null!=this.pickHandler&&this.pickHandler.Init(this.touchManager)},Reset:function(){this.touchManager.AutoTrigger(!1);this.touchManager.Reset()},Start:function(){this._pickRayList.Clear();var a=this._activeTouchList._length;if(!(1>a))for(var b=q.vec3.Get(),
c=q.vec3.Get(),d=q.vec2.Get();0<a--;){var e=this._activeTouchList.Get(a);d.Copy(e.position);this._camera.ScreenToCenter(d,!0);b.x=d.x;b.y=d.y;b.z=-1;b;c.x=d.x;c.y=d.y;c.z=1;c;e=this._camera.projectionViewInverseMatrix;e.TransformVec3(b,!0);e.TransformVec3(c,!0);e=q.ray.Get();e.Set(b,c);this._pickRayList.Add(e)}},Test:function(a){for(var b=this._pickRayList._length;0<b--;){var c=this._pickRayList.Get(b);this._ray.Copy(c);c=a.Raycast(this._ray);null!=c&&(c.id=this._activeTouchList.Get(b).id,c.target=
a,this.touchManager.AddObject(c.id,c))}},End:function(){this.touchManager.Update()},__class__:Sf};var pf=function(){this.pickMode=0;this.backfaceCulling=!1;this.count=0;this.ray=Zb.instance};g["lovedna.graphics.pick.RaycastInfo"]=pf;pf.__name__=["lovedna","graphics","pick","RaycastInfo"];pf.prototype={__class__:pf};var cg=function(){};g["lovedna.graphics.render.IItemSort"]=cg;cg.__name__=["lovedna","graphics","render","IItemSort"];cg.prototype={__class__:cg};var we=function(){};g["lovedna.graphics.render.RenderItemSort"]=
we;we.__name__=["lovedna","graphics","render","RenderItemSort"];we.__interfaces__=[cg];we.prototype={SortOpaque:function(a,b){var c=a.object.order,d=b.object.order;if(c!=d)return c>d?1:-1;c=a.material.get_id();d=b.material.get_id();if(c!=d)return c>d?1:-1;c=a.z;d=b.z;return c!=d?c>d?1:-1:0},SortTransparent:function(a,b){var c=a.object.order,d=b.object.order;if(c!=d)return c>d?1:-1;c=a.z;d=b.z;return c!=d?c>d?-1:1:0},__class__:we};var ic=function(){ic._instance=this;this._list=new ma;this._pvMat4=
new Qa;this._transparentList=new ma;this._opaqueList=new ma};g["lovedna.graphics.render.RenderManager"]=ic;ic.__name__=["lovedna","graphics","render","RenderManager"];ic._instance=null;ic.GetInstance=function(){return null!=ic._instance?ic._instance:new ic};ic.prototype={render:function(a,b,c){this._transparentList.Clear();this._opaqueList.Clear();this._list.Clear();this._scene=a;this._camera=b;this._camera.RenderStart();this._pvMat4=this._camera.projectionViewMatrix;this._pickManager=this._camera.pickManager;
this._pickManager.Reset();(this._picking=this._camera.mouseEnable&&this._pickManager.isReady())&&this._pickManager.Start();c=this._camera.frustum;this._overrideMaterial=this._scene.overrideMaterial;var d=null!=b.sort,e=0,f=this._camera.layers,h=this._scene.GetDisplays();a=h._length;T.displayCount+=a;for(var u=0;u<a;){var e=u++,g=h.Get(e);!g.destroyed&&g.IsReady()&&g.material.IsReady()&&g.mesh.isReady()&&(f.value|g.layers.value)==f.value&&(!g.cameraCull||g.InFrustum(c))&&(e=d?this._pvMat4.TransformVec3(g._worldPos.Set(g._local.d12,
g._local.d13,g._local.d14),!0).z:0,this.addDisplay(g,e))}a=this._opaqueList._length;if(0<a)for(1<a&&(this._opaqueList.Trim(),this._opaqueList.Sort((Ic=b.sort,m(Ic,Ic.SortOpaque)))),c=0;c<a;)d=c++,this.renderItem(this._opaqueList.Get(d),this._camera);a=this._transparentList._length;if(0<a)for(1<a&&(this._transparentList.Trim(),this._transparentList.Sort((Ic=b.sort,m(Ic,Ic.SortTransparent)))),b=0;b<a;)c=b++,this.renderItem(this._transparentList.Get(c),this._camera);this._pickManager.End();this._camera.RenderEnd()},
addDisplay:function(a,b){var c=q.renderItem.Get();c.object=a;c.z=b;var d=a.material;c.material=d;d.transparent?this._transparentList.Add(c):this._opaqueList.Add(c)},renderItem:function(a,b){var c=a.object;(null!=this._overrideMaterial?this._overrideMaterial:a.material).Render(c,b);this._picking&&c.mouseEnable&&this._pickManager.Test(c);T.drawCall+=1},__class__:ic};var rb=function(a){this._name=a;rb._programs.exists(this._name)?this.program=rb._programs.get(this._name):(a=rb._shaders.get(this._name),
null!=a&&(this.program=new Hb,this.program.Upload(a.vert,a.frag),rb._programs.set(this._name,this.program)))};g["lovedna.graphics.shader.Shader"]=rb;rb.__name__=["lovedna","graphics","shader","Shader"];rb.AddShader=function(a){if(rb._shaders.exists(a.name))throw new B(a.name+" has exist");rb._shaders.set(a.name,a)};rb.prototype={Dispose:function(){this.program=this.define=null},__class__:rb};var kh=function(){};g["lovedna.graphics.shader.ShaderDefine"]=kh;kh.__name__=["lovedna","graphics","shader",
"ShaderDefine"];var Kb=function(a,b,c){this.name=a;this.vert=b;this.frag=c};g["lovedna.graphics.shader.ShaderSource"]=Kb;Kb.__name__=["lovedna","graphics","shader","ShaderSource"];Kb.prototype={__class__:Kb};var ye=function(){Kb.call(this,"@base","\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tattribute vec3 position;\r\n\t\tuniform mat4 world;\r\n\t\tuniform mat4 view;\r\n\t\tuniform mat4 projection;\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = projection * view * world * vec4(position, 1.0);\r\n\t\t}\r\n\t\t",
"\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tvarying vec4 v_color;\r\n\t\tvoid main(void) {\r\n\t\t\tvec4 baseColor = vec4(1.0, 1.0, 1.0, 1.0);\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t")};g["lovedna.graphics.shader.shaders.ShaderBase"]=ye;ye.__name__=["lovedna","graphics","shader","shaders","ShaderBase"];ye.__super__=Kb;ye.prototype=r(Kb.prototype,{__class__:ye});var Be=function(){Kb.call(this,"@default","\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tuniform mat4 world;\r\n\t\tuniform mat4 view;\r\n\t\tuniform mat4 projection;\r\n\t\t\r\n\t\tattribute vec3 position;\r\n\t\tattribute vec2 uv;\r\n\t\tvarying vec2 v_uv;\r\n\t\tattribute vec4 color;\r\n\t\tvarying vec4 v_color;\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = projection * view * world * vec4(position, 1.0);\r\n\t\t\tv_uv = uv;\r\n\t\t\tv_color = color;\r\n\t\t}\r\n\t\t",
"\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tuniform sampler2D sampler;\r\n\t\tuniform vec4 gcolor;\r\n\t\tvarying vec2 v_uv;\r\n\t\tvarying vec4 v_color;\r\n\t\tvoid main(void) {\r\n\t\t\tvec2 uv = v_uv;\r\n\t\t\tvec4 baseColor = texture2D(sampler, uv);\r\n\t\t\t\r\n\t\t\tbaseColor = baseColor*gcolor;\r\n\t\t\tbaseColor = baseColor * v_color;\r\n\t\t\tif (baseColor.a < 0.1)\r\n\t\t\t{\r\n\t\t\t\tdiscard;\r\n\t\t\t}\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t")};
g["lovedna.graphics.shader.shaders.ShaderDefault"]=Be;Be.__name__=["lovedna","graphics","shader","shaders","ShaderDefault"];Be.__super__=Kb;Be.prototype=r(Kb.prototype,{__class__:Be});var ze=function(){Kb.call(this,"@image","\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tattribute vec3 position;\r\n\t\tuniform mat4 world;\r\n\t\tuniform mat4 view;\r\n\t\tuniform mat4 projection;\r\n\t\t\r\n\t\tattribute vec2 uv;\r\n\t\tvarying vec2 v_uv;\r\n\t\tvarying vec4 v_pos;\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = projection * view * world * vec4(position, 1.0);\r\n\t\t\tv_pos =gl_Position/gl_Position.w;\r\n\t\t\tv_uv = uv;\r\n\t\t}\r\n\t\t",
"\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tuniform sampler2D sampler;\r\n\t\tuniform vec4 color;\r\n\t\tuniform vec4 clipRect;\r\n\t\tuniform vec4 uvSet;\r\n\t\tvarying vec2 v_uv;\r\n\t\tvarying vec4 v_pos;\r\n\t\tvoid main(void) {\r\n\t\t\tvec2 uv = v_uv;\r\n\t\t\tuv += uvSet.xy;\r\n\t\t\tuv *= uvSet.zw;\r\n\t\t\tvec4 baseColor = texture2D(sampler, uv);\r\n\t\t\tif (baseColor.a < 0.1)\r\n\t\t\t{\r\n\t\t\t\tdiscard;\r\n\t\t\t}\r\n\t\t\tbaseColor *= color;\r\n\t\t\tvec2 inside = step(clipRect.xy, v_pos.xy) * step(v_pos.xy, clipRect.zw);\r\n\t\t\tbaseColor *= inside.x * inside.y;\r\n\t\t\t//if (v_pos.x < clipRect.x || v_pos.x > clipRect.z)\r\n\t\t\t//{\r\n\t\t\t\t//discard;\r\n\t\t\t//}\r\n\t\t\t//if (v_pos.y < clipRect.y || v_pos.y > clipRect.w)\r\n\t\t\t//{\r\n\t\t\t\t//discard;\r\n\t\t\t//}\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t")};
g["lovedna.graphics.shader.shaders.ShaderImage"]=ze;ze.__name__=["lovedna","graphics","shader","shaders","ShaderImage"];ze.__super__=Kb;ze.prototype=r(Kb.prototype,{__class__:ze});var Ae=function(){Kb.call(this,"@text","\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tattribute vec3 position;\r\n\t\tuniform mat4 world;\r\n\t\tuniform mat4 view;\r\n\t\tuniform mat4 projection;\r\n\t\tattribute vec2 uv;\r\n\t\tattribute vec4 color;\r\n\t\tvarying vec2 v_uv;\r\n\t\tvarying vec4 v_color;\r\n\t\tvoid main(void) {\r\n\t\t\tgl_Position = projection * view * world * vec4(position, 1.0);\r\n\t\t\tv_uv = uv;\r\n\t\t\tv_color = color;\r\n\t\t}\r\n\t\t",
"\r\n\t\t#ifdef GL_ES\r\n\t\tprecision highp float;\r\n\t\t#endif\r\n\t\tuniform sampler2D sampler;\r\n\t\tuniform vec4 gcolor;\r\n\t\tvarying vec2 v_uv;\r\n\t\tvarying vec4 v_color;\r\n\t\tvoid main(void) {\r\n\t\t\tvec2 uv = v_uv;\r\n\t\t\tvec4 baseColor = texture2D(sampler, uv);\r\n\t\t\tif (baseColor.a < 0.1)\r\n\t\t\t{\r\n\t\t\t\tdiscard;\r\n\t\t\t}\r\n\t\t\tbaseColor *= v_color;\r\n\t\t\tbaseColor *= gcolor;\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t")};g["lovedna.graphics.shader.shaders.ShaderText"]=
Ae;Ae.__name__=["lovedna","graphics","shader","shaders","ShaderText"];Ae.__super__=Kb;Ae.prototype=r(Kb.prototype,{__class__:Ae});var Bd=function(){this._dirty=!1;this.min=(new U).Set(1.79769313486231E308,1.79769313486231E308,1.79769313486231E308);this.max=(new U).Set(-1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);this._center=new U};g["lovedna.math.Box3"]=Bd;Bd.__name__=["lovedna","math","Box3"];Bd.prototype={Copy:function(a){if(a==this)return this;this.min.Copy(a.min);this.max.Copy(a.max);
this._center.Copy(a._center);this._dirty=!0;return this},Reset:function(){this.min.Set(1.79769313486231E308,1.79769313486231E308,1.79769313486231E308);this.max.Set(-1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);return this},ExpandByVertex:function(a){this.min.Min(a);this.max.Max(a)},ApplyMat4:function(a){var b=U.instance1,c=U.instance2;b.Copy(this.min);c.Copy(this.max);this.Reset();this.ExpandByVertex(a.TransformVec3(this._center.Copy(b)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,
b.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,c.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(b.x,c.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,b.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,b.y,c.z)));this.ExpandByVertex(a.TransformVec3(this._center.Set(c.x,c.y,b.z)));this.ExpandByVertex(a.TransformVec3(this._center.Copy(c)));return this},GetCenter:function(){this._center.Copy(this.min).Add(this.max,null).Scale(.5);
return this._center},GetSize:function(){return U.instance1.Sub(this.max,this.min)},__class__:Bd};var Rf=function(){this.planes=[];for(var a=6;0<a--;)this.planes.push(new dg)};g["lovedna.math.Frustum"]=Rf;Rf.__name__=["lovedna","math","Frustum"];Rf.prototype={FromMatrix:function(a){var b=a.d0,c=a.d1,d=a.d2,e=a.d3,f=a.d4,h=a.d5,u=a.d6,g=a.d7,k=a.d8,l=a.d9,C=a.d10,n=a.d11,m=a.d12,p=a.d13,I=a.d14;a=a.d15;this.planes[0].SetComponents(e+d,g+u,n+C,a+I);this.planes[1].SetComponents(e-d,g-u,n-C,a-I);this.planes[2].SetComponents(e+
b,g+f,n+k,a+m);this.planes[3].SetComponents(e-b,g-f,n-k,a-m);this.planes[4].SetComponents(e-c,g-h,n-l,a-p);this.planes[5].SetComponents(e+c,g+h,n+l,a+p)},ContainsPoint:function(a,b){null==b&&(b=0);for(var c=6;0<c--;)if(this.planes[c].DistanceToPoint(a)<-b)return!1;return!0},IntersectsSphere:function(a){return this.ContainsPoint(a.center,a.radius)},__class__:Rf};var Qa=function(){this.d15=1;this.d11=this.d12=this.d13=this.d14=0;this.d10=1;this.d6=this.d7=this.d8=this.d9=0;this.d5=1;this.d1=this.d2=
this.d3=this.d4=0;this.d0=1;this._sin=Math.sin;this._cos=Math.cos;this._ins=this==Qa._instance1?Qa.instance:Qa._instance1};g["lovedna.math.Mat4"]=Qa;Qa.__name__=["lovedna","math","Mat4"];Qa.prototype={Copy:function(a){if(a==this)return this;this.d0=a.d0;this.d1=a.d1;this.d2=a.d2;this.d3=a.d3;this.d4=a.d4;this.d5=a.d5;this.d6=a.d6;this.d7=a.d7;this.d8=a.d8;this.d9=a.d9;this.d10=a.d10;this.d11=a.d11;this.d12=a.d12;this.d13=a.d13;this.d14=a.d14;this.d15=a.d15;this._dirty=!0;return this},GetFloat32Array:function(){this._dirty&&
(null==this._data&&(this._data=new Float32Array(16)),this._data[0]=this.d0,this._data[1]=this.d1,this._data[2]=this.d2,this._data[3]=this.d3,this._data[4]=this.d4,this._data[5]=this.d5,this._data[6]=this.d6,this._data[7]=this.d7,this._data[8]=this.d8,this._data[9]=this.d9,this._data[10]=this.d10,this._data[11]=this.d11,this._data[12]=this.d12,this._data[13]=this.d13,this._data[14]=this.d14,this._data[15]=this.d15,this._dirty=!1);return this._data},Identity:function(){this.d0=1;this.d4=this.d3=this.d2=
this.d1=0;this.d5=1;this.d9=this.d8=this.d7=this.d6=0;this.d10=1;this.d14=this.d13=this.d12=this.d11=0;this.d15=1;this._dirty=!0;return this},Append:function(a,b){null==b&&(b=!1);var c=this,d=a;b&&(c=a,d=this);var e=c.d0,f=c.d1,h=c.d2,u=c.d3,g=c.d4,k=c.d5,l=c.d6,C=c.d7,n=c.d8,m=c.d9,p=c.d10,I=c.d11,q=c.d12,t=c.d13,r=c.d14,c=c.d15,v=d.d0,y=d.d1,x=d.d2,A=d.d3,B=d.d4,z=d.d5,H=d.d6,G=d.d7,w=d.d8,D=d.d9,K=d.d10,F=d.d11,J=d.d12,P=d.d13,L=d.d14,d=d.d15;this.d0=v*e+y*g+x*n+A*q;this.d1=v*f+y*k+x*m+A*t;this.d2=
v*h+y*l+x*p+A*r;this.d3=v*u+y*C+x*I+A*c;this.d4=B*e+z*g+H*n+G*q;this.d5=B*f+z*k+H*m+G*t;this.d6=B*h+z*l+H*p+G*r;this.d7=B*u+z*C+H*I+G*c;this.d8=w*e+D*g+K*n+F*q;this.d9=w*f+D*k+K*m+F*t;this.d10=w*h+D*l+K*p+F*r;this.d11=w*u+D*C+K*I+F*c;this.d12=J*e+P*g+L*n+d*q;this.d13=J*f+P*k+L*m+d*t;this.d14=J*h+P*l+L*p+d*r;this.d15=J*u+P*C+L*I+d*c;this._dirty=!0;return this},AppendTranslationV:function(a,b,c){this.d12=this.d0*a+this.d4*b+this.d8*c+this.d12;this.d13=this.d1*a+this.d5*b+this.d9*c+this.d13;this.d14=
this.d2*a+this.d6*b+this.d10*c+this.d14;this.d15=this.d3*a+this.d7*b+this.d11*c+this.d15;this._dirty=!0;return this},AppendScaleV:function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.d0*=a;this.d1*=a;this.d2*=a;this.d3*=a;this.d4*=b;this.d5*=b;this.d6*=b;this.d7*=b;this.d8*=c;this.d9*=c;this.d10*=c;this.d11*=c;this._dirty=!0;return this},AppendRotationX:function(a){var b=this._sin(a);a=this._cos(a);this._ins.d0=1;this._ins.d1=0;this._ins.d2=0;this._ins.d3=0;this._ins.d4=0;this._ins.d5=
a;this._ins.d6=b;this._ins.d7=0;this._ins.d8=0;this._ins.d9=-b;this._ins.d10=a;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=1;this.Append(this._ins);return this},AppendRotationY:function(a){var b=this._sin(a);a=this._cos(a);this._ins.d0=a;this._ins.d1=0;this._ins.d2=-b;this._ins.d3=0;this._ins.d4=0;this._ins.d5=1;this._ins.d6=0;this._ins.d7=0;this._ins.d8=b;this._ins.d9=0;this._ins.d10=a;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=
1;this.Append(this._ins);return this},AppendRotationZ:function(a){var b=this._sin(a);a=this._cos(a);this._ins.d0=a;this._ins.d1=b;this._ins.d2=0;this._ins.d3=0;this._ins.d4=-b;this._ins.d5=a;this._ins.d6=0;this._ins.d7=0;this._ins.d8=0;this._ins.d9=0;this._ins.d10=1;this._ins.d11=0;this._ins.d12=0;this._ins.d13=0;this._ins.d14=0;this._ins.d15=1;this.Append(this._ins);return this},LookAt:function(a,b,c){if(null!=a){var d=a.x,e=a.y;a=a.z;var f=0,h=0,u=0,g=0,k=1,l=0;null!=b&&(f=b.x,h=b.y,u=b.z);null!=
c&&(g=c.x,k=c.y,l=c.z);if(d!=f||e!=h||a!=u){var C,n;b=d-f;c=e-h;h=a-u;f=1/Math.sqrt(b*b+c*c+h*h);b*=f;c*=f;h*=f;u=k*h-l*c;l=l*b-g*h;g=g*c-k*b;f=Math.sqrt(u*u+l*l+g*g);0==f?g=l=u=0:(f=1/f,u*=f,l*=f,g*=f);k=c*g-h*l;C=h*u-b*g;n=b*l-c*u;f=Math.sqrt(k*k+C*C+n*n);0==f?n=C=k=0:(f=1/f,k*=f,C*=f,n*=f);this.d0=u;this.d1=k;this.d2=b;this.d3=0;this.d4=l;this.d5=C;this.d6=c;this.d7=0;this.d8=g;this.d9=n;this.d10=h;this.d11=0;this.d12=-(u*d+l*e+g*a);this.d13=-(k*d+C*e+n*a);this.d14=-(b*d+c*e+h*a);this.d15=1;this._dirty=
!0}}return this},Frustum:function(a,b,c,d,e,f){null==f&&(f=1E4);null==e&&(e=1);0>=e&&(e=1);var h=b-a,g=d-c,k=2*e;this.d0=k/h;this.d4=0;this.d8=(b+a)/h;this.d1=this.d12=0;this.d5=k/g;this.d9=(d+c)/g;this.d6=this.d2=this.d13=0;this.d10=-(f+e)/(f-e);this.d14=-f*k/(f-e);this.d7=this.d3=0;this.d11=-1;this.d15=0;this._dirty=!0;return this},Perspective:function(a,b,c,d){null==d&&(d=1E4);null==c&&(c=1);null==b&&(b=1);null==a&&(a=60);0>=c&&(c=1);a=c*Math.tan(.008726646259971648*a);var e=-a;this.Frustum(e*
b,a*b,e,a,c,d);return this},Orthographic:function(a,b,c,d,e,f){var h=b-a,g=c-d,k=f-e;this.d0=2/h;this.d8=this.d4=0;this.d12=-((b+a)/h);this.d1=0;this.d5=2/g;this.d9=0;this.d13=-((c+d)/g);this.d6=this.d2=0;this.d10=-2/k;this.d14=-((f+e)/k);this.d11=this.d7=this.d3=0;this.d15=1;this._dirty=!0;return this},Inverse:function(){var a=this.getDeterminant();if(1E-11<(0>a?-a:a)){var a=-1/a,b=this.d0,c=this.d4,d=this.d8,e=this.d12,f=this.d1,h=this.d5,g=this.d9,k=this.d13,l=this.d2,m=this.d6,C=this.d10,n=this.d14,
p=this.d3,q=this.d7,I=this.d11,t=this.d15;this.d0=a*(h*(C*t-n*I)-g*(m*t-n*q)+k*(m*I-C*q));this.d1=-a*(f*(C*t-n*I)-g*(l*t-n*p)+k*(l*I-C*p));this.d2=a*(f*(m*t-n*q)-h*(l*t-n*p)+k*(l*q-m*p));this.d3=-a*(f*(m*I-C*q)-h*(l*I-C*p)+g*(l*q-m*p));this.d4=-a*(c*(C*t-n*I)-d*(m*t-n*q)+e*(m*I-C*q));this.d5=a*(b*(C*t-n*I)-d*(l*t-n*p)+e*(l*I-C*p));this.d6=-a*(b*(m*t-n*q)-c*(l*t-n*p)+e*(l*q-m*p));this.d7=a*(b*(m*I-C*q)-c*(l*I-C*p)+d*(l*q-m*p));this.d8=a*(c*(g*t-k*I)-d*(h*t-k*q)+e*(h*I-g*q));this.d9=-a*(b*(g*t-k*I)-
d*(f*t-k*p)+e*(f*I-g*p));this.d10=a*(b*(h*t-k*q)-c*(f*t-k*p)+e*(f*q-h*p));this.d11=-a*(b*(h*I-g*q)-c*(f*I-g*p)+d*(f*q-h*p));this.d12=-a*(c*(g*n-k*C)-d*(h*n-k*m)+e*(h*C-g*m));this.d13=a*(b*(g*n-k*C)-d*(f*n-k*l)+e*(f*C-g*l));this.d14=-a*(b*(h*n-k*m)-c*(f*n-k*l)+e*(f*m-h*l));this.d15=a*(b*(h*C-g*m)-c*(f*C-g*l)+d*(f*m-h*l));this._dirty=!0}return this},TransformVec3:function(a,b){null==b&&(b=!1);var c=a.x,d=a.y,e=a.z,f=this.d0*c+this.d4*d+this.d8*e+this.d12,h=this.d1*c+this.d5*d+this.d9*e+this.d13,g=this.d2*
c+this.d6*d+this.d10*e+this.d14;b&&(c=1/(this.d3*c+this.d7*d+this.d11*e+this.d15),f*=c,h*=c,g*=c);a.x=f;a.y=h;a.z=g;a;return a},GetMaxScaleOnAxis:function(){var a=this.d0*this.d0+this.d1*this.d1+this.d2*this.d2,b=this.d4*this.d4+this.d5*this.d5+this.d6*this.d6;return Math.sqrt(y.Max(a>b?a:b,this.d8*this.d8+this.d9*this.d9+this.d10*this.d10))},getDeterminant:function(){return-1*((this.d0*this.d5-this.d4*this.d1)*(this.d10*this.d15-this.d14*this.d11)-(this.d0*this.d9-this.d8*this.d1)*(this.d6*this.d15-
this.d14*this.d7)+(this.d0*this.d13-this.d12*this.d1)*(this.d6*this.d11-this.d10*this.d7)+(this.d4*this.d9-this.d8*this.d5)*(this.d2*this.d15-this.d14*this.d3)-(this.d4*this.d13-this.d12*this.d5)*(this.d2*this.d11-this.d10*this.d3)+(this.d8*this.d13-this.d12*this.d9)*(this.d2*this.d7-this.d6*this.d3))},__class__:Qa};var dg=function(){this.normal=(new U).Set(0,0,1);this.length=0;this._vec=U.instance};g["lovedna.math.Plane"]=dg;dg.__name__=["lovedna","math","Plane"];dg.prototype={DistanceToPoint:function(a){return this.normal.Dot(a,
null)+this.length},SetComponents:function(a,b,c,d){this.normal.Set(a,b,c);this.length=d;this.Normalize()},Normalize:function(){var a=1/this.normal.get_length();this.normal.Scale(a);this.length*=a},__class__:dg};var Tb=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this._vec2=new Na;this.x=a;this.y=b;this.width=c;this.height=d};g["lovedna.math.Rect"]=Tb;Tb.__name__=["lovedna","math","Rect"];Tb.prototype={Set:function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=
0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d;return this},Copy:function(a){if(a==this)return this;this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this},Equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},Multiply:function(a){this.x*=a.x;this.y*=a.y;this.width*=a.width;this.height*=a.height;return this},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:Tb,__properties__:{get_right:"get_right",
get_bottom:"get_bottom"}};var Cd=function(){this.center=new U;this.radius=0};g["lovedna.math.Sphere"]=Cd;Cd.__name__=["lovedna","math","Sphere"];Cd.prototype={Copy:function(a){if(a==this)return this;this.center.Copy(a.center);this.radius=a.radius;return this},ApplyMat4:function(a){a.TransformVec3(this.center);this.radius*=a.GetMaxScaleOnAxis();return this},__class__:Cd};var xb=function(){this._hashCode=-1;Y.call(this)};g["lovedna.net.LoadData"]=xb;xb.__name__=["lovedna","net","LoadData"];xb.__interfaces__=
[Zg];xb.__super__=Y;xb.prototype=r(Y.prototype,{Dispose:function(){-1==x.indexOf(xb.cache,this,0)&&(xb.cache.push(this),this.Clear())},Copy:function(a){this._loadType=a._loadType;this._hashCode=a._hashCode;this._url.Copy(a._url);this._full=a._full;this.bytes=a.bytes;this.text=a.text;this.image=a.image;this.sound=a.sound;this.font=a.font;this.needBytes=a.needBytes;this.userData=a.userData},SetURL:function(a,b,c){this._full=a;Ka.IsHttp(a)||null==c||(this._full=Ka.Combine(c,a));this._url.Set(a);if(null==
b){if(this._loadType=ua.BINARY,null!=this._url.ext)switch(this._url.ext.toLowerCase()){case "jpg":case "jpeg":case "png":case "gif":this._loadType=ua.IMAGE;break;case "otf":case "ttf":this._loadType=ua.FONT;break;case "wav":case "ogg":case "m4a":this._loadType=ua.SOUND;break;case "mp3":case "mp2":this._loadType=ua.SOUND;break;case "text":case "txt":case "json":case "xml":case "svg":case "css":case "plist":this._loadType=ua.TEXT;break;default:this._loadType=ua.BINARY}}else this._loadType=b;a=ad.instance;
a.Reset();a.PushInt(this._loadType[1]);a.PushString(this._full);a.PushString(this._url.toString());return this._hashCode=a.GetCode()},Clear:function(){this._full=this.sound=this.font=this.text=this.userData=this.image=this.bytes=null},onConstruct:function(){Y.prototype.onConstruct.call(this);this._url=new Ka("");this.needBytes=!1},__class__:xb});var Da=function(){this.forceLoadFromHttp=!1;F.call(this,null)};g["lovedna.net.LLoader"]=Da;Da.__name__=["lovedna","net","LLoader"];Da.__interfaces__=[Zc];
Da._storage=null;Da.SetGlobalPath=function(a){Da._globalPath=a};Da.complete=function(a){for(var b=Da._loaderList.length;0<b--;)Da._loaderList[b].checkComplete(a)};Da.__super__=F;Da.prototype=r(F.prototype,{Load:function(a,b){var c=this._rootPath;null==c&&(c=Da._globalPath);var d=Da._loadData.SetURL(a,b,c),e=null;this._loadMap.h.hasOwnProperty(d)?e=this._loadMap.h[d]:(e=0<xb.cache.length?xb.cache.pop():new xb,e.SetURL(a,b,c),this._loadMap.h[d]=e,this._loadList.Insert(0,e));this._loading||(this._running=
!0,zb.GetInstance().Add(this));return e},GetCurrent:function(){return this._copy},TriggerTick:function(a){this._running=!1;this.load();return!1},onConstruct:function(){F.prototype.onConstruct.call(this);Da._loaderList.push(this);this._loadMap=new Wa;this._loadList=new ma;this._copy=0<xb.cache.length?xb.cache.pop():new xb;this._running=this._loading=!1;this._dataLoader=new Je;this._dataLoader.addEventListener("complete",m(this,this.dataLoader_complete));this._dataLoader.addEventListener("ioError",
m(this,this.dataLoader_ioError));this._dataLoader.set_dataFormat(0);this._loader=new Ke;this._loader.contentLoaderInfo.addEventListener("complete",m(this,this.loader_complete));this._loader.contentLoaderInfo.addEventListener("ioError",m(this,this.loader_ioError));this._request=new Gd},checkComplete:function(a){this._loadMap.h.hasOwnProperty(a._hashCode)&&(this._copy.Copy(a),this.fileComplete())},getNextLoadData:function(){return 0<this._loadList._length?this._loadList.Pop():null},load:function(){if(!this._loading&&
(this._current=this.getNextLoadData(),null!=this._current)){var a=this._current._hashCode;if(Da._loadingMap.h.hasOwnProperty(a))this.load();else{this._loading=!0;Da._loadingMap.h[a]=!0;var b=this._current._full,c=this._current._url.toString(),d=a+"",a=this._current._loadType,e=this._current.needBytes;if(!this.forceLoadFromHttp){if(this.existFile(d)){b=lb.toBytes(Da._storage.GetBytes(d));this._current.bytes=yc.BytesToByteArray(b);this.dataComplete();return}if(e&&fa.exists(c,"BINARY")){this.assets_load_bytes(fa.getBytes(c));
return}if(a==ua.TEXT&&fa.exists(c,"TEXT")){this.assets_load_text(fa.getText(c));return}if(a==ua.IMAGE&&fa.exists(c,"IMAGE")){this.assets_load_image(fa.getBitmapData(c));return}if(a==ua.SOUND){if(fa.exists(c,"MUSIC")){this.assets_load_sound(fa.getMusic(c));return}if(fa.exists(c,"SOUND")){this.assets_load_sound(fa.getMusic(c));return}}else{if(a==ua.FONT&&fa.exists(c,"FONT")){this.assets_load_font(fa.getFont(c));return}if(fa.exists(c,"BINARY")){this.assets_load_bytes(fa.getBytes(c));return}}}Ka.IsHttp(b)&&
(c=this.getVersion(c),""!=c&&(b=Ka.HasParam(b)?b+("&r="+c):b+("?r="+c)));this._request.url=b;if(!e){if(a==ua.IMAGE){this._loader.load(this._request);return}if(a==ua.SOUND){this._sound=new jc;this._sound.load(this._request);return}}this._dataLoader.load(this._request)}}},loadComplete:function(){this._loading=!1;this._copy.Copy(this._current);var a=this._copy._hashCode;Da._loadingMap.remove(a);this._loadMap.remove(a);Da.complete(this._copy);this.fileComplete();this.load()},fileComplete:function(){if(null!=
this._copy){var a=this._copy._hashCode;if(this._loadMap.h.hasOwnProperty(a)){this._loadMap.remove(a);for(var b=this._loadList._length;0<b--;){var c=this._loadList.Get(b);if(c._hashCode==a){this._loadList.RemoveAt(b);-1==x.indexOf(xb.cache,c,0)&&(xb.cache.push(c),c.Clear());break}}}this.DispatchEvent(ea.COMPLETE);this._copy.Clear();null!=this._current&&(this._current.Dispose(),this._current=null)}},dataLoader_ioError:function(a){La.log("error data:"+this._current._url.toString());this.loadComplete()},
dataLoader_complete:function(a){this._current.bytes=this._dataLoader.data;this.saveFile();this.dataComplete()},dataComplete:function(){var a=this._current._loadType,b=!0;a!=ua.BINARY&&(a==ua.IMAGE?(b=!1,this._loader.load(this._request)):a==ua.SOUND?(a=new jc,a.loadCompressedDataFromByteArray(this._current.bytes,lb.get_length(this._current.bytes)),this._current.sound=a):a!=ua.FONT&&a==ua.TEXT&&(a=lb.get_length(this._current.bytes),this._current.text=this._current.bytes.readUTFBytes(a)));b&&this.loadComplete()},
loader_ioError:function(a){La.log("error image:"+this._current._url.toString());this.loadComplete()},loader_complete:function(a){a=this._loader.contentLoaderInfo.content;null!=a&&(this._current.image=a.bitmapData);this.loadComplete();this._loader.unload()},saveFile:function(){},existFile:function(a){return!1},getVersion:function(a){return Da._versionMap.exists(a)?Da._versionMap.get(a):""},assets_load_bytes:function(a){this._current.bytes=a;this.dataComplete()},assets_load_text:function(a){this._current.text=
a;this.loadComplete()},assets_load_image:function(a){this._current.image=a;this.loadComplete()},assets_load_sound:function(a){this._current.sound=a;this.loadComplete()},assets_load_font:function(a){this._current.font=a;this.loadComplete()},__class__:Da});var qd=function(a){null==a&&(a="shared");Y.call(this);if(""==a||null==a)a="shared";this._map=new E;this._sharedObject=tb.getLocal(a);this._dirty=!1;this._trigger=zb.GetInstance()};g["lovedna.net.LSharedObject"]=qd;qd.__name__=["lovedna","net","LSharedObject"];
qd.__interfaces__=[Zc];qd.__super__=Y;qd.prototype=r(Y.prototype,{TriggerTick:function(a){this.Flush();return!1},Set:function(a,b){this._dirty?this._sharedObject.setProperty(a,b):(this._sharedObject.setProperty(a,b),this._dirty=!0,this._trigger.Add(this))},Get:function(a){var b=null;Object.prototype.hasOwnProperty.call(this._sharedObject.data,a)&&(b=X.field(this._sharedObject.data,a));return null!=b?b:b=X.getProperty(this._sharedObject.data,a)},Flush:function(){this._dirty&&(this._dirty=!1,this._sharedObject.flush())},
__class__:qd});var eg=function(){};g["lovedna.net.LStorage"]=eg;eg.__name__=["lovedna","net","LStorage"];eg.__super__=Y;eg.prototype=r(Y.prototype,{GetBytes:function(a){return null},__class__:eg});var ua=g["lovedna.net.LoadType"]={__ename__:["lovedna","net","LoadType"],__constructs__:["BINARY","TEXT","IMAGE","SOUND","FONT"]};ua.BINARY=["BINARY",0];ua.BINARY.toString=v;ua.BINARY.__enum__=ua;ua.TEXT=["TEXT",1];ua.TEXT.toString=v;ua.TEXT.__enum__=ua;ua.IMAGE=["IMAGE",2];ua.IMAGE.toString=v;ua.IMAGE.__enum__=
ua;ua.SOUND=["SOUND",3];ua.SOUND.toString=v;ua.SOUND.__enum__=ua;ua.FONT=["FONT",4];ua.FONT.toString=v;ua.FONT.__enum__=ua;var Ka=function(a){this.Set(a)};g["lovedna.net.URL"]=Ka;Ka.__name__=["lovedna","net","URL"];Ka.WithoutExtension=function(a){Ka.instance.Set(a);Ka.instance.ext=null;return Ka.instance.toString()};Ka.Combine=function(a,b){return""==a?b:Ka.AddSlash(a)+Ka.RemoveSlashes(b)};Ka.AddSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=
a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};Ka.RemoveSlashes=function(a){try{for(;;){var b=x.cca(a,a.length-1);if(null!=b)switch(b){case 47:case 92:a=x.substr(a,0,-1);break;default:throw"__break__";}else throw"__break__";}}catch(c){if("__break__"!=c)throw c;}try{for(;;){var d=x.cca(a,0);if(null!=d)switch(d){case 47:case 92:a=x.substr(a,1,null);break;default:throw"__break__";}else throw"__break__";}}catch(e){if("__break__"!=e)throw e;}return a};Ka.IsHttp=function(a){a=x.substr(a,0,7);return"http://"==
a||"https:/"==a};Ka.HasParam=function(a){Ka.instance.Set(a);return null!=Ka.instance.param};Ka.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+(null==this.file?"":this.file)+(null==this.ext?"":"."+this.ext)},Copy:function(a){this.dir=a.dir;this.file=a.file;this.ext=a.ext;this.backslash=a.backslash;this.param=a.param;return this},Set:function(a){this.clear();if(""==a||null==a)return this;switch(a){case ".":case "..":return this.dir=a,this.file="",this}var b=
a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=x.substr(a,0,c),a=x.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=x.substr(a,0,b),a=x.substr(a,b+1,null)):this.dir=null;-1!=a.indexOf("?")&&(b=a.split("?"),a=b.shift(),this.param=b.join("?"));b=a.lastIndexOf(".");-1!=b?(this.ext=x.substr(a,b+1,null),this.file=x.substr(a,0,b)):(this.ext=null,this.file=a);return this},clear:function(){this.param=this.ext=this.file=this.dir=null;this.backslash=!1},__class__:Ka};var Fd=function(){this._auto=
!1;this.holdTime=500;F.call(this)};g["lovedna.ui.TouchManager"]=Fd;Fd.__name__=["lovedna","ui","TouchManager"];Fd.__interfaces__=[Zc];Fd.__super__=F;Fd.prototype=r(F.prototype,{Reset:function(){if(!this._reseted){this._reseted=!0;this._activeTouchList.Clear();for(var a=this._touchCount,a=this._touchCount;0<a--;){var b=this._touchList[a];b.ClearObject();b.active&&this._activeTouchList.Add(b)}this._activeTouchCount=this._activeTouchList._length}},AddObject:function(a,b){this._reseted&&(a>=this._touchCount||
this._touchList[a].AddObject(b))},Update:function(){if(this._reseted){this._reseted=!1;for(var a=this._trigger.GetTime(),b=this._touchCount;0<b--;){var c=this._touchList[b];if(c.active){c.userAction=!0;var d=c.HasAction(1);!c.HasAction(4)&&d&&a-c.time.x>this.holdTime&&c.AddAction(4);var d=c.IsAction(1),e=c.IsAction(4),f=c.IsAction(2),h=c.IsAction(3);c.Update();this._userAction=!1;d&&(c.action=1,this.doAction(c));f&&(c.action=2,this.doAction(c));e&&(c.action=4,this.doAction(c));h&&(c.action=3,this.doAction(c),
c.End());this._userAction||(c.action=5,this.doAction(c));c.lastPosition.Copy(c.position)}else c.userAction=!1}}},AutoTrigger:function(a){this._auto!=a&&(a?this._trigger.Add(this):this._trigger.Remove(this));return this},TriggerTick:function(a){this.Reset();this.Update();return!0},onConstruct:function(){F.prototype.onConstruct.call(this);this._trigger=zb.GetInstance();this._touchType=this._activeTouchCount=0;this._reseted=!1;this._touchCount=0;this._touchList=[];this._activeTouchList=new ma},onLateConstruct:function(){F.prototype.onLateConstruct.call(this);
this._stage=aa.current.stage;if(null!=this._stage){this._touchCount=1;this._stage.addEventListener("mouseDown",m(this,this.stage_mouseHandler));this._stage.addEventListener("mouseMove",m(this,this.stage_mouseHandler));this._stage.addEventListener("mouseUp",m(this,this.stage_mouseHandler));this._stage.addEventListener("rightClick",m(this,this.stage_mouseHandler));if(Lb.get_supportsTouchEvents()||1<Lb.maxTouchPoints)this._touchCount=5,Lb.set_inputMode(2),this._stage.addEventListener("touchBegin",m(this,
this.stage_touchHandler)),this._stage.addEventListener("touchMove",m(this,this.stage_touchHandler)),this._stage.addEventListener("touchEnd",m(this,this.stage_touchHandler));for(var a=0,b=this._touchCount;a<b;){var c=a++;this._touchList.push(new $c(c))}this._touchEvent=ea.TOUCH_CHANGE}},stage_mouseHandler:function(a){0==this._activeTouchCount&&(this._touchType=0);if(2!=this._touchType){this._touchType=1;var b=0,c=a.type;"mouseDown"==c?b=1:"mouseMove"==c?b=2:"mouseUp"==c&&(b=3);this.updateTouch(b,0,
a.stageX,a.stageY)}},stage_touchHandler:function(a){0==this._activeTouchCount&&(this._touchType=0);if(1!=this._touchType){this._touchType=2;var b=0,c=a.type;"touchBegin"==c?b=1:"touchMove"==c?b=2:"touchEnd"==c&&(b=3);this.updateTouch(b,a.touchPointID,a.stageX,a.stageY)}},updateTouch:function(a,b,c,d){if(!(5<=b)){b=this._touchList[b];var e=this._trigger.GetTime();if(2==a){if(!b.active||b.position.x==c&&b.position.y==d)return;b.motion.Set(c,d);b.motion.Sub(b.position);b.lastTime.y=b.time.y;b.time.y=
e}else 1==a?(b.Begin(),b.lastTime.x=b.time.x,b.time.x=e,b.lastTime.y=b.time.y=0,b.down.Set(c,d),b.active=!0,b.motion.Set(0,0)):3==a&&(b.lastTime.z=b.time.z,b.time.z=e);b.lastPosition.Copy(b.position);b.position.Set(c,d);b.userAction=!0;b.AddAction(a)}},doAction:function(a){this._userAction=!0;this._touchEvent.get_touch().Copy(a);this.DispatchEvent(this._touchEvent)},__class__:Fd});var yc=function(){};g["lovedna.utils.BytesUtil"]=yc;yc.__name__=["lovedna","utils","BytesUtil"];yc.BytesToByteArray=function(a){return null==
a?null:a.b.bufferValue};yc.ByteArrayToBytes=function(a){return null==a?null:pa.ofData(a)};yc.GetCrc32=function(a){return Cg.make(yc.ByteArrayToBytes(a))};yc.GetStringLength=function(a){var b=new Bb(0);b.writeUTFBytes(a);return lb.get_length(b)};var V=function(){};g["lovedna.utils.DynamicUtil"]=V;V.__name__=["lovedna","utils","DynamicUtil"];V.GetValue=function(a,b){return N.__instanceof(a,E)?null!=ta[b]?a.getReserved(b):a.h[b]:X.getProperty(a,b)};V.GetInt=function(a,b,c){null==c&&(c=0);a=V.GetValue(a,
b);return null==a?c:"string"==typeof a?ha.parseInt(a):N.__cast(a,ch)};V.GetFloat=function(a,b,c){null==c&&(c=0);a=V.GetValue(a,b);return null==a?c:"string"==typeof a?parseFloat(a):N.__cast(a,Yg)};V.GetString=function(a,b,c){a=V.GetValue(a,b);return null==a?c:ha.string(a)};V.GetBool=function(a,b,c){null==c&&(c=!1);a=V.GetValue(a,b);return null==a?c:a};V.Exist=function(a,b){var c=Object.prototype.hasOwnProperty.call(a,b);return c||null==X.field(a,b)?c:!0};var yb=function(){this._pow=Math.pow};g["lovedna.utils.Ease"]=
yb;yb.__name__=["lovedna","utils","Ease"];yb._easeFun=null;yb.GetEase=Qb.Ease.GetEase=function(a){if(null==yb._easeFun){yb._easeFun=new E;for(var b=yb.instance,c=yb._types.length;0<c--;){var d=yb._types[c],e=X.getProperty(b,d);yb._easeFun.set(d,e)}}return yb._easeFun.get(a)};yb.prototype={ExpoIn:function(a){return 0==a?0:this._pow(2,10*(a-1))},__class__:yb};var y=Qb.MathUtil=function(){};g["lovedna.utils.MathUtil"]=y;y.__name__=["lovedna","utils","MathUtil"];y.ToRadians=function(a){return.017453292519943295*
a};y.ToDegrees=function(a){return 57.29577951308232*a};y.Max=function(a,b){return a>b?a:b};y.Min=function(a,b){return a<b?a:b};y.Abs=function(a){return 0>a?-a:a};y.Clamp=function(a,b,c){return a<=b?b:a>=c?c:a};y.RandomNumber=function(a,b){return b<=a?a:a+(b-a)*fd.instance.Get()};y.RandomInt=function(a,b){return b<=a?a:y.Floor(a+(b-a)*fd.instance.Get())};y.Sign=function(a){return 0<a?1:0>a?-1:0};y.Round=function(a){return(a+16384.5|0)-16384};y.Floor=function(a){var b=a|0;0>a&&b!=a&&b--;return b};y.Ceil=
function(a){var b=a|0;if(a==b)return b;a+=1;b=a|0;0>a&&b!=a&&b--;return b};y.Exp=function(a,b){for(var c=1;0!=(b&1)&&(c*=a),b>>=1,0!=b;)a*=a;return c};y.WrapToPI=function(a){a+=3.141592653589793;return a-6.283185307179586*Math.floor(a/6.283185307179586)-3.141592653589793};y.WrapToPI2=function(a){return a-6.283185307179586*Math.floor(a/6.283185307179586)};y.NextPow2=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};y.IsPow2=function(a){return 0<a&&0==(a&a-1)};y.IsEven=function(a){return 0==
(a&1)};y.GetAngle=function(a,b,c,d){return Math.atan2(d-b,c-a)};y.Distance=function(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};y.ReverseInt=function(a){for(var b=0;0!=a;)b=10*b+a%10,a=.1*a|0;return b};y.ToString=function(a,b){for(var c="",d=a;0<d;)c=d%b+c,d/=b;return c};y.ToFixed=function(a,b){if(isNaN(a))return"NaN";var c=y.Exp(10,b),c=ha.string((a*c|0)/c),d=c.indexOf(".");-1!=d?d=x.substr(c,d+1,null).length:(c+=".",d=0);for(;d<b;)d++,c+="0";return c};y.GetFixedNumber=function(a,
b){var c=y.Exp(10,b);return(a*c|0)/c};y.Fract=function(a){return a-y.Floor(a)};y.Lerp=function(a,b,c){return a+(b-a)*c};y.SmoothStep=function(a,b,c){return a+(b-a)*c*c*(3-2*c)};y.PerlinStep=function(a,b,c){return a+(b-a)*c*c*c*(c*(6*c-15)+10)};y.BinarySearchLow=function(a,b){for(var c=0,d=a.length-1,e=d>>>1,f=d;0<f--;){var h=a[e];b>h?(c=e,e+=d-c>>>1):b<h&&(d=e,e=c+(d-c>>>1));if(3>d-c){if(b>=a[d])return d;if(b>=a[e])return e;if(b>=a[c])return c}}return-1};y.BinarySearch=function(a,b){var c=a.length,
d=0,e=c-2;if(0==e)return 0;for(var f=e>>>1;0<c--;){a[f+1]<=b?d=f+1:e=f;if(d==e)return d;f=d+e>>>1}return-1};y.prototype={__class__:y};var fd=function(a){this._seed=null!=a?a:ha["int"](2147483647*Math.random())};g["lovedna.utils.Random"]=fd;fd.__name__=["lovedna","utils","Random"];fd.prototype={Get:function(){this._seed^=this._seed<<21;this._seed^=this._seed>>35;this._seed^=this._seed<<4;return y.GetFixedNumber(1E-6*ab.toFloat(this._seed)%1,9)},__class__:fd};var fg=function(a){null==a&&(a="");this._valueString=
"=";this._splitString=",";this._noteString="#";this._dirty=!1;this._config=new E;this._blockList=[];this.Parse(a)};g["lovedna.utils.StringConfig"]=fg;fg.__name__=["lovedna","utils","StringConfig"];fg.prototype={Parse:function(a){this._value=a;this._dirty=!0;return this},SetSplitString:function(a){this._splitString!=a&&(this._splitString=a,this._dirty=!0);return this},SetValueString:function(a){null!=a&&1==a.length&&this._valueString!=a&&(this._valueString=a,this._dirty=!0);return this},AddBlock:function(a){if(2==
a.length){var b=a.charAt(0);a=a.charAt(1);var c=x.indexOf(this._blockList,b,0);-1!=c?0!=(c&1)?(this._blockList.push(b),this._blockList.push(a),this._dirty=!0):this._blockList[c+1]!=a&&(this._blockList.push(b),this._blockList.push(a),this._dirty=!0):(this._blockList.push(b),this._blockList.push(a),this._dirty=!0)}return this},GetConfig:function(){if(this._dirty){for(var a=this._config.keys();a.hasNext();){var b=a.next();this._config.remove(b)}a=new rd(this._value);for(b=a.get_length();0<b--;){var c=
G.Trim(a.ReadLine());0!=c.indexOf(this._noteString)&&this.valueFirst(c)}}return this._config},valueFirst:function(a){a=a.split(this._valueString);for(var b=a.length,c=null,d=0;d<b;){var e=d++,e=G.Trim(a[e]);if(this.isBlock(e)&&null!=c)this._config.set(c,e),c=null;else{var f=e.split(this._splitString);if(1<f.length)if(e=f.pop(),f=f.join(this._splitString),null==c)c=e,this.addEmptyKey(f);else{if(!this.isBlock(f)){var h=f.split(this._splitString);0<h.length&&(f=h.shift(),this.addEmptyKey(h.join(this._splitString)))}this._config.set(c,
f);c=e}else null!=c&&(this._config.set(c,e),c=null)}}null!=c&&(this._config.exists(c)||this._config.set(c,null))},isBlock:function(a){for(var b=this._blockList.length,b=b>>1;0<b--;)if(0==a.indexOf(this._blockList[2*b])&&a.lastIndexOf(this._blockList[2*b+1])+1==a.length)return!0;return!1},addEmptyKey:function(a){a=a.split(this._splitString);for(var b=a.length;0<b--;){var c=G.Trim(a[b]);1>c.length||this._config.set(c,null)}},__class__:fg};var rd=function(a){null==a&&(a="");this._list=[];this.Decode(a)};
g["lovedna.utils.StringLine"]=rd;rd.__name__=["lovedna","utils","StringLine"];rd.prototype={ReadLine:function(){return this._position<this._length?this._list[this._position++]:null},Decode:function(a){0<this._length&&this._list.splice(0,this._length);this._position=this._length=0;if(null!=a){a=L.replace(a,"\r","\n");a=a.split("\n");for(var b=a.length,c=0;c<b;){var d=c++,d=a[d];""!=d&&this._list.push(d)}this._length=this._list.length;this._position=0}},get_length:function(){return this._length},__class__:rd,
__properties__:{get_length:"get_length"}};var G=Qb.StringUtil=function(){};g["lovedna.utils.StringUtil"]=G;G.__name__=["lovedna","utils","StringUtil"];G.Fill0=function(a,b){var c=0>b;0>b&&(b=-b);var d="";b-=a.length;for(var e=0;e<b;)e++,d+="0";return c?d+a:a+d};G.Create=function(a,b){null==b&&(b=0);if(0==b)return"";for(var c="";0<b--;)c+=a;return c};G.Reverse=function(a){for(var b="",c=a.length;0<=--c;)b+=a.charAt(c);return b};G.ParseBin=function(a){for(var b=0,c=0,d=a.length;0<d--;){var e=a.charAt(d);
"0"==e?c++:"1"==e&&(b+=1<<c,c++)}return b};G.ToBin=function(a){var b="",b=0==(a&1)?b+"0":b+"1";if(1<a)for(;!(a=.5*a|0,b=0==(a&1)?b+"0":b+"1",2>a););return G.Reverse(b)};G.Replace=function(a,b){if(null==b)return a;var c=b.length;if(0==c)return a;for(var d=0;d<c;)for(var e=d++,f="%"+e+"%",h=f.length,g=a.indexOf(f),e=b[e];-1!=g;)a=x.substr(a,0,g)+e+x.substr(a,g+h,null),g=a.indexOf(f);return a};G.ReplaceString=function(a,b,c){return L.replace(a,b,c)};G.ToUpperCaseFirstLetter=function(a){return a.charAt(0).toUpperCase()+
x.substr(a,1,null).toLowerCase()};G.Trim=function(a,b){null==b&&(b="");a=L.trim(a);if(""==b)return a;0==a.indexOf(b)&&(a=x.substr(a,1,null));a.lastIndexOf(b)==a.length-1&&(a=x.substr(a,0,-1));return a};G.Ltrim=function(a){return L.ltrim(a)};G.Rtrim=function(a){return L.rtrim(a)};G.Int2Hex=function(a,b){null==b&&(b=0);return L.hex(a,b)};G.Hex2Int=function(a){if(0==a.indexOf("0x"))return 10<a.length&&(a=x.substr(a,0,10)),ha.parseInt(a);8<a.length&&(a=x.substr(a,0,8));return ha.parseInt("0x"+a)};G.Repeat=
function(a,b){var c="";if(ab.gt(b,0))for(;ab.gt(b--,0);)c+=a;return c};G.GetLength=function(a){return yc.GetStringLength(a)};G.GetCRC=function(a){var b=new Bb(0);b.writeUTFBytes(a);return yc.GetCrc32(b)};G.Utf8Length=function(a){return a.length};G.Utf8IndexOf=function(a,b,c){null==c&&(c=0);var d=b.length;if(1>d)return-1;var e=a.length;0>c&&(c=0);if(d==b.length&&e==a.length)return a.indexOf(b,c);if(d+c>e)return-1;G._charCodeList.Clear();yf.iter(b,G.utf8chars);G._charCodeList1.Clear();b=G._charCodeList._length;
for(e=0;e<b;){var f=e++;G._charCodeList1.Add(G._charCodeList.Get(f))}G._charCodeList.Clear();yf.iter(a,G.utf8chars);b=G._charCodeList._length;a=!1;for(e=-1;c<b;){f=c++;a=!0;for(var e=f,h=0;h<d;){var g=h++;if(G._charCodeList.Get(f+g)!=G._charCodeList1.Get(g)){a=!1;break}}if(a)return e}return-1};G.Utf8Substr=function(a,b,c){null==c&&(c=-1);0>b&&(b=0);-1==c&&(c=a.length-b);return b>=a.length?"":x.substr(a,b,c)};G.Utf8Replace=function(a,b,c){if(b==c)return a;var d=c.length;if(1>d)return a;var e=b.length;
if(1>e)return a;if(e==b.length&&a.length==a.length)return L.replace(a,b,c);for(var f=0,h=G.Utf8IndexOf(a,b,f);-1!=h;)a=G.Utf8Substr(a,0,h)+c+G.Utf8Substr(a,h+e),f+=d,h=G.Utf8IndexOf(a,b,f);return a};G.Utf8Split=function(a,b){null==b&&(b="");var c=a.length,d=b.length;if(a.length==c&&d==b.length)return a.split(b);var e=[];if(1>c)return e;if(1>d){for(d=0;d<c;){var f=d++;e.push(G.Utf8Substr(a,f,1))}return e}for(c=G.Utf8IndexOf(a,b,0);-1!=c;)e.push(G.Utf8Substr(a,0,c)),a=G.Utf8Substr(a,c+d),c=G.Utf8IndexOf(a,
b,0);0<a.length&&e.push(a);return e};G.utf8chars=function(a){G._charCodeList.Add(a)};G.prototype={__class__:G};var ag=function(a,b){null==b&&(b=!1);null==a&&(a=0);this._type=a;this.compress=b};g["lovedna.utils.TagData"]=ag;ag.__name__=["lovedna","utils","TagData"];ag.prototype={Decode:function(a){if(ab.gt(1,a.__length-a.position)||2>lb.get_length(a)-a.position||ab.gt(13,a.__length-a.position)||lb.get_length(a)<=a.position+13)return null;if(2075244591==a.readUnsignedInt()){this._type=a.readUnsignedInt();
var b=a.readBoolean(),c=a.readInt(),d=new Bb(0);a.readBytes(d,0,c);b&&d.uncompress();return d}a.position-=4;return null},__class__:ag};var Tc=function(){};g["lovedna.utils.TypeUtil"]=Tc;Tc.__name__=["lovedna","utils","TypeUtil"];Tc.GetName=function(a){if(null!=Tc._typeMap.h.__keys__[a.__id__])return Tc._typeMap.h[a.__id__];var b=xa.getClassName(a);Tc._typeMap.set(a,b);return b};var mc=function(){};g["lovedna.utils.UUID"]=mc;mc.__name__=["lovedna","utils","UUID"];mc.Get=Qb.UUID.Get=function(){for(var a=
0,b=0,c=0;36>c;){var d=c++;8==d||13==d||18==d||23==d?mc._uuid[d]="-":14==d?mc._uuid[d]="4":(2>=a&&(a=33554432+ha["int"](16777216*Math.random())|0),b=a&15,a>>=4,mc._uuid[d]=mc._chars[19==d?b&3|8:b])}return mc._uuid.join("")};var Jb=function(a){F.call(this);this.name=a};g["lovedna.utils.atlas.Atlas"]=Jb;Jb.__name__=["lovedna","utils","atlas","Atlas"];Jb.GetAtlas=function(a){if(Jb._atlas.exists(a))return Jb._atlas.get(a);var b=new Jb(a);Jb._atlas.set(a,b);return b};Jb.__super__=F;Jb.prototype=r(F.prototype,
{Decode:function(a){a=a.readUTF();this.ParseJson(JSON.parse(a));return this},ParseJson:function(a){this._sprites=new E;this.name=V.GetString(a,"name");this.shortName=Ka.WithoutExtension(this.name);a=V.GetValue(a,"sprites");for(var b=a.length;0<b--;){var c=new Ge;c.ParseJson(a[b]);this.AddRegion(c)}this.enable=!0;this.DispatchEvent(ea.INIT);return this},GetSpriteList:function(){var a=[];if(null!=this._sprites)for(var b=this._sprites.iterator();b.hasNext();){var c=b.next();a.push(c)}return a},AddRegion:function(a){this._sprites.set(a.name,
a)},onConstruct:function(){F.prototype.onConstruct.call(this);this.enable=!1},__class__:Jb});var Ge=function(a){this.name=a;this.rect=new Tb(0,0,1,1);this.rotated=!1;this.pivot=(new Na).Set(.5,.5);this.border=new Tb(0,0,0,0)};g["lovedna.utils.atlas.SpriteRegion"]=Ge;Ge.__name__=["lovedna","utils","atlas","SpriteRegion"];Ge.prototype={Copy:function(a){null!=a&&(this.name=a.name,this.rect.Copy(a.rect),this.rotated=a.rotated,this.pivot.Copy(a.pivot),this.border.Copy(a.border));return this},ParseJson:function(a){this.name=
V.GetString(a,"name");var b=V.GetValue(a,"rect");this.rect.Set(V.GetInt(b,"x"),V.GetInt(b,"y"),V.GetInt(b,"w"),V.GetInt(b,"h"));this.rotated=V.GetBool(a,"rotated");V.Exist(a,"border")&&(b=V.GetValue(a,"border"),this.border.Set(V.GetInt(b,"l"),V.GetInt(b,"t"),V.GetInt(b,"r"),V.GetInt(b,"b")));V.Exist(a,"pivot")&&(a=V.GetValue(a,"pivot"),this.pivot.Set(V.GetFloat(a,"x"),V.GetFloat(a,"y")))},__class__:Ge};var gg=function(){};g["lovedna.utils.fnt.CharInfo"]=gg;gg.__name__=["lovedna","utils","fnt","CharInfo"];
gg.prototype={Parse:function(a){this.id=V.GetInt(a,"id");this.x=V.GetInt(a,"x");this.y=V.GetInt(a,"y");this.width=V.GetInt(a,"width");this.height=V.GetInt(a,"height");this.xoffset=V.GetInt(a,"xoffset");this.yoffset=V.GetInt(a,"yoffset");this.xadvance=V.GetInt(a,"xadvance");this.page=V.GetInt(a,"page")},__class__:gg};var Fe=function(){F.call(this,null)};g["lovedna.utils.fnt.Fnt"]=Fe;Fe.__name__=["lovedna","utils","fnt","Fnt"];Fe.__super__=F;Fe.prototype=r(F.prototype,{Parse:function(a){if(null==this._lines)this._lines=
new rd,this._config=new fg,this._config.SetSplitString(" ").SetValueString("=").AddBlock('""');else{for(var b=this._chars.keys();b.hasNext();){var c=b.next();this._chars.remove(c)}for(b=this._pages.keys();b.hasNext();)c=b.next(),this._pages.remove(c)}this._lines.Decode(a);for(a=this._lines.get_length();0<a--;)if(b=this._lines.ReadLine(),b=this._config.Parse(b).GetConfig(),null!=ta["char"]?b.existsReserved("char"):b.h.hasOwnProperty("char"))c=new gg,c.Parse(b),this._chars.h[c.id]=c;else if(null!=ta.info?
b.existsReserved("info"):b.h.hasOwnProperty("info"))this.face=G.ReplaceString(null!=ta.face?b.getReserved("face"):b.h.face,'"',""),this.size=V.GetInt(b,"size");else if(null!=ta.common?b.existsReserved("common"):b.h.hasOwnProperty("common"))this.lineHeight=V.GetInt(b,"lineHeight"),this.base=V.GetInt(b,"base"),this.scaleW=V.GetInt(b,"scaleW"),this.scaleH=V.GetInt(b,"scaleH");else if(null!=ta.page?b.existsReserved("page"):b.h.hasOwnProperty("page"))c=V.GetInt(b,"id"),b=G.ReplaceString(null!=ta.file?
b.getReserved("file"):b.h.file,'"',""),0==c&&(this.file=b),this._pages.h[c]=b;else if(null!=ta.chars?b.existsReserved("chars"):b.h.hasOwnProperty("chars"))this.count=V.GetInt(b,"count");this.enable=0<this.count;this.DispatchEvent(ea.INIT)},onConstruct:function(){F.prototype.onConstruct.call(this);this._chars=new Wa;this._pages=new Wa},__class__:Fe});var He=function(){F.call(this)};g["lovedna.utils.png.LPng"]=He;He.__name__=["lovedna","utils","png","LPng"];He.__super__=F;He.prototype=r(F.prototype,
{Decode:function(a){var b=this._chunkList.length;0<b&&this._chunkList.splice(0,b);if(!ab.gt(12,a.__length-a.position)&&(b=a.position,a.position=b+8,a.readInt(),1229472850==a.readInt()))for(a.position=b+8;0<lb.get_length(a)-a.position;){b=new Hd;b.Decode(a);var c=b.type;if(1>c)break;1229278788==c?this._IEND=b:this.AddChunk(b)}},GetChunk:function(a){for(var b=this._chunkList.length;0<b--;){var c=this._chunkList[b];if(c.type==a)return c}return null},AddChunk:function(a){this._chunkList.push(a)},onConstruct:function(){F.prototype.onConstruct.call(this);
this._IEND=new Hd;this._IEND.type=1229278788;this._chunkList=[]},__class__:He});var Hd=function(){Y.call(this)};g["lovedna.utils.png.PngChunk"]=Hd;Hd.__name__=["lovedna","utils","png","PngChunk"];Hd.__super__=Y;Hd.prototype=r(Y.prototype,{Decode:function(a){var b=a.readUnsignedInt();this.type=a.readUnsignedInt();this._content=new Bb(0);0<b&&a.readBytes(this._content,0,b);this._crc=a.readInt()},GetContent:function(){return this._content},__class__:Hd});var hg=function(){};g["openfl.IAssetCache"]=hg;
hg.__name__=["openfl","IAssetCache"];hg.prototype={__class__:hg,__properties__:{get_enabled:"get_enabled"}};var Le=function(){this.__enabled=!0;this.bitmapData=new E;this.font=new E;this.sound=new E};g["openfl.AssetCache"]=Le;Le.__name__=["openfl","AssetCache"];Le.__interfaces__=[hg];Le.prototype={getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},hasFont:function(a){return this.font.exists(a)},
setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Le,__properties__:{get_enabled:"get_enabled"}};var fa=function(){};g["openfl.Assets"]=fa;fa.__name__=["openfl","Assets"];fa.exists=function(a,b){return w.exists(a,b)};fa.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&fa.cache.get_enabled()&&fa.cache.hasBitmapData(a)){var c=fa.cache.getBitmapData(a);if(fa.isValidBitmapData(c))return c}c=w.getImage(a,
!1);return null!=c?(c=pb.fromImage(c),b&&fa.cache.get_enabled()&&fa.cache.setBitmapData(a,c),c):null};fa.getBytes=function(a){return lb.fromBytes(w.getBytes(a))};fa.getFont=function(a,b){null==b&&(b=!0);if(b&&fa.cache.get_enabled()&&fa.cache.hasFont(a))return fa.cache.getFont(a);var c=w.getFont(a,!1);return null!=c?(c=Lc.__fromLimeFont(c),b&&fa.cache.get_enabled()&&fa.cache.setFont(a,c),c):new Lc};fa.getMusic=function(a,b){var c=w.getPath(a);return null!=c?new jc(new Gd(c)):null};fa.getText=function(a){return w.getText(a)};
fa.isValidBitmapData=function(a){return null!=a&&null!=a.image};var Me=function(){Rb.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};g["openfl.display.MovieClip"]=Me;Me.__name__=["openfl","display","MovieClip"];Me.__super__=Rb;Me.prototype=r(Rb.prototype,{__class__:Me});var oc=function(){na.call(this);this.applicationDomain=gd.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};g["openfl.display.LoaderInfo"]=
oc;oc.__name__=["openfl","display","LoaderInfo"];oc.create=function(a){var b=new oc;b.uncaughtErrorEvents=new Ne;null!=a?b.loader=a:b.url=oc.__rootURL;return b};oc.__super__=na;oc.prototype=r(na.prototype,{__class__:oc});var gd=function(a){this.parentDomain=null!=a?a:gd.currentDomain};g["openfl.system.ApplicationDomain"]=gd;gd.__name__=["openfl","system","ApplicationDomain"];gd.prototype={__class__:gd};var Ne=function(){na.call(this)};g["openfl.events.UncaughtErrorEvents"]=Ne;Ne.__name__=["openfl",
"events","UncaughtErrorEvents"];Ne.__super__=na;Ne.prototype=r(na.prototype,{__class__:Ne});var Ea=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};g["openfl.geom.Matrix"]=Ea;Ea.__name__=["openfl","geom","Matrix"];Ea.prototype={clone:function(){return new Ea(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;
this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},deltaTransformPoint:function(a){return new Ua(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c&&this.d==a.d},identity:function(){this.a=1;this.c=this.b=0;this.d=
1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+
", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(a){return new Ua(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},toArray:function(a){null==a&&(a=!1);null==this.__array&&(this.__array=new Float32Array(9));a?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=
this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__toMatrix3:function(){return new se(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;
else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__translateTransformed:function(a,b){this.tx=a*this.a+b*this.c+this.tx;this.ty=a*this.b+b*this.d+this.ty},__class__:Ea};
var Ua=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["openfl.geom.Point"]=Ua;Ua.__name__=["openfl","geom","Point"];Ua.prototype={clone:function(){return new Ua(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},__class__:Ua};var bc=function(a,b,c,d,e,f,h,g){null==g&&(g=0);null==h&&(h=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=
a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=h;this.alphaOffset=g};g["openfl.geom.ColorTransform"]=bc;bc.__name__=["openfl","geom","ColorTransform"];bc.prototype={__clone:function(){return new bc(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&
this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__class__:bc};var aa=function(){};g["openfl.Lib"]=
aa;aa.__name__=["openfl","Lib"];aa.application=null;aa.embed=Qb.openfl.embed=function(a,b,c,d,e){te.embed(a,b,c,d,e)};aa.getTimer=function(){return te.getTimer()};aa.notImplemented=function(a){aa.__sentWarnings.exists(a)||(aa.__sentWarnings.set(a,!0),La.log("Warning: "+a+" is not implemented"))};var hd=function(){this.length=0};g["openfl.VectorData"]=hd;hd.__name__=["openfl","VectorData"];hd.prototype={__class__:hd};var kc=function(a){this.renderSession=a};g["openfl._internal.renderer.AbstractMaskManager"]=
kc;kc.__name__=["openfl","_internal","renderer","AbstractMaskManager"];kc.prototype={pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:kc};var Mb=function(a,b){this.width=a;this.height=b};g["openfl._internal.renderer.AbstractRenderer"]=Mb;Mb.__name__=["openfl","_internal","renderer","AbstractRenderer"];Mb.prototype={render:function(a){},setViewport:function(a,b,c,d){},resize:function(a,b){},__class__:Mb};
var Id=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};g["openfl._internal.renderer.DrawCommandBuffer"]=Id;Id.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];Id.prototype={append:function(a){for(var b=new tc(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();this.beginBitmapFill(za.get_bitmap(e),za.get_matrix(e),za.get_repeat(e),za.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(cb.get_color(e),
cb.get_alpha(e));break;case 2:e=b.readBeginGradientFill();this.beginGradientFill(J.get_type(e),J.get_colors(e),J.get_alphas(e),J.get_ratios(e),J.get_matrix(e),J.get_spreadMethod(e),J.get_interpolationMethod(e),J.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(H.get_controlX1(e),H.get_controlY1(e),H.get_controlX2(e),H.get_controlY2(e),H.get_anchorX(e),H.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(Z.get_controlX(e),Z.get_controlY(e),Z.get_anchorX(e),Z.get_anchorY(e));
break;case 5:e=b.readDrawCircle();this.drawCircle(Aa.get_x(e),Aa.get_y(e),Aa.get_radius(e));break;case 6:e=b.readDrawEllipse();this.drawEllipse(ja.get_x(e),ja.get_y(e),ja.get_width(e),ja.get_height(e));break;case 7:e=b.readDrawPath();this.drawPath(qa.get_commands(e),qa.get_data(e),qa.get_winding(e));break;case 8:e=b.readDrawRect();this.drawRect(P.get_x(e),P.get_y(e),P.get_width(e),P.get_height(e));break;case 9:e=b.readDrawRoundRect();this.drawRoundRect(D.get_x(e),D.get_y(e),D.get_width(e),D.get_height(e),
D.get_ellipseWidth(e),D.get_ellipseHeight(e));break;case 10:e=b.readDrawTiles();this.drawTiles(R.get_sheet(e),R.get_tileData(e),R.get_smooth(e),R.get_flags(e),R.get_shader(e),R.get_count(e));break;case 11:e=b.readDrawTriangles();this.drawTriangles(gb.get_vertices(e),gb.get_indices(e),gb.get_uvtData(e),gb.get_culling(e));break;case 12:b.readEndFill();this.endFill();break;case 13:e=b.readLineBitmapStyle();this.lineBitmapStyle(eb.get_bitmap(e),eb.get_matrix(e),eb.get_repeat(e),eb.get_smooth(e));break;
case 14:e=b.readLineGradientStyle();this.lineGradientStyle(ka.get_type(e),ka.get_colors(e),ka.get_alphas(e),ka.get_ratios(e),ka.get_matrix(e),ka.get_spreadMethod(e),ka.get_interpolationMethod(e),ka.get_focalPointRatio(e));break;case 15:e=b.readLineStyle();this.lineStyle(K.get_thickness(e),K.get_color(e),K.get_alpha(e),K.get_pixelHinting(e),K.get_scaleMode(e),K.get_caps(e),K.get_joints(e),K.get_miterLimit(e));break;case 16:e=b.readLineTo();this.lineTo(Pa.get_x(e),Pa.get_y(e));break;case 17:e=b.readMoveTo();
this.moveTo(Ia.get_x(e),Ia.get_y(e));break;case 18:e=b.readOverrideMatrix(),this.overrideMatrix(id.get_matrix(e))}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.types.push(t.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.types.push(t.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,h,g){this.types.push(t.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);
this.o.push(f);this.o.push(h);this.f.push(g)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(a,b,c,d,e,f){this.types.push(t.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,
b,c,d){this.types.push(t.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.types.push(t.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.types.push(t.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawPath:function(a,b,c){this.types.push(t.DRAW_PATH);this.o.push(a);this.o.push(b);this.o.push(c)},drawRect:function(a,b,c,d){this.types.push(t.DRAW_RECT);this.f.push(a);this.f.push(b);
this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.types.push(t.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTiles:function(a,b,c,d,e,f){this.types.push(t.DRAW_TILES);this.ts.push(a);this.ff.push(b);this.b.push(c);this.i.push(d);this.o.push(e);this.i.push(f)},drawTriangles:function(a,b,c,d){this.types.push(t.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.types.push(t.END_FILL)},
lineBitmapStyle:function(a,b,c,d){this.types.push(t.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,h,g){this.types.push(t.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(h);this.f.push(g)},lineStyle:function(a,b,c,d,e,f,h,g){this.types.push(t.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(h);
this.f.push(g)},lineTo:function(a,b){this.types.push(t.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.types.push(t.MOVE_TO);this.f.push(a);this.f.push(b)},overrideMatrix:function(a){this.types.push(t.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:Id,__properties__:{get_length:"get_length"}};var tc=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=t.UNKNOWN};g["openfl._internal.renderer.DrawCommandReader"]=
tc;tc.__name__=["openfl","_internal","renderer","DrawCommandReader"];tc.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=5;this.oPos+=1;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=
1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=4;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 15:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+
a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+a]},readBeginBitmapFill:function(){this.advance();this.prev=t.BEGIN_BITMAP_FILL;return za._new(this)},readBeginFill:function(){this.advance();this.prev=t.BEGIN_FILL;return cb._new(this)},readBeginGradientFill:function(){this.advance();this.prev=t.BEGIN_GRADIENT_FILL;return J._new(this)},readCubicCurveTo:function(){this.advance();this.prev=t.CUBIC_CURVE_TO;
return H._new(this)},readCurveTo:function(){this.advance();this.prev=t.CURVE_TO;return Z._new(this)},readDrawCircle:function(){this.advance();this.prev=t.DRAW_CIRCLE;return Aa._new(this)},readDrawEllipse:function(){this.advance();this.prev=t.DRAW_ELLIPSE;return ja._new(this)},readDrawPath:function(){this.advance();this.prev=t.DRAW_PATH;return qa._new(this)},readDrawRect:function(){this.advance();this.prev=t.DRAW_RECT;return P._new(this)},readDrawRoundRect:function(){this.advance();this.prev=t.DRAW_ROUND_RECT;
return D._new(this)},readDrawTiles:function(){this.advance();this.prev=t.DRAW_TILES;return R._new(this)},readDrawTriangles:function(){this.advance();this.prev=t.DRAW_TRIANGLES;return gb._new(this)},readEndFill:function(){this.advance();this.prev=t.END_FILL;return Jg._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=t.LINE_BITMAP_STYLE;return eb._new(this)},readLineGradientStyle:function(){this.advance();this.prev=t.LINE_GRADIENT_STYLE;return ka._new(this)},readLineStyle:function(){this.advance();
this.prev=t.LINE_STYLE;return K._new(this)},readLineTo:function(){this.advance();this.prev=t.LINE_TO;return Pa._new(this)},readMoveTo:function(){this.advance();this.prev=t.MOVE_TO;return Ia._new(this)},readOverrideMatrix:function(){this.advance();this.prev=t.OVERRIDE_MATRIX;return id._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},tileSheet:function(a){return this.buffer.ts[this.tsPos+a]},__class__:tc};
var za={};g["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=za;za.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];za.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};za._new=function(a){return a};za.get_bitmap=function(a){return a.obj(0)};za.get_matrix=function(a){return a.obj(1)};za.get_repeat=function(a){return a.bool(0)};za.get_smooth=function(a){return a.bool(1)};
var cb={};g["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=cb;cb.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];cb.__properties__={get_alpha:"get_alpha",get_color:"get_color"};cb._new=function(a){return a};cb.get_color=function(a){return a["int"](0)};cb.get_alpha=function(a){return a["float"](0)};var J={};g["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=J;J.__name__=["openfl","_internal","renderer","_DrawCommandReader",
"BeginGradientFillView_Impl_"];J.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};J._new=function(a){return a};J.get_type=function(a){return a.obj(0)};J.get_colors=function(a){return a.iArr(0)};J.get_alphas=function(a){return a.fArr(0)};J.get_ratios=function(a){return a.iArr(1)};J.get_matrix=
function(a){return a.obj(1)};J.get_spreadMethod=function(a){return a.obj(2)};J.get_interpolationMethod=function(a){return a.obj(3)};J.get_focalPointRatio=function(a){return a["float"](0)};var H={};g["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=H;H.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"];H.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",
get_controlX1:"get_controlX1"};H._new=function(a){return a};H.get_controlX1=function(a){return a["float"](0)};H.get_controlY1=function(a){return a["float"](1)};H.get_controlX2=function(a){return a["float"](2)};H.get_controlY2=function(a){return a["float"](3)};H.get_anchorX=function(a){return a["float"](4)};H.get_anchorY=function(a){return a["float"](5)};var Z={};g["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=Z;Z.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];
Z.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"};Z._new=function(a){return a};Z.get_controlX=function(a){return a["float"](0)};Z.get_controlY=function(a){return a["float"](1)};Z.get_anchorX=function(a){return a["float"](2)};Z.get_anchorY=function(a){return a["float"](3)};var Aa={};g["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Aa;Aa.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];
Aa.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};Aa._new=function(a){return a};Aa.get_x=function(a){return a["float"](0)};Aa.get_y=function(a){return a["float"](1)};Aa.get_radius=function(a){return a["float"](2)};var ja={};g["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=ja;ja.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];ja.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};
ja._new=function(a){return a};ja.get_x=function(a){return a["float"](0)};ja.get_y=function(a){return a["float"](1)};ja.get_width=function(a){return a["float"](2)};ja.get_height=function(a){return a["float"](3)};var qa={};g["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=qa;qa.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"];qa.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"};qa._new=function(a){return a};
qa.get_commands=function(a){return a.obj(0)};qa.get_data=function(a){return a.obj(1)};qa.get_winding=function(a){return a.obj(2)};var P={};g["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=P;P.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"];P.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};P._new=function(a){return a};P.get_x=function(a){return a["float"](0)};P.get_y=function(a){return a["float"](1)};
P.get_width=function(a){return a["float"](2)};P.get_height=function(a){return a["float"](3)};var D={};g["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=D;D.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"];D.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};D._new=function(a){return a};D.get_x=function(a){return a["float"](0)};
D.get_y=function(a){return a["float"](1)};D.get_width=function(a){return a["float"](2)};D.get_height=function(a){return a["float"](3)};D.get_ellipseWidth=function(a){return a["float"](4)};D.get_ellipseHeight=function(a){return a.obj(0)};var R={};g["openfl._internal.renderer._DrawCommandReader.DrawTilesView_Impl_"]=R;R.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTilesView_Impl_"];R.__properties__={get_count:"get_count",get_shader:"get_shader",get_flags:"get_flags",get_smooth:"get_smooth",
get_tileData:"get_tileData",get_sheet:"get_sheet"};R._new=function(a){return a};R.get_sheet=function(a){return a.tileSheet(0)};R.get_tileData=function(a){return a.fArr(0)};R.get_smooth=function(a){return a.bool(0)};R.get_flags=function(a){return a["int"](0)};R.get_shader=function(a){return a.obj(0)};R.get_count=function(a){return a["int"](1)};var gb={};g["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=gb;gb.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];
gb.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};gb._new=function(a){return a};gb.get_vertices=function(a){return a.obj(0)};gb.get_indices=function(a){return a.obj(1)};gb.get_uvtData=function(a){return a.obj(2)};gb.get_culling=function(a){return a.obj(3)};var Jg={};g["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=Jg;Jg.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];
Jg._new=function(a){return a};var eb={};g["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=eb;eb.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];eb.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};eb._new=function(a){return a};eb.get_bitmap=function(a){return a.obj(0)};eb.get_matrix=function(a){return a.obj(1)};eb.get_repeat=function(a){return a.bool(0)};eb.get_smooth=
function(a){return a.bool(1)};var ka={};g["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=ka;ka.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];ka.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};ka._new=function(a){return a};
ka.get_type=function(a){return a.obj(0)};ka.get_colors=function(a){return a.iArr(0)};ka.get_alphas=function(a){return a.fArr(0)};ka.get_ratios=function(a){return a.iArr(1)};ka.get_matrix=function(a){return a.obj(1)};ka.get_spreadMethod=function(a){return a.obj(2)};ka.get_interpolationMethod=function(a){return a.obj(3)};ka.get_focalPointRatio=function(a){return a["float"](0)};var K={};g["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=K;K.__name__=["openfl","_internal","renderer",
"_DrawCommandReader","LineStyleView_Impl_"];K.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};K._new=function(a){return a};K.get_thickness=function(a){return a.obj(0)};K.get_color=function(a){return a["int"](0)};K.get_alpha=function(a){return a["float"](0)};K.get_pixelHinting=function(a){return a.bool(0)};K.get_scaleMode=
function(a){return a.obj(1)};K.get_caps=function(a){return a.obj(2)};K.get_joints=function(a){return a.obj(3)};K.get_miterLimit=function(a){return a["float"](1)};var Pa={};g["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Pa;Pa.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];Pa.__properties__={get_y:"get_y",get_x:"get_x"};Pa._new=function(a){return a};Pa.get_x=function(a){return a["float"](0)};Pa.get_y=function(a){return a["float"](1)};var Ia={};
g["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Ia;Ia.__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"];Ia.__properties__={get_y:"get_y",get_x:"get_x"};Ia._new=function(a){return a};Ia.get_x=function(a){return a["float"](0)};Ia.get_y=function(a){return a["float"](1)};var id={};g["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=id;id.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];
id.__properties__={get_matrix:"get_matrix"};id._new=function(a){return a};id.get_matrix=function(a){return a.obj(0)};var t=g["openfl._internal.renderer.DrawCommandType"]={__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
t.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];t.BEGIN_BITMAP_FILL.toString=v;t.BEGIN_BITMAP_FILL.__enum__=t;t.BEGIN_FILL=["BEGIN_FILL",1];t.BEGIN_FILL.toString=v;t.BEGIN_FILL.__enum__=t;t.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];t.BEGIN_GRADIENT_FILL.toString=v;t.BEGIN_GRADIENT_FILL.__enum__=t;t.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];t.CUBIC_CURVE_TO.toString=v;t.CUBIC_CURVE_TO.__enum__=t;t.CURVE_TO=["CURVE_TO",4];t.CURVE_TO.toString=v;t.CURVE_TO.__enum__=t;t.DRAW_CIRCLE=["DRAW_CIRCLE",5];t.DRAW_CIRCLE.toString=
v;t.DRAW_CIRCLE.__enum__=t;t.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];t.DRAW_ELLIPSE.toString=v;t.DRAW_ELLIPSE.__enum__=t;t.DRAW_PATH=["DRAW_PATH",7];t.DRAW_PATH.toString=v;t.DRAW_PATH.__enum__=t;t.DRAW_RECT=["DRAW_RECT",8];t.DRAW_RECT.toString=v;t.DRAW_RECT.__enum__=t;t.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9];t.DRAW_ROUND_RECT.toString=v;t.DRAW_ROUND_RECT.__enum__=t;t.DRAW_TILES=["DRAW_TILES",10];t.DRAW_TILES.toString=v;t.DRAW_TILES.__enum__=t;t.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];t.DRAW_TRIANGLES.toString=
v;t.DRAW_TRIANGLES.__enum__=t;t.END_FILL=["END_FILL",12];t.END_FILL.toString=v;t.END_FILL.__enum__=t;t.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];t.LINE_BITMAP_STYLE.toString=v;t.LINE_BITMAP_STYLE.__enum__=t;t.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];t.LINE_GRADIENT_STYLE.toString=v;t.LINE_GRADIENT_STYLE.__enum__=t;t.LINE_STYLE=["LINE_STYLE",15];t.LINE_STYLE.toString=v;t.LINE_STYLE.__enum__=t;t.LINE_TO=["LINE_TO",16];t.LINE_TO.toString=v;t.LINE_TO.__enum__=t;t.MOVE_TO=["MOVE_TO",17];t.MOVE_TO.toString=
v;t.MOVE_TO.__enum__=t;t.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];t.OVERRIDE_MATRIX.toString=v;t.OVERRIDE_MATRIX.__enum__=t;t.UNKNOWN=["UNKNOWN",19];t.UNKNOWN.toString=v;t.UNKNOWN.__enum__=t;var Xa=function(){};g["openfl._internal.renderer.GraphicsPaths"]=Xa;Xa.__name__=["openfl","_internal","renderer","GraphicsPaths"];Xa.ellipse=function(a,b,c,d,e,f){var h=2*Math.PI/f,g=0;for(f+=1;g<f;){var k=g++;a.push(b+Math.sin(h*k)*d);a.push(c+Math.cos(h*k)*e)}};Xa.cubicCurveTo=function(a,b,c,d,e,f,h){for(var g=
0,k=0,l=0,m=0,C=0,n=a[a.length-2],p=a[a.length-1],q=0,I=g=0,t=1;21>t;)I=t++/20,g=1-I,k=g*g,l=k*g,m=I*I,C=m*I,q=l*n+3*k*I*b+3*g*m*d+C*f,g=l*p+3*k*I*c+3*g*m*e+C*h,a.push(q),a.push(g)};Xa.curveTo=function(a,b,c,d,e){for(var f=0,h=0,g=a[a.length-2],k=a[a.length-1],l=h=f=0,m=1;21>m;)l=m++/20,f=g+(b-g)*l,h=k+(c-k)*l,f+=(b+(d-b)*l-f)*l,h+=(c+(e-c)*l-h)*l,a.push(f),a.push(h)};Xa.roundRectangle=function(a,b,c,d,e,f,h){d=b+d;e=c+e;var g=-f+f*Xa.SIN45,k=-f+f*Xa.TAN22,l=-h+h*Xa.SIN45,m=-h+h*Xa.TAN22;a.push(d);
a.push(e-h);Xa.curveTo(a,d,e+m,d+g,e+l);Xa.curveTo(a,d+k,e,d-f,e);a.push(b+f);a.push(e);Xa.curveTo(a,b-k,e,b-g,e+l);Xa.curveTo(a,b,e+m,b,e-h);a.push(b);a.push(c+h);Xa.curveTo(a,b,c-m,b-g,c-l);Xa.curveTo(a,b-k,c,b+f,c);a.push(d-f);a.push(c);Xa.curveTo(a,d+k,c,d+g,c-l);Xa.curveTo(a,d,c-m,d,c+h);a.push(d);a.push(e-h)};var jd=function(){};g["openfl._internal.renderer.PolyK"]=jd;jd.__name__=["openfl","_internal","renderer","PolyK"];jd.triangulate=function(a,b){var c=!0,d=b.length>>1;if(3>d)return[];var e;
e=[];for(var f=0;f<d;){var h=f++;e.push(h)}for(var f=0,h=d,g=!1;3<h;){var k=e[f%h],l=e[(f+1)%h],m=e[(f+2)%h],C=b[2*k],n=b[2*k+1],p=b[2*l],q=b[2*l+1],I=b[2*m],t=b[2*m+1],g=!1;if(jd._convex(C,n,p,q,I,t,c))for(var g=!0,r=0;r<h;){var v=r++,v=e[v];if(v!=k&&v!=l&&v!=m&&jd._PointInTriangle(b[2*v],b[2*v+1],C,n,p,q,I,t)){g=!1;break}}if(g)a.push(k),a.push(l),a.push(m),e.splice((f+1)%h,1),h--,f=0;else if(f++>3*h)if(c){a=[];c=[];for(e=0;e<d;)f=e++,c.push(f);e=c;f=0;h=d;c=!1}else return La.log("Warning: shape too complex to fill"),
[]}a.push(e[0]);a.push(e[1]);a.push(e[2]);return a};jd._PointInTriangle=function(a,b,c,d,e,f,h,g){h=h-c|0;g=g-d|0;e=e-c|0;f=f-d|0;a=a-c|0;c=b-d|0;b=h*h+g*g;d=h*e+g*f;h=h*a+g*c;g=e*e+f*f;e=e*a+f*c;f=1/(b*g-d*d);g=(g*h-d*e)*f;h=(b*e-d*h)*f;return 0<=g&&0<=h&&1>g+h};jd._convex=function(a,b,c,d,e,f,h){return 0<=(b-d)*(e-c)+(c-a)*(f-d)==h};var Jd=function(){this.activeTextures=0};g["openfl._internal.renderer.RenderSession"]=Jd;Jd.__name__=["openfl","_internal","renderer","RenderSession"];Jd.prototype=
{__class__:Jd};var Kg=function(){};g["openfl._internal.renderer.cairo.CairoBitmap"]=Kg;Kg.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"];Kg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);var d=a.__renderTransform,e=a.get_scrollRect();b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());
d=a.bitmapData.getSurface();null!=d&&(d=xd.createForSurface(d),xd.set_filter(d,a.smoothing?1:3),null!=e?(c.pushGroup(),c.set_source(d),c.newPath(),c.rectangle(e.x,e.y,e.width,e.height),c.fill(),c.popGroupToSource()):c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));null!=a.__mask&&b.maskManager.popMask()}}};var ia=function(){};g["openfl._internal.renderer.cairo.CairoGraphics"]=ia;ia.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"];ia.cairo=null;ia.drawRoundRect=
function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var h=-e+e*ia.SIN45,g=-e+e*ia.TAN22,k=-f+f*ia.SIN45,l=-f+f*ia.TAN22;ia.cairo.moveTo(c,d-f);ia.quadraticCurveTo(c,d+l,c+h,d+k);ia.quadraticCurveTo(c+g,d,c-e,d);ia.cairo.lineTo(a+e,d);ia.quadraticCurveTo(a-g,d,a-h,d+k);ia.quadraticCurveTo(a,d+l,a,d-f);ia.cairo.lineTo(a,b+f);ia.quadraticCurveTo(a,b-l,a-h,b-k);ia.quadraticCurveTo(a-g,b,a+e,b);ia.cairo.lineTo(c-e,b);ia.quadraticCurveTo(c+g,b,c+h,b-k);ia.quadraticCurveTo(c,
b-l,c,b+f);ia.cairo.lineTo(c,d-f)};ia.quadraticCurveTo=function(a,b,c,d){var e=null;ia.cairo.get_hasCurrentPoint()?e=ia.cairo.get_currentPoint():(ia.cairo.moveTo(a,b),e=new Pf(a,b));ia.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};ia.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new tc(a.__commands),e=0,f=a.__commands.types;e<f.length;){var h=f[e];++e;switch(h[1]){case 3:h=d.readCubicCurveTo();
c.curveTo(H.get_controlX1(h)-0,H.get_controlY1(h)-0,H.get_controlX2(h)-0,H.get_controlY2(h)-0,H.get_anchorX(h)-0,H.get_anchorY(h)-0);H.get_anchorX(h);H.get_anchorX(h);break;case 4:h=d.readCurveTo();ia.quadraticCurveTo(Z.get_controlX(h)-0,Z.get_controlY(h)-0,Z.get_anchorX(h)-0,Z.get_anchorY(h)-0);Z.get_anchorX(h);Z.get_anchorY(h);break;case 5:h=d.readDrawCircle();c.arc(Aa.get_x(h)-0,Aa.get_y(h)-0,Aa.get_radius(h),0,2*Math.PI);break;case 6:var g=d.readDrawEllipse(),h=ja.get_x(g),k=ja.get_y(g),l=ja.get_width(g),
m=ja.get_height(g),h=h-0,k=k-0,g=l/2*.5522848,C=m/2*.5522848,n=h+l,p=k+m,l=h+l/2,m=k+m/2;c.moveTo(h,m);c.curveTo(h,m-C,l-g,k,l,k);c.curveTo(l+g,k,n,m-C,n,m);c.curveTo(n,m+C,l+g,p,l,p);c.curveTo(l-g,p,h,m+C,h,m);break;case 8:h=d.readDrawRect();c.rectangle(P.get_x(h)-0,P.get_y(h)-0,P.get_width(h),P.get_height(h));break;case 9:h=d.readDrawRoundRect();ia.drawRoundRect(D.get_x(h)-0,D.get_y(h)-0,D.get_width(h),D.get_height(h),D.get_ellipseWidth(h),D.get_ellipseHeight(h));break;case 16:h=d.readLineTo();
c.lineTo(Pa.get_x(h)-0,Pa.get_y(h)-0);Pa.get_x(h);Pa.get_y(h);break;case 17:h=d.readMoveTo();c.moveTo(Ia.get_x(h)-0,Ia.get_y(h)-0);Ia.get_x(h);Ia.get_y(h);break;default:d.skip(h)}}d.destroy()}};var ig=function(a){this.renderSession=a};g["openfl._internal.renderer.cairo.CairoMaskManager"]=ig;ig.__name__=["openfl","_internal","renderer","cairo","CairoMaskManager"];ig.__super__=kc;ig.prototype=r(kc.prototype,{pushMask:function(a){var b=this.renderSession.cairo;b.save();var c=a.__getWorldTransform();
b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new se(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.cairo.restore()},__class__:ig});var Oe=function(){};g["openfl._internal.renderer.cairo.CairoRenderer"]=Oe;Oe.__name__=["openfl","_internal","renderer",
"cairo","CairoRenderer"];Oe.__super__=Mb;Oe.prototype=r(Mb.prototype,{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:Oe});var yg=function(){};g["openfl._internal.renderer.cairo.CairoShape"]=yg;yg.__name__=["openfl","_internal","renderer","cairo","CairoShape"];yg.render=function(a,b){};var Lg=function(){};g["openfl._internal.renderer.cairo.CairoTextField"]=
Lg;Lg.__name__=["openfl","_internal","renderer","cairo","CairoTextField"];Lg.render=function(a,b){};var Mg=function(){};g["openfl._internal.renderer.canvas.CanvasBitmap"]=Mg;Mg.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"];Mg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);a.bitmapData.__sync();c.globalAlpha=a.__worldAlpha;var d=a.__renderTransform,e=a.get_scrollRect();
b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=a.__mask&&b.maskManager.popMask()}}};var k=function(){};
g["openfl._internal.renderer.canvas.CanvasGraphics"]=k;k.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];k.bitmapFill=null;k.bitmapRepeat=null;k.bounds=null;k.graphics=null;k.hasFill=null;k.hasStroke=null;k.hitTesting=null;k.inversePendingMatrix=null;k.pendingMatrix=null;k.context=null;k.closePath=function(){null!=k.context.strokeStyle&&(k.context.closePath(),k.context.stroke(),k.context.beginPath())};k.createBitmapFill=function(a,b){a.__sync();return k.context.createPattern(a.image.get_src(),
b?"repeat":"no-repeat")};k.createGradientPattern=function(a,b,c,d,e,f,h,g){f=null;switch(a){case 1:null==e&&(e=new Ea);f=e.transformPoint(new Ua(1638.4,0));f=k.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 0:e=null!=e?e:new Ea,f=e.transformPoint(new Ua(-819.2,0)),e=e.transformPoint(new Ua(819.2,0)),f=k.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var l=e++,m=b[l];h=c[l];g=(m&16711680)>>>16;var p=(m&65280)>>>8,m=m&255,l=d[l]/255;0>l&&(l=0);1<
l&&(l=1);f.addColorStop(l,"rgba("+g+", "+p+", "+m+", "+h+")")}return f};k.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();k.hitTesting||f.fill();return e};k.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=
a+c;d=b+d;var h=-e+e*k.SIN45,g=-e+e*k.TAN22,l=-f+f*k.SIN45,m=-f+f*k.TAN22;k.context.moveTo(c,d-f);k.context.quadraticCurveTo(c,d+m,c+h,d+l);k.context.quadraticCurveTo(c+g,d,c-e,d);k.context.lineTo(a+e,d);k.context.quadraticCurveTo(a-g,d,a-h,d+l);k.context.quadraticCurveTo(a,d+m,a,d-f);k.context.lineTo(a,b+f);k.context.quadraticCurveTo(a,b-m,a-h,b-l);k.context.quadraticCurveTo(a-g,b,a+e,b);k.context.lineTo(c-e,b);k.context.quadraticCurveTo(c+g,b,c+h,b-l);k.context.quadraticCurveTo(c,b-m,c,b+f);k.context.lineTo(c,
d-f)};k.endFill=function(){k.context.beginPath();k.playCommands(k.fillCommands,!1);k.fillCommands.clear()};k.endStroke=function(){k.context.beginPath();k.playCommands(k.strokeCommands,!0);k.context.closePath();k.strokeCommands.clear()};k.hitTest=function(a,b,c){if(!(0==a.__commands.get_length()||null==k.bounds||0>=k.bounds.width||0>=k.bounds.height)){k.hitTesting=!0;b-=k.bounds.x;c-=k.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));
k.context=a.__context;k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=!1;k.bitmapFill=null;k.bitmapRepeat=!1;k.context.beginPath();var d=new tc(a.__commands),e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:f=d.readCubicCurveTo();k.fillCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),H.get_controlY2(f),H.get_anchorX(f),H.get_anchorY(f));k.strokeCommands.cubicCurveTo(H.get_controlX1(f),H.get_controlY1(f),H.get_controlX2(f),
H.get_controlY2(f),H.get_anchorX(f),H.get_anchorY(f));break;case 4:f=d.readCurveTo();k.fillCommands.curveTo(Z.get_controlX(f),Z.get_controlY(f),Z.get_anchorX(f),Z.get_anchorY(f));k.strokeCommands.curveTo(Z.get_controlX(f),Z.get_controlY(f),Z.get_anchorX(f),Z.get_anchorY(f));break;case 16:f=d.readLineTo();k.fillCommands.lineTo(Pa.get_x(f),Pa.get_y(f));k.strokeCommands.lineTo(Pa.get_x(f),Pa.get_y(f));break;case 17:f=d.readMoveTo();k.fillCommands.moveTo(Ia.get_x(f),Ia.get_y(f));k.strokeCommands.moveTo(Ia.get_x(f),
Ia.get_y(f));break;case 14:f=d.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ka.get_type(f),ka.get_colors(f),ka.get_alphas(f),ka.get_ratios(f),ka.get_matrix(f),ka.get_spreadMethod(f),ka.get_interpolationMethod(f),ka.get_focalPointRatio(f));break;case 13:f=d.readLineBitmapStyle();k.strokeCommands.lineBitmapStyle(eb.get_bitmap(f),eb.get_matrix(f),eb.get_repeat(f),eb.get_smooth(f));break;case 15:f=d.readLineStyle();k.strokeCommands.lineStyle(K.get_thickness(f),K.get_color(f),1,K.get_pixelHinting(f),
K.get_scaleMode(f),K.get_caps(f),K.get_joints(f),K.get_miterLimit(f));break;case 12:d.readEndFill();k.endFill();k.endStroke();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;k.hasFill=!1;k.bitmapFill=null;break;case 0:case 1:case 2:k.endFill();k.endStroke();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;f==t.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),k.fillCommands.beginBitmapFill(za.get_bitmap(f),
za.get_matrix(f),za.get_repeat(f),za.get_smooth(f)),k.strokeCommands.beginBitmapFill(za.get_bitmap(f),za.get_matrix(f),za.get_repeat(f),za.get_smooth(f))):f==t.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),k.fillCommands.beginGradientFill(J.get_type(f),J.get_colors(f),J.get_alphas(f),J.get_ratios(f),J.get_matrix(f),J.get_spreadMethod(f),J.get_interpolationMethod(f),J.get_focalPointRatio(f)),k.strokeCommands.beginGradientFill(J.get_type(f),J.get_colors(f),J.get_alphas(f),J.get_ratios(f),J.get_matrix(f),
J.get_spreadMethod(f),J.get_interpolationMethod(f),J.get_focalPointRatio(f))):(f=d.readBeginFill(),k.fillCommands.beginFill(cb.get_color(f),1),k.strokeCommands.beginFill(cb.get_color(f),1));break;case 5:f=d.readDrawCircle();k.fillCommands.drawCircle(Aa.get_x(f),Aa.get_y(f),Aa.get_radius(f));k.strokeCommands.drawCircle(Aa.get_x(f),Aa.get_y(f),Aa.get_radius(f));break;case 6:f=d.readDrawEllipse();k.fillCommands.drawEllipse(ja.get_x(f),ja.get_y(f),ja.get_width(f),ja.get_height(f));k.strokeCommands.drawEllipse(ja.get_x(f),
ja.get_y(f),ja.get_width(f),ja.get_height(f));break;case 8:f=d.readDrawRect();k.fillCommands.drawRect(P.get_x(f),P.get_y(f),P.get_width(f),P.get_height(f));k.strokeCommands.drawRect(P.get_x(f),P.get_y(f),P.get_width(f),P.get_height(f));break;case 9:f=d.readDrawRoundRect();k.fillCommands.drawRoundRect(D.get_x(f),D.get_y(f),D.get_width(f),D.get_height(f),D.get_ellipseWidth(f),D.get_ellipseHeight(f));k.strokeCommands.drawRoundRect(D.get_x(f),D.get_y(f),D.get_width(f),D.get_height(f),D.get_ellipseWidth(f),
D.get_ellipseHeight(f));break;default:d.skip(f)}}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&k.endStroke();d.destroy();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return!0}return!1};k.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.length,f=1,h=e+1;f<h;)d=f++,b&&0==d%3||(d=a.data[d-1],c<d&&(c=d));f=new hd;f.data=[];f.length=0;f.fixed=!1;h=1;for(e+=1;h<e;)if(d=h++,!b||0!=d%3){if(!f.fixed){f.length++;
if(f.data.length<f.length){var g;g=Array(f.data.length+10);Fc.blit(f.data,0,g,0,f.data.length);f.data=g}f.data[f.length-1]=a.data[d-1]/c}f.length}return{max:c,uvt:f}};k.playCommands=function(a,b){null==b&&(b=!1);k.bounds=k.graphics.__bounds;for(var c=k.bounds.x,d=k.bounds.y,e=0,f=0,h=!1,g=0,l=0,m=new tc(a),p=0,C=a.types;p<C.length;){var n=C[p];++p;switch(n[1]){case 3:n=m.readCubicCurveTo();k.context.bezierCurveTo(H.get_controlX1(n)-c,H.get_controlY1(n)-d,H.get_controlX2(n)-c,H.get_controlY2(n)-d,
H.get_anchorX(n)-c,H.get_anchorY(n)-d);break;case 4:n=m.readCurveTo();k.context.quadraticCurveTo(Z.get_controlX(n)-c,Z.get_controlY(n)-d,Z.get_anchorX(n)-c,Z.get_anchorY(n)-d);break;case 5:n=m.readDrawCircle();k.context.moveTo(Aa.get_x(n)-c+Aa.get_radius(n),Aa.get_y(n)-d);k.context.arc(Aa.get_x(n)-c,Aa.get_y(n)-d,Aa.get_radius(n),0,2*Math.PI,!0);break;case 6:var q=m.readDrawEllipse(),n=ja.get_x(q),t=ja.get_y(q),I=ja.get_width(q),r=ja.get_height(q),n=n-c,t=t-d,q=I/2*.5522848,v=r/2*.5522848,y=n+I,x=
t+r,I=n+I/2,r=t+r/2;k.context.moveTo(n,r);k.context.bezierCurveTo(n,r-v,I-q,t,I,t);k.context.bezierCurveTo(I+q,t,y,r-v,y,r);k.context.bezierCurveTo(y,r+v,I+q,x,I,x);k.context.bezierCurveTo(I-q,x,n,r+v,n,r);break;case 9:n=m.readDrawRoundRect();k.drawRoundRect(D.get_x(n)-c,D.get_y(n)-d,D.get_width(n),D.get_height(n),D.get_ellipseWidth(n),D.get_ellipseHeight(n));break;case 16:f=m.readLineTo();k.context.lineTo(Pa.get_x(f)-c,Pa.get_y(f)-d);e=Pa.get_x(f);f=Pa.get_y(f);break;case 17:l=m.readMoveTo();k.context.moveTo(Ia.get_x(l)-
c,Ia.get_y(l)-d);e=Ia.get_x(l);f=Ia.get_y(l);h=!0;g=Ia.get_x(l);l=Ia.get_y(l);break;case 15:n=m.readLineStyle();b&&k.hasStroke&&(k.context.closePath(),k.hitTesting||k.context.stroke(),k.context.beginPath());k.context.moveTo(e-c,f-d);if(null==K.get_thickness(n))k.hasStroke=!1;else{0<K.get_thickness(n)?k.context.lineWidth=K.get_thickness(n):k.context.lineWidth=1;null==K.get_joints(n)?k.context.lineJoin="round":k.context.lineJoin=Ng.toString(K.get_joints(n)).toLowerCase();if(null==K.get_caps(n))k.context.lineCap=
"round";else switch(K.get_caps(n)){case 0:k.context.lineCap="butt";break;default:k.context.lineCap=Og.toString(K.get_caps(n)).toLowerCase()}k.context.miterLimit=K.get_miterLimit(n);1==K.get_alpha(n)?k.context.strokeStyle="#"+L.hex(K.get_color(n)&16777215,6):(t=(K.get_color(n)&16711680)>>>16,q=(K.get_color(n)&65280)>>>8,v=K.get_color(n)&255,k.context.strokeStyle="rgba("+t+", "+q+", "+v+", "+K.get_alpha(n)+")");k.hasStroke=!0}break;case 14:n=m.readLineGradientStyle();b&&k.hasStroke&&k.closePath();k.context.moveTo(e-
c,f-d);k.context.strokeStyle=k.createGradientPattern(ka.get_type(n),ka.get_colors(n),ka.get_alphas(n),ka.get_ratios(n),ka.get_matrix(n),ka.get_spreadMethod(n),ka.get_interpolationMethod(n),ka.get_focalPointRatio(n));k.hasStroke=!0;break;case 13:n=m.readLineBitmapStyle();b&&k.hasStroke&&k.closePath();k.context.moveTo(e-c,f-d);k.context.strokeStyle=k.createBitmapFill(eb.get_bitmap(n),eb.get_repeat(n));k.hasStroke=!0;break;case 0:n=m.readBeginBitmapFill();k.context.fillStyle=k.createBitmapFill(za.get_bitmap(n),
!0);k.hasFill=!0;null!=za.get_matrix(n)?(k.pendingMatrix=za.get_matrix(n),k.inversePendingMatrix=za.get_matrix(n).clone(),k.inversePendingMatrix.invert()):(k.pendingMatrix=null,k.inversePendingMatrix=null);break;case 1:n=m.readBeginFill();.005>cb.get_alpha(n)?k.hasFill=!1:(1==cb.get_alpha(n)?k.context.fillStyle="#"+L.hex(cb.get_color(n),6):(t=(cb.get_color(n)&16711680)>>>16,q=(cb.get_color(n)&65280)>>>8,v=cb.get_color(n)&255,k.context.fillStyle="rgba("+t+", "+q+", "+v+", "+cb.get_alpha(n)+")"),k.bitmapFill=
null,k.hasFill=!0);break;case 2:n=m.readBeginGradientFill();k.context.fillStyle=k.createGradientPattern(J.get_type(n),J.get_colors(n),J.get_alphas(n),J.get_ratios(n),J.get_matrix(n),J.get_spreadMethod(n),J.get_interpolationMethod(n),J.get_focalPointRatio(n));k.bitmapFill=null;k.hasFill=!0;break;case 8:n=m.readDrawRect();t=!1;null!=k.bitmapFill&&(x=y=I=q=0,v=!0,null!=k.pendingMatrix?0!=k.pendingMatrix.b||0!=k.pendingMatrix.c?v=!1:(y=k.inversePendingMatrix.transformPoint(new Ua(P.get_x(n),P.get_y(n))),
I=k.inversePendingMatrix.transformPoint(new Ua(P.get_x(n)+P.get_width(n),P.get_y(n)+P.get_height(n))),q=y.y,x=y.x,y=I.y,I=I.x):(q=P.get_y(n),x=P.get_x(n),y=P.get_y(n)+P.get_height(n),I=P.get_x(n)+P.get_width(n)),v&&0<=q&&0<=x&&I<=k.bitmapFill.width&&y<=k.bitmapFill.height&&(t=!0,k.hitTesting||k.context.drawImage(k.bitmapFill.image.get_src(),x,q,I-x,y-q,P.get_x(n)-c,P.get_y(n)-d,P.get_width(n),P.get_height(n))));t||k.context.rect(P.get_x(n)-c,P.get_y(n)-d,P.get_width(n),P.get_height(n));break;default:m.skip(n)}}m.destroy();
b&&k.hasStroke&&(k.hasFill&&h?k.context.lineTo(g-c,l-d):h&&e==g&&f==l&&k.context.closePath(),k.hitTesting||k.context.stroke());b||!k.hasFill&&null==k.bitmapFill||(k.context.translate(-k.bounds.x,-k.bounds.y),null!=k.pendingMatrix?(k.context.transform(k.pendingMatrix.a,k.pendingMatrix.b,k.pendingMatrix.c,k.pendingMatrix.d,k.pendingMatrix.tx,k.pendingMatrix.ty),k.hitTesting||k.context.fill(),k.context.transform(k.inversePendingMatrix.a,k.inversePendingMatrix.b,k.inversePendingMatrix.c,k.inversePendingMatrix.d,
k.inversePendingMatrix.tx,k.inversePendingMatrix.ty)):k.hitTesting||k.context.fill(),k.context.translate(k.bounds.x,k.bounds.y),k.context.closePath())};k.render=function(a,b){if(a.__dirty){k.hitTesting=!1;k.graphics=a;k.bounds=a.__bounds;if(!a.__visible||0==a.__commands.get_length()||null==k.bounds||0>=k.bounds.width||0>=k.bounds.height)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));
k.context=a.__context;a.__canvas.width=Math.ceil(k.bounds.width);a.__canvas.height=Math.ceil(k.bounds.height);k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=!1;k.bitmapFill=null;k.bitmapRepeat=!1;var c=new tc(a.__commands),d=0,e=a.__commands.types;try{for(;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:var h=c.readCubicCurveTo();k.fillCommands.cubicCurveTo(H.get_controlX1(h),H.get_controlY1(h),H.get_controlX2(h),H.get_controlY2(h),H.get_anchorX(h),H.get_anchorY(h));k.strokeCommands.cubicCurveTo(H.get_controlX1(h),
H.get_controlY1(h),H.get_controlX2(h),H.get_controlY2(h),H.get_anchorX(h),H.get_anchorY(h));break;case 4:var g=c.readCurveTo();k.fillCommands.curveTo(Z.get_controlX(g),Z.get_controlY(g),Z.get_anchorX(g),Z.get_anchorY(g));k.strokeCommands.curveTo(Z.get_controlX(g),Z.get_controlY(g),Z.get_anchorX(g),Z.get_anchorY(g));break;case 16:var l=c.readLineTo();k.fillCommands.lineTo(Pa.get_x(l),Pa.get_y(l));k.strokeCommands.lineTo(Pa.get_x(l),Pa.get_y(l));break;case 17:var m=c.readMoveTo();k.fillCommands.moveTo(Ia.get_x(m),
Ia.get_y(m));k.strokeCommands.moveTo(Ia.get_x(m),Ia.get_y(m));break;case 12:c.readEndFill();k.endFill();k.endStroke();k.hasFill=!1;k.bitmapFill=null;break;case 15:var p=c.readLineStyle();k.strokeCommands.lineStyle(K.get_thickness(p),K.get_color(p),K.get_alpha(p),K.get_pixelHinting(p),K.get_scaleMode(p),K.get_caps(p),K.get_joints(p),K.get_miterLimit(p));break;case 14:var C=c.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ka.get_type(C),ka.get_colors(C),ka.get_alphas(C),ka.get_ratios(C),
ka.get_matrix(C),ka.get_spreadMethod(C),ka.get_interpolationMethod(C),ka.get_focalPointRatio(C));break;case 13:var n=c.readLineBitmapStyle();k.strokeCommands.lineBitmapStyle(eb.get_bitmap(n),eb.get_matrix(n),eb.get_repeat(n),eb.get_smooth(n));break;case 0:case 1:case 2:k.endFill();k.endStroke();if(f==t.BEGIN_BITMAP_FILL){var q=c.readBeginBitmapFill();k.fillCommands.beginBitmapFill(za.get_bitmap(q),za.get_matrix(q),za.get_repeat(q),za.get_smooth(q));k.strokeCommands.beginBitmapFill(za.get_bitmap(q),
za.get_matrix(q),za.get_repeat(q),za.get_smooth(q))}else if(f==t.BEGIN_GRADIENT_FILL){var r=c.readBeginGradientFill();k.fillCommands.beginGradientFill(J.get_type(r),J.get_colors(r),J.get_alphas(r),J.get_ratios(r),J.get_matrix(r),J.get_spreadMethod(r),J.get_interpolationMethod(r),J.get_focalPointRatio(r));k.strokeCommands.beginGradientFill(J.get_type(r),J.get_colors(r),J.get_alphas(r),J.get_ratios(r),J.get_matrix(r),J.get_spreadMethod(r),J.get_interpolationMethod(r),J.get_focalPointRatio(r))}else{var I=
c.readBeginFill();k.fillCommands.beginFill(cb.get_color(I),cb.get_alpha(I));k.strokeCommands.beginFill(cb.get_color(I),cb.get_alpha(I))}break;case 5:var v=c.readDrawCircle();k.fillCommands.drawCircle(Aa.get_x(v),Aa.get_y(v),Aa.get_radius(v));k.strokeCommands.drawCircle(Aa.get_x(v),Aa.get_y(v),Aa.get_radius(v));break;case 6:var y=c.readDrawEllipse();k.fillCommands.drawEllipse(ja.get_x(y),ja.get_y(y),ja.get_width(y),ja.get_height(y));k.strokeCommands.drawEllipse(ja.get_x(y),ja.get_y(y),ja.get_width(y),
ja.get_height(y));break;case 8:var x=c.readDrawRect();k.fillCommands.drawRect(P.get_x(x),P.get_y(x),P.get_width(x),P.get_height(x));k.strokeCommands.drawRect(P.get_x(x),P.get_y(x),P.get_width(x),P.get_height(x));break;case 9:var A=c.readDrawRoundRect();k.fillCommands.drawRoundRect(D.get_x(A),D.get_y(A),D.get_width(A),D.get_height(A),D.get_ellipseWidth(A),D.get_ellipseHeight(A));k.strokeCommands.drawRoundRect(D.get_x(A),D.get_y(A),D.get_width(A),D.get_height(A),D.get_ellipseWidth(A),D.get_ellipseHeight(A));
break;case 11:k.endFill();k.endStroke();var B=c.readDrawTriangles(),z=gb.get_vertices(B),G=gb.get_indices(B),w=gb.get_uvtData(B),F=null,L=null==k.bitmapFill;if(L&&null!=w)throw"__break__";if(!L){if(null==w){var N;N=new hd;N.data=[];N.length=0;N.fixed=!1;for(var w=N,E=0,O=z.length/2|0;E<O;){var S=E++;if(!w.fixed){w.length++;if(w.data.length<w.length){var Q;Q=Array(w.data.length+10);Fc.blit(w.data,0,Q,0,w.data.length);w.data=Q}w.data[w.length-1]=z.data[2*S]/k.bitmapFill.width}w.length;if(!w.fixed){w.length++;
if(w.data.length<w.length){var T;T=Array(w.data.length+10);Fc.blit(w.data,0,T,0,w.data.length);w.data=T}w.data[w.length-1]=z.data[2*S+1]/k.bitmapFill.height}w.length}}var U=k.normalizeUVT(w,w.length!=z.length),X=U.max,w=U.uvt,F=1<X?k.createTempPatternCanvas(k.bitmapFill,k.bitmapRepeat,k.bounds.width|0,k.bounds.height|0):k.createTempPatternCanvas(k.bitmapFill,k.bitmapRepeat,k.bitmapFill.width,k.bitmapFill.height)}for(var E=0,da=G.length,V,ba,ea,ga,la,na,oa,ta,ua,W,aa,Y,ca,fa,ia,wa,xa,ma,pa,qa,ra,va,
Da,Ea,Fa,Ga,Ha,Ka;E<da;){V=E;ba=E+1;ea=E+2;ga=2*G.data[V];la=2*G.data[V]+1;na=2*G.data[ba];oa=2*G.data[ba]+1;ta=2*G.data[ea];ua=2*G.data[ea]+1;W=z.data[ga];aa=z.data[la];Y=z.data[na];ca=z.data[oa];fa=z.data[ta];ia=z.data[ua];switch(gb.get_culling(B)){case 2:if(!(0>(Y-W)*(ia-aa)-(ca-aa)*(fa-W))){E+=3;continue}break;case 0:if(0>(Y-W)*(ia-aa)-(ca-aa)*(fa-W)){E+=3;continue}}L?(k.context.beginPath(),k.context.moveTo(W,aa),k.context.lineTo(Y,ca),k.context.lineTo(fa,ia),k.context.closePath(),k.hitTesting||
k.context.fill()):(k.context.save(),k.context.beginPath(),k.context.moveTo(W,aa),k.context.lineTo(Y,ca),k.context.lineTo(fa,ia),k.context.closePath(),k.context.clip(),wa=w.data[ga]*F.width,ma=w.data[na]*F.width,qa=w.data[ta]*F.width,xa=w.data[la]*F.height,pa=w.data[oa]*F.height,ra=w.data[ua]*F.height,va=wa*(ra-pa)-ma*ra+qa*pa+(ma-qa)*xa,0!=va&&(Da=-(xa*(fa-Y)-pa*fa+ra*Y+(pa-ra)*W)/va,Ea=(pa*ia+xa*(ca-ia)-ra*ca+(ra-pa)*aa)/va,Fa=(wa*(fa-Y)-ma*fa+qa*Y+(ma-qa)*W)/va,Ga=-(ma*ia+wa*(ca-ia)-qa*ca+(qa-ma)*
aa)/va,Ha=(wa*(ra*Y-pa*fa)+xa*(ma*fa-qa*Y)+(qa*pa-ma*ra)*W)/va,Ka=(wa*(ra*ca-pa*ia)+xa*(ma*ia-qa*ca)+(qa*pa-ma*ra)*aa)/va,k.context.transform(Da,Ea,Fa,Ga,Ha,Ka),k.context.drawImage(F,0,0),k.context.restore()));E+=3}break;case 10:var Ca=c.readDrawTiles(),Ja=0<(R.get_flags(Ca)&1),Ra=k.bounds.x,Ta=k.bounds.y,Ma=0<(R.get_flags(Ca)&2),Na=0<(R.get_flags(Ca)&16),Ua=0<(R.get_flags(Ca)&4),Sa=0<(R.get_flags(Ca)&8),La=0<(R.get_flags(Ca)&32),Va=0<(R.get_flags(Ca)&64),Wa=0<(R.get_flags(Ca)&65536);Na&&(Ma=Ja=!1);
var Xa=E=F=0,Qa=0,ya=3;La&&(ya=Va?8:6);Ja&&(F=ya,ya++);Ma&&(E=ya,ya++);Na&&(Qa=ya,ya+=4);Ua&&(ya+=3);Sa&&(Xa=ya,ya++);var Za=R.get_tileData(Ca).length;0<=R.get_count(Ca)&&Za>R.get_count(Ca)&&(Za=R.get_count(Ca));var sa=0,Ba=null,Oa=null,ab=-1,bb;R.get_sheet(Ca).__bitmap.__sync();bb=R.get_sheet(Ca).__bitmap.image.get_src();Wa&&(k.context.globalCompositeOperation="lighter");for(;sa<Za;){var Ya;Ya=La?-1:ha["int"](R.get_tileData(Ca)[sa+2]);La||Ya==ab?La&&(Ba=R.get_sheet(Ca).__rectTile,Ba.setTo(R.get_tileData(Ca)[sa+
2],R.get_tileData(Ca)[sa+3],R.get_tileData(Ca)[sa+4],R.get_tileData(Ca)[sa+5]),Oa=R.get_sheet(Ca).__point,Va?Oa.setTo(R.get_tileData(Ca)[sa+6],R.get_tileData(Ca)[sa+7]):Oa.setTo(0,0)):(Ba=R.get_sheet(Ca).__tileRects[Ya],Oa=R.get_sheet(Ca).__centerPoints[Ya],ab=Ya);if(null!=Ba&&0<Ba.width&&0<Ba.height&&null!=Oa){k.context.save();k.context.translate(R.get_tileData(Ca)[sa]-Ra,R.get_tileData(Ca)[sa+1]-Ta);Ma&&k.context.rotate(R.get_tileData(Ca)[sa+E]);var $a=1;Ja&&($a=R.get_tileData(Ca)[sa+F]);Na&&k.context.transform(R.get_tileData(Ca)[sa+
Qa],R.get_tileData(Ca)[sa+Qa+1],R.get_tileData(Ca)[sa+Qa+2],R.get_tileData(Ca)[sa+Qa+3],0,0);Sa&&(k.context.globalAlpha=R.get_tileData(Ca)[sa+Xa]);k.context.imageSmoothingEnabled=R.get_smooth(Ca);k.context.drawImage(bb,Ba.x,Ba.y,Ba.width,Ba.height,-Oa.x*$a,-Oa.y*$a,Ba.width*$a,Ba.height*$a);k.context.restore()}sa+=ya}Wa&&(k.context.globalCompositeOperation="source-over");break;default:c.skip(f)}}}catch(db){if("__break__"!=db)throw db;}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&
k.endStroke();c.destroy();a.__bitmap=pb.fromCanvas(a.__canvas)}a.set___dirty(!1)}};k.renderMask=function(a,b){if(0!=a.__commands.get_length()){k.context=b.context;for(var c=new tc(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();k.context.bezierCurveTo(H.get_controlX1(f)-0,H.get_controlY1(f)-0,H.get_controlX2(f)-0,H.get_controlY2(f)-0,H.get_anchorX(f)-0,H.get_anchorY(f)-0);H.get_anchorX(f);H.get_anchorY(f);break;case 4:f=c.readCurveTo();
k.context.quadraticCurveTo(Z.get_controlX(f)-0,Z.get_controlY(f)-0,Z.get_anchorX(f)-0,Z.get_anchorY(f)-0);Z.get_anchorX(f);Z.get_anchorY(f);break;case 5:f=c.readDrawCircle();k.context.arc(Aa.get_x(f)-0,Aa.get_y(f)-0,Aa.get_radius(f),0,2*Math.PI,!0);break;case 6:var h=c.readDrawEllipse(),f=ja.get_x(h),g=ja.get_y(h),l=ja.get_width(h),m=ja.get_height(h),f=f-0,g=g-0,h=l/2*.5522848,p=m/2*.5522848,C=f+l,n=g+m,l=f+l/2,m=g+m/2;k.context.moveTo(f,m);k.context.bezierCurveTo(f,m-p,l-h,g,l,g);k.context.bezierCurveTo(l+
h,g,C,m-p,C,m);k.context.bezierCurveTo(C,m+p,l+h,n,l,n);k.context.bezierCurveTo(l-h,n,f,m+p,f,m);break;case 8:f=c.readDrawRect();k.context.rect(P.get_x(f)-0,P.get_y(f)-0,P.get_width(f),P.get_height(f));break;case 9:f=c.readDrawRoundRect();k.drawRoundRect(D.get_x(f)-0,D.get_y(f)-0,D.get_width(f),D.get_height(f),D.get_ellipseWidth(f),D.get_ellipseHeight(f));break;case 16:f=c.readLineTo();k.context.lineTo(Pa.get_x(f)-0,Pa.get_y(f)-0);Pa.get_x(f);Pa.get_y(f);break;case 17:f=c.readMoveTo();k.context.moveTo(Ia.get_x(f)-
0,Ia.get_y(f)-0);Ia.get_x(f);Ia.get_y(f);break;default:c.skip(f)}}c.destroy()}};var Pe=function(a){this.renderSession=a};g["openfl._internal.renderer.canvas.CanvasMaskManager"]=Pe;Pe.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Pe.__super__=kc;Pe.prototype=r(kc.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getWorldTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushRect:function(a,
b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Pe});var Qe=function(a,b,c){Mb.call(this,a,b);this.context=c;this.renderSession=new Jd;this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Pe(this.renderSession)};
g["openfl._internal.renderer.canvas.CanvasRenderer"]=Qe;Qe.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];Qe.__super__=Mb;Qe.prototype=r(Mb.prototype,{render:function(a){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!a.__transparent&&a.__clearBeforeRender?(this.context.fillStyle=a.__colorString,this.context.fillRect(0,0,a.stageWidth,a.stageHeight)):a.__transparent&&a.__clearBeforeRender&&this.context.clearRect(0,0,a.stageWidth,a.stageHeight);a.__renderCanvas(this.renderSession)},
__class__:Qe});var zg=function(){};g["openfl._internal.renderer.canvas.CanvasShape"]=zg;zg.__name__=["openfl","_internal","renderer","canvas","CanvasShape"];zg.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(k.render(c,b),null!=c.__canvas)){var d=b.context,e=a.get_scrollRect();if(0<c.__bounds.width&&0<c.__bounds.height&&(null==e||0<e.width&&0<e.height)){null!=a.__mask&&b.maskManager.pushMask(a.__mask);d.globalAlpha=a.__worldAlpha;var f=a.__renderTransform;
b.roundPixels?d.setTransform(f.a,f.b,f.c,f.d,f.tx|0,f.ty|0):d.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty);null==e?d.drawImage(c.__canvas,c.__bounds.x,c.__bounds.y):d.drawImage(c.__canvas,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height);null!=a.__mask&&b.maskManager.popMask()}}}};var Fa=function(){};g["openfl._internal.renderer.canvas.CanvasTextField"]=Fa;Fa.__name__=["openfl","_internal","renderer","canvas",
"CanvasTextField"];Fa.context=null;Fa.render=function(a,b){if(a.__dirty){var c=a.__textEngine;a.__updateLayout();if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus)||(0>=c.width||0>=c.height)&&2!=c.autoSize)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{var d=c.bounds;if(null==a.__graphics||null==a.__graphics.__canvas)null==a.__graphics&&(a.__graphics=new Uc),a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=
a.__graphics.__canvas.getContext("2d"),a.__graphics.__bounds=new oa(0,0,d.width,d.height);var e=a.__graphics;Fa.context=e.__context;if(null!=c.text&&""!=c.text||c.__hasFocus){var f=c.text;if(c.displayAsPassword){for(var f=f.length,h="",g=0;g<f;)g++,h+="*";f=h}e.__canvas.width=Math.ceil(d.width);e.__canvas.height=Math.ceil(d.height);0!=c.antiAliasType||1!=c.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=
!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1);if(c.border||c.background)Fa.context.rect(.5,.5,d.width-1,d.height-1),c.background&&(Fa.context.fillStyle="#"+L.hex(c.backgroundColor,6),Fa.context.fill()),c.border&&(Fa.context.lineWidth=1,Fa.context.strokeStyle="#"+L.hex(c.borderColor,6),Fa.context.stroke());Fa.context.textBaseline="top";Fa.context.textAlign="start";for(var d=-a.get_scrollH(),g=h=0,l=a.get_scrollV()-1;g<l;)var k=g++,h=h-c.lineHeights[k];for(var m,g=
0,l=(new nf("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),k=0,C=c.layoutGroups;k<C.length;){var n=C[k];++k;if(!(n.lineIndex<a.get_scrollV()-1)){if(n.lineIndex>a.get_scrollV()+c.bottomScrollV-2)break;Fa.context.font=Ta.getFont(n.format);Fa.context.fillStyle="#"+L.hex(n.format.color,6);l&&(g=.185*n.format.size);Fa.context.fillText(f.substring(n.startIndex,n.endIndex),n.offsetX+d,n.offsetY+g+h);if(-1<a.__caretIndex&&c.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&
n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex){for(var p=m=0,q=a.__caretIndex-n.startIndex;p<q;){var t=p++;if(n.advances.length<=t)break;m+=n.advances[t]}Fa.context.fillRect(n.offsetX+m,n.offsetY,1,n.height)}}else if(n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex||n.startIndex<=a.__selectionIndex&&n.endIndex>=a.__selectionIndex)m=ha["int"](Math.min(a.__selectionIndex,a.__caretIndex)),p=ha["int"](Math.max(a.__selectionIndex,a.__caretIndex)),n.startIndex>m&&(m=n.startIndex),n.endIndex<
p&&(p=n.endIndex),q=a.getCharBoundaries(m),p>=c.text.length?(t=a.getCharBoundaries(c.text.length-1),t.x+=t.width+2):t=a.getCharBoundaries(p),null!=q&&null!=t&&(Fa.context.fillStyle="#000000",Fa.context.fillRect(q.x,q.y,t.x-q.x,n.height),Fa.context.fillStyle="#FFFFFF",Fa.context.fillText(f.substring(m,p),d+q.x,n.offsetY+g+h))}}}else if(e.__canvas.width=Math.ceil(d.width),e.__canvas.height=Math.ceil(d.height),c.border||c.background)c.border?Fa.context.rect(.5,.5,d.width-1,d.height-1):Fa.context.rect(0,
0,d.width,d.height),c.background&&(Fa.context.fillStyle="#"+L.hex(c.backgroundColor,6),Fa.context.fill()),c.border&&(Fa.context.lineWidth=1,Fa.context.lineCap="square",Fa.context.strokeStyle="#"+L.hex(c.borderColor,6),Fa.context.stroke());e.__bitmap=pb.fromCanvas(a.__graphics.__canvas);a.__dirty=!1;e.set___dirty(!1)}}};var Re=function(){};g["openfl._internal.renderer.dom.DOMBitmap"]=Re;Re.__name__=["openfl","_internal","renderer","dom","DOMBitmap"];Re.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),
a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),Cb.initializeElement(a,a.__canvas,b));a.bitmapData.__sync();a.__canvas.width=a.bitmapData.width;a.__canvas.height=a.bitmapData.height;a.__context.globalAlpha=a.__worldAlpha;a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0);Cb.applyStyle(a,
b,!0,!1,!0)};Re.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,Cb.initializeElement(a,a.__image,b));Cb.applyStyle(a,b,!0,!0,!0)};var Se=function(a){this.renderSession=a};g["openfl._internal.renderer.dom.DOMMaskManager"]=Se;Se.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];Se.__super__=kc;Se.prototype=r(kc.prototype,
{pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},__class__:Se});var Cb=function(a,b,c){Mb.call(this,a,b);this.element=c;this.renderSession=new Jd;this.renderSession.element=c;this.renderSession.roundPixels=!0;a=window.getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"));a[0].toUpperCase();a.substr(1);this.renderSession.vendorPrefix=a;this.renderSession.transformProperty=
"webkit"==a?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==a?"-webkit-transform-origin":"transform-origin";this.renderSession.maskManager=new Se(this.renderSession);this.renderSession.renderer=this};g["openfl._internal.renderer.dom.DOMRenderer"]=Cb;Cb.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];Cb.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__worldTransformChanged&&f.setProperty(b.transformProperty,a.__worldTransform.to3DString(b.roundPixels),
null);a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):(b=oa.__temp,c=Ea.__temp,c.copyFrom(a.__worldTransform),c.invert(),a.__worldClip.__transform(b,c),f.setProperty("clip","rect("+b.y+"px, "+b.get_right()+"px, "+b.get_bottom()+
"px, "+b.x+"px)",null)))};Cb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__worldClipChanged=!0;a.__worldTransformChanged=!0;a.__worldVisibleChanged=!0;a.__worldZ=-1};Cb.__super__=Mb;Cb.prototype=r(Mb.prototype,{render:function(a){this.element.style.background=a.__colorString;this.renderSession.z=
1;a.__renderDOM(this.renderSession)},__class__:Cb});var Ag=function(){};g["openfl._internal.renderer.dom.DOMShape"]=Ag;Ag.__name__=["openfl","_internal","renderer","dom","DOMShape"];Ag.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){if(c.__dirty||a.__worldAlphaChanged||null==a.__canvas&&null!=c.__canvas)k.render(c,b),null!=c.__canvas?(null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),Cb.initializeElement(a,
a.__canvas,b)),a.__canvas.width=c.__canvas.width,a.__canvas.height=c.__canvas.height,a.__context.globalAlpha=a.__worldAlpha,a.__context.drawImage(c.__canvas,0,0)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null);if(null!=a.__canvas){if(a.__worldTransformChanged||c.__transformDirty){c.__transformDirty=!1;var d=Ea.__temp;d.identity();d.translate(c.__bounds.x,c.__bounds.y);d.concat(a.__worldTransform);a.__style.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+
d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null)}Cb.applyStyle(a,b,!1,!1,!0)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var Pg=function(){};g["openfl._internal.renderer.dom.DOMTextField"]=Pg;Pg.__name__=["openfl","_internal","renderer","dom","DOMTextField"];Pg.render=function(a,b){var c=a.__textEngine;if(null!=
a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||null==a.__div)if(""!=c.text||c.background||c.border||1==c.type){null==a.__div&&(a.__div=window.document.createElement("div"),Cb.initializeElement(a,a.__div,b),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.selectable?a.__style.setProperty("cursor","text",null):a.__style.setProperty("cursor",
"inherit",null);a.__div.contentEditable=1==c.type;var d=a.__style;a.__div.innerHTML=c.text;c.background?d.setProperty("background-color","#"+L.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+L.hex(c.borderColor,6),null):d.removeProperty("border");d.setProperty("font",Ta.getFont(a.__textFormat),null);d.setProperty("color","#"+L.hex(a.__textFormat.color,6),null);2!=c.autoSize?d.setProperty("width","auto",null):d.setProperty("width",c.width+
"px",null);d.setProperty("height",c.height+"px",null);switch(a.__textFormat.align){case 0:d.setProperty("text-align","center",null);break;case 4:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&Cb.applyStyle(a,b,!0,!0,!1)}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null,a.__style=null)};var hb=function(){};g["openfl._internal.renderer.opengl.GLBitmap"]=
hb;hb.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];hb.pushFramebuffer=function(a,b,c,d,e,f,h){null==h&&(h=!0);null==f&&(f=!1);null==e&&(e=!0);var g=a.gl;if(null==g)return null;var l=a.renderer,k=c.x|0,m=c.y|0,p=c.width|0,n=c.height|0;a.spriteBatch.finish();0>=hb.fbData.length&&hb.fbData.push({texture:null,viewPort:null,transparent:l.transparent});null==b&&(b=new jg(g,p,n,d,h));b.resize(p,n);l.transparent=e;a.maskManager.saveState();g.bindFramebuffer(g.FRAMEBUFFER,(b.__swapped?b.__texture1:
b.__texture0).frameBuffer);l.setViewport(k,m,p,n);g.colorMask(!0,!0,!0,!0);a.blendModeManager.setBlendMode(10);f&&(b.__swapped?b.__texture1:b.__texture0).clear(0,0,0,0,null);hb.fbData.push({texture:b,viewPort:c,transparent:e});return b};hb.drawBitmapDrawable=function(a,b,c,d,e,f,h){var g=hb.fbData[hb.fbData.length-1];if(null==g)throw new B("No data to draw to");var l=a.gl;if(null!=l){var g=g.viewPort,k=a.spriteBatch,m=null!=b;h=null==h?new oa(g.x,g.y,g.width,g.height):h.clone();k.begin(a,m?null:h);
m&&(b.__worldTransform.identity(),hb.flipMatrix(b.__worldTransform,g.height),b.__renderGL(a),k.stop(),null!=b.__texture&&l.deleteTexture(b.__texture),b.__texture=null,k.start(h));b=c.__worldColorTransform;l=c.__blendMode;h=c.__cacheAsBitmap;d=null!=d?d.clone():new Ea;hb.flipMatrix(d,g.height);c.__worldColorTransform=null!=e?e:new bc;c.__blendMode=f;Q.__cacheAsBitmapMode=!0;c.__updateTransforms(d);c.__updateChildren(!1);c.__cacheAsBitmap=!1;c.__renderGL(a);c.__cacheAsBitmap=h;c.__worldColorTransform=
b;c.__blendMode=l;Q.__cacheAsBitmapMode=!1;c.__updateTransforms();c.__updateChildren(!1)}};hb.popFramebuffer=function(a,b){var c=a.gl;if(null!=c){a.spriteBatch.finish();hb.fbData.pop();var d=hb.fbData[hb.fbData.length-1];if(null==d)throw new B("oh");var e,f,h,g;null==d.viewPort?(e=f=0,h=a.renderer.width,g=a.renderer.height):(e=Math.floor(d.viewPort.x),f=Math.floor(d.viewPort.y),h=Math.ceil(d.viewPort.width),g=Math.ceil(d.viewPort.height));null!=b&&(b.width==h&&b.height==g||b.resize(h,g),c.readPixels(e,
f,h,g,c.RGBA,c.UNSIGNED_BYTE,b.buffer.data),b.dirty=!1,b.set_premultiplied(!0));c.bindFramebuffer(c.FRAMEBUFFER,null==d.texture?a.defaultFramebuffer:d.texture.get_framebuffer());a.renderer.setViewport(e,f,h,g);a.renderer.transparent=d.transparent;a.maskManager.restoreState()}};hb.flipMatrix=function(a,b){var c=a.tx,d=a.ty;a.tx=0;a.ty=0;a.scale(1,-1);a.translate(0,b);a.tx+=c;a.ty-=d};var ub=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!1);null==d&&(d=!1);null==b&&(b=600);null==a&&(a=800);this.vpX=
this.vpY=this.vpWidth=this.vpHeight=0;Mb.call(this,a,b);this.transparent=d;this.preserveDrawingBuffer=f;this.width=a;this.height=b;this.viewport=new oa;this.options={alpha:d,antialias:e,premultipliedAlpha:d,stencil:!0,preserveDrawingBuffer:f};this._glContextId=ub.glContextId++;this.gl=c;this.defaultFramebuffer=null;ub.glContexts[this._glContextId]=c;this.projectionMatrix=new Ea;this.projection=new Ua;this.projection.x=this.width/2;this.projection.y=-this.height/2;this.offset=new Ua(0,0);this.resize(this.width,
this.height);this.contextLost=!1;this.shaderManager=new Kd(c);this.spriteBatch=new kg(c);this.filterManager=new lg(c,this.transparent);this.stencilManager=new mg(c);this.blendModeManager=new ng(c);this.renderSession=new Jd;this.renderSession.gl=this.gl;this.renderSession.drawCount=0;this.renderSession.shaderManager=this.shaderManager;this.renderSession.filterManager=this.filterManager;this.renderSession.blendModeManager=this.blendModeManager;this.renderSession.spriteBatch=this.spriteBatch;this.renderSession.stencilManager=
this.stencilManager;this.renderSession.renderer=this;this.renderSession.defaultFramebuffer=this.defaultFramebuffer;this.renderSession.projectionMatrix=this.projectionMatrix;this.maskManager=new Te(this.renderSession);this.renderSession.maskManager=this.maskManager;this.shaderManager.setShader(this.shaderManager.defaultShader);c.disable(c.DEPTH_TEST);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.colorMask(!0,!0,!0,this.transparent)};g["openfl._internal.renderer.opengl.GLRenderer"]=ub;ub.__name__=["openfl",
"_internal","renderer","opengl","GLRenderer"];ub.renderBitmap=function(a,b,c){null==c&&(c=!0);if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.__graphics&&null!=a.__graphics.__bitmap){var d=oa.__temp,e=Ea.__temp;d.setEmpty();e.identity();a.__getBounds(d,e);d=a.__graphics.__bitmap;e.translate(a.__graphics.__bounds.x,a.__graphics.__bounds.y);e.concat(a.__renderTransform);b.spriteBatch.renderBitmapData(d,c,e,a.__worldColorTransform,a.__worldAlpha,a.__blendMode,null,0)}};ub.__super__=Mb;ub.prototype=
r(Mb.prototype,{setViewport:function(a,b,c,d){if(this.vpX!=a||this.vpY!=b||this.vpWidth!=c||this.vpHeight!=d)this.vpX=a,this.vpY=b,this.vpWidth=c,this.vpHeight=d,this.gl.viewport(a,b,c,d),this.setOrtho(a,b,c,d),this.viewport.setTo(a,b,c,d)},setOrtho:function(a,b,c,d){var e=this.projectionMatrix;e.identity();e.a=1/c*2;e.d=-1/d*2;e.tx=-1-a*e.a;e.ty=1-b*e.d},render:function(a){if(!this.contextLost){var b=this.gl;this.setViewport(0,0,this.width,this.height);b.bindFramebuffer(b.FRAMEBUFFER,this.defaultFramebuffer);
this.transparent?b.clearColor(0,0,0,0):b.clearColor(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2],1);b.clear(b.COLOR_BUFFER_BIT);this.renderDisplayObject(a,this.projection)}},renderDisplayObject:function(a,b,c){this.renderSession.blendModeManager.setBlendMode(10);this.renderSession.drawCount=0;this.renderSession.currentBlendMode=null;this.spriteBatch.begin(this.renderSession);this.filterManager.begin(this.renderSession,c);a.__renderGL(this.renderSession);this.spriteBatch.finish()},resize:function(a,
b){this.width=a;this.height=b;Mb.prototype.resize.call(this,a,b);this.setViewport(0,0,a,b);this.projection.x=a/2;this.projection.y=-b/2},__class__:ub});var ra=function(a){this.wrapS=this.wrapT=33071;this.compiled=!1;this.uniforms=new E;this.attributes=new E;this.ID=ra.UID++;this.gl=a;this.program=null};g["openfl._internal.renderer.opengl.shaders2.Shader"]=ra;ra.__name__="openfl _internal renderer opengl shaders2 Shader".split(" ");ra.compileProgram=function(a,b,c){var d=Kd.compiledShadersCache,e=
Ec.encode(b+c);if(null!=ta[e]?d.existsReserved(e):d.h.hasOwnProperty(e))return null!=ta[e]?d.getReserved(e):d.h[e];var f=ra.compileShader(a,b,a.VERTEX_SHADER),h=ra.compileShader(a,c,a.FRAGMENT_SHADER),g=a.createProgram();if(null!=f&&null!=h&&(a.attachShader(g,f),a.attachShader(g,h),a.linkProgram(g),a.deleteShader(f),a.deleteShader(h),0==a.getProgramParameter(g,a.LINK_STATUS)))return La.log("Could not compile the program:\n\t"+a.getProgramInfoLog(g)),La.log("VERTEX:\n"+b+"\nFRAGMENT:\n"+c),null;null!=
ta[e]?d.setReserved(e,g):d.h[e]=g;return g};ra.compileShader=function(a,b,c){c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);return 0==a.getShaderParameter(c,a.COMPILE_STATUS)?(La.log("Could not compile the shader:\n\t"+a.getShaderInfoLog(c)),La.log(b),null):c};ra.prototype={init:function(a){null==a&&(a=!1);if(!this.compiled||a){null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n"));null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n"));if(null==this.vertexString||
null==this.fragmentString)throw new B("No vertex or fragment source provided");this.program=ra.compileProgram(this.gl,this.vertexString,this.fragmentString);null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program);this.compiled=!1;this.attributes=null},applyData:function(a,b){if(null!=a)for(var c,d,e,f,h=a.keys();h.hasNext();)if(e=h.next(),d=this.getUniformLocation(e),c=null!=ta[e]?a.getReserved(e):a.h[e],null!=c&&(e=c.value,f=c.bitmap,null!=
e||null!=f))switch(c.internalType){case 1:switch(c.size){case 1:this.gl.uniform1i(d,e[0]|0);break;case 2:this.gl.uniform2i(d,e[0]|0,e[1]|0);break;case 3:this.gl.uniform3i(d,e[0]|0,e[1]|0,e[2]|0);break;case 4:this.gl.uniform4i(d,e[0]|0,e[1]|0,e[2]|0,e[3]|0)}break;case 2:switch(c.size){case 1:this.gl.uniform1f(d,e[0]);break;case 2:this.gl.uniform2f(d,e[0],e[1]);break;case 3:this.gl.uniform3f(d,e[0],e[1],e[2]);break;case 4:this.gl.uniform4f(d,e[0],e[1],e[2],e[3])}break;case 3:switch(c.size){case 2:this.gl.uniformMatrix2fv(d,
c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):null}(this));break;case 3:this.gl.uniformMatrix3fv(d,c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):null}(this));break;case 4:this.gl.uniformMatrix4fv(d,c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):null}(this))}break;case 4:if(null==f||!f.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+b.activeTextures);this.gl.bindTexture(this.gl.TEXTURE_2D,f.getTexture(this.gl));this.gl.uniform1i(d,
b.activeTextures);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,c.repeatX);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,c.repeatY);b.activeTextures++}},getAttribLocation:function(a){if(null==this.program)throw new B("Shader isn't initialized");if(this.attributes.exists(a))return this.attributes.get(a);
var b=this.gl.getAttribLocation(this.program,a);this.attributes.set(a,b);return b},getUniformLocation:function(a){if(null==this.program)throw new B("Shader isn't initialized");if(this.uniforms.exists(a))return this.uniforms.get(a);var b=this.gl.getUniformLocation(this.program,a);this.uniforms.set(a,b);return b},enableVertexAttribute:function(a,b,c){var d=this.getAttribLocation(a.name);this.gl.enableVertexAttribArray(d);this.gl.vertexAttribPointer(d,a.components,a.type,a.normalized,b,4*c)},disableVertexAttribute:function(a,
b){null==b&&(b=!0);var c=this.getAttribLocation(a.name);this.gl.disableVertexAttribArray(c);if(b)switch(a.components){case 1:this.gl.vertexAttrib1fv(c,a.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(c,a.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(c,a.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(c,a.defaultValue.subarray(0,4))}},bindVertexArray:function(a){var b=0,c=a.get_stride(),d=0;for(a=a.attributes;d<a.length;){var e=a[d];++d;e.enabled?
(this.enableVertexAttribute(e,c,b),b+=Math.floor(e.components*e.getElementsBytes()/4)):this.disableVertexAttribute(e,!0)}},__class__:ra};var Mc=function(a){ra.call(this,a);this.vertexSrc=Mc.VERTEX_SRC;this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {",
"\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);",
"   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.init()};g["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Mc;Mc.__name__="openfl _internal renderer opengl shaders2 DefaultShader".split(" ");Mc.__super__=ra;Mc.prototype=r(ra.prototype,{init:function(a){null==a&&(a=!1);ra.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uProjectionMatrix");
this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset");this.getUniformLocation("openfl_uUseColorTransform")},__class__:Mc});var Ue=function(a){ra.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);",
"   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {",
"   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);",
"}"];this.init()};g["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Ue;Ue.__name__="openfl _internal renderer opengl shaders2 DrawTrianglesShader".split(" ");Ue.__super__=ra;Ue.prototype=r(ra.prototype,{init:function(a){null==a&&(a=!1);ra.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uProjectionMatrix");
this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uUseTexture");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:Ue});var Ve=function(a){ra.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;",
"uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);",
"   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};g["openfl._internal.renderer.opengl.shaders2.FillShader"]=Ve;Ve.__name__="openfl _internal renderer opengl shaders2 FillShader".split(" ");Ve.__super__=ra;Ve.prototype=r(ra.prototype,{init:function(a){null==a&&(a=!1);ra.prototype.init.call(this,
a);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:Ve});var We=function(a){ra.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;",
"varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;",
"varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);",
"   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.init()};g["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=We;We.__name__="openfl _internal renderer opengl shaders2 PatternFillShader".split(" ");We.__super__=ra;We.prototype=r(ra.prototype,{init:function(a){null==a&&(a=!1);ra.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uPatternMatrix");
this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uPatternTL");this.getUniformLocation("openfl_uPatternBR");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:We});var Xe=function(a){ra.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;",
"uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {",
"   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};g["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Xe;Xe.__name__="openfl _internal renderer opengl shaders2 PrimitiveShader".split(" ");
Xe.__super__=ra;Xe.prototype=r(ra.prototype,{init:function(a){null==a&&(a=!1);ra.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:Xe});var ng=function(a){this.gl=a;this.currentBlendMode=
null};g["openfl._internal.renderer.opengl.utils.BlendModeManager"]=ng;ng.__name__="openfl _internal renderer opengl utils BlendModeManager".split(" ");ng.prototype={setBlendMode:function(a,b){null==b&&(b=!1);null==a&&(a=10,b=!0);if(!b&&this.currentBlendMode==a)return!1;this.currentBlendMode=a;switch(a){case 0:this.gl.blendEquation(32774);this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774);this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774);this.gl.blendFunc(1,769);break;
case 14:this.gl.blendEquation(32779);this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:ng};var Za=function(a){null==a&&(a=!0);this.type=la.Polygon;this.points=null;this.winding=0;this.isRemovable=!0;this.fillIndex=0;this.line=new Ld;this.fill=mb.None;a&&(this.points=[])};g["openfl._internal.renderer.opengl.utils.DrawPath"]=Za;Za.__name__="openfl _internal renderer opengl utils DrawPath".split(" ");Za.getStack=function(a,b){return l.build(a,
b)};Za.prototype={update:function(a,b,c,d){this.updateLine(a);this.fill=b;this.fillIndex=c;this.winding=d},updateLine:function(a){this.line.width=a.width;this.line.color=a.color;this.line.alpha=null==a.alpha?1:a.alpha;this.line.scaleMode=null==a.scaleMode?2:a.scaleMode;this.line.caps=null==a.caps?1:a.caps;this.line.joints=null==a.joints?2:a.joints;this.line.miterLimit=a.miterLimit},__class__:Za};var l=function(){};g["openfl._internal.renderer.opengl.utils.PathBuiler"]=l;l.__name__="openfl _internal renderer opengl utils PathBuiler".split(" ");
l.__currentPath=null;l.__drawPaths=null;l.__line=null;l.__fill=null;l.closePath=function(){var a;a=null==l.__currentPath.points?0:l.__currentPath.points.length;if(!(0>=a)&&l.__currentPath.type==la.Polygon&&l.__currentPath.fill!=mb.None){var b=l.__currentPath.points[0],c=l.__currentPath.points[1],d=l.__currentPath.points[a-1];b==l.__currentPath.points[a-2]&&c==d||l.lineTo(b,c)}};l.endFill=function(){l.__fill=mb.None;l.__fillIndex++};l.moveTo=function(a,b){!l.__currentPath.isRemovable||null!=l.__currentPath.points&&
0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Polygon;l.__currentPath.points.push(a);l.__currentPath.points.push(b);l.__drawPaths.push(l.__currentPath)};l.lineTo=function(a,b){var c=l.__currentPath.points,d=!0;if(1<c.length){var e=c[c.length-1];c[c.length-2]==a&&e==b&&(d=!1)}1==d&&(l.__currentPath.points.push(a),l.__currentPath.points.push(b))};l.curveTo=function(a,
b,c,d){if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.type=la.Polygon,l.__currentPath.points.push(0),l.__currentPath.points.push(0),l.__drawPaths.push(l.__currentPath);Xa.curveTo(l.__currentPath.points,a,b,c,d)};l.cubicCurveTo=function(a,b,c,
d,e,f){if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.type=la.Polygon,l.__currentPath.points.push(0),l.__currentPath.points.push(0),l.__drawPaths.push(l.__currentPath);Xa.cubicCurveTo(l.__currentPath.points,a,b,c,d,e,f)};l.build=function(a,b){var c=
null,d=a.__bounds;l.__drawPaths=[];l.__currentPath=new Za;l.__line=new Ld;l.__fill=mb.None;l.__fillIndex=0;c=a.__glStack[ub.glContextId];null==c&&(c=a.__glStack[ub.glContextId]=new og(b));if(a.__visible&&0!=a.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height){for(var d=new tc(a.__commands),e=0,f=a.__commands.types;e<f.length;){var h=f[e];++e;switch(h[1]){case 0:h=d.readBeginBitmapFill();l.endFill();null!=za.get_bitmap(h)?l.__fill=mb.Texture(za.get_bitmap(h),za.get_matrix(h),za.get_repeat(h),
za.get_smooth(h)):l.__fill=mb.None;if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.points=[],l.__currentPath.type=la.Polygon,l.__drawPaths.push(l.__currentPath);break;case 1:h=d.readBeginFill();l.endFill();0<cb.get_alpha(h)?l.__fill=mb.Color(cb.get_color(h)&
16777215,cb.get_alpha(h)):l.__fill=mb.None;if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.points=[],l.__currentPath.type=la.Polygon,l.__drawPaths.push(l.__currentPath);break;case 3:h=d.readCubicCurveTo();l.cubicCurveTo(H.get_controlX1(h),H.get_controlY1(h),
H.get_controlX2(h),H.get_controlY2(h),H.get_anchorX(h),H.get_anchorY(h));break;case 4:h=d.readCurveTo();l.curveTo(Z.get_controlX(h),Z.get_controlY(h),Z.get_anchorX(h),Z.get_anchorY(h));break;case 5:h=d.readDrawCircle();!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Circle;l.__currentPath.points=[Aa.get_x(h),
Aa.get_y(h),Aa.get_radius(h)];l.__drawPaths.push(l.__currentPath);break;case 6:h=d.readDrawEllipse();!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Ellipse;l.__currentPath.points=[ja.get_x(h),ja.get_y(h),ja.get_width(h),ja.get_height(h)];l.__drawPaths.push(l.__currentPath);break;case 8:h=d.readDrawRect();
!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Rectangle(!1);l.__currentPath.points=[P.get_x(h),P.get_y(h),P.get_width(h),P.get_height(h)];l.__drawPaths.push(l.__currentPath);break;case 9:var g=d.readDrawRoundRect(),h=D.get_x(g),k=D.get_y(g),m=D.get_width(g),p=D.get_height(g),q=D.get_ellipseWidth(g),
g=D.get_ellipseHeight(g);null==g&&(g=q);q*=.5;g*=.5;q>m/2&&(q=m/2);g>p/2&&(g=p/2);!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Rectangle(!0);l.__currentPath.points=[h,k,m,p,q,g];l.__drawPaths.push(l.__currentPath);break;case 12:d.readEndFill();l.endFill();break;case 15:h=d.readLineStyle();l.__line=
new Ld;(k=null==K.get_thickness(h))||(k=void 0,k=K.get_thickness(h),k=isNaN(k));k||0>K.get_thickness(h)?l.__line.width=0:0==K.get_thickness(h)?l.__line.width=1:l.__line.width=K.get_thickness(h);!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__line.color=K.get_color(h);l.__line.alpha=K.get_alpha(h);l.__line.scaleMode=K.get_scaleMode(h);l.__line.caps=K.get_caps(h);l.__line.joints=K.get_joints(h);l.__line.miterLimit=K.get_miterLimit(h);
l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.points=[];l.__currentPath.type=la.Polygon;l.__drawPaths.push(l.__currentPath);break;case 16:h=d.readLineTo();l.lineTo(Pa.get_x(h),Pa.get_y(h));break;case 17:h=d.readMoveTo();l.moveTo(Ia.get_x(h),Ia.get_y(h));break;case 11:p=d.readDrawTriangles();m=gb.get_uvtData(p);h=gb.get_vertices(p);k=gb.get_indices(p);p=gb.get_culling(p);switch(l.__fill[1]){case 1:q=!0;break;default:q=!1}if(q&&null!=
m)continue;!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);if(null==m)switch(m=new hd,m.data=[],m.length=0,m.fixed=!1,q=l.__fill,q[1]){case 2:for(var q=q[2],g=0,n=h.length/2|0;g<n;){var t=g++;if(!m.fixed){m.length++;if(m.data.length<m.length){var r;r=Array(m.data.length+10);Fc.blit(m.data,0,r,0,m.data.length);m.data=r}m.data[m.length-
1]=h.data[2*t]/q.width}m.length;m.fixed||(m.length++,m.data.length<m.length&&(r=Array(m.data.length+10),Fc.blit(m.data,0,r,0,m.data.length),m.data=r),m.data[m.length-1]=h.data[2*t+1]/q.height);m.length}}l.__currentPath.type=la.DrawTriangles(h,k,m,p,null,0);l.__currentPath.isRemovable=!1;l.__drawPaths.push(l.__currentPath);break;case 10:h=d.readDrawTiles();!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__fillIndex++;
l.__currentPath=new Za(!1);l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.DrawTiles(R.get_sheet(h),R.get_tileData(h),R.get_smooth(h),R.get_flags(h),R.get_shader(h),R.get_count(h));l.__currentPath.isRemovable=!1;l.__drawPaths.push(l.__currentPath);break;case 7:h=d.readDrawPath();!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();switch(qa.get_winding(h)){case "evenOdd":l.__currentWinding=
0;break;case "nonZero":l.__currentWinding=1;break;default:l.__currentWinding=0}for(var I,m=k=0,p=qa.get_commands(h).length;m<p;)switch(q=m++,q=qa.get_commands(h).data[q],q){case 1:r=qa.get_data(h).data[k];I=qa.get_data(h).data[k+1];k+=2;!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Polygon;l.__currentPath.points.push(r);
l.__currentPath.points.push(I);l.__drawPaths.push(l.__currentPath);break;case 4:r=qa.get_data(h).data[k+2];I=qa.get_data(h).data[k+3];k+=4;!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.Polygon;l.__currentPath.points.push(r);l.__currentPath.points.push(I);l.__drawPaths.push(l.__currentPath);break;case 2:r=
qa.get_data(h).data[k];I=qa.get_data(h).data[k+1];k+=2;l.lineTo(r,I);break;case 5:r=qa.get_data(h).data[k+2];I=qa.get_data(h).data[k+3];k+=4;l.lineTo(r,I);break;case 3:q=qa.get_data(h).data[k];g=qa.get_data(h).data[k+1];r=qa.get_data(h).data[k+2];I=qa.get_data(h).data[k+3];k+=4;if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,
l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.type=la.Polygon,l.__currentPath.points.push(0),l.__currentPath.points.push(0),l.__drawPaths.push(l.__currentPath);Xa.curveTo(l.__currentPath.points,q,g,r,I);break;case 6:q=qa.get_data(h).data[k];g=qa.get_data(h).data[k+1];n=qa.get_data(h).data[k+2];t=qa.get_data(h).data[k+3];r=qa.get_data(h).data[k+4];I=qa.get_data(h).data[k+5];k+=6;if(null==l.__currentPath.points||0==l.__currentPath.points.length)!l.__currentPath.isRemovable||null!=l.__currentPath.points&&
0!=l.__currentPath.points.length?l.closePath():l.__drawPaths.pop(),l.__currentPath=new Za,l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding),l.__currentPath.type=la.Polygon,l.__currentPath.points.push(0),l.__currentPath.points.push(0),l.__drawPaths.push(l.__currentPath);Xa.cubicCurveTo(l.__currentPath.points,q,g,n,t,r,I)}l.__currentWinding=0;break;case 18:h=d.readOverrideMatrix();!l.__currentPath.isRemovable||null!=l.__currentPath.points&&0!=l.__currentPath.points.length?l.closePath():
l.__drawPaths.pop();l.__currentPath=new Za;l.__currentPath.update(l.__line,l.__fill,l.__fillIndex,l.__currentWinding);l.__currentPath.type=la.OverrideMatrix(id.get_matrix(h));l.__currentPath.isRemovable=!1;l.__drawPaths.push(l.__currentPath);break;default:d.skip(h)}}l.closePath();d.destroy()}a.__drawPaths=l.__drawPaths;return c};var Ld=function(){this.color=this.width=0;this.alpha=1;this.scaleMode=2;this.caps=1;this.joints=2;this.miterLimit=3};g["openfl._internal.renderer.opengl.utils.LineStyle"]=
Ld;Ld.__name__="openfl _internal renderer opengl utils LineStyle".split(" ");Ld.prototype={__class__:Ld};var mb=g["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:"openfl _internal renderer opengl utils FillType".split(" "),__constructs__:["None","Color","Texture","Gradient"]};mb.None=["None",0];mb.None.toString=v;mb.None.__enum__=mb;mb.Color=function(a,b){var c=["Color",1,a,b];c.__enum__=mb;c.toString=v;return c};mb.Texture=function(a,b,c,d){a=["Texture",2,a,b,c,d];a.__enum__=mb;a.toString=
v;return a};mb.Gradient=["Gradient",3];mb.Gradient.toString=v;mb.Gradient.__enum__=mb;var lg=function(a,b){this.transparent=b;this.filterStack=[];this.offsetY=this.offsetX=0;this.setContext(a)};g["openfl._internal.renderer.opengl.utils.FilterManager"]=lg;lg.__name__="openfl _internal renderer opengl utils FilterManager".split(" ");lg.prototype={begin:function(a,b){this.renderSession=a;this.defaultShader=a.shaderManager.defaultShader;this.height=this.width=0;this.buffer=b},initShaderBuffers:function(){var a=
this.gl;this.vertexBuffer=a.createBuffer();this.uvBuffer=a.createBuffer();this.colorBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();var b=[0,0,1,0,0,1,1,1];this.vertexArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertexArray,a.STATIC_DRAW);b=[0,0,1,0,0,1,1,1];this.uvArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);a.bufferData(a.ARRAY_BUFFER,this.uvArray,a.STATIC_DRAW);b=[1,16777215,
1,16777215,1,16777215,1,16777215];this.colorArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.colorBuffer);a.bufferData(a.ARRAY_BUFFER,this.colorArray,a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,function(a){a=[0,1,2,1,3,2];return null!=a?new Uint16Array(a):null}(this),a.STATIC_DRAW)},setContext:function(a){this.gl=a;this.texturePool=[];this.initShaderBuffers()},__class__:lg};var Te=function(a){this.renderSession=a;
this.setContext(a.gl);this.clips=[]};g["openfl._internal.renderer.opengl.utils.GLMaskManager"]=Te;Te.__name__="openfl _internal renderer opengl utils GLMaskManager".split(" ");Te.__super__=kc;Te.prototype=r(kc.prototype,{pushRect:function(a,b){if(null!=a){var c=b.clone();hb.flipMatrix(c,this.renderSession.renderer.viewport.height);var d=a.clone();d.__transform(d,c);null!=this.currentClip&&(d=this.currentClip.intersection(d));c=null==this.currentClip||d.isEmpty()||this.currentClip.containsRect(d);
this.clips.push(d);this.currentClip=d;c&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(a){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.pushMask(a,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.popMask(null,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop();
this.clips.pop();this.currentClip=this.clips[this.clips.length-1];this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip;this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip;this.savedClip=null},setContext:function(a){null!=this.renderSession&&(this.renderSession.gl=a);this.gl=a},__class__:Te});var Wb=function(a,b,c,d,e){null==c&&(c=!1);this.enabled=!0;this.normalized=!1;this.components=a;this.type=b;this.normalized=c;
this.name=d;this.defaultValue=null==e?null!=a?new Float32Array(a):null:e};g["openfl._internal.renderer.opengl.utils.VertexAttribute"]=Wb;Wb.__name__="openfl _internal renderer opengl utils VertexAttribute".split(" ");Wb.prototype={copy:function(){return new Wb(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},__class__:Wb};var oa=function(a,b,c,d){null==
d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};g["openfl.geom.Rectangle"]=oa;oa.__name__=["openfl","geom","Rectangle"];oa.prototype={clone:function(){return new oa(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()&&
a.get_bottom()<this.get_bottom():a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()&&a.get_bottom()<=this.get_bottom()},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},intersection:function(a){var b;b=this.x<a.x?a.x:this.x;var c;c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new oa;var d;d=this.y<a.y?a.y:this.y;a=this.get_bottom()>
a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new oa:new oa(b,d,c-b,a-d)},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height)this.get_right(),this.get_bottom(),this.x<a&&(this.x=a),this.y<b&&(this.y=b),this.get_right()>a+c&&(this.width=a+c-this.x),this.get_bottom()>b+d&&(this.height=b+d-this.y)},
__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,h=b.a*(this.x+this.width)+b.c*this.y,g=b.b*(this.x+this.width)+b.d*this.y;h<c&&(c=h);g<e&&(e=g);h>d&&(d=h);g>f&&(f=g);h=b.a*
(this.x+this.width)+b.c*(this.y+this.height);g=b.b*(this.x+this.width)+b.d*(this.y+this.height);h<c&&(c=h);g<e&&(e=g);h>d&&(d=h);g>f&&(f=g);h=b.a*this.x+b.c*(this.y+this.height);g=b.b*this.x+b.d*(this.y+this.height);h<c&&(c=h);g<e&&(e=g);h>d&&(d=h);g>f&&(f=g);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},get_left:function(){return this.x},get_right:function(){return this.x+this.width},get_top:function(){return this.y},get_topLeft:function(){return new Ua(this.x,
this.y)},__class__:oa,__properties__:{get_topLeft:"get_topLeft",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_bottom:"get_bottom"}};var A=function(){};g["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=A;A.__name__="openfl _internal renderer opengl utils GraphicsRenderer".split(" ");A.overrideMatrix=null;A.buildCircle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=d[0],f=d[1],h=d[2],d=3==d.length?h:d[3];a.type==la.Ellipse&&(h/=2,d/=2,e+=h,f+=d);c&&(e-=A.objectBounds.x,
f-=A.objectBounds.y);c=2*Math.PI/40;b=A.prepareBucket(a,b);var g=b.getData(Pb.Fill);if(null!=g){var k=g.verts,g=g.indices,l=k.length/2|0;g.push(l);for(var m=0;41>m;){var p=m++;k.push(e);k.push(f);k.push(e+Math.sin(c*p)*h);k.push(f+Math.cos(c*p)*d);g.push(l++);g.push(l++)}g.push(l-1)}0<a.line.width&&(c=a.points,a.points=[],Xa.ellipse(a.points,e,f,h,d,40),A.buildLine(a,b),a.points=c)};A.buildComplexPoly=function(a,b,c){null==c&&(c=!1);var d=null;if(6<=a.points.length){var e=a.points.slice();if(c)for(var d=
0,f=e.length/2|0;d<f;){var h=d++;e[2*h]-=A.objectBounds.x;e[2*h+1]-=A.objectBounds.y}d=A.prepareBucket(a,b);f=d.getData(Pb.Fill);f.drawMode=b.gl.TRIANGLE_FAN;f.verts=e;f=f.indices;e=e.length/2|0;for(h=0;h<e;){var g=h++;f.push(g)}}0<a.line.width&&(null==d&&(d=A.prepareBucket(a,b)),A.buildLine(a,d,c))};A.buildLine=function(a,b,c){null==c&&(c=!1);var d=a.points;if(0!=d.length){b=b.getData(Pb.Line);if(c){c=0;for(var e=d.length/2|0;c<e;){var f=c++;d[2*f]-=A.objectBounds.x;d[2*f+1]-=A.objectBounds.y}}e=
new Ua(d[0],d[1]);f=new Ua(d[d.length-2|0],d[d.length-1|0]);e.x==f.x&&e.y==f.y&&(d=d.slice(),d.pop(),d.pop(),f=new Ua(d[d.length-2|0],d[d.length-1|0]),c=f.x+.5*(e.x-f.x),e=f.y+.5*(e.y-f.y),d.unshift(e),d.unshift(c),d.push(c),d.push(e));c=b.verts;b=b.indices;var h=d.length/2|0,e=d.length,f=c.length/6|0,g=a.line.width/2,k=A.hex2rgb(a.line.color);a=a.line.alpha;var l=k[0],m=k[1],k=k[2],p,n,q,t,r,v,y,x,w,B,z,G,F,E;q=d[0];t=d[1];r=d[2];v=d[3];x=-(t-v);w=q-r;n=Math.sqrt(Math.abs(x*x+w*w));x=x/n*g;w=w/n*
g;c.push(q-x);c.push(t-w);c.push(l);c.push(m);c.push(k);c.push(a);c.push(q+x);c.push(t+w);c.push(l);c.push(m);c.push(k);c.push(a);for(var H=1,D=h-1;H<D;)w=H++,q=d[2*(w-1)],t=d[2*(w-1)+1],r=d[2*w],v=d[2*w+1],p=d[2*(w+1)],y=d[2*(w+1)+1],x=-(t-v),w=q-r,n=Math.sqrt(Math.abs(x*x+w*w)),x/=n,w/=n,x*=g,w*=g,B=-(v-y),z=r-p,n=Math.sqrt(Math.abs(B*B+z*z)),B/=n,z/=n,B*=g,z*=g,n=-w+t-(-w+v),G=-x+r-(-x+q),q=(-x+q)*(-w+v)-(-x+r)*(-w+t),t=-z+y-(-z+v),F=-B+r-(-B+p),y=(-B+p)*(-z+v)-(-B+r)*(-z+y),E=n*F-t*G,.1>Math.abs(E)?
(c.push(r-x),c.push(v-w),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r+x),c.push(v+w),c.push(l),c.push(m),c.push(k),c.push(a)):(p=(G*y-F*q)/E,n=(t*q-n*y)/E,G=(p-r)*(p-r)+(n-v)+(n-v),19600<G?(x-=B,w-=z,n=Math.sqrt(Math.abs(x*x+w*w)),x/=n,w/=n,x*=g,w*=g,c.push(r-x),c.push(v-w),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r+x),c.push(v+w),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r-x),c.push(v-w),c.push(l),c.push(m),c.push(k),c.push(a),e++):(c.push(p),c.push(n),c.push(l),c.push(m),c.push(k),
c.push(a),c.push(r-(p-r)),c.push(v-(n-v)),c.push(l),c.push(m),c.push(k),c.push(a)));q=d[2*(h-2)];t=d[2*(h-2)+1];r=d[2*(h-1)];v=d[2*(h-1)+1];x=-(t-v);w=q-r;n=Math.sqrt(Math.abs(x*x+w*w));isFinite(n)||La.log(x*x+w*w);x/=n;w/=n;x*=g;w*=g;c.push(r-x);c.push(v-w);c.push(l);c.push(m);c.push(k);c.push(a);c.push(r+x);c.push(v+w);c.push(l);c.push(m);c.push(k);c.push(a);b.push(f);for(d=0;d<e;)d++,b.push(f++);b.push(f-1)}};A.buildRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=d[0],f=d[1],h=d[2],
d=d[3];c&&(e-=A.objectBounds.x,f-=A.objectBounds.y);b=A.prepareBucket(a,b);var g=b.getData(Pb.Fill);if(null!=g){c=g.verts;var g=g.indices,k=c.length/2|0;c.push(e);c.push(f);c.push(e+h);c.push(f);c.push(e);c.push(f+d);c.push(e+h);c.push(f+d);g.push(k);g.push(k);g.push(k+1);g.push(k+2);g.push(k+3);g.push(k+3)}0<a.line.width&&(c=a.points,a.points=[e,f,e+h,f,e+h,f+d,e,f+d,e,f],A.buildLine(a,b),a.points=c)};A.buildRoundedRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points.slice(),e=d[0],f=d[1],h=
d[2],g=d[3],k=d[4],d=d[5];c&&(e-=A.objectBounds.x,f-=A.objectBounds.y);c=[];Xa.roundRectangle(c,e,f,h,g,k,d);b=A.prepareBucket(a,b);f=b.getData(Pb.Fill);if(null!=f){e=f.verts;f=f.indices;h=e.length/2;g=[];jd.triangulate(g,c);for(k=0;k<g.length;)f.push(g[k]+h|0),f.push(g[k]+h|0),f.push(g[k+1]+h|0),f.push(g[k+2]+h|0),f.push(g[k+2]+h|0),k+=3;for(k=0;k<c.length;)e.push(c[k]),e.push(c[++k]),k++}0<a.line.width&&(e=a.points,a.points=c,A.buildLine(a,b),a.points=e)};A.buildDrawTriangles=function(a,b,c,d){null==
d&&(d=!1);var e=a.type.slice(2),f=e[0],h=e[1],g=e[2],k=e[3],e=e[4],l,m,q,n,p;d?(l=1,q=m=0,n=1,b=p=0):(l=b.__worldTransform.a,m=b.__worldTransform.b,q=b.__worldTransform.c,n=b.__worldTransform.d,p=b.__worldTransform.tx,b=b.__worldTransform.ty);var t=null!=e&&0<e.length;c=A.prepareBucket(a,c).getData(Pb.Fill);a=c.vertexArray.attributes[2];a.enabled=t;var r=[1,1,1,1],r=null!=r?new Float32Array(r):null;a.defaultValue=r;c.rawVerts=!0;c.glLength=h.length;c.stride=ha["int"](c.vertexArray.get_stride()/4);
a=c.glLength*c.stride;null==c.glVerts||c.glVerts.length<a?(a=null!=a?new Float32Array(a):null,c.glVerts=a):a=c.glVerts;c=a.buffer;c=null!=c?new Uint32Array(c,0):null;for(var v=0,x=0,w=0,y=0,B=0,z=0,G=0,F=0,E=0,H=0,D=0,L=0,K=r=0,J=h.length/3|0;K<J;){z=K++;y=h.data[3*z];B=h.data[3*z+1];z=h.data[3*z+2];v=2*y;x=2*B;w=2*z;G=f.data[v];F=f.data[v+1];E=f.data[x];H=f.data[x+1];D=f.data[w];L=f.data[w+1];d&&(G-=A.objectBounds.x,F-=A.objectBounds.y,E-=A.objectBounds.x,H-=A.objectBounds.y,D-=A.objectBounds.x,
L-=A.objectBounds.y);switch(k){case 2:if(!(0>(E-G)*(L-F)-(H-F)*(D-G)))continue;break;case 0:if(0>(E-G)*(L-F)-(H-F)*(D-G))continue}var P=r++;a[P]=l*G+q*F+p;P=r++;a[P]=m*G+n*F+b;G=r++;a[G]=g.data[v];G=r++;a[G]=g.data[v+1];t&&(v=r++,c[v]=e.data[y]);y=r++;a[y]=l*E+q*H+p;y=r++;a[y]=m*E+n*H+b;E=r++;a[E]=g.data[x];E=r++;a[E]=g.data[x+1];t&&(x=r++,c[x]=e.data[B]);B=r++;a[B]=l*D+q*L+p;B=r++;a[B]=m*D+n*L+b;D=r++;a[D]=g.data[w];D=r++;a[D]=g.data[w+1];t&&(w=r++,c[w]=e.data[z])}};A.render=function(a,b){var c=
a.__graphics,d=c.__bounds,e=c.__dirty;c.__visible&&0!=c.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height?(e&&A.updateGraphics(a,a.__graphics,b.gl,a.get_cacheAsBitmap()),A.renderGraphics(a,b,!1)):c.__glStack.splice(0,c.__glStack.length)};A.renderGraphics=function(a,b,c){null==c&&(c=!1);var d=b.gl,e=a.__graphics.__glStack[ub.glContextId];if(null!=e){var f,h;h=c?Ea.__identity:a.__worldTransform;for(var g=b.spriteBatch.clipRect,k=b.spriteBatch.drawing,l=0,m=e.buckets.length;l<m;){f=l++;(k=b.spriteBatch.drawing)&&
!c&&b.spriteBatch.finish();b.blendModeManager.setBlendMode(a.__blendMode);null!=g&&(d.enable(d.SCISSOR_TEST),d.scissor(Math.floor(g.x),Math.floor(g.y),Math.floor(g.width),Math.floor(g.height)));f=e.buckets[f];switch(f.mode[1]){case 1:case 2:b.stencilManager.pushBucket(f,b,h.toArray(!0));k=A.prepareShader(f,b,a,h.toArray(!0));A.renderFill(f,k,b);b.stencilManager.popBucket(a,f,b);break;case 5:k=A.prepareShader(f,b,a,null);A.renderDrawTriangles(f,k,b);break;case 6:k||b.spriteBatch.begin(b,g),k=f.graphicType.slice(2),
b.spriteBatch.renderTiles(a,k[0],k[1],k[2],k[3],k[4],k[5]),b.spriteBatch.finish()}var k=a.__worldColorTransform,q=0;for(f=f.lines;q<f.length;){var n=f[q];++q;if(null!=n&&0<n.verts.length){var p=b.shaderManager.primitiveShader;b.shaderManager.setShader(p);d.uniformMatrix3fv(p.getUniformLocation("openfl_uTranslationMatrix"),!1,h.toArray(!0));d.uniformMatrix3fv(p.getUniformLocation("openfl_uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));d.uniform1f(p.getUniformLocation("openfl_uAlpha"),1);d.uniform4f(p.getUniformLocation("openfl_uColorMultiplier"),
k.redMultiplier,k.greenMultiplier,k.blueMultiplier,k.alphaMultiplier);d.uniform4f(p.getUniformLocation("openfl_uColorOffset"),k.redOffset/255,k.greenOffset/255,k.blueOffset/255,k.alphaOffset/255);n.vertexArray.bind();p.bindVertexArray(n.vertexArray);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,n.indexBuffer);d.drawElements(d.TRIANGLE_STRIP,n.indices.length,d.UNSIGNED_SHORT,0)}}null!=g&&d.disable(d.SCISSOR_TEST);(k=b.spriteBatch.drawing)||c||b.spriteBatch.begin(b,g)}}};A.updateGraphics=function(a,b,c,d){null==
d&&(d=!1);A.objectPosition.setTo(a.get_x(),a.get_y());null==b.__bounds?A.objectBounds=new oa:A.objectBounds.copyFrom(b.__bounds);var e=null;b.__dirty&&(e=Za.getStack(b,c));b.set___dirty(!1);c=0;for(var f=e.buckets;c<f.length;){var h=f[c];++c;h.reset();A.bucketPool.push(h)}e.reset();c=e.lastIndex;for(f=b.__drawPaths.length;c<f;){var h=c++,h=b.__drawPaths[h],g=h.type;switch(g[1]){case 0:A.buildComplexPoly(h,e,d);break;case 1:g[2]?A.buildRoundedRectangle(h,e,d):A.buildRectangle(h,e,d);break;case 2:case 3:A.buildCircle(h,
e,d);break;case 4:A.buildDrawTriangles(h,a,e,d);break;case 5:A.prepareBucket(h,e);break;case 6:A.overrideMatrix=g[2]}e.lastIndex++}a=0;for(b=e.buckets;a<b.length;)d=b[a],++a,d.uploadTileBuffer&&d.uploadTile(Math.ceil(A.objectBounds.get_left()),Math.ceil(A.objectBounds.get_top()),Math.floor(A.objectBounds.get_right()),Math.floor(A.objectBounds.get_bottom())),d.optimize();e.upload()};A.prepareBucket=function(a,b){var c=null,c=a.fill;switch(c[1]){case 1:var d=c[3],e=c[2],c=A.switchBucket(a.fillIndex,
b,ca.Fill);c.color=null==e?[1,1,1]:[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255];c.color[3]=d;c.uploadTileBuffer=!0;break;case 2:var d=c[5],e=c[4],f=c[3],h=c[2],c=A.switchBucket(a.fillIndex,b,ca.PatternFill);c.bitmap=h;c.textureRepeat=e;c.textureSmooth=d;c.texture=h.getTexture(b.gl);c.uploadTileBuffer=!0;d=null==f?new Ea:f.clone();d.invert();d.scale(1/h.width,1/h.height);e=d.tx;f=d.ty;d.tx=0;d.ty=0;c.textureTL.x=e;c.textureTL.y=f;c.textureBR.x=e+1;c.textureBR.y=f+1;c.textureMatrix=d;break;default:c=
A.switchBucket(a.fillIndex,b,ca.Line),c.uploadTileBuffer=!1}switch(a.type[1]){case 4:c.mode=ca.DrawTriangles;c.uploadTileBuffer=!1;break;case 5:c.mode=ca.DrawTiles,c.uploadTileBuffer=!1}c.graphicType=a.type;c.overrideMatrix=A.overrideMatrix;return c};A.getBucket=function(a,b){var c=A.bucketPool.pop();null==c&&(c=new pg(a.gl));c.mode=b;a.buckets.push(c);return c};A.switchBucket=function(a,b,c){for(var d=null,e=0,f=b.buckets;e<f.length;){var h=f[e];++e;if(h.fillIndex==a){d=h;break}}null==d&&(d=A.getBucket(b,
c));d.dirty=!0;d.fillIndex=a;return d};A.prepareShader=function(a,b,c,d){var e=b.gl,f=null;switch(a.mode[1]){case 1:f=b.shaderManager.fillShader;break;case 2:f=b.shaderManager.patternFillShader;break;case 5:f=b.shaderManager.drawTrianglesShader;break;default:f=null}if(null==f)return null;b.shaderManager.setShader(f);e.uniform1f(f.getUniformLocation("openfl_uAlpha"),c.__worldAlpha);e.uniformMatrix3fv(f.getUniformLocation("openfl_uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));b=c.__worldColorTransform;
e.uniform4f(f.getUniformLocation("openfl_uColorMultiplier"),b.redMultiplier,b.greenMultiplier,b.blueMultiplier,b.alphaMultiplier);e.uniform4f(f.getUniformLocation("openfl_uColorOffset"),b.redOffset/255,b.greenOffset/255,b.blueOffset/255,b.alphaOffset/255);switch(a.mode[1]){case 1:e.uniformMatrix3fv(f.getUniformLocation("openfl_uTranslationMatrix"),!1,d);e.uniform4fv(f.getUniformLocation("openfl_uColor"),function(b){b=a.color;return null!=b?new Float32Array(b):null}(this));break;case 2:e.uniformMatrix3fv(f.getUniformLocation("openfl_uTranslationMatrix"),
!1,d);e.uniform2f(f.getUniformLocation("openfl_uPatternTL"),a.textureTL.x,a.textureTL.y);e.uniform2f(f.getUniformLocation("openfl_uPatternBR"),a.textureBR.x,a.textureBR.y);e.uniformMatrix3fv(f.getUniformLocation("openfl_uPatternMatrix"),!1,a.textureMatrix.toArray(!0));break;case 5:null!=a.texture?e.uniform1i(f.getUniformLocation("openfl_uUseTexture"),1):(e.uniform1i(f.getUniformLocation("openfl_uUseTexture"),0),e.uniform4fv(f.getUniformLocation("openfl_uColor"),function(b){b=a.color;return null!=
b?new Float32Array(b):null}(this)))}return f};A.renderFill=function(a,b,c){c=c.gl;a.mode==ca.PatternFill&&null!=a.texture&&A.bindTexture(c,a);c.bindBuffer(c.ARRAY_BUFFER,a.tileBuffer);c.vertexAttribPointer(b.getAttribLocation("openfl_aPosition"),4,c.SHORT,!1,0,0);c.drawArrays(c.TRIANGLE_STRIP,0,4)};A.renderDrawTriangles=function(a,b,c){c=c.gl;for(var d=0,e=a.fills;d<e.length;){var f=e[d];++d;f.available||(A.bindTexture(c,a),f.vertexArray.bind(),b.bindVertexArray(f.vertexArray),c.drawArrays(c.TRIANGLES,
f.glStart,f.glLength))}};A.bindTexture=function(a,b){a.bindTexture(a.TEXTURE_2D,b.texture);b.textureRepeat&&b.bitmap.image.get_powerOfTwo()?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));b.textureSmooth?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,
a.LINEAR)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST))};A.hex2rgb=function(a){return null==a?[1,1,1]:[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};var og=function(a){this.lastIndex=0;this.gl=a;this.buckets=[];this.lastIndex=0};g["openfl._internal.renderer.opengl.utils.GLStack"]=og;og.__name__="openfl _internal renderer opengl utils GLStack".split(" ");og.prototype={reset:function(){this.buckets=[];this.lastIndex=0},upload:function(){for(var a=
0,b=this.buckets;a<b.length;){var c=b[a];++a;c.dirty&&c.upload()}},__class__:og};var pg=function(a){this.textureSmooth=this.uploadTileBuffer=!0;this.textureRepeat=!1;this.lines=[];this.fills=[];this.fillIndex=-1;this.gl=a;this.color=[0,0,0];this.lastIndex=0;this.alpha=1;this.dirty=!0;this.mode=ca.Fill;this.textureMatrix=new Ea;this.textureTL=new Ua;this.textureBR=new Ua(1,1)};g["openfl._internal.renderer.opengl.utils.GLBucket"]=pg;pg.__name__="openfl _internal renderer opengl utils GLBucket".split(" ");
pg.prototype={getData:function(a){var b;switch(a[1]){case 1:b=this.fills;break;default:b=this.lines}for(var c=null,d=!1,e=0;e<b.length;){var f=b[e];++e;if(f.available){c=f;d=!0;break}}null==c&&(c=new qg(this.gl));c.available=!1;c.parent=this;c.type=a;d&&x.remove(b,c);b.push(c);switch(a[1]){case 1:switch(this.mode[1]){case 1:case 2:c.vertexArray.attributes=A.fillVertexAttributes;break;case 5:c.vertexArray.attributes=A.drawTrianglesVertexAttributes.slice(),c.vertexArray.attributes[2]=c.vertexArray.attributes[2].copy()}break;
case 0:c.vertexArray.attributes=A.primitiveVertexAttributes}return c},optimize:function(){var a=this.lines;if(1<a.length){for(var b=[],c=null,d=null,e=0,f=0,h=0,g=0;g<a.length;){var k=a[g];++g;if(k.available||k.rawVerts||k.rawIndices)null!=c&&(b.push(c),c=null),b.push(k);else if(null==d||d.drawMode==k.drawMode){if(null==c)c=k;else{for(var f=c.verts.length,h=c.indices.length,d=0,l=k.verts.length;d<l;){var m=d++;c.verts[m+f]=k.verts[m]}f=0;for(d=k.indices.length;f<d;)l=f++,c.indices[l+h]=k.indices[l]+
e}e=c.indices[c.indices.length-1]+1}else null!=c&&(b.push(c),c=null),b.push(k);d=k}0==b.length&&null!=c&&b.push(c);if(0<b.length)switch(Pb.Line[1]){case 1:this.fills=b;break;default:this.lines=b}}},reset:function(){for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.reset()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.reset();this.fillIndex=-1;this.uploadTileBuffer=!0;this.graphicType=la.Polygon},uploadTile:function(a,b,c,d){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer());a=this.tile=
[a,b,0,0,c,b,1,0,a,d,0,1,c,d,1,1];this.glTile=null!=a?new Int16Array(a):null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=ca.Line)for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.available||c.upload()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.available||c.upload();this.dirty=!1},__class__:pg};var qg=function(a){this.rawIndices=this.available=!1;this.stride=0;this.rawVerts=
!1;this.glLength=this.glStart=this.lastVertsSize=0;this.gl=a;this.drawMode=a.TRIANGLE_STRIP;this.verts=[];this.indices=[];this.vertexArray=new Ye([])};g["openfl._internal.renderer.opengl.utils.GLBucketData"]=qg;qg.__name__="openfl _internal renderer opengl utils GLBucketData".split(" ");qg.prototype={reset:function(){this.available=!0;this.verts=[];this.indices=[];this.stride=this.glStart=this.glLength=0;this.rawIndices=this.rawVerts=!1;this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&
null!=this.glVerts&&0<this.glVerts.length||0<this.verts.length){if(!this.rawVerts){var a=this.verts;this.glVerts=null!=a?new Float32Array(a):null}this.vertexArray.buffer=this.glVerts.buffer;this.glVerts.length<=this.lastVertsSize?(this.vertexArray.bind(),a=this.glLength*this.stride,0<this.glLength&&this.lastVertsSize>a?(a=this.glVerts.subarray(0,a),this.vertexArray.upload(a)):this.vertexArray.upload(this.glVerts)):(this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length)}0==
this.glLength&&(this.rawIndices&&null!=this.glIndices&&0<this.glIndices.length||0<this.indices.length)&&(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),this.rawIndices||(a=this.indices,this.glIndices=null!=a?new Uint16Array(a):null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW))},__class__:qg};var ca=g["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:"openfl _internal renderer opengl utils BucketMode".split(" "),
__constructs__:"None Fill PatternFill Line PatternLine DrawTriangles DrawTiles".split(" ")};ca.None=["None",0];ca.None.toString=v;ca.None.__enum__=ca;ca.Fill=["Fill",1];ca.Fill.toString=v;ca.Fill.__enum__=ca;ca.PatternFill=["PatternFill",2];ca.PatternFill.toString=v;ca.PatternFill.__enum__=ca;ca.Line=["Line",3];ca.Line.toString=v;ca.Line.__enum__=ca;ca.PatternLine=["PatternLine",4];ca.PatternLine.toString=v;ca.PatternLine.__enum__=ca;ca.DrawTriangles=["DrawTriangles",5];ca.DrawTriangles.toString=
v;ca.DrawTriangles.__enum__=ca;ca.DrawTiles=["DrawTiles",6];ca.DrawTiles.toString=v;ca.DrawTiles.__enum__=ca;var Pb=g["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:"openfl _internal renderer opengl utils BucketDataType".split(" "),__constructs__:["Line","Fill"]};Pb.Line=["Line",0];Pb.Line.toString=v;Pb.Line.__enum__=Pb;Pb.Fill=["Fill",1];Pb.Fill.toString=v;Pb.Fill.__enum__=Pb;var lh=function(){};g["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=lh;lh.__name__="openfl _internal renderer opengl utils GLGraphicsData".split(" ");
var la=g["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:"openfl _internal renderer opengl utils GraphicType".split(" "),__constructs__:"Polygon Rectangle Circle Ellipse DrawTriangles DrawTiles OverrideMatrix".split(" ")};la.Polygon=["Polygon",0];la.Polygon.toString=v;la.Polygon.__enum__=la;la.Rectangle=function(a){a=["Rectangle",1,a];a.__enum__=la;a.toString=v;return a};la.Circle=["Circle",2];la.Circle.toString=v;la.Circle.__enum__=la;la.Ellipse=["Ellipse",3];la.Ellipse.toString=
v;la.Ellipse.__enum__=la;la.DrawTriangles=function(a,b,c,d,e,f){a=["DrawTriangles",4,a,b,c,d,e,f];a.__enum__=la;a.toString=v;return a};la.DrawTiles=function(a,b,c,d,e,f){a=["DrawTiles",5,a,b,c,d,e,f];a.__enum__=la;a.toString=v;return a};la.OverrideMatrix=function(a){a=["OverrideMatrix",6,a];a.__enum__=la;a.toString=v;return a};var jg=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!0);this.__swapped=!1;this.powerOfTwo=!0;this.useOldTexture=!1;this.gl=a;this.width=b;this.height=c;this.smoothing=d;
this.powerOfTwo=e;this.set_renderTexture(new Ze(a,b,c,d,e))};g["openfl._internal.renderer.opengl.utils.PingPongTexture"]=jg;jg.__name__="openfl _internal renderer opengl utils PingPongTexture".split(" ");jg.prototype={swap:function(){this.__swapped=!this.__swapped;null==(this.__swapped?this.__texture1:this.__texture0)&&this.set_renderTexture(new Ze(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo))},resize:function(a,b){this.width=a;this.height=b;(this.__swapped?this.__texture1:this.__texture0).resize(a,
b)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null);null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null);this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(a){return this.__swapped?this.__texture1=a:this.__texture0=a},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(a){return this.__swapped?
this.__texture0=a:this.__texture1=a},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},__class__:jg,__properties__:{get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",
get_renderTexture:"get_renderTexture"}};var Ze=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!0);this.powerOfTwo=!0;this.gl=a;this.powerOfTwo=e;this.frameBuffer=a.createFramebuffer();this.texture=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.texture);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,d?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,d?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,
a.CLAMP_TO_EDGE);a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.texture,0);this.renderBuffer=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.renderBuffer);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.renderBuffer);this.resize(b,c)};g["openfl._internal.renderer.opengl.utils.RenderTexture"]=Ze;Ze.__name__="openfl _internal renderer opengl utils RenderTexture".split(" ");
Ze.prototype={clear:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.gl.clearColor(a,b,c,d);this.gl.clear(null==e?this.gl.COLOR_BUFFER_BIT:e)},destroy:function(){null!=this.frameBuffer&&this.gl.deleteFramebuffer(this.frameBuffer);null!=this.texture&&this.gl.deleteTexture(this.texture);this.texture=this.frameBuffer=null},resize:function(a,b){if(this.width!=a||this.height!=b){this.width=a;this.height=b;var c=a,d=b;this.powerOfTwo&&(c=this.powOfTwo(a),d=this.powOfTwo(b));
var e=this.__width,f=this.__height;this.__width=c;this.__height=d;this.createUVs();if(e!=c||f!=d)this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height)}},createUVs:function(){null==this.__uvData&&(this.__uvData=new $e);
var a=this.width/this.__width,b=this.height/this.__height;this.__uvData.x0=0;this.__uvData.y0=0;this.__uvData.x1=a;this.__uvData.y1=0;this.__uvData.x2=a;this.__uvData.y2=b;this.__uvData.x3=0;this.__uvData.y3=b},powOfTwo:function(a){for(var b=1;b<a;)b<<=1;return b},__class__:Ze};var Kd=function(a){this.setContext(a)};g["openfl._internal.renderer.opengl.utils.ShaderManager"]=Kd;Kd.__name__="openfl _internal renderer opengl utils ShaderManager".split(" ");Kd.prototype={setContext:function(a){this.gl=
a;this.defaultShader=new Mc(a);this.fillShader=new Ve(a);this.patternFillShader=new We(a);this.drawTrianglesShader=new Ue(a);this.primitiveShader=new Xe(a);this.setShader(this.defaultShader,!0)},setShader:function(a,b){null==b&&(b=!1);if(null==a)return this.currentShader=null,this.gl.useProgram(null),!0;if(null!=this.currentShader&&!b&&this.currentShader.ID==a.ID)return!1;this.currentShader=a;this.gl.useProgram(a.program);return!0},__class__:Kd};var kg=function(a,b){null==b&&(b=2E3);this.colorTransform=
new bc;this.enableColor=this.lastEnableColor=!0;this.attributes=[];this.writtenVertexBytes=0;this.drawing=!1;this.dirty=!0;this.states=[];this.maxSprites=b;this.attributes.push(new Wb(2,5126,!1,"openfl_aPosition"));this.attributes.push(new Wb(2,5126,!1,"openfl_aTexCoord0"));this.attributes.push(new Wb(4,5121,!0,"openfl_aColor"));var c=[1,1,1,1],c=null!=c?new Float32Array(c):null;this.attributes[2].defaultValue=c;for(var c=this.maxElementsPerVertex=0,d=this.attributes;c<d.length;){var e=d[c];++c;this.maxElementsPerVertex+=
Math.floor(e.components*e.getElementsBytes()/4)}this.vertexArraySize=b*this.maxElementsPerVertex*16;this.indexArraySize=6*b;this.vertexArray=new Ye(this.attributes,this.vertexArraySize,!1);c=this.vertexArray.buffer;this.positions=null!=c?new Float32Array(c,0):null;c=this.vertexArray.buffer;this.colors=null!=c?new Uint32Array(c,0):null;c=this.indexArraySize;this.indices=null!=c?new Uint16Array(c):null;for(d=c=0;c<this.indexArraySize;)this.indices[c]=d,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+
3]=d,this.indices[c+4]=d+2,this.indices[c+5]=d+3,c+=6,d+=4;this.currentState=new af;this.dirty=!0;this.drawing=!1;this.batchedSprites=0;this.setContext(a)};g["openfl._internal.renderer.opengl.utils.SpriteBatch"]=kg;kg.__name__="openfl _internal renderer opengl utils SpriteBatch".split(" ");kg.prototype={begin:function(a,b){this.renderSession=a;this.shader=a.shaderManager.defaultShader;this.drawing=!0;this.start(b)},finish:function(){this.stop();this.clipRect=null;this.drawing=!1},start:function(a){this.drawing||
this.stop();this.dirty=!0;this.clipRect=a},stop:function(){this.flush()},renderBitmapData:function(a,b,c,d,e,f,h,g,k){null==e&&(e=1);if(null!=a){k=a.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var l=a.__uvData;null!=l&&(this.prepareShader(h,a),e=((255*e|0)&255)<<24|16777215,this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),
this.fillVertices(4*this.batchedSprites*this.elementsPerVertex,a.width,a.height,c,l,e,g),this.setState(this.batchedSprites,k,b,f,d,h,!0),this.batchedSprites++)}},renderTiles:function(a,b,c,d,e,f,h){null==h&&(h=-1);null==e&&(e=0);null==d&&(d=!1);var g=b.__bitmap.getTexture(this.gl);if(null!=g){var k=0<(e&1),l=0<(e&2),m=0<(e&16),p=0<(e&4),n=0<(e&8),q=0<(e&32),r=0<(e&64),t=0<(e&128);switch(e&983040){case 65536:e=0;break;case 131072:e=9;break;case 262144:e=12;break;case 524288:e=14;break;default:switch(e&
15728640){case 1048576:e=2;break;case 2097152:e=8;break;case 4194304:e=11;break;case 8388608:e=5;break;default:switch(e&251658240){case 16777216:e=3;break;case 33554432:e=6;break;default:e=10}}}m&&(l=k=!1);var v=0,x=0,w=0,y=0,B=0,z=0,A=3;q&&(A=r?8:6);k&&(v=A,A++);l&&(x=A,A++);m&&(z=A,A+=4);p&&(w=A,A+=3);n&&(B=A,A++);t&&(y=A,A+=4);var G=c.length;0<=h&&G>h&&(G=h);Math.ceil(G/A);h=0;var E=-1,F=b.__rectTile,E=b.__rectUV,H=b.__point,D=0,L=0,E=1,P=16777215,K=1,J=0,N=1,O=N=J=0,Q=D=J=K=0,S=0,Q=0,R=a.__worldTransform,
D=0,L=1,O=N=0,K=1,Q=J=0,T=R.a,U=R.b,V=R.c,X=R.d,da=R.tx,R=R.ty,W=0,Y=0,Z=0,aa=0,ba=0,ca=0;this.enableColor=!0;this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor);this.attributes[2].enabled=this.lastEnableColor;this.elementsPerVertex=this.getElementsPerVertex();for(this.prepareShader(f,null);h<G;)this.batchedSprites>=this.maxSprites&&this.flush(),D=c[h],L=c[h+1],q?(F.x=c[h+2],F.y=c[h+3],F.width=c[h+4],F.height=c[h+5],r?(H.x=c[h+6],H.y=c[h+7]):H.setTo(0,0),W=
F.width,Y=F.height,Z=F.get_left()/b.__bitmap.width,aa=F.get_top()/b.__bitmap.height,ba=F.get_right()/b.__bitmap.width,ca=F.get_bottom()/b.__bitmap.height):(E=(null==c[h+2]?0:c[h+2])|0,F=b.__tileRects[E],H=b.__centerPoints[E],E=b.__tileUVs[E],null!=F&&(W=F.width,Y=F.height,Z=E.x,aa=E.y,ba=E.width,ca=E.height)),null!=F&&0<F.width&&0<F.height&&null!=H&&(P=16777215,N=K=1,J=0,E=n?c[h+B]*a.__worldAlpha:a.__worldAlpha,p&&(P=(255*c[h+w]|0)<<16|(255*c[h+w+1]|0)<<8|255*c[h+w+2]|0),O=a.__worldColorTransform,
this.colorTransform.redMultiplier=O.redMultiplier,this.colorTransform.greenMultiplier=O.greenMultiplier,this.colorTransform.blueMultiplier=O.blueMultiplier,this.colorTransform.alphaMultiplier=O.alphaMultiplier,this.colorTransform.redOffset=O.redOffset,this.colorTransform.greenOffset=O.greenOffset,this.colorTransform.blueOffset=O.blueOffset,this.colorTransform.alphaOffset=O.alphaOffset,t&&(this.colorTransform.redOffset+=c[h+y],this.colorTransform.greenOffset+=c[h+y+1],this.colorTransform.blueOffset+=
c[h+y+2],this.colorTransform.alphaOffset+=c[h+y+3]),k&&(K=c[h+v]),l&&(J=c[h+x],N=Math.cos(J),J=Math.sin(J)),m?(N=c[h+z],O=c[h+z+1],K=c[h+z+2],J=c[h+z+3]):(N*=K,O=K*J,K=-O,J=N),S=H.x*N+H.y*K,Q=H.x*O+H.y*J,D-=S,Q=L-Q,L=(N*T+O*V)*W,N=(N*U+O*X)*W,O=(K*T+J*V)*Y,K=(K*U+J*X)*Y,J=D*T+Q*V+da,Q=D*U+Q*X+R,D=4*this.batchedSprites*this.elementsPerVertex,this.positions[D]=J,this.positions[D+1]=Q,this.positions[D+5]=L+J,this.positions[D+6]=N+Q,this.positions[D+10]=L+O+J,this.positions[D+11]=K+N+Q,this.positions[D+
15]=O+J,this.positions[D+16]=K+Q,E=this.colors[D+19]=((255*E|0)&255)<<24|P,E=this.colors[D+14]=E,E=this.colors[D+9]=E,this.colors[D+4]=E,this.positions[D+2]=Z,this.positions[D+3]=aa,this.positions[D+7]=ba,this.positions[D+8]=aa,this.positions[D+12]=ba,this.positions[D+13]=ca,this.positions[D+17]=Z,this.positions[D+18]=ca,this.writtenVertexBytes=D+20,this.setState(this.batchedSprites,g,d,e,this.colorTransform,f,!1),this.batchedSprites++),h+=A}},fillVertices:function(a,b,c,d,e,f,h){null==f&&(f=-1);
var g=d.a,k=d.b,l=d.c,m=d.d,p=d.tx;d=d.ty;null==h||2==h?(this.positions[a]=p,this.positions[a+1]=d,this.positions[a+5]=g*b+p,this.positions[a+6]=k*b+d,this.positions[a+10]=g*b+l*c+p,this.positions[a+11]=m*c+k*b+d,this.positions[a+15]=l*c+p,this.positions[a+16]=m*c+d):(h=Math.round(p),this.positions[a]=h,h=Math.round(d),this.positions[a+1]=h,h=Math.round(g*b+p),this.positions[a+5]=h,h=Math.round(k*b+d),this.positions[a+6]=h,g=Math.round(g*b+l*c+p),this.positions[a+10]=g,b=Math.round(m*c+k*b+d),this.positions[a+
11]=b,l=Math.round(l*c+p),this.positions[a+15]=l,c=Math.round(m*c+d),this.positions[a+16]=c);this.enableColor&&(f=this.colors[a+19]=f,f=this.colors[a+14]=f,f=this.colors[a+9]=f,this.colors[a+4]=f);this.positions[a+2]=e.x0;this.positions[a+3]=e.y0;this.positions[a+7]=e.x1;this.positions[a+8]=e.y1;this.positions[a+12]=e.x2;this.positions[a+13]=e.y2;this.positions[a+17]=e.x3;this.positions[a+18]=e.y3;this.writtenVertexBytes=a+20},flush:function(){if(0!=this.batchedSprites){null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),
this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height)));this.dirty&&(this.dirty=!1,this.renderSession.activeTextures=1,this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer));if(this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var a=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(a)}var b=0,c=0;this.currentState.shader=
null;this.currentState.shaderData=null;this.currentState.texture=null;this.currentState.textureSmooth=!1;this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode;this.currentState.colorTransform=null;this.currentState.skipColorTransformAlpha=!1;for(var d=0,e=this.batchedSprites;d<e;){var f=d++,a=this.states[f];this.currentState.skipColorTransformAlpha=a.skipColorTransformAlpha;a.equals(this.currentState)||(this.renderBatch(this.currentState,b,c),c=f,b=0,this.currentState.shader=
a.shader,this.currentState.shaderData=a.shaderData,this.currentState.texture=a.texture,this.currentState.textureSmooth=a.textureSmooth,this.currentState.blendMode=a.blendMode,this.currentState.skipColorTransform=a.skipColorTransform,this.currentState.colorTransform=this.currentState.skipColorTransform?null:a.colorTransform);b++}this.renderBatch(this.currentState,b,c);this.writtenVertexBytes=this.batchedSprites=0;null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(a,b,
c){if(0!=b&&null!=a.texture){var d;d=null==a.shader?this.renderSession.shaderManager.defaultShader:a.shader;this.renderSession.shaderManager.setShader(d);d.bindVertexArray(this.vertexArray);this.renderSession.blendModeManager.setBlendMode(null!=d.blendMode?d.blendMode:a.blendMode);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0));if(null!=a.colorTransform){this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),
1);var e=a.colorTransform;this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),e.redMultiplier,e.greenMultiplier,e.blueMultiplier,a.skipColorTransformAlpha?1:e.alphaMultiplier);this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),e.redOffset/255,e.greenOffset/255,e.blueOffset/255,e.alphaOffset/255)}else this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),
0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0);this.gl.bindTexture(this.gl.TEXTURE_2D,a.texture);this.gl.uniform1i(d.getUniformLocation("openfl_uSampler0"),0);null!=d.smooth&&d.smooth||a.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,
this.gl.NEAREST));this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,d.wrapS);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,d.wrapT);d.applyData(a.shaderData,this.renderSession);this.gl.drawElements(this.gl.TRIANGLES,6*b,this.gl.UNSIGNED_SHORT,12*c);this.renderSession.drawCount++}},setState:function(a,b,c,d,e,f,h){null==h&&(h=!1);null==c&&(c=!1);var g=this.states[a];null==g&&(g=this.states[a]=new af);g.texture=b;g.textureSmooth=c;g.blendMode=d;g.skipColorTransform=null!=
e&&e.__isDefault();g.skipColorTransform||(g.colorTransform.redMultiplier=e.redMultiplier,g.colorTransform.greenMultiplier=e.greenMultiplier,g.colorTransform.blueMultiplier=e.blueMultiplier,g.colorTransform.alphaMultiplier=e.alphaMultiplier,g.colorTransform.redOffset=e.redOffset,g.colorTransform.greenOffset=e.greenOffset,g.colorTransform.blueOffset=e.blueOffset,g.colorTransform.alphaOffset=e.alphaOffset);g.skipColorTransformAlpha=h;null==f?(g.shader=null,g.shaderData=null):(g.shader=f.__shader,g.shaderData=
f.data)},setContext:function(a){this.gl=a;this.vertexArray.setContext(a,this.positions);this.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)},prepareShader:function(a,b){if(null!=a){a.__init(this.gl);a.__shader.wrapS=a.repeatX;a.__shader.wrapT=a.repeatY;a.__shader.smooth=a.smooth;a.__shader.blendMode=a.blendMode;var c=a.data.get(kd.uObjectSize),d=a.data.get(kd.uTextureSize);null!=b?(c.value[0]=b.width,
c.value[1]=b.height,null!=b.__pingPongTexture?(d.value[0]=b.__pingPongTexture.get_renderTexture().__width,d.value[1]=b.__pingPongTexture.get_renderTexture().__height):(d.value[0]=b.width,d.value[1]=b.height)):(c.value[0]=0,c.value[1]=0,d.value[0]=0,d.value[1]=0)}},getElementsPerVertex:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&(a+=Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:kg};var af=function(){this.skipColorTransform=this.skipColorTransformAlpha=
!1;this.colorTransform=new bc;this.textureSmooth=!0};g["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=af;af.__name__="openfl _internal renderer opengl utils _SpriteBatch State".split(" ");af.prototype={equals:function(a){return(null==this.shader&&null==a.shader||null!=this.shader&&null!=a.shader&&this.shader.ID==a.shader.ID)&&this.texture==a.texture&&this.textureSmooth==a.textureSmooth&&this.blendMode==a.blendMode&&(this.skipColorTransform&&a.skipColorTransform||!this.skipColorTransform&&
!a.skipColorTransform&&this.colorTransform.__equals(a.colorTransform,this.skipColorTransformAlpha))},__class__:af};var mg=function(a){this.stencilMask=0;this.stencilStack=[];this.setContext(a);this.reverse=!0;this.count=0};g["openfl._internal.renderer.opengl.utils.StencilManager"]=mg;mg.__name__="openfl _internal renderer opengl utils StencilManager".split(" ");mg.prototype={prepareGraphics:function(a,b,c){var d=b.shaderManager.fillShader;b.shaderManager.setShader(d);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uTranslationMatrix"),
!1,c);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));a.vertexArray.bind();d.bindVertexArray(a.vertexArray);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.indexBuffer)},pushBucket:function(a,b,c,d){null==d&&(d=!1);d||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,
this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));var e=0;for(a=a.fills;e<a.length;){var f=a[e];++e;f.available||(this.prepareGraphics(f,b,c),this.gl.drawElements(f.drawMode,f.glIndices.length,this.gl.UNSIGNED_SHORT,0))}d||(this.gl.colorMask(!0,!0,!0,b.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(a,b,c){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(a,b){var c=a.__maskGraphics;if(!(null==
c||0>=c.__commands.get_length())){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));this.stencilMask++;c.__dirty&&A.updateGraphics(a,c,b.gl);var d;d=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var e=this.stencilMask,f=255-this.stencilMask;this.gl.stencilMask(255);this.gl.colorMask(!1,!1,!1,!1);this.gl.stencilFunc(d,e,f);this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);var c=c.__glStack[ub.glContextId],h=a.__worldTransform;d=0;for(e=
c.buckets.length;d<e;)switch(f=d++,f=c.buckets[f],h=null!=f.overrideMatrix?f.overrideMatrix:a.__worldTransform,f.mode[1]){case 1:case 2:this.pushBucket(f,b,h.toArray(!0),!0)}this.gl.colorMask(!0,!0,!0,b.renderer.transparent);this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP);this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(a,b){this.stencilMask--;0>=this.stencilMask&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},setContext:function(a){this.gl=a},__class__:mg};
var Ye=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.isStatic=!1;this.size=0;this.attributes=[];this.size=b;this.attributes=a;0<b&&(this.buffer=new ge(b));this.isStatic=c};g["openfl._internal.renderer.opengl.utils.VertexArray"]=Ye;Ye.__name__="openfl _internal renderer opengl utils VertexArray".split(" ");Ye.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(a){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,a)},setContext:function(a,b){this.gl=a;
this.glBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.glBuffer);a.bufferData(a.ARRAY_BUFFER,b,this.isStatic?a.STATIC_DRAW:a.DYNAMIC_DRAW)},get_stride:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&(a+=4*Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:Ye,__properties__:{get_stride:"get_stride"}};var Ta=function(a){this.textField=a;this.height=this.width=100;this.text="";this.bounds=new oa(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=
this.displayAsPassword=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=[];this.lineDescents=[];this.lineLeadings=[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];Ta.__canvas=window.document.createElement("canvas");Ta.__context=Ta.__canvas.getContext("2d")};
g["openfl._internal.text.TextEngine"]=Ta;Ta.__name__=["openfl","_internal","text","TextEngine"];Ta.__canvas=null;Ta.__context=null;Ta.getFont=function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=a.size+"px";b+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return b+=""+a};Ta.prototype={getBounds:function(){var a;a=this.border?1:0;
this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length);this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,this.lineHeights.length);this.lineWidths.splice(0,this.lineWidths.length);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,h=this.layoutGroups;f<h.length;){var g=
h[f];for(++f;g.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,g.ascent);b=Math.max(b,g.descent);c=null==c?g.leading:ha["int"](Math.max(c,g.leading));d=Math.max(d,g.height);e=g.offsetX-2+g.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=g.offsetY-2+g.ascent+g.descent}this.lineAscents.push(a);
this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var a=-1,b=null,c=Ib.__defaultTextFormat.clone(),d=0,e=0,f=0,g,
k,l,m=0,p=0,q=0,n=this.text.indexOf(" "),r=this.text.indexOf("\n"),t=0,v=2,x=2,w=0,y=0,A=null;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Ta.__context.font=Ta.getFont(c),e=c.size,f=.185*c.size,d=c.leading,m=e+f+d,-1<n&&(p=Ta.__context.measureText(" ").width));for(var A=b.format,z;w<this.text.length;)if(-1<r&&(-1==n||r<n)&&b.end>=r){g=new ld(b.format,w,r);k=this.text;for(z=[];w<r;)l=w++,z.push(Ta.__context.measureText(k.charAt(l)).width);g.advances=z;g.offsetX=
v;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=x;v=g.advances;for(k=w=0;k<v.length;)z=v[k],++k,w+=z;g.width=w;g.height=m;this.layoutGroups.push(g);x+=m;v=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=x,g.offsetX=v,x+=m,y++);w=r+1;r=this.text.indexOf("\n",w);y++;b.end==r&&(a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Ta.__context.font=Ta.getFont(c),e=c.size,f=.185*c.size,d=c.leading,m=e+f+d,-1<n&&(p=Ta.__context.measureText(" ").width)),
A=b.format)}else if(b.end>=n&&-1<n)for(g=null,z=!1;;){-1==n&&(n=b.end);k=this.text;l=[];for(var B=w;B<n;){var D=B++;l.push(Ta.__context.measureText(k.charAt(D)).width)}k=l;for(B=l=0;B<k.length;)D=k[B],++B,l+=D;this.wordWrap&&v+l>this.width-2&&(z=!0);if(z){x+=m;v=this.layoutGroups.length-1;for(t=0;;){g=this.layoutGroups[v];if(0<v&&g.startIndex>q)t++;else break;v--}y++;v=2;if(0<t)for(q=this.layoutGroups[this.layoutGroups.length-t].offsetX,t=this.layoutGroups.length-t,z=this.layoutGroups.length;t<z;)g=
t++,g=this.layoutGroups[g],g.offsetX-=q,g.offsetY=x,g.lineIndex=y,v+=g.width;g=new ld(b.format,w,n);g.advances=k;g.offsetX=v;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=x;g.width=l;g.height=m;this.layoutGroups.push(g);v=l+p;t=p;z=!1}else null!=g&&w==n?(2!=b.format.align&&(g.endIndex=n),g.advances.push(p),t+=p):(null==g||2==A.align?(g=new ld(b.format,w,n),g.advances=k,g.offsetX=v,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=y,g.offsetY=x,g.width=l,g.height=m,this.layoutGroups.push(g)):
(g.endIndex=n,g.advances=g.advances.concat(k),g.width+=t+l),g.advances.push(p),t=p),v+=l+p;w=n+1;q=n;n=this.text.indexOf(" ",q+1);b.end<=q&&(g=null,a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Ta.__context.font=Ta.getFont(c),e=c.size,f=.185*c.size,d=c.leading,m=e+f+d,-1<n&&(p=Ta.__context.measureText(" ").width)));if(n>r&&-1<r||w>this.text.length||n>b.end||-1==n&&-1<r)break}else{if(w>=b.end)break;g=new ld(b.format,w,b.end);k=this.text;for(z=[];w<b.end;)l=w++,
z.push(Ta.__context.measureText(k.charAt(l)).width);g.advances=z;g.offsetX=v;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=x;w=g.advances;for(z=k=0;z<w.length;)l=w[z],++z,k+=l;g.width=k;g.height=m;this.layoutGroups.push(g);v+=g.width;w=b.end;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Ta.__context.font=Ta.getFont(c),e=c.size,f=.185*c.size,d=c.leading,m=e+f+d,-1<n&&(p=Ta.__context.measureText(" ").width))}},setTextAlignment:function(){for(var a=
-1,b=0,c,d,e=0,f=this.layoutGroups.length;e<f;){var g=e++;c=this.layoutGroups[g];if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align){case 0:b=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 4:b=this.lineWidths[a]<this.width-4?Math.round(this.width-4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var b=g+1,k=this.layoutGroups.length;b<k;){var l=b++;if(this.layoutGroups[l].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[g+
d-1],c.endIndex<this.text.length&&"\n"!=this.text.charAt(c.endIndex)))for(b=(this.width-4-this.lineWidths[a])/(d-1),k=1;k<d;)l=k++,this.layoutGroups[g+l].offsetX+=b*l}b=0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||""==L.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),
this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:Ta};var rg=function(a,b,c){this.format=a;this.start=b;this.end=c};g["openfl._internal.text.TextFormatRange"]=rg;rg.__name__=["openfl","_internal",
"text","TextFormatRange"];rg.prototype={__class__:rg};var ld=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};g["openfl._internal.text.TextLayoutGroup"]=ld;ld.__name__=["openfl","_internal","text","TextLayoutGroup"];ld.prototype={__class__:ld};var Pd=function(){Gb.call(this);null==aa.application&&(aa.application=this)};g["openfl.display.Application"]=Pd;Pd.__name__=["openfl","display","Application"];Pd.__super__=Gb;Pd.prototype=r(Gb.prototype,{create:function(a){this.config=a;this.backend.create(a);
if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new bf(a[0]);this.createWindow(a);break}if(null==this.preloader||this.preloader.complete)this.onPreloadComplete()}},__class__:Pd});var cf=function(a,b,c){null==c&&(c=!1);Q.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};g["openfl.display.Bitmap"]=cf;cf.__name__=["openfl","display",
"Bitmap"];cf.__super__=Q;cf.prototype=r(Q.prototype,{__getBounds:function(a,b){if(null!=this.bitmapData){var c=oa.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,
b);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){Kg.render(this,a)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},
__renderCanvas:function(a){Mg.render(this,a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?Re.renderImage(this,a):Re.renderCanvas(this,a):(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),
this.__style=this.__canvas=null))},__renderGL:function(a){this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),!this.__renderable||0>=this.__worldAlpha||null==this.bitmapData||!this.bitmapData.__isValid?null:a.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,
this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new oa),this.__getBounds(a.__bounds,Ea.__identity),Q.prototype.__updateMask.call(this,
a))},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&this.set_scaleX(a/this.bitmapData.width),a):0},__class__:cf});var pb=function(a,b,c,d){null==d&&(d=-1);
null==c&&(c=!0);this.__usingPingPongTexture=!1;this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new oa(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new Db(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__createUVs();this.__worldTransform=new Ea;this.__worldColorTransform=new bc};g["openfl.display.BitmapData"]=pb;pb.__name__=["openfl","display","BitmapData"];pb.__interfaces__=
[de];pb.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new pb(0,0,b);c.__fromImage(Db.fromCanvas(a));c.image.set_transparent(b);return c};pb.fromFile=function(a,b,c){var d=new pb(0,0,!0);d.__fromFile(a,b,c);return d};pb.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new pb(0,0,b);c.__fromImage(a);c.image.set_transparent(b);return c};pb.__asRenderTexture=function(a,b){null==b&&(b=0);null==a&&(a=0);var c=new pb(0,0);c.__resize(a,b);return c};
pb.prototype={dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.__isValid=!1;if(null!=this.__texture){var a=aa.current.stage.__renderer;null!=a&&(a=a.renderSession.gl,null!=a&&(a.deleteTexture(this.__texture),this.__texture=null))}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null)},getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=Hg.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;
if(this.__usingPingPongTexture&&null!=this.__pingPongTexture)return this.__pingPongTexture.get_texture();null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.image.dirty=!0);if(null!=this.image&&this.image.dirty){var b,
c;null!=this.__surface&&Ig.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;if(!d.get_premultiplied()&&d.get_transparent()||0!=d.get_format())d=d.clone(),d.set_format(0),d.set_premultiplied(!0);a.texImage2D(a.TEXTURE_2D,0,b,this.width,this.height,0,c,a.UNSIGNED_BYTE,d.get_data());a.bindTexture(a.TEXTURE_2D,null);this.image.dirty=!1}return this.__texture},__createUVs:function(a,b,c,d,e,f,g,k){null==k&&(k=1);null==
g&&(g=0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);null==this.__uvData&&(this.__uvData=new $e);this.__uvData.x0=a;this.__uvData.y0=b;this.__uvData.x1=c;this.__uvData.y1=d;this.__uvData.x2=e;this.__uvData.y2=f;this.__uvData.x3=g;this.__uvData.y3=k},__drawGL:function(a,b,c,d,e,f,g,k,l,m,p){null==p&&(p=!0);null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==g&&(g=!1);this.__pingPongTexture=hb.pushFramebuffer(a,this.__pingPongTexture,this.rect,g,this.transparent,
l,p);hb.drawBitmapDrawable(a,k?this:null,b,c,d,e,f);hb.popFramebuffer(a,m?this.image:null);a=this.__pingPongTexture.get_renderTexture().__uvData;this.__createUVs(a.x0,a.y0,a.x1,a.y1,a.x2,a.y2,a.x3,a.y3);this.__usingPingPongTexture=this.__isValid=!0},__fromFile:function(a,b,c){var d=this;Db.fromFile(a,function(a){d.__fromImage(a);null!=b&&b(d)},c)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new oa(0,0,a.width,a.height),this.__isValid=
!0)},__renderGL:function(a){a.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__resize:function(a,b){this.width=a;this.height=b;this.rect.width=a;this.rect.height=b},__sync:function(){wa.sync(this.image,!1)},__updateChildren:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:pb};var $e=function(){this.x0=this.x1=this.x2=
this.x3=this.y0=this.y1=this.y2=this.y3=0};g["openfl.display.TextureUvs"]=$e;$e.__name__=["openfl","display","TextureUvs"];$e.prototype={__class__:$e};var Og={};g["openfl.display._CapsStyle.CapsStyle_Impl_"]=Og;Og.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Og.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Nc=function(a){Q.call(this)};g["openfl.display.DirectRenderer"]=Nc;Nc.__name__=["openfl","display","DirectRenderer"];
Nc.__super__=Q;Nc.prototype=r(Q.prototype,{set_render:function(a){return this.__render=a},__class__:Nc,__properties__:r(Q.prototype.__properties__,{set_render:"set_render"})});var sg=function(){};g["openfl.display.FrameLabel"]=sg;sg.__name__=["openfl","display","FrameLabel"];sg.__super__=na;sg.prototype=r(na.prototype,{__class__:sg});var Uc=function(){this.__glStack=[];this.__dirty=!0;this.__commands=new Id;this.__positionY=this.__positionX=this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,
0)};g["openfl.display.Graphics"]=Uc;Uc.__name__=["openfl","display","Graphics"];Uc.prototype={beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,
b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__getBounds:function(a,b){if(null!=this.__bounds){var c=oa.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>
this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?k.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new oa(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+
this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:Uc,__properties__:{set___dirty:"set___dirty"}};var Ng={};g["openfl.display._JointStyle.JointStyle_Impl_"]=Ng;Ng.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];Ng.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Ke=function(){db.call(this);
this.contentLoaderInfo=oc.create(this)};g["openfl.display.Loader"]=Ke;Ke.__name__=["openfl","display","Loader"];Ke.__super__=db;Ke.prototype=r(db.prototype,{load:function(a,b){var c="",d=a.url.split(".");0<d.length&&(c=d[d.length-1].toLowerCase());-1!=c.indexOf("?")&&(c=c.split("?")[0]);this.contentLoaderInfo.url=a.url;if(null==a.contentType||""==a.contentType)switch(c){case "swf":this.contentLoaderInfo.contentType="application/x-shockwave-flash";break;case "jpg":case "jpeg":this.contentLoaderInfo.contentType=
"image/jpeg";break;case "png":this.contentLoaderInfo.contentType="image/png";break;case "gif":this.contentLoaderInfo.contentType="image/gif";break;default:this.contentLoaderInfo.contentType="application/x-www-form-urlencoded"}else this.contentLoaderInfo.contentType=a.contentType;var e=new Qf;e.doWork.add(function(b){pb.fromFile(a.url,function(a){e.sendComplete(a)},function(){e.sendError("ioError")})});e.onError.add(m(this,this.BitmapData_onError));e.onComplete.add(m(this,this.BitmapData_onLoad));
e.run()},unload:function(){if(0<this.get_numChildren()){for(;0<this.get_numChildren();)this.removeChildAt(0);this.content=null;this.contentLoaderInfo.url=null;this.contentLoaderInfo.contentType=null;this.contentLoaderInfo.content=null;this.contentLoaderInfo.bytesLoaded=0;this.contentLoaderInfo.bytesTotal=0;this.contentLoaderInfo.width=0;this.contentLoaderInfo.height=0;var a=new O("unload");a.currentTarget=this;this.__dispatchEvent(a)}},BitmapData_onLoad:function(a){this.contentLoaderInfo.content=
new cf(a);this.content=this.contentLoaderInfo.content;this.addChild(this.contentLoaderInfo.content);a=new O("complete");a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},BitmapData_onError:function(a){a=new md("ioError");a.target=this.contentLoaderInfo;a.currentTarget=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:Ke});var Jc=function(){Q.call(this);if(!this.__initialized){this.__canvas=window.document.createElement("canvas");
this.__canvas.width=aa.current.stage.stageWidth;this.__canvas.height=aa.current.stage.stageHeight;var a=aa.current.stage.window;this.__context=this.__canvas.getContext("webgl",{alpha:!1,premultipliedAlpha:!1,antialias:!1,depth:Object.prototype.hasOwnProperty.call(a.config,"depthBuffer")?a.config.depthBuffer:!0,stencil:Object.prototype.hasOwnProperty.call(a.config,"stencilBuffer")?a.config.stencilBuffer:!1});null==this.__context&&(this.__context=this.__canvas.getContext("experimental-webgl"));p.context=
this.__context;this.__initialized=!0}};g["openfl.display.OpenGLView"]=Jc;Jc.__name__=["openfl","display","OpenGLView"];Jc.__properties__={get_isSupported:"get_isSupported"};Jc.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=p.context)return!0;var a=window.document.createElement("canvas"),b=a.getContext("webgl");null==b&&(b=a.getContext("experimental-webgl"));return null!=b};Jc.__super__=Nc;Jc.prototype=r(Nc.prototype,{__renderCanvas:function(a){},__renderDOM:function(a){null!=
this.stage&&this.__worldVisible&&this.__renderable?(this.__added||(a.element.appendChild(this.__canvas),this.__added=!0,Cb.initializeElement(this,this.__canvas,a)),null!=this.__context&&(a=null,a=null==this.get_scrollRect()?new oa(0,0,this.stage.stageWidth,this.stage.stageHeight):new oa(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height),null!=this.__render&&this.__render(a))):this.__added&&(a.element.removeChild(this.__canvas),
this.__added=!1)},__renderGL:function(a){if(null!=this.stage&&this.__renderable){var b=null,b=null==this.get_scrollRect()?new oa(0,0,this.stage.stageWidth,this.stage.stageHeight):new oa(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height);null!=this.__render&&this.__render(b);a.shaderManager.setShader(null);a.blendModeManager.setBlendMode(null)}},set_width:function(a){Nc.prototype.set_width.call(this,a);this.__canvas.width=
a|0;return a},set_height:function(a){Nc.prototype.set_height.call(this,a);this.__canvas.height=a|0;return a},__class__:Jc});var Qd=function(a){Ba.call(this);if(null!=a&&(this.display=a,aa.current.addChild(a),N.__instanceof(a,Yb)))N.__cast(a,Yb).onInit()};g["openfl.display.Preloader"]=Qd;Qd.__name__=["openfl","display","Preloader"];Qd.__super__=Ba;Qd.prototype=r(Ba.prototype,{load:function(a,b){for(var c=[],d=null,e=0,f=a.length;e<f;){var g=e++,d=a[g];switch(b[g]){case "MUSIC":case "SOUND":d=Wc.withoutExtension(d),
x.remove(c,d)||this.total++,c.push(d)}}for(e=0;e<c.length;)f=c[e],++e,d=new jc,d.addEventListener("complete",m(this,this.sound_onComplete)),d.addEventListener("ioError",m(this,this.sound_onIOError)),d.load(new Gd(f+".ogg"));Ba.prototype.load.call(this,a,b)},start:function(){null!=this.display&&N.__instanceof(this.display,Yb)?(this.display.addEventListener("complete",m(this,this.display_onComplete)),N.__cast(this.display,Yb).onLoaded()):Ba.prototype.start.call(this)},update:function(a,b){if(null!=
this.display&&N.__instanceof(this.display,Yb))N.__cast(this.display,Yb).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener("complete",m(this,this.display_onComplete));aa.current.removeChild(this.display);aa.current.stage.set_focus(null);this.display=null;Ba.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},__class__:Qd});var kd=function(){this.__dirty=!0;this.repeatX=this.repeatY=33071};g["openfl.display.Shader"]=kd;kd.__name__=["openfl","display","Shader"];kd.prototype={__init:function(a){var b=this.__dirty;b&&(null!=this.__shader&&this.__shader.destroy(),this.__shader=new ra(a),this.__shader.vertexString=null!=this.__vertexCode?this.__vertexCode:Mc.VERTEX_SRC.join("\n"),this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1);this.__shader.init(b)},
__class__:kd};var Qg=function(){this.internalType=0;this.transpose=!1;this.repeatX=this.repeatY=33071;this.smooth=!1;this.size=0};g["openfl.display.GLShaderParameter"]=Qg;Qg.__name__=["openfl","display","GLShaderParameter"];Qg.prototype={__class__:Qg};var Md=function(a,b){db.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__lastClickTime=this.__mouseY=this.__mouseX=
0;this.stageWidth=a.__width*a.__scale|0;this.stageHeight=a.__height*a.__scale|0;this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new hd;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new df;if(!c.fixed){c.length++;
if(c.data.length<c.length){var e;e=Array(c.data.length+10);Fc.blit(c.data,0,e,0,c.data.length);c.data=e}c.data[c.length-1]=d}c.length;null==aa.current.stage&&this.stage.addChild(aa.current)};g["openfl.display.Stage"]=Md;Md.__name__=["openfl","display","Stage"];Md.__interfaces__=[je];Md.__super__=db;Md.prototype=r(db.prototype,{globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){W.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){W.__onGamepadButtonDown(a,b)},
onGamepadButtonUp:function(a,b){W.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){W.__onGamepadConnect(a)},onGamepadDisconnect:function(a){W.__onGamepadDisconnect(a)},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyDown",
b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyUp",b,c)},onModuleExit:function(a){null!=this.window&&(a=new O("deactivate"),this.__broadcast(a,!0))},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse("mouseMove",b*a.__scale|
0,c*a.__scale|0,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,
b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Oc("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,!0)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&
this.window==a&&(a=new O("activate"),this.__broadcast(a,!0))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 0:this.__renderer=new ub(this.stageWidth,this.stageHeight,a[2]);break;case 1:this.__renderer=new Qe(this.stageWidth,this.stageHeight,a[2]);break;case 2:this.__renderer=new Cb(this.stageWidth,this.stageHeight,a[2])}},onWindowDeactivate:function(a){null!=this.window&&
this.window==a&&(a=new O("deactivate"),this.__broadcast(a,!0))},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&(a=new Pc("focusIn",!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=new Pc("focusOut",!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFullscreen:function(a){null!=this.window&&this.window==a&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(a){null!=
this.window&&this.window==a&&this.__dispatchEvent(new O("mouseLeave"))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(2==this.__displayState||a.__fullscreen||(this.__displayState=2),this.stageWidth=b*a.__scale|0,this.stageHeight=c*a.__scale|0,null!=this.__renderer&&this.__renderer.resize(this.stageWidth,this.stageHeight),a=new O("resize"),this.__broadcast(a,!1))},onWindowRestore:function(a){},render:function(a){if(null!=
a.window&&a.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,Q.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new O("enterFrame"),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new O("render"),!0));
this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){a=a.context;switch(a[1]){case 4:a=a[2],N.__cast(this.__renderer,Oe).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?
b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=2,a.target.__broadcast(a,!1);else{a.eventPhase=1;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var f=d++;b[f].__broadcast(a,!1);if(a.__isCanceled)return}a.eventPhase=2;a.target.__broadcast(a,
!1);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCanceled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,b,c){Ja.__altKey=qb.get_altKey(c);Ja.__commandKey=qb.get_metaKey(c);Ja.__ctrlKey=qb.get_ctrlKey(c);Ja.__shiftKey=qb.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=
1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=
222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=
187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;
case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=
121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;
case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=
110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=Rg.__getCharCode(b,qb.get_shiftKey(c));c=new ef(a,!0,!1,f,b,e,this.__macKeyboard?qb.get_ctrlKey(c)||qb.get_metaKey(c):qb.get_ctrlKey(c),qb.get_altKey(c),qb.get_shiftKey(c),qb.get_ctrlKey(c),qb.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__isCanceled&&("keyDown"==
a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(a,b,c,d){if(!(2<d)){this.__mouseX=b;this.__mouseY=c;var e=[],f=null,g=new Ua(b,c);this.__hitTest(b,c,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);b=null;switch(a){case "mouseDown":f.get_tabEnabled()?this.set_focus(f):this.set_focus(null);this.__mouseDownLeft=f;break;case "middleMouseDown":this.__mouseDownMiddle=f;break;case "rightMouseDown":this.__mouseDownRight=f;break;case "mouseUp":this.__mouseDownLeft==
f&&(b="click");this.__mouseDownLeft=null;break;case "middleMouseUp":this.__mouseDownMiddle==f&&(b="middleClick");this.__mouseDownMiddle=null;break;case "rightMouseUp":this.__mouseDownRight==f&&(b="rightClick"),this.__mouseDownRight=null}this.__fireEvent(Ja.__create(a,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e);null!=b&&(this.__fireEvent(Ja.__create(b,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),"mouseUp"==a&&N.__cast(f,Va).doubleClickEnabled&&(a=aa.getTimer(),
500>a-this.__lastClickTime?(this.__fireEvent(Ja.__create("doubleClick",d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),this.__lastClickTime=0):this.__lastClickTime=a));a=null;for(f=0;f<e.length;)if(a=e[f],++f,a=a.__getCursor(),null!=a){ue.set_cursor(a);break}null==a&&ue.set_cursor(S.ARROW);a=0;for(b=this.__mouseOutStack;a<b.length;)c=b[a],++a,-1==x.indexOf(e,c,0)&&(x.remove(this.__mouseOutStack,c),f=c.globalToLocal(g),f=Ja.__create("mouseOut",d,this.__mouseX,this.__mouseY,f,c),f.bubbles=
!1,c.__dispatchEvent(f));for(a=0;a<e.length;)b=e[a],++a,-1==x.indexOf(this.__mouseOutStack,b,0)&&(b.hasEventListener("mouseOver")&&(f=b.globalToLocal(g),f=Ja.__create("mouseOver",d,this.__mouseX,this.__mouseY,f,b),f.bubbles=!1,b.__dispatchEvent(f)),b.hasEventListener("mouseOut")&&this.__mouseOutStack.push(b));null!=this.__dragObject&&this.__drag(g)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[];this.__hitTest(c,d,!1,e,!0,this)||(e=[this]);var f=e[e.length-1],c=new Ua(c,d),
d=b|0;this.__fireEvent(Ja.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new Ua(b.x*this.stageWidth,b.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(this.__mouseX,this.__mouseY,!1,d,!0,this)){var e=d[d.length-1];null==e&&(e=this);c=e.globalToLocal(c);e=Qc.__create(a,null,this.__mouseX,this.__mouseY,c,e);e.touchPointID=b.id;e.isPrimaryTouchPoint=!0;this.__fireEvent(e,d)}else d=Qc.__create(a,
null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=b.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__update:function(a,b,c){a?0<Q.__worldTransformDirty&&(db.prototype.__update.call(this,!0,b,c),b&&(Q.__worldTransformDirty=0,this.__dirty=!0)):0<Q.__worldTransformDirty||this.__dirty||0<Q.__worldRenderDirty?(db.prototype.__update.call(this,!1,b,c),b&&(this.__wasDirty=!0,Q.__worldTransformDirty=0,Q.__worldRenderDirty=0,this.__dirty=!1)):this.__wasDirty&&(db.prototype.__update.call(this,
!1,b,c),b&&(this.__wasDirty=!1))},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+L.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__focus=a;if(null!=b){var c=new Pc("focusOut",!0,!1,this.__focus,!1,0);this.__stack=[];b.__getInteractive(this.__stack);
this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(b=new Pc("focusIn",!0,!1,b,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack))}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(a){return null!=this.application?this.application.backend.setFrameRate(a):a},__class__:Md,__properties__:r(db.prototype.__properties__,{set_frameRate:"set_frameRate",
get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var df=function(){na.call(this)};g["openfl.display.Stage3D"]=df;df.__name__=["openfl","display","Stage3D"];df.__super__=na;df.prototype=r(na.prototype,{__class__:df});var Sg=function(){};g["openfl.display.Tilesheet"]=Sg;Sg.__name__=["openfl","display","Tilesheet"];Sg.prototype={__class__:Sg};var bf=function(a){Yc.call(this,a)};g["openfl.display.Window"]=bf;bf.__name__=["openfl","display","Window"];
bf.__super__=Yc;bf.prototype=r(Yc.prototype,{create:function(a){Yc.prototype.create.call(this,a);this.stage=new Md(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);a.addModule(this.stage)},__class__:bf});var Nd=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};g["openfl.errors.Error"]=Nd;Nd.__name__=["openfl","errors","Error"];Nd.prototype={toString:function(){return null!=this.message?this.message:"Error"},
__class__:Nd};var nd=function(a){null==a&&(a="");Nd.call(this,a);this.name="IOError"};g["openfl.errors.IOError"]=nd;nd.__name__=["openfl","errors","IOError"];nd.__super__=Nd;nd.prototype=r(Nd.prototype,{__class__:nd});var Rc=function(){nd.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};g["openfl.errors.EOFError"]=Rc;Rc.__name__=["openfl","errors","EOFError"];Rc.__super__=nd;Rc.prototype=r(nd.prototype,{__class__:Rc});var O=function(a,b,c){null==c&&(c=!1);null==b&&
(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};g["openfl.events.Event"]=O;O.__name__=["openfl","events","Event"];O.prototype={__class__:O};var od=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);O.call(this,a,b,c);this.activating=d};g["openfl.events.ActivityEvent"]=od;od.__name__=["openfl","events","ActivityEvent"];od.__super__=O;od.prototype=r(O.prototype,{__class__:od});var Oc=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);O.call(this,
a,b,c);this.text=d};g["openfl.events.TextEvent"]=Oc;Oc.__name__=["openfl","events","TextEvent"];Oc.__super__=O;Oc.prototype=r(O.prototype,{__class__:Oc});var uc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Oc.call(this,a,b,c,d);this.errorID=e};g["openfl.events.ErrorEvent"]=uc;uc.__name__=["openfl","events","ErrorEvent"];uc.__super__=Oc;uc.prototype=r(Oc.prototype,{__class__:uc});var ce=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};g["openfl.events._EventDispatcher.Listener"]=
ce;ce.__name__=["openfl","events","_EventDispatcher","Listener"];ce.prototype={match:function(a,b){return X.compareMethods(this.callback,a)&&this.useCapture==b},__class__:ce};var Pc=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);O.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};g["openfl.events.FocusEvent"]=Pc;Pc.__name__=["openfl","events","FocusEvent"];Pc.__super__=O;Pc.prototype=r(O.prototype,{__class__:Pc});var Sd=function(a,b,c,d,e){null==
e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);od.call(this,a,b,c);this.fullScreen=d;this.interactive=e};g["openfl.events.FullScreenEvent"]=Sd;Sd.__name__=["openfl","events","FullScreenEvent"];Sd.__super__=od;Sd.prototype=r(od.prototype,{__class__:Sd});var Od=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);O.call(this,a,b,c);this.device=d};g["openfl.events.GameInputEvent"]=Od;Od.__name__=["openfl","events","GameInputEvent"];Od.__super__=O;Od.prototype=r(O.prototype,{__class__:Od});var ff=
function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;O.call(this,a,b,c)};g["openfl.events.HTTPStatusEvent"]=ff;ff.__name__=["openfl","events","HTTPStatusEvent"];ff.__super__=O;ff.prototype=r(O.prototype,{__class__:ff});var md=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);uc.call(this,a,b,c,d,e)};g["openfl.events.IOErrorEvent"]=md;md.__name__=["openfl","events","IOErrorEvent"];md.__super__=uc;md.prototype=
r(uc.prototype,{__class__:md});var ef=function(a,b,c,d,e,f,g,k,l,m,p){null==p&&(p=!1);null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);O.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=k;this.shiftKey=l;this.controlKey=m;this.commandKey=p};g["openfl.events.KeyboardEvent"]=ef;ef.__name__=["openfl","events","KeyboardEvent"];ef.__super__=O;ef.prototype=r(O.prototype,{__class__:ef});
var Ja=function(a,b,c,d,e,f,g,k,l,m,p,q,n){null==n&&(n=0);null==q&&(q=!1);null==p&&(p=0);null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);O.call(this,a,b,c);this.shiftKey=l;this.altKey=k;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=p;this.localX=d;this.localY=e;this.buttonDown=m;this.commandKey=q;this.clickCount=n};g["openfl.events.MouseEvent"]=Ja;Ja.__name__=["openfl","events","MouseEvent"];Ja.__altKey=
null;Ja.__buttonDown=null;Ja.__commandKey=null;Ja.__ctrlKey=null;Ja.__shiftKey=null;Ja.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":Ja.__buttonDown=!0;break;case "mouseUp":Ja.__buttonDown=!1}a=new Ja(a,!0,!1,e.x,e.y,null,Ja.__ctrlKey,Ja.__altKey,Ja.__shiftKey,Ja.__buttonDown,g,Ja.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};Ja.__super__=O;Ja.prototype=r(O.prototype,{__class__:Ja});var gf=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==
b&&(b=!1);O.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};g["openfl.events.ProgressEvent"]=gf;gf.__name__=["openfl","events","ProgressEvent"];gf.__super__=O;gf.prototype=r(O.prototype,{__class__:gf});var hf=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);uc.call(this,a,b,c,d,e)};g["openfl.events.SecurityErrorEvent"]=hf;hf.__name__=["openfl","events","SecurityErrorEvent"];hf.__super__=uc;hf.prototype=r(uc.prototype,{__class__:hf});var Qc=function(a,b,c,d,
e,f,g,k,l,m,p,q,n,r,t,v,w,x,y,z){null==v&&(v=!1);null==t&&(t=!1);null==r&&(r=!1);null==n&&(n=!1);null==q&&(q=!1);null==m&&(m=0);null==l&&(l=0);null==k&&(k=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);O.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=k;this.sizeY=l;this.pressure=m;this.relatedObject=p;this.ctrlKey=q;this.altKey=n;this.shiftKey=r;this.commandKey=t;this.controlKey=v};g["openfl.events.TouchEvent"]=
Qc;Qc.__name__=["openfl","events","TouchEvent"];Qc.__create=function(a,b,c,d,e,f){a=new Qc(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};Qc.__super__=O;Qc.prototype=r(O.prototype,{__class__:Qc});var nc=function(){this.__saveLastFilter=!1;this.__passes=0};g["openfl.filters.BitmapFilter"]=nc;nc.__name__=["openfl","filters","BitmapFilter"];nc.__tmpRenderTexture=null;nc.__applyFilters=function(a,b,c,d,e,f){if(f=d==c&&d.__usingPingPongTexture)d.__pingPongTexture.useOldTexture=
!0;null==e&&(e=c.rect);for(var g=null,k=!1,l=c.__shader,m=0;m<a.length;){var p=a[m];++m;p.__saveLastFilter&&(d.__pingPongTexture.swap(),d.__drawGL(b,c,null,null,null,e,!0,!d.__usingPingPongTexture,!0),g=d.__pingPongTexture.get_oldRenderTexture(),d.__pingPongTexture.set_oldRenderTexture(nc.__tmpRenderTexture));for(var q=0,n=p.__passes;q<n;){var r=q++,k=p.__saveLastFilter&&p.__useLastFilter(r);f&&!k&&d.__pingPongTexture.swap();k&&(nc.__tmpRenderTexture=d.__pingPongTexture.get_oldRenderTexture(),d.__pingPongTexture.set_oldRenderTexture(g));
c.__shader=p.__preparePass(r);d.__drawGL(b,c,null,null,null,e,!0,!d.__usingPingPongTexture,!k)}}c.__shader=l;f&&(d.__pingPongTexture.useOldTexture=!1)};nc.__expandBounds=function(a,b,c){var d=oa.__temp;d.setEmpty();for(var e=0;e<a.length;){var f=a[e];++e;f.__growBounds(d)}d.__transform(d,c);b.__expand(d.x,d.y,d.width,d.height)};nc.prototype={__growBounds:function(a){},__preparePass:function(a){return null},__useLastFilter:function(a){return!1},__class__:nc};var Tg=function(){};g["openfl.geom.Matrix3D"]=
Tg;Tg.__name__=["openfl","geom","Matrix3D"];Tg.prototype={__class__:Tg};var sf=function(a){this.__colorTransform=new bc;this.concatenatedColorTransform=new bc;this.pixelBounds=new oa;this.__displayObject=a;this.__hasMatrix=!0};g["openfl.geom.Transform"]=sf;sf.__name__=["openfl","geom","Transform"];sf.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:sf,__properties__:{get_colorTransform:"get_colorTransform"}};var mh=function(){};g["openfl.geom.Vector3D"]=mh;mh.__name__=
["openfl","geom","Vector3D"];var nh=function(){};g["openfl.media.ID3Info"]=nh;nh.__name__=["openfl","media","ID3Info"];var jc=function(a,b){na.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};g["openfl.media.Sound"]=jc;jc.__name__=["openfl","media","Sound"];jc.__super__=na;jc.prototype=r(na.prototype,{load:function(a,b){this.url=a.url;this.__soundID=Wc.withoutExtension(a.url);jc.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new O("complete")):
(jc.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",m(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",m(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},loadCompressedDataFromByteArray:function(a,b,c){aa.notImplemented("Sound.loadCompressedDataFromByteArray")},SoundJS_onFileLoad:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",m(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",
m(this,this.SoundJS_onFileError)),this.dispatchEvent(new O("complete")))},SoundJS_onFileError:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",m(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",m(this,this.SoundJS_onFileError)),this.dispatchEvent(new md("ioError")))},__class__:jc});var tg=function(a){na.call(this,this);this.rightPeak=this.leftPeak=1;null!=a&&(this.__soundInstance=a,this.__soundInstance.addEventListener("complete",m(this,
this.source_onComplete)),this.__isValid=!0)};g["openfl.media.SoundChannel"]=tg;tg.__name__=["openfl","media","SoundChannel"];tg.__super__=na;tg.prototype=r(na.prototype,{stop:function(){this.__isValid&&this.__soundInstance.stop()},__dispose:function(){this.__isValid&&(this.__soundInstance.stop(),this.__soundInstance=null,this.__isValid=!1)},get_position:function(){return this.__isValid?this.__soundInstance.getPosition():0},set_position:function(a){if(!this.__isValid)return 0;this.__soundInstance.setPosition(a|
0);return this.__soundInstance.getPosition()},get_soundTransform:function(){return this.__isValid?new jf(this.__soundInstance.getVolume(),this.__soundInstance.getPan()):new jf},set_soundTransform:function(a){if(!this.__isValid)return a;this.__soundInstance.setVolume(a.volume);this.__soundInstance.setPan(a.pan);return a},soundInstance_onComplete:function(a){this.dispatchEvent(new O("soundComplete"))},source_onComplete:function(){this.__dispose();this.dispatchEvent(new O("soundComplete"))},__class__:tg,
__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var oh=function(){};g["openfl.media.SoundLoaderContext"]=oh;oh.__name__=["openfl","media","SoundLoaderContext"];var jf=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};g["openfl.media.SoundTransform"]=jf;jf.__name__=["openfl","media","SoundTransform"];jf.prototype=
{__class__:jf};var tb=function(){na.call(this);this.client=this;this.objectEncoding=3};g["openfl.net.SharedObject"]=tb;tb.__name__=["openfl","net","SharedObject"];tb.__sharedObjects=null;tb.getLocal=function(a,b,c){null==b&&(b=window.location.href);null==tb.__sharedObjects&&(tb.__sharedObjects=new E,aa.application.onExit.add(tb.application_onExit));c=b+"/"+a;if(!tb.__sharedObjects.exists(c)){var d=new tb;d.data={};d.__localPath=b;d.__name=a;var e=null;try{var f=Af.getLocalStorage();null!=f&&(e=f.getItem(b+
":"+a))}catch(g){g instanceof B&&(g=g.val)}if(null!=e&&""!=e)try{var k=new Fb(e);k.setResolver({resolveEnum:xa.resolveEnum,resolveClass:tb.__resolveClass});d.data=k.unserialize()}catch(l){l instanceof B&&(l=l.val)}tb.__sharedObjects.set(c,d)}return tb.__sharedObjects.get(c)};tb.__resolveClass=function(a){return null!=a?(L.startsWith(a,"neash.")&&(a=L.replace(a,"neash.","openfl.")),L.startsWith(a,"native.")&&(a=L.replace(a,"native.","openfl.")),L.startsWith(a,"flash.")&&(a=L.replace(a,"flash.","openfl.")),
L.startsWith(a,"openfl._v2.")&&(a=L.replace(a,"openfl._v2.","openfl.")),L.startsWith(a,"openfl._legacy.")&&(a=L.replace(a,"openfl._legacy.","openfl.")),xa.resolveClass(a)):null};tb.application_onExit=function(a){for(a=tb.__sharedObjects.iterator();a.hasNext();)a.next().flush()};tb.__super__=na;tb.prototype=r(na.prototype,{flush:function(a){if(0==X.fields(this.data).length)return 0;a=Xb.run(this.data);try{var b=Af.getLocalStorage();null!=b&&(b.removeItem(this.__localPath+":"+this.__name),b.setItem(this.__localPath+
":"+this.__name,a))}catch(c){return c instanceof B&&(c=c.val),1}return 0},setProperty:function(a,b){null!=this.data&&(this.data[a]=b)},__class__:tb});var Je=function(a){na.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(1);null!=a&&this.load(a)};g["openfl.net.URLLoader"]=Je;Je.__name__=["openfl","net","URLLoader"];Je.__super__=na;Je.prototype=r(na.prototype,{getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=
this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",m(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){d instanceof B&&(d=d.val),c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");else if(12029==c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),
b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);var f="";if(N.__instanceof(c,Bb))switch(this.dataFormat){case 0:f=N.__cast(c,ge);break;default:f=c.readUTFBytes(c.length)}else if(N.__instanceof(c,$g))for(var g=0,k=X.fields(c);g<k.length;){var l=k[g];++g;0!=f.length&&(f+="&");f+=encodeURIComponent(l)+"="+L.urlEncode(X.field(c,l))}else null!=
c&&(f=c.toString());try{if("GET"==b&&null!=f&&""!=f){var m=1>=a.split("?").length;e.open(b,a+(m?"?":"&")+ha.string(f),!0);f=""}else e.open(b,a,!0)}catch(p){p instanceof B&&(p=p.val);this.onError(p.toString());return}switch(this.dataFormat){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);this.onOpen();this.getData=function(){return null!=e.response?e.response:e.responseText}},onData:function(a){a=this.getData();switch(this.dataFormat){case 0:this.data=
lb.fromArrayBuffer(a);break;default:this.data=ha.string(a)}a=new O("complete");a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new md("ioError");b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onOpen:function(){var a=new O("open");a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new gf("progress");b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new hf("securityError");b.text=
a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new ff("httpStatus",!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){0!=a||X.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=1;return this.dataFormat},__class__:Je,__properties__:{set_dataFormat:"set_dataFormat"}});var Gd=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=kf.toString(1);this.contentType=null};g["openfl.net.URLRequest"]=Gd;Gd.__name__=["openfl","net",
"URLRequest"];Gd.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if(1==kf.fromString(this.method)||null==this.data)return a;if("string"==typeof this.data||N.__instanceof(this.data,Bb))a=a.slice(),a.push(new ug("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:Gd};var ug=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};g["openfl.net.URLRequestHeader"]=ug;ug.__name__=["openfl",
"net","URLRequestHeader"];ug.prototype={__class__:ug};var kf={};g["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=kf;kf.__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"];kf.fromString=function(a){switch(a){case "DELETE":return 0;case "GET":return 1;case "HEAD":return 2;case "OPTIONS":return 3;case "POST":return 4;case "PUT":return 5;default:return null}};kf.toString=function(a){switch(a){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";
case 4:return"POST";case 5:return"PUT";default:return null}};var $g=function(){};g["openfl.net.URLVariables"]=$g;$g.__name__=["openfl","net","URLVariables"];var ph=function(){};g["openfl.system.LoaderContext"]=ph;ph.__name__=["openfl","system","LoaderContext"];var Lc=function(a){Sc.call(this,a)};g["openfl.text.Font"]=Lc;Lc.__name__=["openfl","text","Font"];Lc.__fromLimeFont=function(a){var b=new Lc;b.name=a.name;b.src=a.src;return b};Lc.__super__=Sc;Lc.prototype=r(Sc.prototype,{__class__:Lc});var Ib=
function(){Va.call(this);this.__caretIndex=-1;this.__graphics=new Uc;this.__textEngine=new Ta(this);this.__tabEnabled=this.__layoutDirty=!0;null==Ib.__defaultTextFormat&&(Ib.__defaultTextFormat=new lf("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Ib.__defaultTextFormat.blockIndent=0,Ib.__defaultTextFormat.bullet=!1,Ib.__defaultTextFormat.letterSpacing=0,Ib.__defaultTextFormat.kerning=!1);this.__textFormat=Ib.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new rg(this.__textFormat,
0,0));this.addEventListener("mouseDown",m(this,this.this_onMouseDown))};g["openfl.text.TextField"]=Ib;Ib.__name__=["openfl","text","TextField"];Ib.__defaultTextFormat=null;Ib.__super__=Va;Ib.prototype=r(Va.prototype,{getCharBoundaries:function(a){if(0>a||a>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.length;){var d=c[b];++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];
return new oa(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},__getBounds:function(a,b){this.__updateLayout();var c=oa.__temp;this.__textEngine.bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCursor:function(){return this.__textEngine.selectable?S.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights[e]}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);
for(var d=!0,f,e=0,g=this.__textEngine.layoutGroups.length;e<g;)if(f=e++,c=this.__textEngine.layoutGroups[f],f=f<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[f+1]:null,d&&(b<c.offsetY&&(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==f)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==f||f.lineIndex!=c.lineIndex){e=d=0;for(g=c.advances.length;e<g;)if(f=e++,d+=c.advances[f],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[f])+c.advances[f]/
2)return c.startIndex+f;if(c.startIndex+f<c.endIndex)return c.startIndex+f+1;break}return c.endIndex}return this.__textEngine.text.length},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();this.__updateLayout();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,a)?(null!=d&&
d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getWorldTransform();this.__updateLayout();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,d)?!0:!1},__renderCairo:function(a){Lg.render(this,a);Va.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){Fa.render(this,a);if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var b=a.context.imageSmoothingEnabled;b&&(a.context.mozImageSmoothingEnabled=
!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1);Va.prototype.__renderCanvas.call(this,a);b&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Va.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){Pg.render(this,a)},__renderGL:function(a){this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&
0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),Fa.render(this,a),ub.renderBitmap(this,a,0!=this.__textEngine.antiAliasType||1!=this.__textEngine.gridFitType),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__startCursorTimer:function(){this.__cursorTimer=qc.delay(m(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},
__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__textEngine.text.length)},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){},__updateLayout:function(){if(this.__layoutDirty){this.__textEngine.update();if(2!=this.__textEngine.autoSize){var a=this.__textEngine.width;switch(this.__textEngine.autoSize){case 1:case 3:case 0:this.__textEngine.wordWrap||
(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 3:this.set_x(this.get_x()+(a-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=!1}},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_height:function(a){if(1!=
this.get_scaleY()||a!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=a},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(a){this.__isHTML&&this.__textEngine.text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;return this.__textEngine.text=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},
get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},set_text:function(a){if(this.__isHTML||this.__textEngine.text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-
1);var b=this.__textEngine.textFormatRanges[0];b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;return this.__textEngine.text=a},set_textColor:function(a){a!=this.__textFormat.color&&(this.__dirty=!0);for(var b=0,c=this.__textEngine.textFormatRanges;b<c.length;){var d=c[b];++b;d.format.color=a}return this.__textFormat.color=a},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},get_width:function(){this.__updateLayout();
return this.__textEngine.width},set_width:function(a){if(1!=this.get_scaleX()||this.__textEngine.width!=a)this.__transformDirty||(this.__transformDirty=!0,Q.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=
!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",m(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",m(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=ha["int"](Math.min(this.__selectionIndex,
b));b=ha["int"](Math.max(this.__selectionIndex,b));this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),
this.__dirty=!0,this.stage.addEventListener("mouseMove",m(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",m(this,this.stage_onMouseUp)))},__class__:Ib,__properties__:r(Va.prototype.__properties__,{get_textHeight:"get_textHeight",get_type:"get_type",set_textColor:"set_textColor",set_text:"set_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_autoSize:"set_autoSize"})});
var lf=function(a,b,c,d,e,f,g,k,l,m,p,q,n){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=k;this.align=l;this.leftMargin=m;this.rightMargin=p;this.indent=q;this.leading=n};g["openfl.text.TextFormat"]=lf;lf.__name__=["openfl","text","TextFormat"];lf.prototype={clone:function(){var a=new lf(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;
a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=
a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:lf};var W=function(){};g["openfl.ui.GameInput"]=
W;W.__name__=["openfl","ui","GameInput"];W.__getDevice=function(a){if(null==a)return null;if(null==W.__devices.h.__keys__[a.__id__]){var b=new vg(a.get_guid(),a.get_name());W.__deviceList.push(b);W.__devices.set(a,b);W.numDevices=W.__deviceList.length}return W.__devices.h[a.__id__]};W.__onGamepadAxisMove=function(a,b,c){a=W.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";
break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new zc(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new O("change"))}};W.__onGamepadButtonDown=function(a,b){var c=W.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d=
"LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new zc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new O("change"))}};W.__onGamepadButtonUp=function(a,b){var c=W.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new zc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=
0;c.dispatchEvent(new O("change"))}};W.__onGamepadConnect=function(a){a=W.__getDevice(a);if(null!=a)for(var b=0,c=W.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Od("deviceAdded",null,null,a))}};W.__onGamepadDisconnect=function(a){var b=W.__devices.h[a.__id__];if(null!=b){null!=W.__devices.h.__keys__[a.__id__]&&(x.remove(W.__deviceList,W.__devices.h[a.__id__]),W.__devices.remove(a));W.numDevices=W.__deviceList.length;a=0;for(var c=W.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Od("deviceRemoved",
null,null,b))}}};W.__super__=na;W.prototype=r(na.prototype,{__class__:W});var zc=function(a,b,c,d,e){null==e&&(e=0);na.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};g["openfl.ui.GameInputControl"]=zc;zc.__name__=["openfl","ui","GameInputControl"];zc.__super__=na;zc.prototype=r(na.prototype,{__class__:zc});var vg=function(a,b){this.__controls=[];this.__button=new Wa;this.__axis=new Wa;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new zc(this,"AXIS_"+e,-1,
1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new zc(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};g["openfl.ui.GameInputDevice"]=vg;vg.__name__=["openfl","ui","GameInputDevice"];vg.prototype={__class__:vg};var Rg=function(){};g["openfl.ui.Keyboard"]=Rg;Rg.__name__=["openfl","ui","Keyboard"];Rg.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;
case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;
case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var Lb=function(){};g["openfl.ui.Multitouch"]=Lb;Lb.__name__=["openfl","ui","Multitouch"];Lb.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents",
set_inputMode:"set_inputMode",get_inputMode:"get_inputMode"};Lb.maxTouchPoints=null;Lb.supportedGestures=null;Lb.supportsGestureEvents=null;Lb.get_inputMode=function(){return 2};Lb.set_inputMode=function(a){return 0==a?Lb.get_inputMode():a};Lb.get_supportsTouchEvents=function(){return"ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1};var lb={};g["openfl.utils._ByteArray.ByteArray_Impl_"]=lb;lb.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];
lb.__properties__={get_length:"get_length"};lb.fromArrayBuffer=function(a){return Bb.fromBytes(pa.ofData(a))};lb.fromBytes=function(a){return N.__instanceof(a,Bb)?a:Bb.fromBytes(a)};lb.toBytes=function(a){return a};lb.get_length=function(a){return a.__length};var wg=function(){};g["openfl.utils.IDataOutput"]=wg;wg.__name__=["openfl","utils","IDataOutput"];wg.prototype={__class__:wg};var xg=function(){};g["openfl.utils.IDataInput"]=xg;xg.__name__=["openfl","utils","IDataInput"];xg.prototype={__class__:xg};
var Bb=function(a){null==a&&(a=0);var b=pa.alloc(a);pa.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};g["openfl.utils.ByteArrayData"]=Bb;Bb.__name__=["openfl","utils","ByteArrayData"];Bb.__interfaces__=[wg,xg];Bb.fromBytes=function(a){var b=new Bb;b.__fromBytes(a);return b};Bb.__super__=pa;Bb.prototype=r(pa.prototype,{readBoolean:function(){if(this.position<this.length)return 0!=this.get(this.position++);throw new B(new Rc);},readByte:function(){var a=this.readUnsignedByte();
return 0!=(a&128)?a-256:a},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==c&&(c=this.__length-this.position);if(this.position+c>this.__length)throw new B(new Rc);a.__length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,c);this.position+=c},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedByte:function(){if(this.position<this.__length)return this.get(this.position++);
throw new B(new Rc);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.__length)throw new B(new Rc);
this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){this.__setData(Bg.run(this));this.__length=this.length;this.position=0},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=lb.get_length(a)&&(0==c&&(c=lb.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},writeUTFBytes:function(a){pa.ofString(a);this.writeBytes(lb.fromBytes(pa.ofString(a)))},__fromBytes:function(a){this.b=a.b;this.length=a.length;this.data=a.data;
this.__length=a.length},__resize:function(a){if(a>this.length){var b=pa.alloc(3*(a+1)>>1);b.blit(0,this,0,this.length);this.b=b.b;this.length=b.length;this.data=b.data}this.__length<a&&(this.__length=a)},__setData:function(a){this.b=a.b;this.length=a.length;this.data=a.data},__class__:Bb});var Ug=function(){};g["haxe.lang.Iterator"]=Ug;Ug.__name__=["haxe","lang","Iterator"];Ug.prototype={__class__:Ug};var Vg=function(){};g["haxe.lang.Iterable"]=Vg;Vg.__name__=["haxe","lang","Iterable"];Vg.prototype=
{__class__:Vg};var Ic,xh=0;Array.prototype.indexOf&&(x.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});g.Math=Math;String.prototype.__class__=g.String=String;String.__name__=["String"];g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var ch=g.Int={__name__:["Int"]},yh=g.Dynamic={__name__:["Dynamic"]},Yg=g.Float=Number;Yg.__name__=["Float"];var dh=g.Bool=Boolean;dh.__ename__=["Bool"];var ah=g.Class={__name__:["Class"]},bh={},ta=
{},ge=Wg.ArrayBuffer||ec;null==ge.prototype.slice&&(ge.prototype.slice=ec.sliceImpl);var rc=Wg.Uint8Array||vc._new,qh;qh=new Uint32Array(256);Ra.__alpha16=qh;for(var rh=0;256>rh;){var sh=rh++,zh=Math.ceil(257.00392156862745*sh);Ra.__alpha16[sh]=zh}var th;th=new rc(510);Ra.__clamp=th;for(var uh=0;255>uh;){var vh=uh++;Ra.__clamp[vh]=vh}for(var wh=255;511>wh;){var Ah=wh++;Ra.__clamp[Ah]=255}null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);Lb.maxTouchPoints=2;Lb.supportedGestures=
null;Lb.supportsGestureEvents=!1;Y._list=new ma;Y._list1=new ma;ga._gid=0;Q.__instanceCount=0;Q.__worldRenderDirty=0;Q.__worldTransformDirty=0;Q.__cacheAsBitmapMode=!1;Oa.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];Oa.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];Oa.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];Oa.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,
17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];Oa.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];Oa.FIXED_HUFFMAN=null;Xb.USE_CACHE=!1;Xb.USE_ENUM_INDEX=!1;Xb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Fb.DEFAULT_RESOLVER=xa;Fb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Fb.CODES=null;pc.count=0;dc.i64tmp=new xf(0,0);N.__toStr={}.toString;vc.BYTES_PER_ELEMENT=1;w.cache=
new Bf;w.libraries=new E;w.onChange=new sa;w.initialized=!1;td.windowID=0;Ba.images=new E;Ba.loaders=new E;ib.devices=new Wa;ib.onConnect=new Kf;ya.devices=new Wa;ya.onConnect=new Lf;Sb.onEnd=new vd;Sb.onMove=new vd;Sb.onStart=new vd;lc.instance=new lc;ea.COMPLETE=new Nb("LEvent.COMPLETE");ea.INIT=new Nb("LEvent.INIT");ea.RESTORE=new Nb("LEvent.RESTORE");ea.CHANGE=new Nb("LEvent.CHANGE");ea.RESIZE=new Nb("LEvent.RESIZE");ea.TOUCH_CHANGE=new ve("LTouchEvent.CHANGE");Na.instance=new Na;Cc.layoutInfo=
new Ad;U.instance=new U;U.instance1=new U;U.instance2=new U;U.instance3=new U;U.instance4=new U;T.width=0;T.height=0;T.objectCount=0;T.displayCount=0;T.drawCall=0;T.updateTime=0;T.renderTime=0;T.time=new U;vb.instance=new vb;ad.instance=new ad;Zb.instance=new Zb;q._list=[];q.vec3=q.AddPool(new Ab(function(){return new U}));q.vec2=q.AddPool(new Ab(function(){return new Na}));q.renderItem=q.AddPool(new Ab(function(){return new Uf}));q.vertex=q.AddPool(new Ab(function(){return new Vf},function(a){a.Reset()}));
q.ray=q.AddPool(new Ab(function(){return new Zb}));q.pickInfo=q.AddPool(new Ab(function(){return new bd}));q.intArr=q.AddPool(new Ab(function(){return new ma}));q.hash=q.AddPool(new Ab(function(){return new ad}));q.floatArr=q.AddPool(new Ab(function(){return new ma}));dd._pool=new Ab(function(){return new Wf});Dc._richTextParser=new dd;ob.defaultFont="default";ob._map=new E;ed.LINK=new ed("TextLinkEvent.LINK");Ha._ID=1;Ha._nameMap=new E;Ha._idMap=new Wa;ac.CHANGE=new ac("PickEvent.change");Sa._bufferID=
0;Sa._bufferMap=new Wa;Hb._programID=0;Hb._map=new Wa;wb._textureID=0;wb._textureMap=new Wa;Bc._id=0;rb._shaders=new E;rb._programs=new E;Qa.instance=new Qa;Qa.instance3=new Qa;Qa._instance1=new Qa;Tb.instance=new Tb;xb.cache=[];Da.hasLocalStoragePermission=!0;Da._loaderList=[];Da._globalPath="";Da._loadingMap=new Wa;Da._loadData=new xb;Da._versionMap=new E;Ka.instance=new Ka;yb.instance=new yb;yb._types="Linear SineIn SineOut SineInOut SineOutIn QuadIn QuadOut QuadInOut QuadOutIn CubicIn CubicOut CubicInOut CubicOutIn QuartIn QuartOut QuartInOut QuartOutIn QuintIn QuintOut QuintInOut QuintOutIn ExpoIn ExpoOut ExpoInOut ExpoOutIn CircIn CircOut CircInOut CircOutIn BounceIn BounceOut BounceInOut BounceOutIn BackIn BackOut BackInOut BackOutIn ElasticIn ElasticOut ElasticInOut ElasticOutIn".split(" ");
y.E=2.718281828459045;y.PI=3.141592653589793;y.HalfPI=1.5707963267948966;y.PI2=6.283185307179586;y.PI4=12.566370614359172;y.Rad2Deg=57.29577951308232;y.Deg2Rad=.017453292519943295;y.Byte2Float=.00392156863;y.Short2Float=1.52587890625E-5;y.Long2Float=2.3283064365386963E-10;y.Float2Byte=255;y.Float2Short=65536;y.Float2Long=4294967296;y.LN2=.6931471805599453;y.LN10=2.302585092994046;y.LOG2E=1.4426950408889634;y.LOG10E=.43429448190325176;y.SQRT1_2=.7071067811865476;y.SQRT2=1.4142135623730951;y.INT_MIN=
-2147483648;y.INT_MAX=2147483647;y.FLOAT_MIN=-1.79769313486231E308;y.FLOAT_MAX=1.79769313486231E308;fd.instance=new fd;G._charCodeList=new ma;G._charCodeList1=new ma;Tc._typeMap=new pc;mc._chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");mc._uuid=[];Jb._atlas=new E;fa.cache=new Le;oc.__rootURL=window.document.URL;gd.currentDomain=new gd(null);Ea.__identity=new Ea;Ea.__temp=new Ea;aa.current=new Me;aa.__sentWarnings=new E;Xa.SIN45=.7071067811865476;Xa.TAN22=.41421356237309503;
ia.SIN45=.7071067811865476;ia.TAN22=.41421356237309503;k.SIN45=.7071067811865476;k.TAN22=.41421356237309503;k.fillCommands=new Id;k.strokeCommands=new Id;hb.fbData=[];ub.glContextId=0;ub.glContexts=[];ra.UID=0;Mc.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);",
"   openfl_vTexCoord = openfl_aTexCoord0;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"];l.__currentWinding=0;l.__fillIndex=0;oa.__temp=new oa;A.fillVertexAttributes=[new Wb(2,5126,!1,"openfl_aPosition")];A.drawTrianglesVertexAttributes=[new Wb(2,5126,!1,"openfl_aPosition"),new Wb(2,5126,!1,"openfl_aTexCoord0"),new Wb(4,5121,!0,"openfl_aColor")];A.primitiveVertexAttributes=
[new Wb(2,5126,!1,"openfl_aPosition"),new Wb(4,5126,!1,"openfl_aColor")];A.bucketPool=[];A.objectPosition=new Ua;A.objectBounds=new oa;Kd.compiledShadersCache=new E;kd.uObjectSize="openfl_uObjectSize";kd.uTextureSize="openfl_uTextureSize";jc.__registeredSounds=new E;W.numDevices=0;W.__deviceList=[];W.__devices=new pc;W.__instances=[];va.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?
global:"undefined"!=typeof self?self:this);
