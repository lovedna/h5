var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(E,jb,t){E!=Array.prototype&&E!=Object.prototype&&(E[jb]=t.value)};$jscomp.getGlobal=function(E){return"undefined"!=typeof window&&window===E?E:"undefined"!=typeof global&&null!=global?global:E};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var E=0;return function(jb){return $jscomp.SYMBOL_PREFIX+(jb||"")+E++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var E=$jscomp.global.Symbol.iterator;E||(E=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[E]&&$jscomp.defineProperty(Array.prototype,E,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(E){var jb=0;return $jscomp.iteratorPrototype(function(){return jb<E.length?{done:!1,value:E[jb++]}:{done:!0}})};$jscomp.iteratorPrototype=function(E){$jscomp.initSymbolIterator();E={next:E};E[$jscomp.global.Symbol.iterator]=function(){return this};return E};
$jscomp.iteratorFromArray=function(E,jb){$jscomp.initSymbolIterator();E instanceof String&&(E+="");var t=0,q={next:function(){if(t<E.length){var k=t++;return{value:jb(k,E[k]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};
$jscomp.polyfill=function(E,jb,t,q){if(jb){t=$jscomp.global;E=E.split(".");for(q=0;q<E.length-1;q++){var k=E[q];k in t||(t[k]={});t=t[k]}E=E[E.length-1];q=t[E];jb=jb(q);jb!=q&&null!=jb&&$jscomp.defineProperty(t,E,{configurable:!0,writable:!0,value:jb})}};$jscomp.polyfill("Array.prototype.keys",function(E){return E?E:function(){return $jscomp.iteratorFromArray(this,function(E){return E})}},"es6","es3");
$jscomp.checkStringArgs=function(E,jb,t){if(null==E)throw new TypeError("The 'this' value for String.prototype."+t+" must not be null or undefined");if(jb instanceof RegExp)throw new TypeError("First argument to String.prototype."+t+" must not be a regular expression");return E+""};
$jscomp.polyfill("String.prototype.startsWith",function(E){return E?E:function(E,t){var q=$jscomp.checkStringArgs(this,E,"startsWith");E+="";var k=q.length,w=E.length;t=Math.max(0,Math.min(t|0,q.length));for(var jb=0;jb<w&&t<k;)if(q[t++]!=E[jb++])return!1;return jb>=w}},"es6","es3");
$jscomp.polyfill("String.prototype.codePointAt",function(E){return E?E:function(E){var t=$jscomp.checkStringArgs(this,null,"codePointAt"),q=t.length;E=Number(E)||0;if(0<=E&&E<q){E|=0;var k=t.charCodeAt(E);if(55296>k||56319<k||E+1===q)return k;E=t.charCodeAt(E+1);return 56320>E||57343<E?k:1024*(k-55296)+E+9216}}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(E){return E?E:function(E,t){var q=$jscomp.checkStringArgs(this,E,"endsWith");E+="";void 0===t&&(t=q.length);t=Math.max(0,Math.min(t|0,q.length));for(var k=E.length;0<k&&0<t;)if(q[--t]!=E[--k])return!1;return 0>=k}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(E){return E?E:function(E,t,q){var k=this.length||0;0>t&&(t=Math.max(0,k+t));if(null==q||q>k)q=k;q=Number(q);0>q&&(q=Math.max(0,k+q));for(t=Number(t||0);t<q;t++)this[t]=E;return this}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(E){return E?E:function(){return $jscomp.iteratorFromArray(this,function(E,t){return t})}},"es6","es3");
(function(E,jb){function t(a,b){function c(){}c.prototype=a;a=new c;for(var d in b)a[d]=b[d];b.toString!==Object.prototype.toString&&(a.toString=b.toString);return a}function q(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Bj++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}E.lime=E.lime||{};var k={},w=function(){return M.__string_rec(this,
"")},gf=function(){};k["lime.app.IModule"]=gf;gf.__name__=["lime","app","IModule"];gf.prototype={addRenderer:null,addWindow:null,registerModule:null,setPreloader:null,__class__:gf};var Nc=function(){this.onExit=new Rd;this.__renderers=[];this.__windows=[]};k["lime.app.Module"]=Nc;Nc.__name__=["lime","app","Module"];Nc.__interfaces__=[gf];Nc.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){var b=q(this,this.render);a.onRender.add(function(){b(a)});
var c=q(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=q(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)});this.__renderers.push(a)},addWindow:function(a){var b=q(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=q(this,this.__onWindowClose);a.onClose.add(function(){c(a)},!1,-1E4);var d=q(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=q(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});
var f=q(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var l=q(this,this.onWindowEnter);a.onEnter.add(function(){l(a)});var h=q(this,this.onWindowFocusIn);a.onFocusIn.add(function(){h(a)});var m=q(this,this.onWindowFocusOut);a.onFocusOut.add(function(){m(a)});var k=q(this,this.onWindowFullscreen);a.onFullscreen.add(function(){k(a)});var g=q(this,this.onKeyDown);a.onKeyDown.add(function(b,c){g(a,b,c)});var n=q(this,this.onKeyUp);a.onKeyUp.add(function(b,c){n(a,b,c)});var p=q(this,
this.onWindowLeave);a.onLeave.add(function(){p(a)});var r=q(this,this.onWindowMinimize);a.onMinimize.add(function(){r(a)});var Vg=q(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){Vg(a,b,c,d)});var t=q(this,this.onMouseMove);a.onMouseMove.add(function(b,c){t(a,b,c)});var v=q(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){v(a,b,c)});var u=q(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){u(a,b,c,d)});var x=q(this,this.onMouseWheel);a.onMouseWheel.add(function(b,
c){x(a,b,c)});var w=q(this,this.onWindowMove);a.onMove.add(function(b,c){w(a,b,c)});var A=q(this,this.onWindowResize);a.onResize.add(function(b,c){A(a,b,c)});var y=q(this,this.onWindowRestore);a.onRestore.add(function(){y(a)});var K=q(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){K(a,b,c,d)});var D=q(this,this.onTextInput);a.onTextInput.add(function(b){D(a,b)});if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(q(this,this.onModuleExit),
!1,0);a.onUpdate.add(q(this,this.update));for(a=rb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}rb.onConnect.add(q(this,this.__onGamepadConnect));for(a=lb.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);lb.onConnect.add(q(this,this.__onJoystickConnect));Hb.onCancel.add(q(this,this.onTouchCancel));Hb.onStart.add(q(this,this.onTouchStart));Hb.onMove.add(q(this,this.onTouchMove));Hb.onEnd.add(q(this,this.onTouchEnd))},removeRenderer:function(a){null!=
a&&-1<this.__renderers.indexOf(a)&&y.remove(this.__renderers,a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(q(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(q(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(q(this,this.onPreloadProgress)),a.onComplete.add(q(this,this.onPreloadComplete))},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,
b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c,d){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,
c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchCancel:function(a){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,
b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=q(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=q(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,
b)});var d=q(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=q(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=q(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=q(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=q(this,this.onJoystickButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=q(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){e(a)});
var f=q(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){f(a,b,c)});var l=q(this,this.onJoystickTrackballMove);a.onTrackballMove.add(function(b,c,d){l(a,b,c,d)})},__onWindowClose:function(a){this.onWindowClose(a);y.remove(this.__windows,a)},__class__:Nc};var Wg=function(a){this.gameDeviceCache=new Ka;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;Sd.init()};k["lime._backend.html5.HTML5Application"]=Wg;Wg.__name__=["lime","_backend","html5","HTML5Application"];
Wg.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;
case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;
case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;
case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",q(this,this.handleKeyEvent),!1);window.addEventListener("keyup",q(this,this.handleKeyEvent),!1);window.addEventListener("focus",q(this,this.handleWindowEvent),!1);window.addEventListener("blur",q(this,this.handleWindowEvent),!1);window.addEventListener("resize",q(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",q(this,this.handleWindowEvent),
!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,c){return!1});0=="performance"in window&&(window.performance={});if(0=="now"in window.performance){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart);window.performance.now=function(){return Date.now()-
a}}for(var b=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[c[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[d]+"CancelAnimationFrame"]||window[c[d]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b));c=window.setTimeout(function(){a(d+e)},e);b=d+e;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){null!=this.parent.__windows[0]&&this.parent.__windows[0].backend.updateSize();this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&
null!=this.parent.__renderers[0].context&&(this.parent.__renderers[0].render(),this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].onRender.canceled||this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(q(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?
a.keyCode:a.which),c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "beforeunload":this.parent.__windows[0].onClose.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();
this.parent.__windows[0].onDeactivate.dispatch();break;case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "resize":this.parent.__windows[0].backend.handleResizeEvent(a)}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=lb.__getDeviceData();if(null!=a)for(var b,c,d,e,f,l=0,h=a.length;l<h;)if(b=l++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Xg;f.id=
b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var m=c++;f.buttons.push(e.buttons[m].value)}c=0;for(d=e.axes.length;c<d;)m=c++,f.axes.push(e.axes[m]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(lb.__connect(b),f.isGamepad&&rb.__connect(b))}f=this.gameDeviceCache.h[b];d=lb.devices.h[b];c=rb.devices.h[b];if(e.connected){for(var k=0,g=e.buttons.length;k<g;){var n=k++;m=e.buttons[n].value;if(m!=f.buttons[n]){if(6==n)d.onAxisMove.dispatch(e.axes.length,
m),null!=c&&c.onAxisMove.dispatch(4,m);else if(7==n)d.onAxisMove.dispatch(e.axes.length+1,m),null!=c&&c.onAxisMove.dispatch(5,m);else if(0<m?d.onButtonDown.dispatch(n):d.onButtonUp.dispatch(n),null!=c){switch(n){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<m?c.onButtonDown.dispatch(b):
c.onButtonUp.dispatch(b)}f.buttons[n]=m}}b=0;for(m=e.axes.length;b<m;)k=b++,e.axes[k]!=f.axes[k]&&(d.onAxisMove.dispatch(k,e.axes[k]),null!=c&&c.onAxisMove.dispatch(k,e.axes[k]),f.axes[k]=e.axes[k])}else f.connected&&(f.connected=!1,lb.__disconnect(b),rb.__disconnect(b))}},__class__:Wg};var hc=function(){this.onUpdate=new Rd;Nc.call(this);null==hc.current&&(hc.current=this);this.modules=[];this.windowByID=new Ka;this.backend=new Wg(this);this.registerModule(this)};k["lime.app.Application"]=hc;hc.__name__=
["lime","app","Application"];hc.__super__=Nc;hc.prototype=t(Nc.prototype,{config:null,modules:null,onUpdate:null,window:null,backend:null,windowByID:null,addModule:function(a){a.registerModule(this);this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},addRenderer:function(a){Nc.prototype.addRenderer.call(this,
a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},createWindow:function(a){Nc.prototype.addWindow.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new Yg(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){hc.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeWindow:function(a){null!=
a&&this.windowByID.h.hasOwnProperty(a.id)&&(y.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),this.__windows[0]==a&&(this.window=null),0==this.__windows.length&&ab.exit(0))},setPreloader:function(a){Nc.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},__class__:hc});var Td=function(){};k.ApplicationMain=Td;Td.__name__=["ApplicationMain"];Td.main=function(){ab.__registerEntryPoint("v4",
Td.create,{build:"1114",company:"liwei",file:"v4",fps:60,name:"v4",orientation:"",packageName:"v4",version:"1.0.0",windows:[{allowHighDPI:!1,alwaysOnTop:!1,antialiasing:0,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:480,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,stencilBuffer:!0,title:"v4",vsync:!1,width:800,x:null,y:null}]})};Td.create=function(a){var b=new jf;b.create(a);Oc.init(a);var c=new kf(new lf);b.setPreloader(c);c.create(a);var d=
b.__windows[0].stage;c.onComplete.add(function(){Td.start(d)});a=0;for(var e=Oc.preloadLibraries;a<e.length;){var f=e[a];++a;c.addLibrary(f)}a=0;for(e=Oc.preloadLibraryNames;a<e.length;)f=e[a],++a,c.addLibraryName(f);c.load();b.exec()};Td.start=function(a){try{var b=a.getChildAt(0);null!=b&&M.__instanceof(b,Bb)||(b=new xc,a.addChild(b));new mf(b);a.dispatchEvent(new T("resize",!1,!1));a.window.__fullscreen&&a.dispatchEvent(new Ud("fullScreen",!1,!1,!0,!0))}catch(c){aa.lastException=c,c instanceof
u&&(c=c.val),a.__handleError(c)}};var gj=function(){};k["openfl.events.IEventDispatcher"]=gj;gj.__name__=["openfl","events","IEventDispatcher"];var ya=function(a){null!=a&&(this.__targetDispatcher=a)};k["openfl.events.EventDispatcher"]=ya;ya.__name__=["openfl","events","EventDispatcher"];ya.__interfaces__=[gj];ya.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=
new C,this.__iterators=new C),e=this.__eventMap,null!=p[a]?e.existsReserved(a):e.h.hasOwnProperty(a)){e=this.__eventMap;e=null!=p[a]?e.getReserved(a):e.h[a];for(var f=0,l=e.length;f<l;){var h=f++;if(e[h].match(b,c))return}f=this.__iterators;a=null!=p[a]?f.getReserved(a):f.h[a];for(f=0;f<a.length;)l=a[f],++f,l.active&&l.copy();this.__addListenerByPriority(e,new nf(b,c,d))}else e=[],e.push(new nf(b,c,d)),b=new of(e),c=this.__eventMap,null!=p[a]?c.setReserved(a,e):c.h[a]=e,c=this.__iterators,b=[b],null!=
p[a]?c.setReserved(a,b):c.h[a]=b},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__eventMap;return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap&&null!=b){var d=this.__eventMap;d=null!=p[a]?d.getReserved(a):d.h[a];if(null!=d){var e=this.__iterators;e=null!=p[a]?e.getReserved(a):
e.h[a];for(var f=0,l=d.length;f<l;){var h=f++;if(d[h].match(b,c)){for(b=0;b<e.length;)c=e[b],++b,c.remove(d[h],h);d.splice(h,1);break}}0==d.length&&(this.__eventMap.remove(a),this.__iterators.remove(a));a=this.__eventMap;(new wd(a,a.arrayKeys())).hasNext()||(this.__iterators=this.__eventMap=null)}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;var b=a.type,c=this.__eventMap,d=null!=p[b]?c.getReserved(b):c.h[b];if(null==d)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?
this.__targetDispatcher:this);a.currentTarget=this;c=1==a.eventPhase;var e=this.__iterators;b=null!=p[b]?e.getReserved(b):e.h[b];e=b[0];e.active&&(e=new of(d),b.push(e));e.reset(d);for(d=e;d.hasNext();){var f=d.next();if(null!=f&&f.useCapture==c&&(f.callback(a),a.__isCanceledNow))break}e!=b[0]&&y.remove(b,e);return!0},__addListenerByPriority:function(a,b){for(var c=a.length,d=c,e=0;e<c;){var f=e++;if(a[f].priority<b.priority){d=f;break}}a.splice(d,0,b)},__class__:ya};var pf=function(){};k["openfl.display.IBitmapDrawable"]=
pf;pf.__name__=["openfl","display","IBitmapDrawable"];pf.prototype={__transform:null,__worldTransform:null,__getBounds:null,__renderCanvas:null,__renderGL:null,__updateChildren:null,__updateTransforms:null,__class__:pf};var Nb={};k["openfl._Vector.Vector_Impl_"]=Nb;Nb.__name__=["openfl","_Vector","Vector_Impl_"];Nb.toIntVector=function(a,b,c,d){return new jd(new De(b,c),d)};Nb.toFloatVector=function(a,b,c,d){return new jd(new Ee(b,c),d)};Nb.toObjectVector=function(a,b,c,d){return new jd(new Fe(b,
c),d)};var Zg=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new pb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Fc};k["lime.utils.ObjectPool_openfl_Vector_openfl_display_DisplayObject"]=Zg;Zg.__name__=["lime","utils","ObjectPool_openfl_Vector_openfl_display_DisplayObject"];Zg.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,
__inactiveObjectList:null,__pool:null,__size:null,clean:function(a){},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=
this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):
this.__pool.remove(a)},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item;b=b.next;this.__pool.remove(c);
this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Zg,__properties__:{set_size:"set_size"}};var Ge=function(){};k["haxe.IMap"]=
Ge;Ge.__name__=["haxe","IMap"];Ge.prototype={get:null,set:null,exists:null,remove:null,__class__:Ge};var pb=function(){this.h={__keys__:{}}};k["haxe.ds.ObjectMap"]=pb;pb.__name__=["haxe","ds","ObjectMap"];pb.__interfaces__=[Ge];pb.assignId=function(a){return a.__id__=++pb.count};pb.getId=function(a){return a.__id__};pb.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++pb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=
this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return y.iter(a)},__class__:pb};var Fc=function(){this.length=0};k.List=Fc;Fc.__name__=["List"];Fc.prototype={h:null,q:null,length:null,add:function(a){a=new $g(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},pop:function(){if(null==
this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},remove:function(a){for(var b=null,c=this.h;null!=c;){if(c.item==a)return null==b?this.h=c.next:b.next=c.next,this.q==c&&(this.q=b),this.length--,!0;b=c;c=c.next}return!1},iterator:function(){return new ah(this.h)},__class__:Fc};var Oa=function(){ya.call(this);this.__alpha=1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new Fa;this.__visible=!0;this.__rotationSine=this.__rotation=
0;this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1;this.__worldBlendMode=10;this.__worldTransform=new Fa;this.__worldColorTransform=new vb;this.__renderTransform=new Fa;this.set_name("instance"+ ++Oa.__instanceCount)};k["openfl.display.DisplayObject"]=Oa;Oa.__name__=["openfl","display","DisplayObject"];Oa.__interfaces__=[pf];Oa.__super__=ya;Oa.prototype=t(ya.prototype,{opaqueBackground:null,parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheBitmap:null,
__cacheBitmapBackground:null,__cacheBitmapColorTransform:null,__cacheBitmapData:null,__cacheBitmapRender:null,__cairo:null,__children:null,__filters:null,__graphics:null,__isMask:null,__loaderInfo:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,
__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldTransform:null,__worldTransformInvalid:null,__canvas:null,__context:null,addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":Oa.__broadcastEvents.exists(a)||Oa.__broadcastEvents.set(a,[]);var f=Oa.__broadcastEvents.get(a);-1==f.indexOf(this)&&f.push(this)}ya.prototype.addEventListener.call(this,
a,b,c,d,e)},dispatchEvent:function(a){if(M.__instanceof(a,Ga)){var b=this.__getRenderTransform();a.stageX=a.localX*b.a+a.localY*b.c+b.tx;b=this.__getRenderTransform();a.stageY=a.localX*b.b+a.localY*b.d+b.ty}else M.__instanceof(a,Cb)&&(b=this.__getRenderTransform(),a.stageX=a.localX*b.a+a.localY*b.c+b.tx,b=this.__getRenderTransform(),a.stageY=a.localX*b.b+a.localY*b.d+b.ty);return this.__dispatchWithCapture(a)},getBounds:function(a){var b=!1;if(null!=a){var c=this.__getWorldTransform().clone();c.concat(a.__getWorldTransform().clone().invert())}else b=
!0,c=Fa.__pool.get(),c.identity();a=new ia;this.__getBounds(a,c);b&&Fa.__pool.release(c);return a},removeEventListener:function(a,b,c){null==c&&(c=!1);ya.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":this.hasEventListener(a)||Oa.__broadcastEvents.exists(a)&&y.remove(Oa.__broadcastEvents.get(a),this)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&
this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=ya.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:b}return!0},__dispatchChildren:function(a){},__dispatchEvent:function(a){var b=ya.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__dispatchStack:function(a,b){var c=
b.length;if(0==c){a.eventPhase=2;var d=a.target;d.__dispatch(a)}else{a.eventPhase=1;a.target=b[b.length-1];d=0;for(var e=c-1;d<e;){var f=d++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=2;d=a.target;d.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,c-=2;0<=c;){b[c].__dispatch(a);if(a.__isCanceled)break;--c}}},__dispatchWithCapture:function(a){null==a.target&&(a.target=this);if(null!=this.parent)if(a.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(a);else{for(var b=
Oa.__tempStack.get(),c=this.parent,d=0;null!=c;)b.data.set(d,c),c=c.parent,++d;c=0;for(var e=d;c<e;){var f=c++;b.data.get(d-f-1).__dispatch(a)}Oa.__tempStack.release(b)}a.eventPhase=2;return this.__dispatchEvent(a)},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getFilterBounds:function(a,b){this.__getBounds(a,b);if(null!=this.__filters&&0<this.__filters.length){b=ia.__pool.get();for(var c=0,d=this.__filters;c<
d.length;){var e=d[c];++c;b.__expand(-e.__leftExtension,-e.__topExtension,e.__leftExtension+e.__rightExtension,e.__topExtension+e.__bottomExtension)}a.width+=b.width;a.height+=b.height;a.x+=b.x;a.y+=b.y;ia.__pool.release(b)}},__getInteractive:function(a){return!1},__getLocalBounds:function(a){this.__getBounds(a,this.__transform);a.x-=this.__transform.tx;a.y-=this.__transform.ty},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||
this.__worldTransformInvalid){var a=[],b=this;if(null==this.parent)this.__update(!0,!1);else for(;b!=this.stage&&(a.push(b),b=b.parent,null!=b););for(var c=a.length;0<=--c;)b=a[c],b.__update(!0,!1),b.__worldTransformInvalid=!1}return this.__worldTransform},__globalToLocal:function(a,b){this.__getRenderTransform();if(a==b){var c=this.__renderTransform,d=c.a*c.d-c.b*c.c;if(0==d)a.x=-c.tx,a.y=-c.ty;else{var e=1/d*(c.c*(c.ty-a.y)+c.d*(a.x-c.tx));a.y=1/d*(c.a*(a.y-c.ty)+c.b*(c.tx-a.x));a.x=e}}else c=this.__renderTransform,
d=c.a*c.d-c.b*c.c,b.x=0==d?-c.tx:1/d*(c.c*(c.ty-a.y)+c.d*(a.x-c.tx)),c=this.__renderTransform,d=c.a*c.d-c.b*c.c,b.y=0==d?-c.ty:1/d*(c.a*(a.y-c.ty)+c.b*(c.tx-a.x));return b},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,
b,!0,this.__getRenderTransform())?!0:!1},__renderCanvas:function(a){if(null==this.get_mask()||0<this.get_mask().get_width()&&0<this.get_mask().get_height())if(this.__updateCacheBitmap(a,!this.__worldColorTransform.__isDefault()),null!=this.__cacheBitmap&&!this.__cacheBitmapRender){var b=this.__cacheBitmap;if(b.__renderable&&!(0>=b.__worldAlpha)){var c=a.context;if(null!=b.bitmapData&&b.bitmapData.__isValid&&b.bitmapData.readable){a.blendModeManager.setBlendMode(b.__worldBlendMode);a.maskManager.pushObject(b,
!1);la.convertToCanvas(b.bitmapData.image);c.globalAlpha=b.__worldAlpha;var d=b.__renderTransform,e=b.__scrollRect;a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.allowSmoothing&&b.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(b.bitmapData.image.get_src(),0,0):c.drawImage(b.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.allowSmoothing&&b.smoothing||
(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);a.maskManager.popObject(b,!1)}}}else if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha||(null!=this.opaqueBackground&&!this.__cacheBitmapRender&&0<this.get_width()&&0<this.get_height()&&(a.blendModeManager.setBlendMode(this.__worldBlendMode),a.maskManager.pushObject(this),b=a.context,c=this.__renderTransform,a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|
0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),c=this.opaqueBackground,b.fillStyle="rgb("+(c>>>16&255)+","+(c>>>8&255)+","+(c&255)+")",b.fillRect(0,0,this.get_width(),this.get_height()),a.maskManager.popObject(this)),null==this.__graphics||!this.__renderable||0>=this.__worldAlpha||(b=this.__graphics,null==b||(n.render(b,a,this.__renderTransform),d=b.__width,e=b.__height,null==b.__canvas))))){c=a.context;var f=this.__scrollRect;0<d&&0<e&&(null==f||0<f.width&&0<f.height)&&(a.blendModeManager.setBlendMode(this.__worldBlendMode),
a.maskManager.pushObject(this),c.globalAlpha=this.__worldAlpha,d=b.__worldTransform,a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.drawImage(b.__canvas,0,0),a.maskManager.popObject(this))}},__renderCanvasMask:function(a){null!=this.__graphics&&n.renderMask(this.__graphics,a)},__renderGL:function(a){this.__updateCacheBitmap(a,!1);if(null!=this.__cacheBitmap&&!this.__cacheBitmapRender)qf.render(this.__cacheBitmap,a);else if(!(null==this.opaqueBackground&&
null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&!this.__cacheBitmapRender&&0<this.get_width()&&0<this.get_height()){a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);var b=a.gl,c=ia.__pool.get();c.setTo(0,0,this.get_width(),this.get_height());a.maskManager.pushRect(c,this.__renderTransform);var d=this.opaqueBackground;b.__context.clearColor((d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255,1);b.__context.clear(b.COLOR_BUFFER_BIT);
a.maskManager.popRect();a.maskManager.popObject(this);ia.__pool.release(c)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(d=this.__graphics,null!=d&&(n.render(d,a,this.__renderTransform),null!=d.__bitmap&&d.__visible))){var e=a.renderer;b=a.gl;a.blendModeManager.setBlendMode(this.__worldBlendMode);a.maskManager.pushObject(this);c=a.filterManager.pushObject(this);a.shaderManager.setShader(c);c.get_data().uImage0.input=d.__bitmap;c.get_data().uImage0.smoothing=a.allowSmoothing;
c.get_data().uMatrix.value=e.getMatrix(d.__worldTransform);e=!this.__worldColorTransform.__isDefault();null==c.get_data().uColorTransform.value&&(c.get_data().uColorTransform.value=[]);c.get_data().uColorTransform.value[0]=e;a.shaderManager.updateShader(c);e=b.ARRAY_BUFFER;d=d.__bitmap.getBuffer(b,this.__worldAlpha,this.__worldColorTransform);b.__context.bindBuffer(e,d);d=c.get_data().aPosition.index;e=b.FLOAT;var f=L.fromInt(0);b.__context.vertexAttribPointer(d,3,e,!1,104,L.toValue(f));d=c.get_data().aTexCoord.index;
e=b.FLOAT;f=L.fromInt(12);b.__context.vertexAttribPointer(d,2,e,!1,104,L.toValue(f));d=c.get_data().aAlpha.index;e=b.FLOAT;f=L.fromInt(20);b.__context.vertexAttribPointer(d,1,e,!1,104,L.toValue(f));d=c.get_data().aColorMultipliers.index;e=b.FLOAT;f=L.fromInt(24);b.__context.vertexAttribPointer(d,4,e,!1,104,L.toValue(f));d=c.get_data().aColorMultipliers.index+1;e=b.FLOAT;f=L.fromInt(40);b.__context.vertexAttribPointer(d,4,e,!1,104,L.toValue(f));d=c.get_data().aColorMultipliers.index+2;e=b.FLOAT;f=
L.fromInt(56);b.__context.vertexAttribPointer(d,4,e,!1,104,L.toValue(f));d=c.get_data().aColorMultipliers.index+3;e=b.FLOAT;f=L.fromInt(72);b.__context.vertexAttribPointer(d,4,e,!1,104,L.toValue(f));c=c.get_data().aColorOffsets.index;d=b.FLOAT;e=L.fromInt(88);b.__context.vertexAttribPointer(c,4,d,!1,104,L.toValue(e));b.__context.drawArrays(b.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}}},__setParentRenderDirty:function(){var a=null!=this.__renderParent?this.__renderParent:
this.parent;null==a||a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty())},__setStageReference:function(a){this.stage=a},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__update:function(a,b,c){b=null!=this.__renderParent?this.__renderParent:this.parent;this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&
!this.__isMask&&(null==b||!b.__isMask);this.__updateTransforms();this.__transformDirty=!1;null!=c&&this.__updateMask(c);a||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=b?(this.__worldAlpha=this.get_alpha()*b.__worldAlpha,this.__worldColorTransform.__combine(b.__worldColorTransform),this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?b.__blendMode:this.__blendMode):
this.__worldAlpha=this.get_alpha())},__updateCacheBitmap:function(a,b){if(!this.__cacheBitmapRender)if(this.get_cacheAsBitmap()){var c=null,d=null;this.__update(!1,!0);var e=null==this.__cacheBitmap||this.__renderDirty&&(b||null!=this.__children&&0<this.__children.length)||this.opaqueBackground!=this.__cacheBitmapBackground||!this.__cacheBitmapColorTransform.__equals(this.__worldColorTransform);b=e||!this.__cacheBitmap.__worldTransform.equals(this.__worldTransform);var f=null!=this.__filters&&0<this.__filters.length,
l=0,h=0;if(b||f)c=Fa.__pool.get(),d=ia.__pool.get(),c.identity(),this.__getFilterBounds(d,this.__renderTransform),l=Math.ceil(d.width),h=Math.ceil(d.height);if(f)if(null==this.__cacheBitmap||l==this.__cacheBitmap.get_width()&&h==this.__cacheBitmap.get_height())for(var m=0,k=this.__filters;m<k.length;){var g=k[m];++m;if(g.__renderDirty){e=!0;break}}else e=!0;if(e)if(this.__cacheBitmapBackground=this.opaqueBackground,m=null!=this.opaqueBackground?-16777216|this.opaqueBackground:0,.5<=d.width&&.5<=d.height)null==
this.__cacheBitmap||l!=this.__cacheBitmap.get_width()||h!=this.__cacheBitmap.get_height()?(this.__cacheBitmapData=new ja(l,h,!0,m),null==this.__cacheBitmap&&(this.__cacheBitmap=new Xc),this.__cacheBitmap.set_bitmapData(this.__cacheBitmapData)):this.__cacheBitmapData.fillRect(this.__cacheBitmapData.rect,m);else{this.__cacheBitmapData=this.__cacheBitmap=null;return}if(b||e)this.__cacheBitmap.__worldTransform.copyFrom(this.__worldTransform),this.__cacheBitmap.__renderTransform.identity(),this.__cacheBitmap.__renderTransform.tx=
d.x,this.__cacheBitmap.__renderTransform.ty=d.y,c.concat(this.__renderTransform),c.tx-=Math.round(d.x),c.ty-=Math.round(d.y);this.__cacheBitmap.smoothing=a.allowSmoothing;this.__cacheBitmap.__renderable=this.__renderable;this.__cacheBitmap.__worldAlpha=this.__worldAlpha;this.__cacheBitmap.__worldBlendMode=this.__worldBlendMode;this.__cacheBitmap.__scrollRect=this.__scrollRect;if(e){this.__cacheBitmapRender=!0;this.__cacheBitmapData.__draw(this,c,null,null,null,a.allowSmoothing);if(f){h=a=!1;e=0;for(f=
this.__filters;e<f.length;)l=f[e],++e,l.__needSecondBitmapData&&(a=!0),l.__preserveObject&&(h=!0);e=this.__cacheBitmapData;l=null;f=a?new ja(e.width,e.height,!0,0):e;h&&(l=new ja(e.width,e.height,!0,0));h=e.rect;m=new Va;k=0;for(g=this.__filters;k<g.length;){var n=g[k];++k;n.__preserveObject&&l.copyPixels(e,e.rect,m);var p=n.__applyFilter(f,e,h,m);n.__preserveObject&&p.draw(l,null,this.get_transform().get_colorTransform());n.__renderDirty=!1;a&&p==f&&(p=e,e=f,f=p)}this.__cacheBitmap.set_bitmapData(e)}this.__cacheBitmapRender=
!1;null==this.__cacheBitmapColorTransform&&(this.__cacheBitmapColorTransform=new vb);this.__cacheBitmapColorTransform.__copyFrom(this.__worldColorTransform);this.__cacheBitmapColorTransform.__isDefault()||this.__cacheBitmapData.colorTransform(this.__cacheBitmapData.rect,this.__cacheBitmapColorTransform)}b&&(this.__update(!1,!0),Fa.__pool.release(c),ia.__pool.release(d))}else null!=this.__cacheBitmap&&(this.__cacheBitmapColorTransform=this.__cacheBitmapData=this.__cacheBitmap=null)},__updateChildren:function(a){a=
null!=this.__renderParent?this.__renderParent:this.parent;this.__renderable=this.get_visible()&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==a||!a.__isMask);this.__worldAlpha=this.get_alpha();this.__worldBlendMode=this.get_blendMode();this.__transformDirty&&(this.__transformDirty=!1)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=
new ia),this.__graphics.__getBounds(a.__bounds,Fa.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new Fa);null==this.__renderTransform&&(this.__renderTransform=new Fa);var c=null!=this.__renderParent?this.__renderParent:this.parent;if(b||null==this.parent)this.__worldTransform.copyFrom(a);else{var d=this.parent.__worldTransform;this.__worldTransform.a=a.a*d.a+a.b*d.c;this.__worldTransform.b=a.a*d.b+a.b*d.d;this.__worldTransform.c=
a.c*d.a+a.d*d.c;this.__worldTransform.d=a.c*d.b+a.d*d.d;this.__worldTransform.tx=a.tx*d.a+a.ty*d.c+d.tx;this.__worldTransform.ty=a.tx*d.b+a.ty*d.d+d.ty}b||null==c?this.__renderTransform.copyFrom(a):(d=c.__renderTransform,this.__renderTransform.a=a.a*d.a+a.b*d.c,this.__renderTransform.b=a.a*d.b+a.b*d.d,this.__renderTransform.c=a.c*d.a+a.d*d.c,this.__renderTransform.d=a.c*d.b+a.d*d.d,this.__renderTransform.tx=a.tx*d.a+a.ty*d.c+d.tx,this.__renderTransform.ty=a.tx*d.b+a.ty*d.d+d.ty);null!=this.__scrollRect&&
(b=this.__renderTransform,a=-this.__scrollRect.x,c=-this.__scrollRect.y,b.tx=a*b.a+c*b.c+b.tx,b.ty=a*b.b+c*b.d+b.ty)},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__alpha=a},get_blendMode:function(){return this.__blendMode},set_blendMode:function(a){null==a&&(a=10);a==this.__blendMode||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__blendMode=
a},get_cacheAsBitmap:function(){return null==this.__filters?this.__cacheAsBitmap:!0},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){this.__filters=null!=a&&0<a.length?a:null;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return a},get_height:function(){var a=ia.__pool.get();this.__getLocalBounds(a);var b=a.height;ia.__pool.release(a);return b},set_height:function(a){var b=ia.__pool.get(),c=Fa.__pool.get();c.identity();
this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);ia.__pool.release(b);Fa.__pool.release(c);return a},get_loaderInfo:function(){return null!=this.stage?za.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));if(null!=this.__mask){this.__mask.__isMask=!1;this.__mask.__setTransformDirty();var b=this.__mask;b.__renderDirty||
(b.__renderDirty=!0,b.__setParentRenderDirty())}null!=a&&(a.__isMask=!0);return this.__mask=a},get_mouseX:function(){var a=null!=this.stage?this.stage.__mouseX:za.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:za.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:za.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:za.current.stage.__mouseY,
c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*(c.tx-a))},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_scaleX:function(){return this.__scaleX},set_scaleX:function(a){if(a!=this.__scaleX)if(this.__scaleX=a,0==this.__transform.b)a!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__setTransformDirty();
this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){if(a!=this.__scaleY)if(this.__scaleY=a,0==this.__transform.c)a!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__setTransformDirty();this.__transform.c=b;this.__transform.d=c}return a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=
new bh(this));return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return this.__visible=a},get_width:function(){var a=ia.__pool.get();this.__getLocalBounds(a);var b=a.width;ia.__pool.release(a);return b},set_width:function(a){var b=ia.__pool.get(),c=Fa.__pool.get();c.identity();this.__getBounds(b,c);a!=b.width?this.set_scaleX(a/b.width):this.set_scaleX(1);ia.__pool.release(b);
Fa.__pool.release(c);return a},get_x:function(){return this.__transform.tx},set_x:function(a){a!=this.__transform.tx&&this.__setTransformDirty();return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a!=this.__transform.ty&&this.__setTransformDirty();return this.__transform.ty=a},__class__:Oa,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",
set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});
var Sa=function(){Oa.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.needsSoftKeyboard=!1;this.__tabEnabled=null;this.tabIndex=-1};k["openfl.display.InteractiveObject"]=Sa;Sa.__name__=["openfl","display","InteractiveObject"];Sa.__super__=Oa;Sa.prototype=t(Oa.prototype,{doubleClickEnabled:null,mouseEnabled:null,needsSoftKeyboard:null,tabIndex:null,__tabEnabled:null,__allowMouseFocus:function(){return this.get_tabEnabled()},__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&
this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:Oa.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return 1==this.__tabEnabled?!0:!1},__class__:Sa,__properties__:t(Oa.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var Bb=function(){Sa.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=Nb.toObjectVector(null)};k["openfl.display.DisplayObjectContainer"]=
Bb;Bb.__name__=["openfl","display","DisplayObjectContainer"];Bb.__super__=Sa;Bb.prototype=t(Sa.prototype,{mouseChildren:null,__removedChildren:null,addChild:function(a){return this.addChildAt(a,this.get_numChildren())},addChildAt:function(a,b){if(null==a)throw a=new rf("Error #2007: Parameter child must be non-null."),a.errorID=2007,new u(a);if(b>this.__children.length||0>b)throw new u("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(y.remove(this.__children,a),this.__children.splice(b,
0,a),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;(b=null!=this.stage&&null==a.stage)&&this.__setStageReference(this.stage);a.__setTransformDirty();a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty());this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var c=new T("added",!0);c.target=a;a.__dispatchWithCapture(c);b&&(b=new T("addedToStage",!1,!1),
a.__dispatchWithCapture(b),a.__dispatchChildren(b))}return a},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},removeChild:function(a){if(null!=a&&a.parent==this){a.__setTransformDirty();a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty());this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var b=new T("removed",!0);a.__dispatchWithCapture(b);null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),
b=new T("removedFromStage",!1,!1),a.__dispatchWithCapture(b),a.__dispatchChildren(b),a.__setStageReference(null));a.parent=null;y.remove(this.__children,a);this.__removedChildren.data.push(a);a.__setTransformDirty()}return a},__dispatchChildren:function(a){if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;a.target=d;if(!d.__dispatchWithCapture(a))break;d.__dispatchChildren(a)}},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},
__getBounds:function(a,b){Sa.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.__scaleX&&0!=e.__scaleY&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getFilterBounds:function(a,b){Sa.prototype.__getFilterBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));
for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.__scaleX||0==e.__scaleY||e.__isMask||e.__getFilterBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var l=Va.__pool.get();l.setTo(a,b);var h=this.__getRenderTransform(),m=h.a*h.d-h.b*h.c;
if(0==m)l.x=-h.tx,l.y=-h.ty;else{var k=1/m*(h.c*(h.ty-l.y)+h.d*(l.x-h.tx));l.y=1/m*(h.a*(l.y-h.ty)+h.b*(h.tx-l.x));l.x=k}if(!this.__scrollRect.containsPoint(l))return Va.__pool.release(l),!1;Va.__pool.release(l)}l=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--l;){if(this.__children[l].__hitTest(a,b,c,null,!0,this.__children[l]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(m=!1;0<=--l&&!(((h=this.__children[l].__getInteractive(null))||this.mouseEnabled&&!m)&&
this.__children[l].__hitTest(a,b,c,d,!0,this.__children[l])&&(m=!0,h)););if(m)return d.splice(e,0,f),!0}}else for(;0<=--l;)this.__children[l].__hitTest(a,b,c,d,!1,this.__children[l]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCanvas:function(a){if(!(!this.__renderable||0>=this.__worldAlpha||null!=this.get_mask()&&(0>=this.get_mask().get_width()||0>=this.get_mask().get_height()))&&(Sa.prototype.__renderCanvas.call(this,
a),null==this.__cacheBitmap||this.__cacheBitmapRender)){a.maskManager.pushObject(this);if(a.clearRenderDirty){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a);d.__renderDirty=!1}this.__renderDirty=!1}else for(b=0,c=this.__children;b<c.length;)d=c[b],++b,d.__renderCanvas(a);b=0;for(c=this.__removedChildren;b<c.data.get_length();)d=c.data.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.data.set_length(0);a.maskManager.popObject(this)}},__renderCanvasMask:function(a){null!=
this.__graphics&&n.renderMask(this.__graphics,a);var b=ia.__pool.get();this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height);ia.__pool.release(b)},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&(Sa.prototype.__renderGL.call(this,a),null==this.__cacheBitmap||this.__cacheBitmapRender)){a.maskManager.pushObject(this);a.filterManager.pushObject(this);if(a.clearRenderDirty){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a);d.__renderDirty=!1}this.__renderDirty=
!1}else for(b=0,c=this.__children;b<c.length;)d=c[b],++b,d.__renderGL(a);b=0;for(c=this.__removedChildren;b<c.data.get_length();)d=c.data.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.data.set_length(0);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__setStageReference:function(a){Sa.prototype.__setStageReference.call(this,a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&
(this.__worldTransformInvalid=!0,null!=this.__children))for(var a=0,b=this.__children;a<b.length;){var c=b[a];++a;c.__setWorldTransformInvalid()}},__update:function(a,b,c){Sa.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){Sa.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},
__class__:Bb,__properties__:t(Sa.prototype.__properties__,{get_numChildren:"get_numChildren"})});var bc=function(){Bb.call(this);this.buttonMode=!1;this.useHandCursor=!0};k["openfl.display.Sprite"]=bc;bc.__name__=["openfl","display","Sprite"];bc.__super__=Bb;bc.prototype=t(Bb.prototype,{buttonMode:null,dropTarget:null,hitArea:null,useHandCursor:null,__getCursor:function(){return this.buttonMode&&this.useHandCursor?ma.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||
e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return this.__hitTestHitArea(a,b,c,d,e,f);if(null!=this.__scrollRect){var l=Va.__pool.get();l.setTo(a,b);var h=this.__getRenderTransform(),m=h.a*h.d-h.b*h.c;if(0==m)l.x=-h.tx,l.y=-h.ty;else{var k=1/m*(h.c*(h.ty-l.y)+h.d*(l.x-h.tx));l.y=1/m*(h.a*(l.y-h.ty)+h.b*(h.tx-l.x));l.x=k}if(!this.__scrollRect.containsPoint(l))return Va.__pool.release(l),this.__hitTestHitArea(a,b,c,d,!0,f);Va.__pool.release(l)}return Bb.prototype.__hitTest.call(this,
a,b,c,d,e,f)?e:null!=this.hitArea||e&&!this.mouseEnabled||null==this.__graphics||!this.__graphics.__hitTest(a,b,c,this.__getRenderTransform())?this.__hitTestHitArea(a,b,c,d,e,f):(null!=d&&d.push(f),!0)},__hitTestHitArea:function(a,b,c,d,e,f){return null==this.hitArea||this.hitArea.mouseEnabled?!1:(this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a)},__hitTestMask:function(a,b){return Bb.prototype.__hitTestMask.call(this,a,b)||null!=
this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Vd(this));return this.__graphics},get_tabEnabled:function(){return null==this.__tabEnabled?this.buttonMode:this.__tabEnabled},__class__:bc,__properties__:t(Bb.prototype.__properties__,{get_graphics:"get_graphics"})});var Xd=function(){bc.call(this);this._log=new Ib;this._draw=new Ib;this._log.set_y(20);this._log.set_autoSize(1);ua.SetPath("http://192.168.31.142/dev");
var a=Gc.GetInstance();a.Show(this);N.backgroundColor.set_rgba(-1412567041);N.backRenderTexture=null;var b=new Gd;a.AddScene(b);a=new cc([Wd]);a.AddComponent(new xd);a.set_localRotation(Ya.FromEuler(10,180,0));var c=Q.instance;c.x=0;c.y=0;c.z=300;a.set_localPosition(c);a.FindComponent(Wd).SetTarget(new Q,new oa(300,800));b.AddChild(a);a=new cc([dc]);c=Q.instance;c.x=100;c.y=0;c.z=0;a.set_localPosition(c);b.AddChild(a);a.FindComponent(dc).set_resource(ua.g3d.Get("g3d/soldier/GirlSniper"));a.FindComponent(dc).animator.set_resource(ua.g3d.Get("g3d/soldier/GirlSniper"));
a=new cc([dc]);c=Q.instance;c.x=0;c.y=0;c.z=100;a.set_localPosition(c);b.AddChild(a);a.FindComponent(dc).set_resource(ua.g3d.Get("g3d/soldier/CartoonySoldier"));a.FindComponent(dc).animator.set_resource(ua.g3d.Get("g3d/soldier/CartoonySoldier"));a=new cc([dc]);c=Q.instance;c.x=-150;c.y=0;c.z=0;a.set_localPosition(c);b.AddChild(a);a.FindComponent(dc).set_resource(ua.g3d.Get("g3d/hero-role-bubing/hero-role-bubing"));a.FindComponent(dc).animator.set_resource(ua.g3d.Get("g3d/hero-role-bubing/hero-role-bubing@daiji"));
a=new cc([dc]);c=Q.instance;c.x=10;c.y=10;c.z=10;a.set_localScale(c);b.AddChild(a);a.FindComponent(dc).set_resource(ua.g3d.Get("g3d/chr_man"));this.addChild(new sf);Gc.GetInstance().onUpdate=q(this,this.update)};k.Main=Xd;Xd.__name__=["Main"];Xd.__super__=bc;Xd.prototype=t(bc.prototype,{_log:null,_draw:null,update:function(a){this._draw.set_text(va.drawCall+"")},__class__:Xd});var mf=function(a){a.addChild(this);Xd.call(this);this.dispatchEvent(new T("addedToStage",!1,!1))};k.DocumentClass=mf;mf.__name__=
["DocumentClass"];mf.__super__=Xd;mf.prototype=t(Xd.prototype,{__class__:mf});var Ta=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};k.EReg=Ta;Ta.__name__=["EReg"];Ta.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new u("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new u("No string matched");return{pos:this.r.m.index,
len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:y.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?y.substr(a,b,null):y.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=U.string(y.substr(a,c,null));break}var e=this.matchedPos();
d+=U.string(y.substr(a,c,e.pos-c));d+=U.string(b(this));0==e.len?(d+=U.string(y.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=U.string(y.substr(a,c,null)));return d},__class__:Ta};var y=function(){};k.HxOverrides=y;y.__name__=["HxOverrides"];y.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],
a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new u("Invalid date format : "+a);}};y.cca=function(a,b){a=a.charCodeAt(b);if(a==a)return a};y.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};y.remove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};y.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var $g=function(a,b){this.item=a;this.next=b};k["_List.ListNode"]=$g;$g.__name__=["_List","ListNode"];$g.prototype={item:null,next:null,__class__:$g};var ah=function(a){this.head=a};k["_List.ListIterator"]=ah;ah.__name__=["_List","ListIterator"];ah.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:ah};var Oc=function(){};k.ManifestResources=
Oc;Oc.__name__=["ManifestResources"];Oc.init=function(a){Oc.preloadLibraries=[];Oc.preloadLibraryNames=[];var b=null;null!=a&&Object.prototype.hasOwnProperty.call(a,"rootPath")&&(b=O.field(a,"rootPath"));null==b&&(b="");R.defaultRootPath=b;a=Wa.parse('{"name":null,"assets":"ah","version":2,"libraryArgs":[],"libraryType":null}',b);a=Hc.fromManifest(a);R.registerLibrary("default",a);a=R.getLibrary("default");null!=a?Oc.preloadLibraries.push(a):Oc.preloadLibraryNames.push("default")};Math.__name__=["Math"];
var O=function(){};k.Reflect=O;O.__name__=["Reflect"];O.field=function(a,b){try{return a[b]}catch(c){return aa.lastException=c,null}};O.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};O.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};O.compareMethods=function(a,b){return a==b?!0:O.isFunction(a)&&O.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:
!1:!1};O.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var U=function(){};k.Std=U;U.__name__=["Std"];U.string=function(a){return M.__string_rec(a,"")};U.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=y.cca(a,1)&&88!=y.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var yc=function(){this.b=""};k.StringBuf=yc;yc.__name__=["StringBuf"];yc.prototype={b:null,__class__:yc};var ea=function(){};k.StringTools=ea;ea.__name__=["StringTools"];
ea.startsWith=function(a,b){return a.length>=b.length?y.substr(a,0,b.length)==b:!1};ea.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?y.substr(a,d-c,c)==b:!1};ea.isSpace=function(a,b){a=y.cca(a,b);return 8<a&&14>a?!0:32==a};ea.ltrim=function(a){for(var b=a.length,c=0;c<b&&ea.isSpace(a,c);)++c;return 0<c?y.substr(a,c,b-c):a};ea.rtrim=function(a){for(var b=a.length,c=0;c<b&&ea.isSpace(a,b-c-1);)++c;return 0<c?y.substr(a,0,b-c):a};ea.trim=function(a){return ea.ltrim(ea.rtrim(a))};ea.replace=
function(a,b,c){return a.split(b).join(c)};ea.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var La=k.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};La.TNull=["TNull",0];La.TNull.toString=w;La.TNull.__enum__=La;La.TInt=["TInt",1];La.TInt.toString=w;La.TInt.__enum__=La;La.TFloat=["TFloat",2];La.TFloat.toString=w;La.TFloat.__enum__=La;La.TBool=
["TBool",3];La.TBool.toString=w;La.TBool.__enum__=La;La.TObject=["TObject",4];La.TObject.toString=w;La.TObject.__enum__=La;La.TFunction=["TFunction",5];La.TFunction.toString=w;La.TFunction.__enum__=La;La.TClass=function(a){a=["TClass",6,a];a.__enum__=La;a.toString=w;return a};La.TEnum=function(a){a=["TEnum",7,a];a.__enum__=La;a.toString=w;return a};La.TUnknown=["TUnknown",8];La.TUnknown.toString=w;La.TUnknown.__enum__=La;var ka=function(){};k.Type=ka;ka.__name__=["Type"];ka.getSuperClass=function(a){return a.__super__};
ka.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};ka.getEnumName=function(a){return a.__ename__.join(".")};ka.resolveClass=function(a){a=k[a];return null!=a&&a.__name__?a:null};ka.resolveEnum=function(a){a=k[a];return null!=a&&a.__ename__?a:null};ka.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],
b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new u("Too many arguments");}};ka.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};ka.createEnum=function(a,b,c){var d=O.field(a,b);if(null==d)throw new u("No such constructor "+b);if(O.isFunction(d)){if(null==c)throw new u("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&
0!=c.length)throw new u("Constructor "+b+" does not need parameters");return d};ka.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);y.remove(b,"__class__");y.remove(b,"__properties__");return b};ka["typeof"]=function(a){switch(typeof a){case "boolean":return La.TBool;case "function":return a.__name__||a.__ename__?La.TObject:La.TFunction;case "number":return Math.ceil(a)==a%2147483648?La.TInt:La.TFloat;case "object":if(null==a)return La.TNull;var b=a.__enum__;if(null!=b)return La.TEnum(b);
a=M.getClass(a);return null!=a?La.TClass(a):La.TObject;case "string":return La.TClass(String);case "undefined":return La.TNull;default:return La.TUnknown}};var nb={};k["_UInt.UInt_Impl_"]=nb;nb.__name__=["_UInt","UInt_Impl_"];nb.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};nb.toFloat=function(a){return 0>a?4294967296+a:a+0};var G=function(a){this.nodeType=a;this.children=[];this.attributeMap=new C};k.Xml=G;G.__name__=["Xml"];G.parse=function(a){return kd.parse(a)};G.createElement=function(a){var b=
new G(G.Element);if(b.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};G.createPCData=function(a){var b=new G(G.PCData);if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};G.createCData=function(a){var b=new G(G.CData);if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};G.createComment=function(a){var b=
new G(G.Comment);if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};G.createDocType=function(a){var b=new G(G.DocType);if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};G.createProcessingInstruction=function(a){var b=new G(G.ProcessingInstruction);if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);
b.nodeValue=a;return b};G.createDocument=function(){return new G(G.Document)};G.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,set:function(a,b){if(this.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=p[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;
return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},elements:function(){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new u("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var d=c[b];++b;d.nodeType==G.Element&&a.push(d)}return y.iter(a)},firstElement:function(){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new u("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=
0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==G.Element)return c}return null},addChild:function(a){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new u("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new u("Bad node type, expected Element or Document but found "+this.nodeType);return y.remove(this.children,
a)?(a.parent=null,!0):!1},__class__:G};var Ob=k["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};Ob.CFunction=["CFunction",0];Ob.CFunction.toString=w;Ob.CFunction.__enum__=Ob;Ob.Module=function(a){a=["Module",1,a];a.__enum__=Ob;a.toString=w;return a};Ob.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=Ob;a.toString=w;return a};Ob.Method=function(a,b){a=["Method",3,a,b];a.__enum__=Ob;a.toString=w;return a};Ob.LocalFunction=
function(a){a=["LocalFunction",4,a];a.__enum__=Ob;a.toString=w;return a};var aa=function(){};k["haxe.CallStack"]=aa;aa.__name__=["haxe","CallStack"];aa.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){a=[];for(var c=0;c<b.length;){var d=b[c];++c;null!=aa.wrapCallSite&&(d=aa.wrapCallSite(d));var l=null,h=d.getFunctionName();if(null!=h){var m=h.lastIndexOf(".");0<=m&&(l=y.substr(h,0,m),h=y.substr(h,m+1,null),l=Ob.Method(l,h))}a.push(Ob.FilePos(l,
d.getFileName(),d.getLineNumber()))}return a};a=aa.makeStack(a.stack);Error.prepareStackTrace=b;return a};aa.callStack=function(){try{throw Error();}catch(b){aa.lastException=b;b instanceof u&&(b=b.val);var a=aa.getStack(b);a.shift();return a}};aa.exceptionStack=function(){return aa.getStack(aa.lastException)};aa.toString=function(a){for(var b=new yc,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";aa.itemToString(b,d)}return b.b};aa.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";
break;case 1:b=b[2];a.b+="module ";a.b+=null==b?"null":""+b;break;case 2:var c=b[4],d=b[3];b=b[2];null!=b&&(aa.itemToString(a,b),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=b&&(a.b+=")");break;case 3:c=b[3];b=b[2];a.b+=null==b?"null":""+b;a.b+=".";a.b+=null==c?"null":""+c;break;case 4:b=b[2],a.b+="local function #",a.b+=null==b?"null":""+b}};aa.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],
c=new Ta("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<a.length;){var e=a[d];++d;if(c.match(e)){e=c.matched(1).split(".");var f=e.pop(),l=c.matched(2),h=U.parseInt(c.matched(3));b.push(Ob.FilePos("Anonymous function"==f?Ob.LocalFunction():"Global code"==f?null:Ob.Method(e.join("."),f),l,h))}else b.push(Ob.Module(ea.trim(e)))}return b}return a};var ch=function(a,b){this.high=a;this.low=b};k["haxe._Int64.___Int64"]=ch;ch.__name__=["haxe","_Int64","___Int64"];ch.prototype={high:null,
low:null,__class__:ch};var oc=function(){this.buf=new yc;this.cache=[];this.useCache=oc.USE_CACHE;this.useEnumIndex=oc.USE_ENUM_INDEX;this.shash=new C;this.scount=0};k["haxe.Serializer"]=oc;oc.__name__=["haxe","Serializer"];oc.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash;b=null!=p[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{b=this.shash;
var c=this.scount++;null!=p[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=U.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=O.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(O.field(a,
d))}this.buf.b+="g"},serialize:function(a){var b=ka["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:M.__instanceof(a,jj)?(a=ka.getClassName(a),this.buf.b+="A",this.serializeString(a)):M.__instanceof(a,kj)?(this.buf.b+="B",this.serializeString(ka.getEnumName(a))):
this.useCache&&this.serializeRef(a)||(this.buf.b+="o",this.serializeFields(a));break;case 5:throw new u("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":
""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=U.string(a.getTime());break;case Fc:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ka:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case pb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=O.field(c,"__id__"),O.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);
this.buf.b+="h";break;case C:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=p[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Ha:this.buf.b+="s";this.buf.b+=U.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=oc.BASE64_CODES;if(null==b){b=Array(oc.BASE64.length);e=0;for(var f=oc.BASE64.length;e<f;){var l=e++;b[l]=y.cca(oc.BASE64,l)}oc.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],l=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>
2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|l>>6)&63]),this.buf.b+=String.fromCharCode(b[l&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",
this.serializeString(ka.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(ka.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=U.string(this.useEnumIndex?"j":"w");this.serializeString(ka.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=U.string(a[1])):this.serializeString(a[0]);this.buf.b+=
":";b=a.length;this.buf.b+=U.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new u("Cannot serialize "+U.string(a));}},__class__:oc};var ld=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};k["haxe.Timer"]=ld;ld.__name__=["haxe","Timer"];ld.delay=function(a,b){var c=new ld(b);c.run=function(){c.stop();a()};return c};ld.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},
__class__:ld};var tf=function(){};k["haxe._Unserializer.DefaultResolver"]=tf;tf.__name__=["haxe","_Unserializer","DefaultResolver"];tf.prototype={resolveClass:function(a){return ka.resolveClass(a)},resolveEnum:function(a){return ka.resolveEnum(a)},__class__:tf};var Xb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Xb.DEFAULT_RESOLVER;null==a&&(a=new tf,Xb.DEFAULT_RESOLVER=a);this.resolver=a};k["haxe.Unserializer"]=Xb;Xb.__name__=["haxe","Unserializer"];Xb.initCodes=
function(){for(var a=[],b=0,c=Xb.BASE64.length;b<c;){var d=b++;a[Xb.BASE64.charCodeAt(d)]=d}return a};Xb.run=function(a){return(new Xb(a)).unserialize()};Xb.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){null==a?(null==Yd.instance&&(Yd.instance=new Yd),this.resolver=Yd.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>
d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(y.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new u("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new u("Invalid object key");var c=this.unserialize();a[b]=
c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new u("Invalid enum format");var c=this.readDigits();if(0==c)return ka.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return ka.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new u("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==
b)throw new u("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new u("Class not found "+a);a=ka.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new u("Invalid custom data");return a;case 77:a=new pb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new u("Invalid string reference");
return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new C;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){b=this.unserialize();var c=this.unserialize();null!=p[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new u("Class not found "+
a);a=ka.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new u("Enum not found "+a);this.pos++;c=this.readDigits();var d=b.__constructs__.slice()[c];if(null==d)throw new u("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Fc;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ka;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new u("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new u("Invalid reference");
return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new u("Invalid bytes length");var e=Xb.CODES;null==e&&(e=Xb.initCodes(),Xb.CODES=e);var f=this.pos,l=a&3,h=f+(a-l);b=new Ha(new ic(3*(a>>2)+(2<=l?l-1:0)));for(c=0;f<h;){var m=e[d.charCodeAt(f++)],k=e[d.charCodeAt(f++)];b.b[c++]=(m<<2|k>>4)&255;m=e[d.charCodeAt(f++)];b.b[c++]=(k<<4|m>>2)&255;k=e[d.charCodeAt(f++)];b.b[c++]=(m<<6|k)&255}2<=l&&(k=e[d.charCodeAt(f++)],h=e[d.charCodeAt(f++)],
b.b[c++]=(k<<2|h>>4)&255,3==l&&(d=e[d.charCodeAt(f++)],b.b[c++]=(h<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=y.strDate(y.substr(this.buf,
this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new u("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw u.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new u("Invalid string length");b=y.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));
this.scache.push(b);return b;case 122:return 0}this.pos--;throw new u("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Xb};var Yd=function(){};k["haxe._Unserializer.NullResolver"]=Yd;Yd.__name__=["haxe","_Unserializer","NullResolver"];Yd.prototype={resolveClass:function(a){return null},resolveEnum:function(a){return null},__class__:Yd};var Zd=function(){this.a1=1;this.a2=0};k["haxe.crypto.Adler32"]=Zd;Zd.__name__=["haxe","crypto","Adler32"];Zd.read=function(a){var b=
new Zd,c=a.readByte(),d=a.readByte(),e=a.readByte();a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};Zd.prototype={a1:null,a2:null,update:function(a,b,c){var d=this.a1,e=this.a2,f=b;for(b+=c;f<b;)c=f++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;this.a2=e},equals:function(a){return a.a1==this.a1?a.a2==this.a2:!1},__class__:Zd};var dh=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new u("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};k["haxe.crypto.BaseCode"]=
dh;dh.__name__=["haxe","crypto","BaseCode"];dh.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new Ha(new ic(d+(0==8*a.length%b?0:1))),f=0,l=0,h=(1<<b)-1,m=0,k=0;k<d;){for(;l<b;)l+=8,f<<=8,f|=a.b[m++];l-=b;e.b[k++]=c.b[f>>l&h]&255}0<l&&(e.b[k++]=c.b[f<<b-l&h]&255);return e},__class__:dh};var Ka=function(){this.h={}};k["haxe.ds.IntMap"]=Ka;Ka.__name__=["haxe","ds","IntMap"];Ka.__interfaces__=[Ge];Ka.prototype={h:null,set:function(a,b){this.h[a]=
b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return y.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Ka};var wd=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=
b.length};k["haxe.ds._StringMap.StringMapIterator"]=wd;wd.__name__=["haxe","ds","_StringMap","StringMapIterator"];wd.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=p[b]?a.getReserved(b):a.h[b]},__class__:wd};var C=function(){this.h={}};k["haxe.ds.StringMap"]=C;C.__name__=["haxe","ds","StringMap"];C.__interfaces__=[Ge];C.prototype={h:null,rh:null,set:function(a,b){null!=p[a]?
this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=p[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=p[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=p[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;
delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return y.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:C};var Ha=function(a){this.length=a.byteLength;this.b=new wb(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};k["haxe.io.Bytes"]=Ha;Ha.__name__=["haxe","io","Bytes"];Ha.alloc=function(a){return new Ha(new ic(a))};
Ha.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Ha((new wb(b)).buffer)};Ha.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Ha(a)};Ha.fastGet=function(a,b){return a.bytes[b]};Ha.prototype={length:null,b:null,data:null,blit:function(a,b,c,d){if(0>
a||0>c||0>d||a+d>this.length||c+d>b.length)throw new u(fb.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new u(fb.OutsideBounds);var c="",d=this.b,e=String.fromCharCode,f=a;for(a+=b;f<a;)if(b=d[f++],128>b){if(0==b)break;c+=e(b)}else if(224>b)c+=e((b&63)<<6|d[f++]&127);else if(240>b){var l=d[f++];c+=e((b&31)<<12|(l&127)<<6|d[f++]&127)}else{l=d[f++];var h=d[f++];b=(b&15)<<18|(l&127)<<12|(h&127)<<
6|d[f++]&127;c+=e((b>>10)+55232);c+=e(b&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:Ha};var eh=function(){this.b=[]};k["haxe.io.BytesBuffer"]=eh;eh.__name__=["haxe","io","BytesBuffer"];eh.prototype={b:null,getBytes:function(){var a=new Ha((new wb(this.b)).buffer);this.b=null;return a},__class__:eh};var uf=function(){};k["haxe.io.Input"]=uf;uf.__name__=["haxe","io","Input"];uf.prototype={bigEndian:null,readByte:function(){throw new u("Not implemented");
},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw new u(fb.OutsideBounds);try{for(;0<d;)e[b]=this.readByte(),++b,--d}catch(f){if(aa.lastException=f,f instanceof u&&(f=f.val),!M.__instanceof(f,He))throw f;}return c-d},read:function(a){for(var b=new Ha(new ic(a)),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw new u(fb.Blocked);c+=d;a-=d}return b},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},__class__:uf};var vf=function(a,
b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new u(fb.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=c};k["haxe.io.BytesInput"]=vf;vf.__name__=["haxe","io","BytesInput"];vf.__super__=uf;vf.prototype=t(uf.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw new u(new He);this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new u(fb.OutsideBounds);if(0==this.len&&0<c)throw new u(new He);
this.len<c&&(c=this.len);var d=this.b;a=a.b;for(var e=0,f=c;e<f;){var l=e++;a[b+l]=d[this.pos+l]}this.pos+=c;this.len-=c;return c},__class__:vf});var He=function(){};k["haxe.io.Eof"]=He;He.__name__=["haxe","io","Eof"];He.prototype={toString:function(){return"Eof"},__class__:He};var fb=k["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};fb.Blocked=["Blocked",0];fb.Blocked.toString=w;fb.Blocked.__enum__=fb;fb.Overflow=["Overflow",1];fb.Overflow.toString=
w;fb.Overflow.__enum__=fb;fb.OutsideBounds=["OutsideBounds",2];fb.OutsideBounds.toString=w;fb.OutsideBounds.__enum__=fb;fb.Custom=function(a){a=["Custom",3,a];a.__enum__=fb;a.toString=w;return a};var Yb=function(){};k["haxe.io.FPHelper"]=Yb;Yb.__name__=["haxe","io","FPHelper"];Yb.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Yb.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);
-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};Yb.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023;a=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==a&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*a)*Math.pow(2,c)};Yb.doubleToI64=function(a){var b=Yb.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453);c=Math.round(4503599627370496*
(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var $d=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=y.substr(a,0,c),a=y.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=y.substr(a,0,b),a=y.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=y.substr(a,b+1,null),this.file=y.substr(a,
0,b)):(this.ext=null,this.file=a)};k["haxe.io.Path"]=$d;$d.__name__=["haxe","io","Path"];$d.directory=function(a){a=new $d(a);return null==a.dir?"":a.dir};$d.prototype={dir:null,file:null,ext:null,backslash:null,__class__:$d};var Ic=function(){};k["haxe.rtti.Meta"]=Ic;Ic.__name__=["haxe","rtti","Meta"];Ic.getType=function(a){a=Ic.getMeta(a);return null==a||null==a.obj?{}:a.obj};Ic.getMeta=function(a){return a.__meta__};Ic.getStatics=function(a){a=Ic.getMeta(a);return null==a||null==a.statics?{}:a.statics};
Ic.getFields=function(a){a=Ic.getMeta(a);return null==a||null==a.fields?{}:a.fields};var fh=function(a){this.__x=a};k["haxe.xml._Fast.NodeAccess"]=fh;fh.__name__=["haxe","xml","_Fast","NodeAccess"];fh.prototype={__x:null,__class__:fh};var gh=function(a){this.__x=a};k["haxe.xml._Fast.AttribAccess"]=gh;gh.__name__=["haxe","xml","_Fast","AttribAccess"];gh.prototype={__x:null,__class__:gh};var hh=function(a){this.__x=a};k["haxe.xml._Fast.HasAttribAccess"]=hh;hh.__name__=["haxe","xml","_Fast","HasAttribAccess"];
hh.prototype={__x:null,__class__:hh};var ih=function(a){this.__x=a};k["haxe.xml._Fast.HasNodeAccess"]=ih;ih.__name__=["haxe","xml","_Fast","HasNodeAccess"];ih.prototype={__x:null,__class__:ih};var jh=function(a){this.__x=a};k["haxe.xml._Fast.NodeListAccess"]=jh;jh.__name__=["haxe","xml","_Fast","NodeListAccess"];jh.prototype={__x:null,__class__:jh};var wf=function(a){if(a.nodeType!=G.Document&&a.nodeType!=G.Element)throw new u("Invalid nodeType "+a.nodeType);this.x=a;this.node=new fh(a);this.nodes=
new jh(a);this.att=new gh(a);this.has=new hh(a);this.hasNode=new ih(a)};k["haxe.xml.Fast"]=wf;wf.__name__=["haxe","xml","Fast"];wf.prototype={x:null,node:null,nodes:null,att:null,has:null,hasNode:null,get_name:function(){if(this.x.nodeType==G.Document)return"Document";var a=this.x;if(a.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+a.nodeType);return a.nodeName},get_innerData:function(){var a=this.x;if(a.nodeType!=G.Document&&a.nodeType!=G.Element)throw new u("Bad node type, expected Element or Document but found "+
a.nodeType);a=y.iter(a.children);if(!a.hasNext())throw new u(this.get_name()+" does not have data");var b=a.next();if(a.hasNext()){var c=a.next();if(b.nodeType==G.PCData&&c.nodeType==G.CData){if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b=""==ea.trim(b.nodeValue)}else b=!1;if(b){if(!a.hasNext()){if(c.nodeType==G.Document||c.nodeType==G.Element)throw new u("Bad node type, unexpected "+c.nodeType);return c.nodeValue}b=a.next();if(b.nodeType==
G.PCData){if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+b.nodeType);b=""==ea.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(c.nodeType==G.Document||c.nodeType==G.Element)throw new u("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new u(this.get_name()+" does not only have data");}if(b.nodeType!=G.PCData&&b.nodeType!=G.CData)throw new u(this.get_name()+" does not have data");if(b.nodeType==G.Document||b.nodeType==G.Element)throw new u("Bad node type, unexpected "+
b.nodeType);return b.nodeValue},__class__:wf,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var xb=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++;d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};k["haxe.xml.XmlParserException"]=xb;xb.__name__=["haxe","xml","XmlParserException"];xb.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,
toString:function(){return ka.getClassName(M.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:xb};var kd=function(){};k["haxe.xml.Parser"]=kd;kd.__name__=["haxe","xml","Parser"];kd.parse=function(a,b){null==b&&(b=!1);var c=G.createDocument();kd.doParse(a,b,0,c);return c};kd.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,l=1,h=null,m=0,k=0,g=0,n=a.charCodeAt(c),q=new yc,r=1,Vg=-1;n==n;){switch(f){case 0:switch(n){case 9:case 10:case 13:case 32:break;
default:f=l;continue}break;case 1:if(60==n)f=0,l=2;else{m=c;f=13;continue}break;case 2:switch(n){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=y.substr(a,c,6).toUpperCase())throw new u(new xb("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=y.substr(a,c+2,6).toUpperCase())throw new u(new xb("Expected <!DOCTYPE",a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new u(new xb("Expected \x3c!--",a,c));c+=2;f=15}m=c+
1;break;case 47:if(null==d)throw new u(new xb("Expected node name",a,c));m=c+1;f=0;l=10;break;case 63:f=14;m=c;break;default:f=3;m=c;continue}break;case 3:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)){if(c==m)throw new u(new xb("Expected node name",a,c));e=G.createElement(y.substr(a,m,c-m));d.addChild(e);++k;f=0;l=4;continue}break;case 4:switch(n){case 47:f=11;break;case 62:f=9;break;default:f=5;m=c;continue}break;case 5:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=
n||58==n||46==n||95==n||45==n)){if(m==c)throw new u(new xb("Expected attribute name",a,c));h=y.substr(a,m,c-m);if(e.exists(h))throw new u(new xb("Duplicate attribute ["+h+"]",a,c));f=0;l=6;continue}break;case 6:if(61==n)f=0,l=7;else throw new u(new xb("Expected =",a,c));break;case 7:switch(n){case 34:case 39:q=new yc;f=8;m=c+1;Vg=n;break;default:throw new u(new xb('Expected "',a,c));}break;case 8:switch(n){case 38:r=c-m;q.b+=null==r?y.substr(a,m,null):y.substr(a,m,r);f=18;r=8;m=c+1;break;case 60:case 62:if(b)throw new u(new xb("Invalid unescaped "+
String.fromCharCode(n)+" in attribute value",a,c));n==Vg&&(l=c-m,q.b+=null==l?y.substr(a,m,null):y.substr(a,m,l),l=q.b,q=new yc,e.set(h,l),f=0,l=4);break;default:n==Vg&&(l=c-m,q.b+=null==l?y.substr(a,m,null):y.substr(a,m,l),l=q.b,q=new yc,e.set(h,l),f=0,l=4)}break;case 9:m=c=kd.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)){if(m==c)throw new u(new xb("Expected node name",a,c));l=y.substr(a,m,c-m);if(d.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+
d.nodeType);if(l!=d.nodeName){if(d.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+d.nodeType);throw new u(new xb("Expected </"+d.nodeName+">",a,c));}f=0;l=12;continue}break;case 11:if(62==n)f=1;else throw new u(new xb("Expected >",a,c));break;case 12:if(62==n)return 0==k&&d.addChild(G.createPCData("")),c;throw new u(new xb("Expected >",a,c));case 13:60==n?(l=c-m,q.b+=null==l?y.substr(a,m,null):y.substr(a,m,l),l=G.createPCData(q.b),q=new yc,d.addChild(l),++k,f=0,l=2):
38==n&&(r=c-m,q.b+=null==r?y.substr(a,m,null):y.substr(a,m,r),f=18,r=13,m=c+1);break;case 14:63==n&&62==a.charCodeAt(c+1)&&(++c,n=y.substr(a,m+1,c-m-2),d.addChild(G.createProcessingInstruction(n)),++k,f=1);break;case 15:45==n&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(G.createComment(y.substr(a,m,c-m))),++k,c+=2,f=1);break;case 16:91==n?++g:93==n?--g:62==n&&0==g&&(d.addChild(G.createDocType(y.substr(a,m,c-m))),++k,f=1);break;case 17:93==n&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+
2)&&(n=G.createCData(y.substr(a,m,c-m)),d.addChild(n),++k,c+=2,f=1);break;case 18:if(59==n){m=y.substr(a,m,c-m);if(35==m.charCodeAt(0))m=120==m.charCodeAt(1)?U.parseInt("0"+y.substr(m,1,m.length-1)):U.parseInt(y.substr(m,1,m.length-1)),q.b+=String.fromCharCode(m);else if(n=kd.escapes,null!=p[m]?n.existsReserved(m):n.h.hasOwnProperty(m))n=kd.escapes,m=null!=p[m]?n.getReserved(m):n.h[m],q.b+=U.string(m);else{if(b)throw new u(new xb("Undefined entity: "+m,a,c));q.b+=U.string("&"+m+";")}m=c+1;f=r}else if(!(97<=
n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)&&35!=n){if(b)throw new u(new xb("Invalid character in entity: "+String.fromCharCode(n),a,c));q.b+="&";n=c-m;q.b+=null==n?y.substr(a,m,null):y.substr(a,m,n);m=c--;f=r}}n=a.charCodeAt(++c)}1==f&&(m=c,f=13);if(13==f){if(c!=m||0==k)b=c-m,q.b+=null==b?y.substr(a,m,null):y.substr(a,m,b),d.addChild(G.createPCData(q.b));return c}if(!b&&18==f&&13==r)return q.b+="&",b=c-m,q.b+=null==b?y.substr(a,m,null):y.substr(a,m,b),d.addChild(G.createPCData(q.b)),
c;throw new u(new xb("Unexpected end",a,c));};var Pc=k["haxe.zip.Huffman"]={__ename__:["haxe","zip","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};Pc.Found=function(a){a=["Found",0,a];a.__enum__=Pc;a.toString=w;return a};Pc.NeedBit=function(a,b){a=["NeedBit",1,a,b];a.__enum__=Pc;a.toString=w;return a};Pc.NeedBits=function(a,b){a=["NeedBits",2,a,b];a.__enum__=Pc;a.toString=w;return a};var kh=function(){};k["haxe.zip.HuffTools"]=kh;kh.__name__=["haxe","zip","HuffTools"];kh.prototype={treeDepth:function(a){switch(a[1]){case 0:return 0;
case 1:var b=a[3];a=this.treeDepth(a[2]);b=this.treeDepth(b);return 1+(a<b?a:b);case 2:throw new u("assert");}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){if(1==a[1])return b=a[3],Pc.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));throw new u("assert");}for(var c=[],d=0,e=1<<b;d<e;)d++,c.push(Pc.Found(-1));this.treeWalk(c,0,0,b,a);return Pc.NeedBits(b,c)},treeWalk:function(a,b,c,d,e){if(1==e[1]){var f=e[3],l=e[2];0<d?(this.treeWalk(a,b,c+1,d-1,l),this.treeWalk(a,
b|1<<c,c+1,d-1,f)):a[b]=this.treeCompress(e)}else a[b]=this.treeCompress(e)},treeMake:function(a,b,c,d){if(d>b)throw new u("Invalid huffman");var e=c<<5|d;if(a.h.hasOwnProperty(e))return Pc.Found(a.h[e]);c<<=1;++d;return Pc.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,c|1,d))},make:function(a,b,c,d){var e=[],f=[];if(32<d)throw new u("Invalid huffman");for(var l=0;l<d;)l++,e.push(0),f.push(0);for(l=0;l<c;){var h=l++;h=a[h+b];if(h>=d)throw new u("Invalid huffman");e[h]++}l=0;h=1;for(var m=d-1;h<
m;){var k=h++;l=l+e[k]<<1;f[k]=l}e=new Ka;for(l=0;l<c;)h=l++,m=a[h+b],0!=m&&(k=f[m-1],f[m-1]=k+1,e.h[k<<5|m]=h);return this.treeCompress(Pc.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},__class__:kh};var lh=function(a){this.buffer=new Ha(new ic(65536));this.pos=0;a&&(this.crc=new Zd)};k["haxe.zip._InflateImpl.Window"]=lh;lh.__name__=["haxe","zip","_InflateImpl","Window"];lh.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=
new Ha(new ic(65536));this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:lh};var Ca=k["haxe.zip._InflateImpl.State"]=
{__ename__:["haxe","zip","_InflateImpl","State"],__constructs__:"Head Block CData Flat Crc Dist DistOne Done".split(" ")};Ca.Head=["Head",0];Ca.Head.toString=w;Ca.Head.__enum__=Ca;Ca.Block=["Block",1];Ca.Block.toString=w;Ca.Block.__enum__=Ca;Ca.CData=["CData",2];Ca.CData.toString=w;Ca.CData.__enum__=Ca;Ca.Flat=["Flat",3];Ca.Flat.toString=w;Ca.Flat.__enum__=Ca;Ca.Crc=["Crc",4];Ca.Crc.toString=w;Ca.Crc.__enum__=Ca;Ca.Dist=["Dist",5];Ca.Dist.toString=w;Ca.Dist.__enum__=Ca;Ca.DistOne=["DistOne",6];Ca.DistOne.toString=
w;Ca.DistOne.__enum__=Ca;Ca.Done=["Done",7];Ca.Done.toString=w;Ca.Done.__enum__=Ca;var Db=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new kh;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?Ca.Head:Ca.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new lh(c)};k["haxe.zip.InflateImpl"]=Db;Db.__name__=["haxe","zip","InflateImpl"];
Db.run=function(a,b){null==b&&(b=65536);var c=new Ha(new ic(b)),d=new eh;for(a=new Db(a);;){var e=a.readBytes(c,0,b);if(0>e||e>c.length)throw new u(fb.OutsideBounds);for(var f=c.b,l=0,h=e;l<h;){var m=l++;d.b.push(f[m])}if(e<b)break}return d.getBytes()};Db.prototype={nbits:null,bits:null,state:null,"final":null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null!=Db.FIXED_HUFFMAN)return Db.FIXED_HUFFMAN;
for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}Db.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return Db.FIXED_HUFFMAN},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());
var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,
this.addByte(b)},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a[1]){case 0:return a[2];case 1:var b=a[3];a=a[2];return this.applyHuffman(this.getBit()?b:a);case 2:return this.applyHuffman(a[3][this.getBits(a[2])])}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=e;
a[c]=e;++c;break;case 16:e=c+3+this.getBits(2);if(e>b)throw new u("Invalid data");for(;c<e;)a[c]=d,++c;break;case 17:c+=3+this.getBits(3);if(c>b)throw new u("Invalid data");break;case 18:c+=11+this.getBits(7);if(c>b)throw new u("Invalid data");break;default:throw new u("Invalid data");}}},inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();if(8!=(a&15))throw new u("Invalid data");var b=this.input.readByte(),c=0!=(b&32);if(0!=((a<<8)+b)%31)throw new u("Invalid data");if(c)throw new u("Unsupported dictionary");
this.state=Ca.Block;return!0;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw new u("Invalid data");this.state=Ca.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=Ca.CData,!0;case 2:a=this.getBits(5)+257;b=this.getBits(5)+1;c=this.getBits(4)+4;for(var d=0;d<c;){var e=d++;this.lengths[Db.CODE_LENGTHS_POS[e]]=this.getBits(3)}for(;19>
c;)d=c++,this.lengths[Db.CODE_LENGTHS_POS[d]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];d=0;for(e=a+b;d<e;)d++,c.push(0);this.inflateLengths(c,a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=Ca.CData;return!0;default:throw new u("Invalid data");}case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?Ca.Crc:Ca.Block;else{b-=257;a=Db.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw new u("Invalid data");
this.len=Db.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=Db.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw new u("Invalid data");this.dist=Db.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw new u("Invalid data");this.state=1==this.dist?Ca.DistOne:Ca.Dist}return!0;case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?
Ca.Crc:Ca.Block),0<this.needed;case 4:a=this.window.checksum();if(null==a)return this.state=Ca.Done,!0;b=Zd.read(this.input);if(!a.equals(b))throw new u("Invalid CRC");this.state=Ca.Done;return!0;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=Ca.CData);return 0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&
(this.state=Ca.CData),0<this.needed;case 7:return!1}},__class__:Db};var Ai=function(){};k["haxe.zip.Uncompress"]=Ai;Ai.__name__=["haxe","zip","Uncompress"];Ai.run=function(a,b){return Db.run(new vf(a),b)};var u=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,u)};k["js._Boot.HaxeError"]=u;u.__name__=["js","_Boot","HaxeError"];u.wrap=function(a){return a instanceof Error?a:new u(a)};u.__super__=Error;u.prototype=t(Error.prototype,
{val:null,__class__:u});var M=function(){};k["js.Boot"]=M;M.__name__=["js","Boot"];M.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=M.__nativeClassName(a);return null!=a?M.__resolveNativeClass(a):null};M.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;){var f=d++;c=2!=f?c+(","+M.__string_rec(a[f],b)):c+M.__string_rec(a[f],b)}return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+M.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(l){return aa.lastException=l,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==
c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+M.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};M.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++;f=c[f];if(f==b||M.__interfLoop(f,b))return!0}return M.__interfLoop(a.__super__,b)};M.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof
Array?null==a.__enum__:!1;case lj:return"boolean"==typeof a;case Dj:return!0;case Bi:return"number"==typeof a;case hj:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||M.__interfLoop(M.getClass(a),b))return!0}else{if("object"==typeof b&&M.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==jj&&null!=a.__name__||b==kj&&null!=a.__ename__?!0:a.__enum__==b}};M.__cast=function(a,b){if(M.__instanceof(a,
b))return a;throw new u("Cannot cast "+U.string(a)+" to "+U.string(b));};M.__nativeClassName=function(a){a=M.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};M.__isNativeObj=function(a){return null!=M.__nativeClassName(a)};M.__resolveNativeClass=function(a){return jb[a]};var Ci=function(){};k["js.html._CanvasElement.CanvasUtil"]=Ci;Ci.__name__=["js","html","_CanvasElement","CanvasUtil"];Ci.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<
d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var pc=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};k["js.html.compat.ArrayBuffer"]=pc;pc.__name__=["js","html","compat","ArrayBuffer"];pc.sliceImpl=function(a,b){a=new wb(this,a,null==b?null:b-a);b=new ic(a.byteLength);(new wb(b)).set(a);return b};pc.prototype={byteLength:null,a:null,slice:function(a,b){return new pc(this.a.slice(a,
b))},__class__:pc};var Di=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new u(fb.OutsideBounds);this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};k["js.html.compat.DataView"]=Di;Di.__name__=["js","html","compat","DataView"];Di.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(a){a=this.buf.a[this.offset+
a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){a=this.getUint16(a,b);return 32768<=a?a-65536:a},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a;a=this.buf.a[c++];var d=this.buf.a[c++],e=this.buf.a[c++];c=this.buf.a[c++];return b?a|d<<8|e<<16|c<<24:c|e<<8|d<<16|a<<24},getUint32:function(a,b){a=this.getInt32(a,
b);return 0>a?a+4294967296:a},getFloat32:function(a,b){return Yb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b);a=this.getInt32(a+4,b);return Yb.i64ToDouble(b?c:a,b?a:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>
8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Yb.floatToI32(b),c)},setFloat64:function(a,b,c){b=Yb.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),
this.setUint32(a,b.low))},__class__:Di};var Yc=function(){};k["js.html.compat.Float32Array"]=Yc;Yc.__name__=["js","html","compat","Float32Array"];Yc._new=function(a,b,c){if("number"==typeof a){var d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new pc(a)}else if(M.__instanceof(a,pc)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Yb.i32ToFloat(f))}d.byteLength=
d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=Yb.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new pc(a)}else throw new u("TODO "+U.string(a));d.subarray=Yc._subarray;d.set=Yc._set;return d};Yc._set=function(a,b){if(M.__instanceof(a.buffer,pc)){if(a.byteLength+b>this.byteLength)throw new u("set() outside of range");for(var c=0,d=a.byteLength;c<
d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new u("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new u("TODO");};Yc._subarray=function(a,b){b=Yc._new(this.slice(a,b));b.byteOffset=4*a;return b};var yd=function(){};k["js.html.compat.Uint8Array"]=yd;yd.__name__=["js","html","compat","Uint8Array"];yd._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;
c.byteOffset=0;c.buffer=new pc(c)}else if(M.__instanceof(a,pc))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new pc(c);else throw new u("TODO "+U.string(a));c.subarray=yd._subarray;c.set=yd._set;return c};yd._set=function(a,b){if(M.__instanceof(a.buffer,pc)){if(a.byteLength+b>this.byteLength)throw new u("set() outside of range");
for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new u("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new u("TODO");};yd._subarray=function(a,b){b=yd._new(this.slice(a,b));b.byteOffset=a;return b};var Xg=function(){this.connected=!0;this.buttons=[];this.axes=[]};k["lime._backend.html5.GameDeviceData"]=Xg;Xg.__name__=["lime","_backend","html5","GameDeviceData"];Xg.prototype=
{connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Xg};var Ei=function(){};k["lime._backend.html5.HTML5AudioSource"]=Ei;Ei.__name__=["lime","_backend","html5","HTML5AudioSource"];Ei.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=
this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl._volume=b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",q(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},stop:function(){this.playing=!1;null!=this.parent.buffer&&this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,
this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();if(null!=this.parent.buffer){var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a}return 0},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,
this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:null!=this.parent.buffer?1E3*this.parent.buffer.__srcHowl.duration()|0:0},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:Ei};var xf=function(a){this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441;this.COLOR_ATTACHMENT0=36064;this.DEPTH_STENCIL=34041;this.FRAMEBUFFER=36160;this.CLAMP_TO_EDGE=33071;
this.TEXTURE0=33984;this.TEXTURE_2D=3553;this.TEXTURE_WRAP_T=10243;this.TEXTURE_WRAP_S=10242;this.TEXTURE_MIN_FILTER=10241;this.TEXTURE_MAG_FILTER=10240;this.LINEAR=9729;this.NEAREST=9728;this.VERSION=7938;this.RENDERER=7937;this.VENDOR=7936;this.SHADING_LANGUAGE_VERSION=35724;this.RGBA=6408;this.ALPHA=6406;this.FLOAT=5126;this.UNSIGNED_BYTE=5121;this.MAX_VIEWPORT_DIMS=3386;this.SCISSOR_TEST=3089;this.BLEND=3042;this.STATIC_DRAW=35044;this.ARRAY_BUFFER=34962;this.FUNC_REVERSE_SUBTRACT=32779;this.FUNC_ADD=
32774;this.ONE_MINUS_DST_COLOR=775;this.DST_COLOR=774;this.ONE_MINUS_DST_ALPHA=773;this.DST_ALPHA=772;this.ONE_MINUS_SRC_ALPHA=771;this.SRC_ALPHA=770;this.ONE_MINUS_SRC_COLOR=769;this.SRC_COLOR=768;this.ONE=1;this.ZERO=0;this.TRIANGLE_STRIP=5;this.COLOR_BUFFER_BIT=16384;this.__context=a;this.version=1;this.type=qc.WEBGL;if(null!=a){var b=a;Object.prototype.hasOwnProperty.call(b,"rawgl")&&(b=O.field(a,"rawgl"));Object.prototype.hasOwnProperty.call(window,"WebGL2RenderingContext")&&M.__instanceof(b,
WebGL2RenderingContext)&&(this.version=2)}};k["lime._backend.html5.HTML5GLRenderContext"]=xf;xf.__name__=["lime","_backend","html5","HTML5GLRenderContext"];xf.prototype={COLOR_BUFFER_BIT:null,TRIANGLE_STRIP:null,ZERO:null,ONE:null,SRC_COLOR:null,ONE_MINUS_SRC_COLOR:null,SRC_ALPHA:null,ONE_MINUS_SRC_ALPHA:null,DST_ALPHA:null,ONE_MINUS_DST_ALPHA:null,DST_COLOR:null,ONE_MINUS_DST_COLOR:null,FUNC_ADD:null,FUNC_REVERSE_SUBTRACT:null,ARRAY_BUFFER:null,STATIC_DRAW:null,BLEND:null,SCISSOR_TEST:null,MAX_VIEWPORT_DIMS:null,
UNSIGNED_BYTE:null,FLOAT:null,ALPHA:null,RGBA:null,SHADING_LANGUAGE_VERSION:null,VENDOR:null,RENDERER:null,VERSION:null,NEAREST:null,LINEAR:null,TEXTURE_MAG_FILTER:null,TEXTURE_MIN_FILTER:null,TEXTURE_WRAP_S:null,TEXTURE_WRAP_T:null,TEXTURE_2D:null,TEXTURE0:null,CLAMP_TO_EDGE:null,FRAMEBUFFER:null,DEPTH_STENCIL:null,COLOR_ATTACHMENT0:null,UNPACK_PREMULTIPLY_ALPHA_WEBGL:null,type:null,version:null,__context:null,__contextLost:null,bufferDataWEBGL:function(a,b,c,d,e){null!=d?this.__context.bufferData(a,
b,c,d,e):this.__context.bufferData(a,b,c)},texImage2DWEBGL:function(a,b,c,d,e,f,l,h,m,k){null!=k?this.__context.texImage2D(a,b,c,d,e,f,l,h,m,k):null!=l?this.__context.texImage2D(a,b,c,d,e,f,l,h,m):this.__context.texImage2D(a,b,c,d,e,f)},__class__:xf};var H=function(){};k["lime._backend.html5.HTML5HTTPRequest"]=H;H.__name__=["lime","_backend","html5","HTML5HTTPRequest"];H.loadImage=function(a){var b=new Jb;H.activeRequests<H.requestLimit?(H.activeRequests++,H.__loadImage(a,b)):H.requestQueue.add({instance:null,
uri:a,promise:b,type:"IMAGE"});return b.future};H.processQueue=function(){if(H.activeRequests<H.requestLimit&&0<H.requestQueue.length){H.activeRequests++;var a=H.requestQueue.pop();switch(a.type){case "BINARY":a.instance.__loadData(a.uri,a.promise);break;case "IMAGE":H.__loadImage(a.uri,a.promise);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:H.activeRequests--}}};H.__fixHostname=function(a){return null==a?"":a};H.__fixPort=function(a,b){if(null==a||""==a)switch(b){case "ftp:":return"21";
case "gopher:":return"70";case "http:":return"80";case "https:":return"443";case "ws:":return"80";case "wss:":return"443";default:return""}return a};H.__fixProtocol=function(a){return null==a||""==a?"http:":a};H.__isSameOrigin=function(a){null==H.originElement&&(H.originElement=window.document.createElement("a"),H.originHostname=H.__fixHostname(window.location.hostname),H.originProtocol=H.__fixProtocol(window.location.protocol),H.originPort=H.__fixPort(window.location.port,H.originProtocol));var b=
H.originElement;b.href=a;""==b.hostname&&(b.href=b.href);var c=H.__fixHostname(b.hostname);a=H.__fixProtocol(b.protocol);b=H.__fixPort(b.port,a);c=""==c||c==H.originHostname;b=""==b||b==H.originPort;return"file:"!=a&&c?b:!1};H.__loadImage=function(a,b){var c=new Image;H.__isSameOrigin(a)||(c.crossOrigin="Anonymous");null==H.supportsImageProgress&&(H.supportsImageProgress="onprogress"in c);if(H.supportsImageProgress||ea.startsWith(a,"data:"))c.addEventListener("load",function(a){a=new Jc(null,c.width,
c.height);a.__srcImage=c;H.activeRequests--;H.processQueue();b.complete(new pa(a))},!1),c.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1),c.addEventListener("error",function(a){H.activeRequests--;H.processQueue();b.error(a.detail)},!1),c.src=a;else{var d=new XMLHttpRequest;d.onload=function(a){H.activeRequests--;H.processQueue();(new pa).__fromBytes(Ha.ofData(d.response),function(a){b.complete(a)})};d.onerror=function(a){b.error(a.message)};d.onprogress=function(a){a.lengthComputable&&
b.progress(a.loaded,a.total)};d.open("GET",a,!0);d.responseType="arraybuffer";d.overrideMimeType("text/plain; charset=x-user-defined");d.send(null)}};H.prototype={binary:null,parent:null,request:null,cancel:function(){null!=this.request&&this.request.abort()},init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;"POST"==this.parent.method?this.request.upload.addEventListener("progress",b,!1):this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=
c;b="";if(null==this.parent.data){for(c=this.parent.formData.keys();c.hasNext();){var d=c.next();0<b.length&&(b+="&");var e=encodeURIComponent(d)+"=",f=this.parent.formData;d=U.string(null!=p[d]?f.getReserved(d):f.h[d]);b+=e+encodeURIComponent(d)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(U.string(this.parent.method),a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");
a=null;c=0;for(e=this.parent.headers;c<e.length;)d=e[c],++c,"Content-Type"==d.name?a=d.value:this.request.setRequestHeader(d.name,d.value);null!=this.parent.contentType&&(a=this.parent.contentType);null==a&&(null!=this.parent.data?a="application/octet-stream":""!=b&&(a="application/x-www-form-urlencoded"));null!=a&&this.request.setRequestHeader("Content-Type",a);this.parent.withCredentials&&(this.request.withCredentials=!0);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):
this.request.send(b)},loadData:function(a){var b=new Jb;H.activeRequests<H.requestLimit?(H.activeRequests++,this.__loadData(a,b)):H.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY"});return b.future},loadText:function(a){var b=new Jb;H.activeRequests<H.requestLimit?(H.activeRequests++,this.__loadText(a,b)):H.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT"});return b.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,
b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=ea.trim(y.substr(b,0,b.indexOf(":"))),b=ea.trim(y.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new yf(a,b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var c=this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&(200<=c.request.status&&400>c.request.status||0==c.request.status)?(a=
""==c.request.responseType?Ha.ofString(c.request.responseText):Ha.ofData(c.request.response),c.processResponse(),b.complete(a)):(c.processResponse(),b.error(c.request.status)),c.request=null,H.activeRequests--,H.processQueue())})},__loadText:function(a,b){var c=this;this.binary=!1;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&(200<=c.request.status&&400>=c.request.status||0==c.request.status)?(c.processResponse(),b.complete(c.request.responseText)):
(c.processResponse(),b.error(c.request.status)),c.request=null,H.activeRequests--,H.processQueue())})},__class__:H};var ae=function(){};k["lime._backend.html5.HTML5Mouse"]=ae;ae.__name__=["lime","_backend","html5","HTML5Mouse"];ae.set_cursor=function(a){if(ae.__cursor!=a){if(!ae.__hidden)for(var b=0,c=hc.current.__windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:var e="default";break;case 1:e="crosshair";break;case 3:e="move";break;case 4:e="pointer";break;case 5:e="nesw-resize";break;case 6:e=
"ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:e="wait";break;case 11:e="wait";break;default:e="auto"}d.backend.element.style.cursor=e}ae.__cursor=a}return ae.__cursor};var mh=function(a){this.parent=a};k["lime._backend.html5.HTML5Renderer"]=mh;mh.__name__=["lime","_backend","html5","HTML5Renderer"];mh.prototype={parent:null,create:function(){this.createContext();0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",
q(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",q(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=Eb.DOM(this.parent.window.backend.div),this.parent.type=db.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,"hardware")||this.parent.window.config.hardware)for(var b={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"background")&&null==this.parent.window.config.background,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1},c=0,d=["webgl2",
"webgl","experimental-webgl"];c<d.length&&(a=d[c],++c,a=this.parent.window.backend.canvas.getContext(a,b),null==a););null==a?(this.parent.context=Eb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=db.CANVAS):(x.context=new xf(a),this.parent.context=Eb.OPENGL(x.context),this.parent.type=db.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();null!=x.context&&(x.context.__contextLost=!0);this.parent.context=null;this.parent.onContextLost.dispatch();
break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},render:function(){},__class__:mh};var ba=function(a){this.unusedTouchesPool=new Fc;this.scale=1;this.currentTouches=new Ka;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"allowHighDPI")&&a.config.allowHighDPI&&(this.scale=window.devicePixelRatio);a.__scale=
this.scale;this.cacheMouseY=this.cacheMouseX=0};k["lime._backend.html5.HTML5Window"]=ba;ba.__name__=["lime","_backend","html5","HTML5Window"];ba.prototype={canvas:null,div:null,element:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,currentTouches:null,enableTextEvents:null,parent:null,primaryTouch:null,resizeElement:null,scale:null,setHeight:null,setWidth:null,unusedTouchesPool:null,close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=
this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=ba.windowID++;M.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),
a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.cacheElementWidth=
this.parent.__width,this.cacheElementHeight=this.parent.__height,this.resizeElement=!0);null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.updateSize();if(null!=this.element){null!=this.canvas?this.element!=
this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,q(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("contextmenu",q(this,this.handleContextMenuEvent),!0);this.element.addEventListener("touchstart",
q(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",q(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",q(this,this.handleTouchEvent),!0);this.element.addEventListener("touchcancel",q(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",q(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",q(this,this.handleGamepadEvent),!0)}},handleContextMenuEvent:function(a){this.parent.onMouseUp.canceled&&
a.preventDefault()},handleCutOrCopyEvent:function(a){a.clipboardData.setData("text/plain",jc.get_text());a.preventDefault()},handleFocusEvent:function(a){this.enableTextEvents&&ld.delay(function(){ba.textInput.focus()},20)},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":lb.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&rb.__connect(a.gamepad.index);break;case "gamepaddisconnected":lb.__disconnect(a.gamepad.index),rb.__disconnect(a.gamepad.index)}},handleInputEvent:function(a){ba.textInput.value!=
ba.dummyCharacter&&(ba.textInput.value.charAt(0)==ba.dummyCharacter?this.parent.onTextInput.dispatch(y.substr(ba.textInput.value,1,null)):this.parent.onTextInput.dispatch(ba.textInput.value),ba.textInput.value=ba.dummyCharacter)},handleMouseEvent:function(a){if("wheel"!=a.type){if(null!=this.element)if(null!=this.canvas){var b=this.canvas.getBoundingClientRect();var c=this.parent.__width/b.width*(a.clientX-b.left);b=this.parent.__height/b.height*(a.clientY-b.top)}else null!=this.div?(b=this.div.getBoundingClientRect(),
c=a.clientX-b.left,b=a.clientY-b.top):(b=this.element.getBoundingClientRect(),c=this.parent.__width/b.width*(a.clientX-b.left),b=this.parent.__height/b.height*(a.clientY-b.top));else c=a.clientX,b=a.clientY;switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(c,b,a.button);this.parent.onMouseDown.canceled&&a.preventDefault();break;case "mouseenter":a.target==this.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&a.preventDefault());break;case "mouseleave":a.target==
this.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.preventDefault());break;case "mousemove":if(c!=this.cacheMouseX||b!=this.cacheMouseY)this.parent.onMouseMove.dispatch(c,b),this.parent.onMouseMoveRelative.dispatch(c-this.cacheMouseX,b-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.preventDefault();break;case "mouseup":this.parent.onMouseUp.dispatch(c,b,a.button),this.parent.onMouseUp.canceled&&a.preventDefault()}this.cacheMouseX=
c;this.cacheMouseY=b}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY),this.parent.onMouseWheel.canceled&&a.preventDefault()},handlePasteEvent:function(a){if(-1<a.clipboardData.types.indexOf("text/plain")){var b=a.clipboardData.getData("text/plain");jc.set_text(b);this.enableTextEvents&&this.parent.onTextInput.dispatch(b);a.preventDefault()}},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&
(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e,f,l,h,m,k=0,g=a.changedTouches;k<g.length;){var n=g[k];++k;null!=b?(f=c/b.width*(n.clientX-b.left),l=d/b.height*(n.clientY-b.top)):(f=n.clientX,l=n.clientY);if("touchstart"==a.type)e=this.unusedTouchesPool.pop(),null==e?e=new Hb(f/c,l/d,n.identifier,0,0,n.force,
this.parent.id):(e.x=f/c,e.y=l/d,e.id=n.identifier,e.dx=0,e.dy=0,e.pressure=n.force,e.device=this.parent.id),this.currentTouches.h[n.identifier]=e,Hb.onStart.dispatch(e),null==this.primaryTouch&&(this.primaryTouch=e),e==this.primaryTouch&&this.parent.onMouseDown.dispatch(f,l,0);else if(e=this.currentTouches.h[n.identifier],null!=e)switch(h=e.x,m=e.y,e.x=f/c,e.y=l/d,e.dx=e.x-h,e.dy=e.y-m,e.pressure=n.force,a.type){case "touchcancel":Hb.onCancel.dispatch(e);this.currentTouches.remove(n.identifier);
this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.primaryTouch=null);break;case "touchend":Hb.onEnd.dispatch(e);this.currentTouches.remove(n.identifier);this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.parent.onMouseUp.dispatch(f,l,0),this.primaryTouch=null);break;case "touchmove":Hb.onMove.dispatch(e),e==this.primaryTouch&&this.parent.onMouseMove.dispatch(f,l)}}},resize:function(a,b){},setClipboard:function(a){var b=this.enableTextEvents;this.setEnableTextEvents(!0);var c=ba.textInput.value;
ba.textInput.value=a;ba.textInput.select();window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy");ba.textInput.value=c;this.setEnableTextEvents(b)},setEnableTextEvents:function(a){a?(null==ba.textInput&&(ba.textInput=window.document.createElement("input"),ba.textInput.type="text",ba.textInput.style.position="absolute",ba.textInput.style.opacity="0",ba.textInput.style.color="transparent",ba.textInput.value=ba.dummyCharacter,ba.textInput.autocapitalize="off",ba.textInput.autocorrect=
"off",ba.textInput.autocomplete="off",ba.textInput.style.left="0px",ba.textInput.style.top="50%",(new Ta("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(ba.textInput.style.fontSize="0px",ba.textInput.style.width="0px",ba.textInput.style.height="0px"):(ba.textInput.style.width="1px",ba.textInput.style.height="1px"),ba.textInput.style.pointerEvents="none",ba.textInput.style.zIndex="-10000000",window.document.body.appendChild(ba.textInput)),this.enableTextEvents||(ba.textInput.addEventListener("input",
q(this,this.handleInputEvent),!0),ba.textInput.addEventListener("blur",q(this,this.handleFocusEvent),!0),ba.textInput.addEventListener("cut",q(this,this.handleCutOrCopyEvent),!0),ba.textInput.addEventListener("copy",q(this,this.handleCutOrCopyEvent),!0),ba.textInput.addEventListener("paste",q(this,this.handlePasteEvent),!0)),ba.textInput.focus(),ba.textInput.select()):null!=ba.textInput&&(ba.textInput.removeEventListener("input",q(this,this.handleInputEvent),!0),ba.textInput.removeEventListener("blur",
q(this,this.handleFocusEvent),!0),ba.textInput.removeEventListener("cut",q(this,this.handleCutOrCopyEvent),!0),ba.textInput.removeEventListener("copy",q(this,this.handleCutOrCopyEvent),!0),ba.textInput.removeEventListener("paste",q(this,this.handlePasteEvent),!0),ba.textInput.blur());return this.enableTextEvents=a},updateSize:function(){if(null!=this.element){var a=this.element.clientWidth;var b=this.element.clientHeight}else a=window.innerWidth,b=window.innerHeight;if(a!=this.cacheElementWidth||
b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=b;var c=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&c))if(c){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.set_width(a),this.parent.set_height(b),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(a*this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=b+"px"):
(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,b)}else{c=0!=this.setWidth?a/this.setWidth:1;var d=0!=this.setHeight?b/this.setHeight:1,e=a,f=b,l=0,h=0;c<d?(f=Math.floor(this.setHeight*c),h=Math.floor((b-f)/2)):(e=Math.floor(this.setWidth*d),l=Math.floor((a-e)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=e+"px",this.canvas.style.height=f+"px",this.canvas.style.marginLeft=l+"px",this.canvas.style.marginTop=h+"px"):(this.div.style.width=
e+"px",this.div.style.height=f+"px",this.div.style.marginLeft=l+"px",this.div.style.marginTop=h+"px")}}},__class__:ba};var bb=function(a,b){null==b&&(b=!1);if(null!=a)if(b)b=new Jb,b.future=this,Fb.queue({promise:b,work:a});else try{this.value=a(),this.isComplete=!0}catch(c){aa.lastException=c,c instanceof u&&(c=c.val),this.error=c,this.isError=!0}};k["lime.app.Future"]=bb;bb.__name__=["lime","app","Future"];bb.withError=function(a){var b=new bb;b.isError=!0;b.error=a;return b};bb.withValue=function(a){var b=
new bb;b.isComplete=!0;b.value=a;return b};bb.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));
return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new bb;b.onError(this.error);return b}var c=new Jb;this.onError(q(c,c.error));this.onProgress(q(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(q(c,c.error));b.onComplete(q(c,c.complete))});return c.future},__class__:bb};var Fb=function(){};k["lime.app._Future.FutureWork"]=
Fb;Fb.__name__=["lime","app","_Future","FutureWork"];Fb.queue=function(a){null==Fb.threadPool&&(Fb.threadPool=new nh,Fb.threadPool.doWork.add(Fb.threadPool_doWork),Fb.threadPool.onComplete.add(Fb.threadPool_onComplete),Fb.threadPool.onError.add(Fb.threadPool_onError));Fb.threadPool.queue(a)};Fb.threadPool_doWork=function(a){try{var b=a.work();Fb.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){aa.lastException=c,c instanceof u&&(c=c.val),Fb.threadPool.sendError({promise:a.promise,error:c})}};
Fb.threadPool_onComplete=function(a){a.promise.complete(a.result)};Fb.threadPool_onError=function(a){a.promise.error(a.error)};var zd=function(){this.bytesTotalCache=new C;this.bytesLoadedCache2=new C;this.bytesLoadedCache=new pb;this.onProgress=new zf;this.onComplete=new mb;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(q(this,this.update))};k["lime.app.Preloader"]=zd;zd.__name__=["lime","app","Preloader"];zd.prototype={complete:null,onComplete:null,
onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,preloadComplete:null,preloadStarted:null,simulateProgress:null,addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},create:function(a){},load:function(){for(var a=this,b=0,c=this.libraries;b<c.length;){var d=c[b];++b;this.bytesTotal+=
d.bytesTotal}this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(c=this.libraries;b<c.length;)d=[c[b]],++b,eb.verbose("Preloading asset library",{fileName:"Preloader.hx",lineNumber:153,className:"lime.app.Preloader",methodName:"load"}),d[0].load().onProgress(function(b){return function(c,d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+c:a.bytesLoaded+(c-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],c);a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,
a.bytesTotal)}}(d)).onComplete(function(b){return function(c){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+(b[0].bytesTotal-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(d)).onError(function(){return function(a){eb.error(a,{fileName:"Preloader.hx",lineNumber:191,className:"lime.app.Preloader",methodName:"load"})}}());b=0;for(c=this.libraryNames;b<c.length;)++b,this.bytesTotal+=200;this.loadedLibraries++;this.preloadStarted=
!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;var b=this.loadedLibraries;this.preloadStarted||++b;var c=this.libraries.length+this.libraryNames.length;null!=a?eb.verbose("Loaded asset library: "+a+" ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:223,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"}):eb.verbose("Loaded asset library ["+b+"/"+c+"]",{fileName:"Preloader.hx",lineNumber:227,className:"lime.app.Preloader",methodName:"loadedAssetLibrary"});
this.updateProgress()},start:function(){this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var b=0,c=this.libraryNames;b<c.length;){var d=[c[b]];++b;eb.verbose("Preloading asset library: "+d[0],{fileName:"Preloader.hx",lineNumber:276,className:"lime.app.Preloader",
methodName:"updateProgress"});R.loadLibrary(d[0]).onProgress(function(b){return function(c,d){if(0<d){var e=a.bytesTotalCache;(null!=p[b[0]]?e.existsReserved(b[0]):e.h.hasOwnProperty(b[0]))||(e=a.bytesTotalCache,null!=p[b[0]]?e.setReserved(b[0],d):e.h[b[0]]=d,a.bytesTotal+=d-200);c>d&&(c=d);d=a.bytesLoadedCache2;(null!=p[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))?(d=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=p[b[0]]?d.getReserved(b[0]):d.h[b[0]])):a.bytesLoaded+=c;d=a.bytesLoadedCache2;
null!=p[b[0]]?d.setReserved(b[0],c):d.h[b[0]]=c;a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}}(d)).onComplete(function(b){return function(c){c=200;var d=a.bytesTotalCache;if(null!=p[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))c=a.bytesTotalCache,c=null!=p[b[0]]?c.getReserved(b[0]):c.h[b[0]];d=a.bytesLoadedCache2;(null!=p[b[0]]?d.existsReserved(b[0]):d.h.hasOwnProperty(b[0]))?(d=a.bytesLoadedCache2,a.bytesLoaded+=c-(null!=p[b[0]]?d.getReserved(b[0]):d.h[b[0]])):
a.bytesLoaded+=c;a.loadedAssetLibrary(b[0])}}(d)).onError(function(){return function(a){eb.error(a,{fileName:"Preloader.hx",lineNumber:335,className:"lime.app.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,eb.verbose("Preload complete",{fileName:"Preloader.hx",lineNumber:349,className:"lime.app.Preloader",methodName:"updateProgress"})),this.start())},__class__:zd};
var Jb=function(){this.future=new bb};k["lime.app.Promise"]=Jb;Jb.__name__=["lime","app","Promise"];Jb.prototype={future:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(q(this,this.complete));a.onError(q(this,this.error));a.onProgress(q(this,this.progress));
return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var e=d[c];++c;e(a,b)}return this},__class__:Jb};var Af=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Float_Float_Int_Void"]=Af;Af.__name__=["lime","app","_Event_Float_Float_Int_Void"];Af.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);
this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:Af};var be=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};k["lime.app._Event_Float_Float_Void"]=be;be.__name__=["lime","app","_Event_Float_Float_Void"];be.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:be};var oh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_Float_Float_Void"]=oh;oh.__name__=["lime",
"app","_Event_Int_Float_Float_Void"];oh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:oh};var ph=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};k["lime.app._Event_Int_Float_Void"]=ph;ph.__name__=["lime","app","_Event_Int_Float_Void"];ph.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:ph};var zf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_Int_Void"]=zf;zf.__name__=["lime","app",
"_Event_Int_Int_Void"];zf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:zf};var Rd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_Void"]=Rd;Rd.__name__=["lime","app","_Event_Int_Void"];Rd.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==
c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Rd};var qh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=qh;qh.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];qh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:qh};var rh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_String_Int_Int_Void"]=rh;rh.__name__=["lime","app","_Event_String_Int_Int_Void"];rh.prototype={canceled:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:rh};var Bf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_String_Void"]=Bf;Bf.__name__=["lime","app","_Event_String_Void"];
Bf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(O.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Bf};var mb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_Void_Void"]=mb;mb.__name__=["lime","app","_Event_Void_Void"];
mb.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:mb};var ce=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_haxe_Function_Void"]=ce;ce.__name__=["lime","app","_Event_haxe_Function_Void"];ce.prototype={canceled:null,__repeat:null,
__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,
1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ce};var sh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_graphics_RenderContext_Void"]=sh;sh.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];sh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=
0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:sh};var th=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=th;th.__name__=["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];th.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=
d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<
c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:th};var Cf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_GamepadButton_Void"]=Cf;Cf.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];Cf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););
},__class__:Cf};var uh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_Gamepad_Void"]=uh;uh.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];uh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:uh};var vh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};k["lime.app._Event_lime_ui_Joystick_Void"]=vh;vh.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];vh.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:vh};var Df=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=
Df;Df.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];Df.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Df};var de=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app._Event_lime_ui_Touch_Void"]=de;de.__name__=["lime",
"app","_Event_lime_ui_Touch_Void"];de.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)O.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:de};var pa=function(a,b,c,d,e,f,l){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;null==l&&(l=gb.CANVAS);this.type=l;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=
new Jc(null,d,e);la.createCanvas(this,d,e);null!=f&&0!=f&&this.fillRect(new Zc(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new wb(a):null,this.buffer=new Jc(a,d,e),null!=f&&0!=f&&this.fillRect(new Zc(0,0,d,e),f)}}else this.__fromImageBuffer(a)};k["lime.graphics.Image"]=pa;pa.__name__=["lime","graphics","Image"];pa.fromBase64=function(a,b){if(null==a)return null;var c=new pa;c.__fromBase64(a,b);return c};pa.fromBitmapData=function(a){return null==a?null:a.image};pa.fromBytes=function(a){if(null==a)return null;
var b=new pa;b.__fromBytes(a);return b};pa.fromCanvas=function(a){if(null==a)return null;var b=new Jc(null,a.width,a.height);b.set_src(a);a=new pa(b);a.type=gb.CANVAS;return a};pa.fromFile=function(a){if(null==a)return null;var b=new pa;b.__fromFile(a);return b};pa.fromImageElement=function(a){if(null==a)return null;var b=new Jc(null,a.width,a.height);b.set_src(a);a=new pa(b);a.type=gb.CANVAS;return a};pa.loadFromBase64=function(a,b){return null==a||null==b?bb.withValue(null):H.loadImage("data:"+
b+";base64,"+a)};pa.loadFromBytes=function(a){if(null==a)return bb.withValue(null);if(pa.__isPNG(a))var b="image/png";else if(pa.__isJPG(a))b="image/jpeg";else if(pa.__isGIF(a))b="image/gif";else if(pa.__isWebP(a))b="image/webp";else return bb.withValue(null);return pa.loadFromBase64(pa.__base64Encode(a),b)};pa.loadFromFile=function(a){return null==a?bb.withValue(null):H.loadImage(a)};pa.__base64Encode=function(a){switch(a.length%3){case 1:var b="==";break;case 2:b="=";break;default:b=""}null==pa.__base64Encoder&&
(pa.__base64Encoder=new dh(Ha.ofString(pa.__base64Chars)));return pa.__base64Encoder.encodeBytes(a).toString()+b};pa.__isGIF=function(a){if(null==a||6>a.length)return!1;a=a.getString(0,6);return"GIF87a"!=a?"GIF89a"==a:!0};pa.__isJPG=function(a){return null==a||4>a.length?!1:255==a.b[0]&&216==a.b[1]&&255==a.b[a.length-2]?217==a.b[a.length-1]:!1};pa.__isPNG=function(a){return null==a||8>a.length?!1:137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};pa.__isWebP=
function(a){return null==a||16>a.length?!1:"RIFF"==a.getString(0,4)?"WEBP"==a.getString(8,4):!1};pa.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,type:null,version:null,width:null,clone:function(){if(null!=this.buffer){this.type==gb.CANVAS?la.convertToCanvas(this):la.convertToData(this);var a=new pa(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new pa(null,this.offsetX,this.offsetY,this.width,this.height,
null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:la.colorTransform(this,a,b);break;case 1:la.convertToData(this);yb.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),hb.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==Pb.ALPHA&&!this.get_transparent()||0>=b.width||
0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:la.copyChannel(this,a,b,c,d,e);break;case 1:la.convertToData(this);la.convertToData(a);yb.copyChannel(this,a,b,c,d,e);break;case 2:switch(d[1]){case 0:var f=1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}switch(e[1]){case 0:var l=1;break;case 1:l=2;break;case 2:l=4;break;case 3:l=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),
b.__toFlashRectangle(),c.__toFlashPoint(),f,l)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,
b.y-=c.y,c.y=0),a==this&&c.x<b.get_right()&&c.y<b.get_bottom()&&(a=this.clone()),this.type[1]){case 0:la.convertToData(this);la.convertToData(a);null!=d&&la.convertToData(d);yb.copyPixels(this,a,b,c,d,e,f);break;case 1:la.convertToData(this);la.convertToData(a);null!=d&&la.convertToData(d);yb.copyPixels(this,a,b,c,d,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,
b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,f)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:la.fillRect(this,a,b,c);break;case 1:la.convertToData(this);if(0==this.buffer.data.length)break;yb.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==c)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|
(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,
e=new Image;e.addEventListener("load",function(a){d.buffer=new Jc(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){if(pa.__isPNG(a))var c="image/png";else if(pa.__isJPG(a))c="image/jpeg";else if(pa.__isGIF(a))c="image/gif";else return;this.__fromBase64(pa.__base64Encode(a),c,b)},__fromFile:function(a,b,c){var d=this,e=new Image;H.__isSameOrigin(a)||(e.crossOrigin=
"Anonymous");e.onload=function(a){d.buffer=new Jc(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&la.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},
set_format:function(a){this.buffer.format!=a&&1==this.type[1]&&yb.setFormat(this,a);return this.buffer.format=a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:la.convertToData(this),yb.multiplyAlpha(this)}else!a&&this.buffer.premultiplied&&1==this.type[1]&&(la.convertToData(this),yb.unmultiplyAlpha(this));return a},get_rect:function(){return new Zc(0,0,this.width,this.height)},get_src:function(){null==
this.buffer.__srcCanvas&&la.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:pa,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_format:"set_format",get_format:"get_format",
get_data:"get_data"}};var Jc=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};k["lime.graphics.ImageBuffer"]=Jc;Jc.__name__=["lime","graphics","ImageBuffer"];Jc.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcImage:null,__srcImageData:null,
clone:function(){var a=new Jc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength;b=null!=b?new wb(b):null;a.data=b;b=this.data;b=null!=b?new wb(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,
this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;
return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){M.__instanceof(a,Image)?this.__srcImage=a:M.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Jc,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Pb=k["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED",
"GREEN","BLUE","ALPHA"]};Pb.RED=["RED",0];Pb.RED.toString=w;Pb.RED.__enum__=Pb;Pb.GREEN=["GREEN",1];Pb.GREEN.toString=w;Pb.GREEN.__enum__=Pb;Pb.BLUE=["BLUE",2];Pb.BLUE.toString=w;Pb.BLUE.__enum__=Pb;Pb.ALPHA=["ALPHA",3];Pb.ALPHA.toString=w;Pb.ALPHA.__enum__=Pb;var gb=k["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};gb.CANVAS=["CANVAS",0];gb.CANVAS.toString=w;gb.CANVAS.__enum__=gb;gb.DATA=["DATA",1];gb.DATA.toString=w;gb.DATA.__enum__=
gb;gb.FLASH=["FLASH",2];gb.FLASH.toString=w;gb.FLASH.__enum__=gb;gb.CUSTOM=["CUSTOM",3];gb.CUSTOM.toString=w;gb.CUSTOM.__enum__=gb;var Eb=k["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};Eb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=Eb;a.toString=w;return a};Eb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=Eb;a.toString=w;return a};Eb.DOM=function(a){a=["DOM",2,a];a.__enum__=Eb;a.toString=
w;return a};Eb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Eb;a.toString=w;return a};Eb.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=Eb;a.toString=w;return a};Eb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=Eb;a.toString=w;return a};Eb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=Eb;a.toString=w;return a};Eb.NONE=["NONE",7];Eb.NONE.toString=w;Eb.NONE.__enum__=Eb;var Yg=function(a){this.onRender=new mb;this.onContextRestored=new sh;this.onContextLost=new mb;this.window=a;this.backend=new mh(this);
this.window.renderer=this};k["lime.graphics.Renderer"]=Yg;Yg.__name__=["lime","graphics","Renderer"];Yg.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},render:function(){this.backend.render()},__class__:Yg};var db=k["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};
db.OPENGL=["OPENGL",0];db.OPENGL.toString=w;db.OPENGL.__enum__=db;db.CANVAS=["CANVAS",1];db.CANVAS.toString=w;db.CANVAS.__enum__=db;db.DOM=["DOM",2];db.DOM.toString=w;db.DOM.__enum__=db;db.FLASH=["FLASH",3];db.FLASH.toString=w;db.FLASH.__enum__=db;db.CAIRO=["CAIRO",4];db.CAIRO.toString=w;db.CAIRO.__enum__=db;db.CONSOLE=["CONSOLE",5];db.CONSOLE.toString=w;db.CONSOLE.__enum__=db;db.CUSTOM=["CUSTOM",6];db.CUSTOM.toString=w;db.CUSTOM.__enum__=db;var Fi=function(){};k["lime.graphics.cairo.Cairo"]=Fi;Fi.__name__=
["lime","graphics","cairo","Cairo"];Fi.prototype={__class__:Fi};var Gi={};k["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Gi;Gi.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];Gi.flush=function(a){};var x=function(){};k["lime.graphics.opengl.GL"]=x;x.__name__=["lime","graphics","opengl","GL"];var qc=k["lime.graphics.opengl.GLContextType"]={__ename__:["lime","graphics","opengl","GLContextType"],__constructs__:["OPENGL","GLES","WEBGL"]};qc.OPENGL=["OPENGL",0];qc.OPENGL.toString=
w;qc.OPENGL.__enum__=qc;qc.GLES=["GLES",1];qc.GLES.toString=w;qc.GLES.__enum__=qc;qc.WEBGL=["WEBGL",2];qc.WEBGL.toString=w;qc.WEBGL.__enum__=qc;var Ef={};k["lime.graphics.opengl._WebGLContext.WebGLContext_Impl_"]=Ef;Ef.__name__=["lime","graphics","opengl","_WebGLContext","WebGLContext_Impl_"];Ef.bufferData=function(a,b,c,d){a.bufferDataWEBGL(b,c,d,null,null)};Ef.texImage2D=function(a,b,c,d,e,f,l,h,m,k){a.texImage2DWEBGL(b,c,d,e,f,l,h,m,k,null)};var la=function(){};k["lime.graphics.utils.ImageCanvasUtil"]=
la;la.__name__=["lime","graphics","utils","ImageCanvasUtil"];la.colorTransform=function(a,b,c){la.convertToData(a);yb.colorTransform(a,b,c)};la.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(la.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),la.createCanvas(a,c.width,c.height),la.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,
0,0)):a.type==gb.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=gb.CANVAS};la.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&la.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)la.createImageData(a),a.type==gb.CANVAS&&(a.dirty=!1);else if(a.type==gb.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==
c.__srcImageData)la.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer;d=null!=d?new wb(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=gb.DATA};la.copyChannel=function(a,b,c,d,e,f){la.convertToData(b);la.convertToData(a);yb.copyChannel(a,b,c,d,e,f)};la.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=
b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};la.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=
a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer;b=null!=b?new wb(b):null;a.data=b}};la.fillRect=function(a,b,c,d){la.convertToCanvas(a);if(1==d){d=c>>16&255;var e=c>>8&255;var f=c&255;c=a.get_transparent()?c>>24&255:255}else d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255;0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(255>c&&a.buffer.__srcContext.clearRect(b.x+
a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),0<c&&(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)),a.dirty=!0,a.version++)};la.sync=function(a,b){null!=a&&(a.type==gb.CANVAS?la.convertToCanvas(a,b):la.convertToData(a,b))};var yb=function(){};k["lime.graphics.utils.ImageDataUtil"]=yb;yb.__name__=["lime","graphics","utils","ImageDataUtil"];yb.colorTransform=function(a,
b,c){var d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Qc(a,b);var l=hb.getAlphaTable(c),h=hb.getRedTable(c),m=hb.getGreenTable(c);c=hb.getBlueTable(c);for(var k,g,n,p=0,q=b.height;p<q;){k=p++;k=b.byteOffset+b.stride*k;for(var r=0,t=b.width;r<t;){g=r++;g=k+4*g;switch(e){case 0:n=(d[g]&255)<<24|(d[g+1]&255)<<16|(d[g+2]&255)<<8|d[g+3]&255;break;case 1:n=(d[g+1]&255)<<24|(d[g+2]&255)<<16|(d[g+3]&255)<<8|d[g]&255;break;case 2:n=(d[g+2]&255)<<24|(d[g+1]&255)<<16|(d[g]&
255)<<8|d[g+3]&255}f&&0!=(n&255)&&255!=(n&255)&&(A.unmult=255/(n&255),n=(A.__clamp[Math.round((n>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((n>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((n>>>8&255)*A.unmult)]&255)<<8|n&255);n=(h[n>>>24&255]&255)<<24|(m[n>>>16&255]&255)<<16|(c[n>>>8&255]&255)<<8|l[n&255]&255;f&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(A.a16=A.__alpha16[n&255],n=((n>>>24&255)*A.a16>>16&255)<<24|((n>>>16&255)*A.a16>>16&255)<<16|((n>>>8&255)*A.a16>>16&255)<<8|n&255));
switch(e){case 0:d[g]=n>>>24&255;d[g+1]=n>>>16&255;d[g+2]=n>>>8&255;d[g+3]=n&255;break;case 1:d[g]=n&255;d[g+1]=n>>>24&255;d[g+2]=n>>>16&255;d[g+3]=n>>>8&255;break;case 2:d[g]=n>>>8&255,d[g+1]=n>>>16&255,d[g+2]=n>>>24&255,d[g+3]=n&255}}}a.dirty=!0;a.version++}};yb.copyChannel=function(a,b,c,d,e,f){switch(f[1]){case 0:var l=0;break;case 1:l=1;break;case 2:l=2;break;case 3:l=3}switch(e[1]){case 0:var h=0;break;case 1:h=1;break;case 2:h=2;break;case 3:h=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&
null!=f){c=new Qc(b,c);d=new Qc(a,new Zc(d.x,d.y,c.width,c.height));var m=b.buffer.format,k=a.buffer.format;b=b.buffer.premultiplied;for(var g=a.buffer.premultiplied,n,p,q,r,t=0,v=0,u=d.height;v<u;){p=v++;n=c.byteOffset+c.stride*p;p=d.byteOffset+d.stride*p;for(var x=0,w=d.width;x<w;){x++;switch(m){case 0:q=(e[n]&255)<<24|(e[n+1]&255)<<16|(e[n+2]&255)<<8|e[n+3]&255;break;case 1:q=(e[n+1]&255)<<24|(e[n+2]&255)<<16|(e[n+3]&255)<<8|e[n]&255;break;case 2:q=(e[n+2]&255)<<24|(e[n+1]&255)<<16|(e[n]&255)<<
8|e[n+3]&255}b&&0!=(q&255)&&255!=(q&255)&&(A.unmult=255/(q&255),q=(A.__clamp[Math.round((q>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((q>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((q>>>8&255)*A.unmult)]&255)<<8|q&255);switch(k){case 0:r=(f[p]&255)<<24|(f[p+1]&255)<<16|(f[p+2]&255)<<8|f[p+3]&255;break;case 1:r=(f[p+1]&255)<<24|(f[p+2]&255)<<16|(f[p+3]&255)<<8|f[p]&255;break;case 2:r=(f[p+2]&255)<<24|(f[p+1]&255)<<16|(f[p]&255)<<8|f[p+3]&255}g&&0!=(r&255)&&255!=(r&255)&&(A.unmult=
255/(r&255),r=(A.__clamp[Math.round((r>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((r>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((r>>>8&255)*A.unmult)]&255)<<8|r&255);switch(h){case 0:t=q>>>24&255;break;case 1:t=q>>>16&255;break;case 2:t=q>>>8&255;break;case 3:t=q&255}switch(l){case 0:r=(t&255)<<24|(r>>>16&255)<<16|(r>>>8&255)<<8|r&255;break;case 1:r=(r>>>24&255)<<24|(t&255)<<16|(r>>>8&255)<<8|r&255;break;case 2:r=(r>>>24&255)<<24|(r>>>16&255)<<16|(t&255)<<8|r&255;break;case 3:r=
(r>>>24&255)<<24|(r>>>16&255)<<16|(r>>>8&255)<<8|t&255}g&&(0==(r&255)?0!=r&&(r=0):255!=(r&255)&&(A.a16=A.__alpha16[r&255],r=((r>>>24&255)*A.a16>>16&255)<<24|((r>>>16&255)*A.a16>>16&255)<<16|((r>>>8&255)*A.a16>>16&255)<<8|r&255));switch(k){case 0:f[p]=r>>>24&255;f[p+1]=r>>>16&255;f[p+2]=r>>>8&255;f[p+3]=r&255;break;case 1:f[p]=r&255;f[p+1]=r>>>24&255;f[p+2]=r>>>16&255;f[p+3]=r>>>8&255;break;case 2:f[p]=r>>>8&255,f[p+1]=r>>>16&255,f[p+2]=r>>>24&255,f[p+3]=r&255}n+=4;p+=4}}a.dirty=!0;a.version++}};yb.copyPixels=
function(a,b,c,d,e,f,l){null==l&&(l=!1);if(a.width==b.width&&a.height==b.height&&c.width==b.width&&c.height==b.height&&0==c.x&&0==c.y&&0==d.x&&0==d.y&&null==e&&null==f&&0==l&&a.get_format()==b.get_format())a.buffer.data.set(b.buffer.data);else{var h=b.buffer.data,m=a.buffer.data;if(null==h||null==m)return;c=new Qc(b,c);var k=new Zc(d.x,d.y,c.width,c.height);k=new Qc(a,k);var g=b.buffer.format,n=a.buffer.format,p=b.buffer.premultiplied,q=a.buffer.premultiplied;var r=b.buffer.bitsPerPixel/8|0;b=a.buffer.bitsPerPixel/
8|0;var t=null!=e&&e.get_transparent();var v=l||t&&!a.get_transparent();if(t)if(null==f&&(f=new ee),b=e.buffer.data,l=e.buffer.format,f=new Qc(e,new Zc(f.x,f.y,e.width,e.height)),f.offset(c.x,c.y),k.clip(d.x|0,d.y|0,f.width,f.height),v)for(var u=0,x=k.height;u<x;){v=u++;d=c.byteOffset+c.stride*v;e=k.byteOffset+k.stride*v;var w=f.byteOffset+f.stride*v;for(var y=0,z=k.width;y<z;){y++;switch(g){case 0:var K=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:K=(h[d+1]&255)<<24|(h[d+
2]&255)<<16|(h[d+3]&255)<<8|h[d]&255;break;case 2:K=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255}p&&0!=(K&255)&&255!=(K&255)&&(A.unmult=255/(K&255),K=(A.__clamp[Math.round((K>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((K>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((K>>>8&255)*A.unmult)]&255)<<8|K&255);switch(n){case 0:var D=(m[e]&255)<<24|(m[e+1]&255)<<16|(m[e+2]&255)<<8|m[e+3]&255;break;case 1:D=(m[e+1]&255)<<24|(m[e+2]&255)<<16|(m[e+3]&255)<<8|m[e]&255;break;case 2:D=
(m[e+2]&255)<<24|(m[e+1]&255)<<16|(m[e]&255)<<8|m[e+3]&255}q&&0!=(D&255)&&255!=(D&255)&&(A.unmult=255/(D&255),D=(A.__clamp[Math.round((D>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((D>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((D>>>8&255)*A.unmult)]&255)<<8|D&255);switch(l){case 0:var B=(b[w]&255)<<24|(b[w+1]&255)<<16|(b[w+2]&255)<<8|b[w+3]&255;break;case 1:B=(b[w+1]&255)<<24|(b[w+2]&255)<<16|(b[w+3]&255)<<8|b[w]&255;break;case 2:B=(b[w+2]&255)<<24|(b[w+1]&255)<<16|(b[w]&255)<<8|
b[w+3]&255}v=(B&255)/255*((K&255)/255);if(0<v){r=(D&255)/255;t=1-v;var C=v+r*t;D=(A.__clamp[Math.round(((K>>>24&255)*v+(D>>>24&255)*r*t)/C)]&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|D&255;D=(D>>>24&255)<<24|(A.__clamp[Math.round(((K>>>16&255)*v+(D>>>16&255)*r*t)/C)]&255)<<16|(D>>>8&255)<<8|D&255;D=(D>>>24&255)<<24|(D>>>16&255)<<16|(A.__clamp[Math.round(((K>>>8&255)*v+(D>>>8&255)*r*t)/C)]&255)<<8|D&255;D=(D>>>24&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|A.__clamp[Math.round(255*C)]&255;q&&(0==(D&255)?
0!=D&&(D=0):255!=(D&255)&&(A.a16=A.__alpha16[D&255],D=((D>>>24&255)*A.a16>>16&255)<<24|((D>>>16&255)*A.a16>>16&255)<<16|((D>>>8&255)*A.a16>>16&255)<<8|D&255));switch(n){case 0:m[e]=D>>>24&255;m[e+1]=D>>>16&255;m[e+2]=D>>>8&255;m[e+3]=D&255;break;case 1:m[e]=D&255;m[e+1]=D>>>24&255;m[e+2]=D>>>16&255;m[e+3]=D>>>8&255;break;case 2:m[e]=D>>>8&255,m[e+1]=D>>>16&255,m[e+2]=D>>>24&255,m[e+3]=D&255}}d+=4;e+=4;w+=4}}else for(D=0,v=k.height;D<v;)for(r=D++,d=c.byteOffset+c.stride*r,e=k.byteOffset+k.stride*r,
w=f.byteOffset+f.stride*r,r=0,t=k.width;r<t;){r++;switch(g){case 0:K=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:K=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<8|h[d]&255;break;case 2:K=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255}p&&0!=(K&255)&&255!=(K&255)&&(A.unmult=255/(K&255),K=(A.__clamp[Math.round((K>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((K>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((K>>>8&255)*A.unmult)]&255)<<8|K&255);switch(l){case 0:B=
(b[w]&255)<<24|(b[w+1]&255)<<16|(b[w+2]&255)<<8|b[w+3]&255;break;case 1:B=(b[w+1]&255)<<24|(b[w+2]&255)<<16|(b[w+3]&255)<<8|b[w]&255;break;case 2:B=(b[w+2]&255)<<24|(b[w+1]&255)<<16|(b[w]&255)<<8|b[w+3]&255}K=(K>>>24&255)<<24|(K>>>16&255)<<16|(K>>>8&255)<<8|Math.round((B&255)/255*(K&255))&255;q&&(0==(K&255)?0!=K&&(K=0):255!=(K&255)&&(A.a16=A.__alpha16[K&255],K=((K>>>24&255)*A.a16>>16&255)<<24|((K>>>16&255)*A.a16>>16&255)<<16|((K>>>8&255)*A.a16>>16&255)<<8|K&255));switch(n){case 0:m[e]=K>>>24&255;
m[e+1]=K>>>16&255;m[e+2]=K>>>8&255;m[e+3]=K&255;break;case 1:m[e]=K&255;m[e+1]=K>>>24&255;m[e+2]=K>>>16&255;m[e+3]=K>>>8&255;break;case 2:m[e]=K>>>8&255,m[e+1]=K>>>16&255,m[e+2]=K>>>24&255,m[e+3]=K&255}d+=4;e+=4;w+=4}else if(v)for(B=0,b=k.height;B<b;)for(e=B++,d=c.byteOffset+c.stride*e,e=k.byteOffset+k.stride*e,l=0,f=k.width;l<f;){l++;switch(g){case 0:K=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:K=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<8|h[d]&255;break;case 2:K=
(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255}p&&0!=(K&255)&&255!=(K&255)&&(A.unmult=255/(K&255),K=(A.__clamp[Math.round((K>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((K>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((K>>>8&255)*A.unmult)]&255)<<8|K&255);switch(n){case 0:D=(m[e]&255)<<24|(m[e+1]&255)<<16|(m[e+2]&255)<<8|m[e+3]&255;break;case 1:D=(m[e+1]&255)<<24|(m[e+2]&255)<<16|(m[e+3]&255)<<8|m[e]&255;break;case 2:D=(m[e+2]&255)<<24|(m[e+1]&255)<<16|(m[e]&255)<<8|m[e+
3]&255}q&&0!=(D&255)&&255!=(D&255)&&(A.unmult=255/(D&255),D=(A.__clamp[Math.round((D>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((D>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((D>>>8&255)*A.unmult)]&255)<<8|D&255);v=(K&255)/255;r=(D&255)/255;t=1-v;C=v+r*t;0==C?D=0:(D=(A.__clamp[Math.round(((K>>>24&255)*v+(D>>>24&255)*r*t)/C)]&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|D&255,D=(D>>>24&255)<<24|(A.__clamp[Math.round(((K>>>16&255)*v+(D>>>16&255)*r*t)/C)]&255)<<16|(D>>>8&255)<<8|D&255,D=
(D>>>24&255)<<24|(D>>>16&255)<<16|(A.__clamp[Math.round(((K>>>8&255)*v+(D>>>8&255)*r*t)/C)]&255)<<8|D&255,D=(D>>>24&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|A.__clamp[Math.round(255*C)]&255);q&&(0==(D&255)?0!=D&&(D=0):255!=(D&255)&&(A.a16=A.__alpha16[D&255],D=((D>>>24&255)*A.a16>>16&255)<<24|((D>>>16&255)*A.a16>>16&255)<<16|((D>>>8&255)*A.a16>>16&255)<<8|D&255));switch(n){case 0:m[e]=D>>>24&255;m[e+1]=D>>>16&255;m[e+2]=D>>>8&255;m[e+3]=D&255;break;case 1:m[e]=D&255;m[e+1]=D>>>24&255;m[e+2]=D>>>16&
255;m[e+3]=D>>>8&255;break;case 2:m[e]=D>>>8&255,m[e+1]=D>>>16&255,m[e+2]=D>>>24&255,m[e+3]=D&255}d+=4;e+=4}else if(g==n&&p==q&&r==b)for(K=0,g=k.height;K<g;)n=K++,d=c.byteOffset+c.stride*n,e=k.byteOffset+k.stride*n,m.set(h.subarray(d,d+k.width*b),e);else for(D=0,B=k.height;D<B;)for(e=D++,d=c.byteOffset+c.stride*e,e=k.byteOffset+k.stride*e,b=0,l=k.width;b<l;){b++;switch(g){case 0:K=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:K=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<
8|h[d]&255;break;case 2:K=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255}p&&0!=(K&255)&&255!=(K&255)&&(A.unmult=255/(K&255),K=(A.__clamp[Math.round((K>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((K>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((K>>>8&255)*A.unmult)]&255)<<8|K&255);q&&(0==(K&255)?0!=K&&(K=0):255!=(K&255)&&(A.a16=A.__alpha16[K&255],K=((K>>>24&255)*A.a16>>16&255)<<24|((K>>>16&255)*A.a16>>16&255)<<16|((K>>>8&255)*A.a16>>16&255)<<8|K&255));switch(n){case 0:m[e]=
K>>>24&255;m[e+1]=K>>>16&255;m[e+2]=K>>>8&255;m[e+3]=K&255;break;case 1:m[e]=K&255;m[e+1]=K>>>24&255;m[e+2]=K>>>16&255;m[e+3]=K>>>8&255;break;case 2:m[e]=K>>>8&255,m[e+1]=K>>>16&255,m[e+2]=K>>>24&255,m[e+3]=K&255}d+=4;e+=4}}a.dirty=!0;a.version++};yb.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255);d=
a.buffer.data;if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(A.a16=A.__alpha16[c&255],c=((c>>>24&255)*A.a16>>16&255)<<24|((c>>>16&255)*A.a16>>16&255)<<16|((c>>>8&255)*A.a16>>16&255)<<8|c&255));b=new Qc(a,b);for(var f,l=0,h=b.height;l<h;){f=l++;f=b.byteOffset+b.stride*f;for(var m=0,k=b.width;m<k;){var g=m++;g=f+4*g;switch(e){case 0:d[g]=c>>>24&255;d[g+1]=c>>>16&255;d[g+2]=c>>>8&255;d[g+3]=c&255;break;case 1:d[g]=c&255;d[g+1]=c>>>24&255;d[g+2]=c>>>16&
255;d[g+3]=c>>>8&255;break;case 2:d[g]=c>>>8&255,d[g+1]=c>>>16&255,d[g+2]=c>>>24&255,d[g+3]=c&255}}}a.dirty=!0;a.version++}};yb.gaussianBlur=function(a,b,c,d,e,f,l,h){null==h&&(h=1);null==l&&(l=1);null==f&&(f=4);null==e&&(e=4);var m=a.buffer.premultiplied||b.buffer.premultiplied?function(a,b){a|=0;return 0>a?0:255<a?255:a}:function(a,b){a=a/b*255|0;return 0>a?0:255<a?255:a};var k=function(a,b){var c=Math.floor(Math.sqrt(12*a*a/b+1));0==c%2&&--c;var d=c+2;a=Math.round((12*a*a-b*c*c-4*b*c-3*b)/(-4*
c-4));for(var e=[],f=0;f<b;){var g=f++;e.push(g<a?c:d)}return e},g=function(a,b,c,d,e,f){for(var g=1/(e+e+1),h=0;h<d;){for(var l=h++*c,m=l,k=l+e,n=a[4*l+f],p=a[4*(l+c-1)+f],q=(e+1)*n,r=0,Fd=e;r<Fd;){var t=r++;q+=a[4*(l+t)+f]}r=0;for(Fd=e+1;r<Fd;)r++,q+=a[4*k+f]-n,b[4*l+f]=Math.round(nb.toFloat(q)*g),++k,++l;n=e+1;for(r=c-e;n<r;)n++,q+=a[4*k+f]-a[4*m+f],b[4*l+f]=Math.round(nb.toFloat(q)*g),++k,++m,++l;k=c-e;for(n=c;k<n;)k++,q+=p-a[4*m+f],b[4*l+f]=Math.round(nb.toFloat(q)*g),++m,++l}},n=function(a,
b,c,d,e,f){for(var g=1/(e+e+1),h=4*c,l=0;l<c;){for(var m=4*l++ +f,k=m,n=m+e*h,p=a[m],q=a[m+h*(d-1)],r=(e+1)*p,Fd=0,t=e;Fd<t;){var v=Fd++;r+=a[m+v*h]}Fd=0;for(t=e+1;Fd<t;)Fd++,r+=a[n]-p,b[m]=Math.round(nb.toFloat(r)*g),n+=h,m+=h;p=e+1;for(Fd=d-e;p<Fd;)p++,r+=a[n]-a[k],b[m]=Math.round(nb.toFloat(r)*g),k+=h,n+=h,m+=h;n=d-e;for(p=d;n<p;)n++,r+=q-a[k],b[m]=Math.round(nb.toFloat(r)*g),k+=h,m+=h}},p=function(a,b,c,d,e,f){for(var h=0,l=a.length;h<l;){var m=h++;b[m]=a[m]}g(b,a,c,d,e|0,0);g(b,a,c,d,e|0,1);
g(b,a,c,d,e|0,2);g(b,a,c,d,e|0,3);n(a,b,c,d,f|0,0);n(a,b,c,d,f|0,1);n(a,b,c,d,f|0,2);n(a,b,c,d,f|0,3)},q=a.get_data(),r=b.get_data(),t=c.width|0;c=c.height|0;var v=f|0;f=d.x|0;var u=d.y|0;d=2*l-1;l=.125*Math.pow(2,l);e=k((e|0)*l,d);l=k(v*l,d);k=4*(t*u+f)|0;p(r,q,t,c,(e[0]-1)/2,(l[0]-1)/2);f=1;v=0;for(d=d/2|0;v<d;)v++,p(q,r,t,c,(e[f]-1)/2,(l[f]-1)/2),p(r,q,t,c,(e[f+1]-1)/2,(l[f+1]-1)/2),f+=2;p=0;if(0>k){for(;p<r.length;)t=nb.toFloat(q[p+3])*h|0,0>t?t=0:255<t&&(t=255),q[p]=m(nb.toFloat(q[p]),t),q[p+
1]=m(nb.toFloat(q[p+1]),t),q[p+2]=m(nb.toFloat(q[p+2]),t),q[p+3]=t,p+=4;h=r.length-k;for(r=r.length;h<r;)m=h++,q[m]=0}else{for(p=r.length-4;0<=p;)t=nb.toFloat(q[p+3])*h|0,0>t?t=0:255<t&&(t=255),q[p+k]=m(nb.toFloat(q[p]),t),q[p+1+k]=m(nb.toFloat(q[p+1]),t),q[p+2+k]=m(nb.toFloat(q[p+2]),t),q[p+3+k]=t,p-=4;for(r=0;r<k;)h=r++,q[h]=0}a.dirty=!0;a.version++;b.dirty=!0;b.version++;return q==a.get_data()?a:b};yb.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,
d,e=0,f=b.length/4|0;e<f;){var l=e++,h=4*l;switch(c){case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255;break;case 2:d=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255}l*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(A.a16=A.__alpha16[d&255],d=((d>>>24&255)*A.a16>>16&255)<<24|((d>>>16&255)*A.a16>>16&255)<<16|((d>>>8&255)*A.a16>>16&255)<<8|d&255);switch(c){case 0:b[l]=d>>>24&255;b[l+1]=d>>>16&255;b[l+2]=
d>>>8&255;b[l+3]=d&255;break;case 1:b[l]=d&255;b[l+1]=d>>>24&255;b[l+2]=d>>>16&255;b[l+3]=d>>>8&255;break;case 2:b[l]=d>>>8&255,b[l+1]=d>>>16&255,b[l+2]=d>>>24&255,b[l+3]=d&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};yb.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d=c.length/4|0;switch(a.get_format()){case 0:var e=0;var f=1;var l=2;var h=3;break;case 1:e=1;f=2;l=3;h=0;break;case 2:e=2,f=1,l=0,h=3}switch(b){case 0:var m=0;var k=1;var g=2;var n=3;break;case 1:m=1;k=2;g=3;
n=0;break;case 2:m=2,k=1,g=0,n=3}for(var p=0;p<d;){var q=4*p++;var r=c[q+e];var t=c[q+f];var v=c[q+l];var u=c[q+h];c[q+m]=r;c[q+k]=t;c[q+g]=v;c[q+n]=u}a.buffer.format=b;a.dirty=!0;a.version++}};yb.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var l=e++,h=4*l;switch(c){case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255;break;case 2:d=(b[h+2]&
255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255}0!=(d&255)&&255!=(d&255)&&(A.unmult=255/(d&255),d=(A.__clamp[Math.round((d>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((d>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((d>>>8&255)*A.unmult)]&255)<<8|d&255);l*=4;switch(c){case 0:b[l]=d>>>24&255;b[l+1]=d>>>16&255;b[l+2]=d>>>8&255;b[l+3]=d&255;break;case 1:b[l]=d&255;b[l+1]=d>>>24&255;b[l+2]=d>>>16&255;b[l+3]=d>>>8&255;break;case 2:b[l]=d>>>8&255,b[l+1]=d>>>16&255,b[l+2]=d>>>24&255,b[l+
3]=d&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};var Qc=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.__update()};k["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Qc;Qc.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"];Qc.prototype=
{x:null,y:null,height:null,width:null,byteOffset:null,image:null,rect:null,stride:null,clip:function(a,b,c,d){this.rect.__contract(a,b,c,d);this.__update()},offset:function(a,b){0>a?(this.rect.x+=a,0>this.rect.x&&(this.rect.x=0)):(this.rect.x+=a,this.rect.width-=a);0>b?(this.rect.y+=b,0>this.rect.y&&(this.rect.y=0)):(this.rect.y+=b,this.rect.height-=b);this.__update()},__update:function(){this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=
Math.floor(this.rect.height);this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:Qc};var hb={};k["lime.math._ColorMatrix.ColorMatrix_Impl_"]=hb;hb.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"];hb.getAlphaTable=function(a){if(null==hb.__alphaTable){var b=new wb(256);hb.__alphaTable=b}hb.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++;b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);hb.__alphaTable[d]=b}return hb.__alphaTable};hb.getBlueTable=
function(a){if(null==hb.__blueTable){var b=new wb(256);hb.__blueTable=b}for(var c=0;256>c;){var d=c++;b=Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);hb.__blueTable[d]=b}return hb.__blueTable};hb.getGreenTable=function(a){if(null==hb.__greenTable){var b=new wb(256);hb.__greenTable=b}for(var c=0;256>c;){var d=c++;b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);hb.__greenTable[d]=b}return hb.__greenTable};hb.getRedTable=function(a){if(null==hb.__redTable){var b=new wb(256);hb.__redTable=
b}for(var c=0;256>c;){var d=c++;b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);0>b&&(b=0);hb.__redTable[d]=b}return hb.__redTable};hb.__toFlashColorTransform=function(a){return null};var mj=function(){};k["lime.math.Matrix3"]=mj;mj.__name__=["lime","math","Matrix3"];var Da={};k["lime.math._Matrix4.Matrix4_Impl_"]=Da;Da.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];Da._new=function(a){if(null==a||16!=a.length)a=Da.__identity,a=null!=a?new Qb(a):null;return a};Da.append=function(a,b){var c=a[0],
d=a[4],e=a[8],f=a[12],l=a[1],h=a[5],m=a[9],k=a[13],g=a[2],n=a[6],p=a[10],q=a[14],r=a[3],t=a[7],v=a[11],u=a[15],w=Da.get(b,0),x=Da.get(b,4),A=Da.get(b,8),y=Da.get(b,12),z=Da.get(b,1),D=Da.get(b,5),B=Da.get(b,9),C=Da.get(b,13),F=Da.get(b,2),E=Da.get(b,6),G=Da.get(b,10),J=Da.get(b,14),I=Da.get(b,3),L=Da.get(b,7),M=Da.get(b,11);b=Da.get(b,15);a[0]=c*w+l*x+g*A+r*y;a[1]=c*z+l*D+g*B+r*C;a[2]=c*F+l*E+g*G+r*J;a[3]=c*I+l*L+g*M+r*b;a[4]=d*w+h*x+n*A+t*y;a[5]=d*z+h*D+n*B+t*C;a[6]=d*F+h*E+n*G+t*J;a[7]=d*I+h*L+
n*M+t*b;a[8]=e*w+m*x+p*A+v*y;a[9]=e*z+m*D+p*B+v*C;a[10]=e*F+m*E+p*G+v*J;a[11]=e*I+m*L+p*M+v*b;a[12]=f*w+k*x+q*A+u*y;a[13]=f*z+k*D+q*B+u*C;a[14]=f*F+k*E+q*G+u*J;a[15]=f*I+k*L+q*M+u*b};Da.createOrtho=function(a,b,c,d,e,f){var l=1/(b-a),h=1/(d-c),m=1/(f-e);a=[2*l,0,0,0,0,2*h,0,0,0,0,-2*m,0,-(a+b)*l,-(c+d)*h,-(e+f)*m,1];a=null!=a?new Qb(a):null;return Da._new(a)};Da.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=
1};Da.get=function(a,b){return a[b]};Da.set=function(a,b,c){return a[b]=c};var Zc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["lime.math.Rectangle"]=Zc;Zc.__name__=["lime","math","Rectangle"];Zc.prototype={height:null,width:null,x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height)this.x<
a&&(this.x=a),this.y<b&&(this.y=b),this.get_right()>a+c&&(this.width=a+c-this.x),this.get_bottom()>b+d&&(this.height=b+d-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},__class__:Zc,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};var ee=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["lime.math.Vector2"]=ee;ee.__name__=["lime","math","Vector2"];ee.prototype={x:null,
y:null,offset:function(a,b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:ee};var Hi=function(){};k["lime.math.Vector4"]=Hi;Hi.__name__=["lime","math","Vector4"];Hi.prototype={w:null,x:null,y:null,z:null,__class__:Hi};var A={};k["lime.math.color._RGBA.RGBA_Impl_"]=A;A.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];var nj=function(){};k["lime.media.ALAudioContext"]=nj;nj.__name__=["lime","media","ALAudioContext"];var oj=function(){};k["lime.media.ALCAudioContext"]=oj;
oj.__name__=["lime","media","ALCAudioContext"];var zb=function(){};k["lime.media.AudioBuffer"]=zb;zb.__name__=["lime","media","AudioBuffer"];zb.fromBytes=function(a){return null};zb.fromFile=function(a){if(null==a)return null;var b=new zb;b.__srcHowl=new Howl({src:[a],preload:!1});return b};zb.fromFiles=function(a){var b=new zb;b.__srcHowl=new Howl({src:a,preload:!1});return b};zb.fromVorbisFile=function(a){return null};zb.loadFromFile=function(a){var b=new Jb,c=zb.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",
function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(a,c){b.error(c)}),c.__srcHowl.load()):b.error(null);return b.future};zb.loadFromFiles=function(a){var b=new Jb,c=zb.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};zb.prototype={__srcHowl:null,get_src:function(){return this.__srcHowl},__class__:zb,__properties__:{get_src:"get_src"}};var Rc=k["lime.media.AudioContext"]=
{__ename__:["lime","media","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Rc.OPENAL=function(a,b){a=["OPENAL",0,a,b];a.__enum__=Rc;a.toString=w;return a};Rc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=Rc;a.toString=w;return a};Rc.WEB=function(a){a=["WEB",2,a];a.__enum__=Rc;a.toString=w;return a};Rc.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Rc;a.toString=w;return a};Rc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=Rc;a.toString=w;return a};var Sd=function(){};k["lime.media.AudioManager"]=
Sd;Sd.__name__=["lime","media","AudioManager"];Sd.init=function(a){if(null==Sd.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Sd.context=Rc.WEB(new AudioContext)}catch(b){aa.lastException=b,Sd.context=Rc.HTML5(new wh)}else Sd.context=a};var Ii=function(){this.onComplete=new mb};k["lime.media.AudioSource"]=Ii;Ii.__name__=["lime","media","AudioSource"];Ii.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},
play:function(){this.backend.play()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},set_currentTime:function(a){return this.backend.setCurrentTime(a)},get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:Ii,__properties__:{set_position:"set_position",get_position:"get_position",
set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var pj=function(){};k["lime.media.FlashAudioContext"]=pj;pj.__name__=["lime","media","FlashAudioContext"];var wh=function(){};k["lime.media.HTML5AudioContext"]=wh;wh.__name__=["lime","media","HTML5AudioContext"];wh.prototype={__class__:wh};var xh=function(){};k["lime.net._IHTTPRequest"]=xh;xh.__name__=["lime","net","_IHTTPRequest"];xh.prototype={contentType:null,data:null,enableResponseHeaders:null,
followRedirects:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,cancel:null,__class__:xh};var zc=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.enableResponseHeaders=!1;this.formData=new C;this.headers=[];this.method="GET";this.timeout=3E4;this.withCredentials=!1;this.backend=new H;this.backend.init(this)};k["lime.net._HTTPRequest.AbstractHTTPRequest"]=
zc;zc.__name__=["lime","net","_HTTPRequest","AbstractHTTPRequest"];zc.__interfaces__=[xh];zc.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,backend:null,cancel:function(){this.backend.cancel()},__class__:zc};var Ad=function(a){zc.call(this,a)};k["lime.net._HTTPRequest_Bytes"]=Ad;Ad.__name__=["lime","net",
"_HTTPRequest_Bytes"];Ad.__super__=zc;Ad.prototype=t(zc.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;null!=a&&(this.uri=a);var c=new Jb;a=this.backend.loadData(this.uri);a.onProgress(q(c,c.progress));a.onError(q(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});return c.future},__class__:Ad});var Ie=function(a){zc.call(this,a)};k["lime.net._HTTPRequest_String"]=Ie;Ie.__name__=["lime","net","_HTTPRequest_String"];Ie.__super__=
zc;Ie.prototype=t(zc.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var c=new Jb;a=this.backend.loadText(this.uri);a.onProgress(q(c,c.progress));a.onError(q(c,c.error));a.onComplete(function(a){b.responseData=a;c.complete(b.responseData)});return c.future},__class__:Ie});var yf=function(a,b){null==b&&(b="");this.name=a;this.value=b};k["lime.net.HTTPRequestHeader"]=yf;yf.__name__=["lime","net","HTTPRequestHeader"];yf.prototype={name:null,value:null,__class__:yf};var Ff=function(a){zc.call(this,
a)};k["lime.net._HTTPRequest_lime_utils_Bytes"]=Ff;Ff.__name__=["lime","net","_HTTPRequest_lime_utils_Bytes"];Ff.__super__=Ad;Ff.prototype=t(Ad.prototype,{fromBytes:function(a){return rc.fromBytes(a)},__class__:Ff});var Gf=function(a){zc.call(this,a)};k["lime.net._HTTPRequest_openfl_utils_ByteArray"]=Gf;Gf.__name__=["lime","net","_HTTPRequest_openfl_utils_ByteArray"];Gf.__super__=Ad;Gf.prototype=t(Ad.prototype,{fromBytes:function(a){return sb.fromBytes(a)},__class__:Gf});var jc=function(){};k["lime.system.Clipboard"]=
jc;jc.__name__=["lime","system","Clipboard"];jc.__properties__={set_text:"set_text",get_text:"get_text"};jc.get_text=function(){return jc._text};jc.set_text=function(a){var b=jc._text;jc._text=a;var c=hc.current.__windows[0];null!=c&&c.backend.setClipboard(a);jc._text!=b&&jc.onUpdate.dispatch();return a};var qj=function(){};k["lime.system.DisplayMode"]=qj;qj.__name__=["lime","system","DisplayMode"];var $c=k["lime.system.Endian"]={__ename__:["lime","system","Endian"],__constructs__:["LITTLE_ENDIAN",
"BIG_ENDIAN"]};$c.LITTLE_ENDIAN=["LITTLE_ENDIAN",0];$c.LITTLE_ENDIAN.toString=w;$c.LITTLE_ENDIAN.__enum__=$c;$c.BIG_ENDIAN=["BIG_ENDIAN",1];$c.BIG_ENDIAN.toString=w;$c.BIG_ENDIAN.__enum__=$c;var ab=function(){};k["lime.system.System"]=ab;ab.__name__=["lime","system","System"];ab.__properties__={get_endianness:"get_endianness"};ab.embed=E.lime.embed=function(a,b,c,d,e){if(null!=ab.__applicationEntryPoint&&null!=ab.__applicationConfig){var f=ab.__applicationEntryPoint;if(null!=p[a]?f.existsReserved(a):
f.h.hasOwnProperty(a))if(f="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):b,null==f)window.console.log("[lime.embed] ERROR: Cannot find target element: "+U.string(b));else{null==c&&(c=0);null==d&&(d=0);b=ab.__applicationConfig;var l=null!=p[a]?b.getReserved(a):b.h[a];b={};ab.__copyMissingFields(b,l);if(null!=e){b.windows=[];e instanceof Array&&null==e.__enum__?b.windows=e:b.windows[0]=e;for(var h=0,m=b.windows.length;h<m;){var k=h++;k<l.windows.length&&
ab.__copyMissingFields(b.windows[k],l.windows[k]);ab.__copyMissingFields(b.windows[k].parameters,l.windows[k].parameters);"string"==typeof e.background&&(k=ea.replace(U.string(e.background),"#",""),-1<k.indexOf("0x")?e.background=U.parseInt(k):e.background=U.parseInt("0x"+k))}}O.field(b.windows[0],"rootPath")&&(b.rootPath=O.field(b.windows[0],"rootPath"),O.deleteField(b.windows[0],"rootPath"));b.windows[0].element=f;b.windows[0].width=c;b.windows[0].height=d;c=ab.__applicationEntryPoint;(null!=p[a]?
c.getReserved(a):c.h[a])(b)}}};ab.exit=function(a){};ab.getTimer=function(){return window.performance.now()|0};ab.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};ab.__copyMissingFields=function(a,b){if(null!=b&&null!=a)for(var c=0,d=O.fields(b);c<d.length;){var e=d[c];++c;Object.prototype.hasOwnProperty.call(a,e)||(a[e]=O.field(b,e))}};ab.__registerEntryPoint=function(a,b,c){null==ab.__applicationConfig&&(ab.__applicationConfig=new C);null==ab.__applicationEntryPoint&&(ab.__applicationEntryPoint=
new C);var d=ab.__applicationEntryPoint;null!=p[a]?d.setReserved(a,b):d.h[a]=b;b=ab.__applicationConfig;null!=p[a]?b.setReserved(a,c):b.h[a]=c};ab.get_endianness=function(){if(null==ab.endianness){var a=new ic(2),b=null!=a?new wb(a,0):null;a=null!=a?new Uint16Array(a,0):null;b[0]=170;b[1]=187;ab.endianness=43707==a[0]?$c.BIG_ENDIAN:$c.LITTLE_ENDIAN}return ab.endianness};var nh=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onRun=new ce;this.onError=new ce;this.onComplete=new ce;this.doWork=new ce;
this.minThreads=a;this.maxThreads=b;this.currentThreads=0};k["lime.system.ThreadPool"]=nh;nh.__name__=["lime","system","ThreadPool"];nh.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onRun:null,queue:function(a){this.runWork(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},runWork:function(a){this.onRun.dispatch(a);this.doWork.dispatch(a)},__class__:nh};var Rb=function(a){null!=a&&(this.name=
a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};k["lime.text.Font"]=Rb;Rb.__name__=["lime","text","Font"];Rb.fromFile=function(a){if(null==a)return null;var b=new Rb;b.__fromFile(a);return b};Rb.loadFromName=function(a){return(new Rb).__loadFromName(a)};Rb.__measureFontNode=function(a){var b=window.document.createElement("span");b.setAttribute("aria-hidden","true");var c=window.document.createTextNode("BESbswy");b.appendChild(c);c=b.style;c.display="block";c.position="absolute";c.top=
"-9999px";c.left="-9999px";c.fontSize="300px";c.width="auto";c.height="auto";c.lineHeight="normal";c.margin="0";c.padding="0";c.fontVariant="normal";c.whiteSpace="nowrap";c.fontFamily=a;window.document.body.appendChild(b);return b};Rb.prototype={name:null,src:null,__fontPath:null,__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new Jb;this.name=a;var d=window.navigator.userAgent.toLowerCase();if(0<=d.indexOf(" safari/")&&0>d.indexOf(" chrome/")||!window.document.fonts||
(ad=window.document.fonts,!q(ad,ad.load))){var e=Rb.__measureFontNode("'"+a+"', sans-serif"),f=Rb.__measureFontNode("'"+a+"', serif"),l=e.offsetWidth,h=f.offsetWidth,m=-1,k=0;m=window.setInterval(function(){k+=1;if(e.offsetWidth!=l||f.offsetWidth!=h||3E3<=50*k)window.clearInterval(m),e.parentNode.removeChild(e),f.parentNode.removeChild(f),f=e=null,c.complete(b)},50)}else window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)});return c.future},__class__:Rb};var B={};k["lime.text._UTF8String.UTF8String_Impl_"]=
B;B.__name__=["lime","text","_UTF8String","UTF8String_Impl_"];B.__properties__={get_length:"get_length"};B.charAt=function(a,b){if(0<=b)for(var c=0,d=a.length,e=0;e<b&&c<d;){var f=a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;b=c;c=a.charCodeAt(b);return y.substr(a,b,55296<=c&&56319>=c?2:1)};B.charCodeAt=function(a,b){if(0<=b?b>=md.codePointCount(a,0,a.length):1)return null;if(0<=b)for(var c=0,d=a.length,e=0;e<b&&c<d;){var f=
a.charCodeAt(c);c+=55296<=f&&56319>=f?2:1;++e}else for(d=c=0;d<-b&&0<c;)e=a.charCodeAt(c-1),c-=56320<=e&&57343>=e?2:1,++d;b=c;return md.codePointAt(a,b)};B.indexOf=function(a,b,c){null==c&&(c=0);if(0<=c)for(var d=0,e=a.length,f=0;f<c&&d<e;){var l=a.charCodeAt(d);d+=55296<=l&&56319>=l?2:1;++f}else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d;b=a.indexOf(b,c);return 0<=b?md.codePointCount(a,0,b):-1};B.substr=function(a,b,c){return y.substr(a,b,c)};B.substring=function(a,
b,c){if(0>b)b=0;else{if(0<=b)for(var d=0,e=a.length,f=0;f<b&&d<e;){var l=a.charCodeAt(d);d+=55296<=l&&56319>=l?2:1;++f}else for(e=d=0;e<-b&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;b=d}if(null==c)c=a.length;else if(0>c)c=0;else{if(0<=c)for(d=0,e=a.length,f=0;f<c&&d<e;)l=a.charCodeAt(d),d+=55296<=l&&56319>=l?2:1,++f;else for(e=d=0;e<-c&&0<d;)f=a.charCodeAt(d-1),d-=56320<=f&&57343>=f?2:1,++e;c=d}return a.substring(b,c)};B.equals=function(a,b){return null==a||null==b?a==b:0==Ji.uCompare(a,
b)};B.get_length=function(a){return null==a?0:a.length};var Hf=function(){};k["lime.text.unifill.Exception"]=Hf;Hf.__name__=["lime","text","unifill","Exception"];Hf.prototype={__class__:Hf};var Hd=function(a){this.index=a};k["lime.text.unifill.InvalidCodeUnitSequence"]=Hd;Hd.__name__=["lime","text","unifill","InvalidCodeUnitSequence"];Hd.__super__=Hf;Hd.prototype=t(Hf.prototype,{index:null,toString:function(){return"InvalidCodeUnitSequence(index: "+this.index+")"},__class__:Hd});var Ji=function(){};
k["lime.text.unifill.Unifill"]=Ji;Ji.__name__=["lime","text","unifill","Unifill"];Ji.uCompare=function(a,b){var c=0;var d=a.length;var e;var f=0;for(e=b.length;c<d&&f<e;){var l=c;var h=a.charCodeAt(c);c+=55296<=h&&56319>=h?2:1;l=md.codePointAt(a,l);h=f;var m=b.charCodeAt(f);f+=55296<=m&&56319>=m?2:1;h=md.codePointAt(b,h);if(l<h)return-1;if(l>h)return 1}return f<e?-1:c<d?1:0};var md={};k["lime.text.unifill._Utf16.Utf16_Impl_"]=md;md.__name__=["lime","text","unifill","_Utf16","Utf16_Impl_"];md.codePointAt=
function(a,b){return Ki.decode_code_point(a.length,function(b){return a.charCodeAt(b)},b)};md.codePointCount=function(a,b,c){for(var d=0;b<c;){var e=a.charCodeAt(b);b+=55296<=e&&56319>=e?2:1;++d}return d};var Ki=function(){};k["lime.text.unifill._Utf16.Utf16Impl"]=Ki;Ki.__name__=["lime","text","unifill","_Utf16","Utf16Impl"];Ki.decode_code_point=function(a,b,c){if(0>c||a<=c)throw new u(new Hd(c));var d=b(c);if(55296<=d&&56319>=d){if(0>c+1||a<=c+1)throw new u(new Hd(c));a=b(c+1);if(56320<=a&&57343>=
a)return d-55232<<10|a&1023;throw new u(new Hd(c));}if(56320<=d&&57343>=d)throw new u(new Hd(c));return d};var rb=function(a){this.onDisconnect=new mb;this.onButtonUp=new Cf;this.onButtonDown=new Cf;this.onAxisMove=new th;this.id=a;this.connected=!0};k["lime.ui.Gamepad"]=rb;rb.__name__=["lime","ui","Gamepad"];rb.__connect=function(a){if(!rb.devices.h.hasOwnProperty(a)){var b=new rb(a);rb.devices.h[a]=b;rb.onConnect.dispatch(b)}};rb.__disconnect=function(a){var b=rb.devices.h[a];null!=b&&(b.connected=
!1);rb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};rb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,__class__:rb};var lb=function(a){this.onTrackballMove=new oh;this.onHatMove=new qh;this.onDisconnect=new mb;this.onButtonUp=new Rd;this.onButtonDown=new Rd;this.onAxisMove=new ph;this.id=a;this.connected=!0};k["lime.ui.Joystick"]=lb;lb.__name__=["lime","ui","Joystick"];lb.__connect=function(a){if(!lb.devices.h.hasOwnProperty(a)){var b=
new lb(a);lb.devices.h[a]=b;lb.onConnect.dispatch(b)}};lb.__disconnect=function(a){var b=lb.devices.h[a];null!=b&&(b.connected=!1);lb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};lb.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};lb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,__class__:lb};var Qa={};k["lime.ui._KeyModifier.KeyModifier_Impl_"]=
Qa;Qa.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];Qa.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};Qa.get_altKey=function(a){return 0>=(a&256)?0<(a&512):!0};Qa.get_ctrlKey=function(a){return 0>=(a&64)?0<(a&128):!0};Qa.get_metaKey=function(a){return 0>=(a&1024)?0<(a&2048):!0};Qa.get_shiftKey=function(a){return 0>=(a&1)?0<(a&2):!0};var If=function(){};k["lime.ui.Mouse"]=If;If.__name__=["lime","ui","Mouse"];If.__properties__=
{set_cursor:"set_cursor"};If.set_cursor=function(a){return ae.set_cursor(a)};var ma=k["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};ma.ARROW=["ARROW",0];ma.ARROW.toString=w;ma.ARROW.__enum__=ma;ma.CROSSHAIR=["CROSSHAIR",1];ma.CROSSHAIR.toString=w;ma.CROSSHAIR.__enum__=ma;ma.DEFAULT=["DEFAULT",2];ma.DEFAULT.toString=w;ma.DEFAULT.__enum__=ma;ma.MOVE=
["MOVE",3];ma.MOVE.toString=w;ma.MOVE.__enum__=ma;ma.POINTER=["POINTER",4];ma.POINTER.toString=w;ma.POINTER.__enum__=ma;ma.RESIZE_NESW=["RESIZE_NESW",5];ma.RESIZE_NESW.toString=w;ma.RESIZE_NESW.__enum__=ma;ma.RESIZE_NS=["RESIZE_NS",6];ma.RESIZE_NS.toString=w;ma.RESIZE_NS.__enum__=ma;ma.RESIZE_NWSE=["RESIZE_NWSE",7];ma.RESIZE_NWSE.toString=w;ma.RESIZE_NWSE.__enum__=ma;ma.RESIZE_WE=["RESIZE_WE",8];ma.RESIZE_WE.toString=w;ma.RESIZE_WE.__enum__=ma;ma.TEXT=["TEXT",9];ma.TEXT.toString=w;ma.TEXT.__enum__=
ma;ma.WAIT=["WAIT",10];ma.WAIT.toString=w;ma.WAIT.__enum__=ma;ma.WAIT_ARROW=["WAIT_ARROW",11];ma.WAIT_ARROW.toString=w;ma.WAIT_ARROW.__enum__=ma;ma.CUSTOM=["CUSTOM",12];ma.CUSTOM.toString=w;ma.CUSTOM.__enum__=ma;var Hb=function(a,b,c,d,e,f,l){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=l};k["lime.ui.Touch"]=Hb;Hb.__name__=["lime","ui","Touch"];Hb.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:Hb};var fe=function(a){this.onTextInput=
new Bf;this.onTextEdit=new rh;this.onRestore=new mb;this.onResize=new zf;this.onMove=new be;this.onMouseWheel=new be;this.onMouseUp=new Af;this.onMouseMoveRelative=new be;this.onMouseMove=new be;this.onMouseDown=new Af;this.onMinimize=new mb;this.onLeave=new mb;this.onKeyUp=new Df;this.onKeyDown=new Df;this.onFullscreen=new mb;this.onFocusOut=new mb;this.onFocusIn=new mb;this.onEnter=new mb;this.onDropFile=new Bf;this.onDeactivate=new mb;this.onCreate=new mb;this.onClose=new mb;this.onActivate=new mb;
this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,
"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new ba(this)};k["lime.ui.Window"]=fe;fe.__name__=["lime","ui","Window"];fe.prototype={application:null,config:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,
onMouseUp:null,onMouseWheel:null,onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_height:function(a){this.resize(this.__width,
a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:fe,__properties__:{set_width:"set_width",set_height:"set_height"}};var yh=function(){this.enabled=!0;this.audio=new C;this.font=new C;this.image=new C;this.version=932326};k["lime.utils.AssetCache"]=yh;yh.__name__=["lime","utils","AssetCache"];yh.prototype={audio:null,enabled:null,image:null,font:null,version:null,set:function(a,b,c){switch(b){case "FONT":this.font.set(a,c);break;case "IMAGE":if(!M.__instanceof(c,
pa))throw new u("Cannot cache non-Image asset: "+U.string(c)+" as Image");this.image.set(a,c);break;case "MUSIC":case "SOUND":if(!M.__instanceof(c,zb))throw new u("Cannot cache non-AudioBuffer asset: "+U.string(c)+" as AudioBuffer");this.audio.set(a,c);break;default:throw new u(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new C,this.font=new C,this.image=new C;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();ea.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=
b.next(),ea.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),ea.startsWith(c,a)&&this.image.remove(c)}},__class__:yh};var Hc=function(){this.types=new C;this.sizes=new C;this.preload=new C;this.paths=new C;this.pathGroups=new C;this.classTypes=new C;this.cachedText=new C;this.cachedImages=new C;this.cachedFonts=new C;this.cachedBytes=new C;this.cachedAudioBuffers=new C;this.onChange=new mb;this.bytesTotal=this.bytesLoaded=0};k["lime.utils.AssetLibrary"]=Hc;Hc.__name__=
["lime","utils","AssetLibrary"];Hc.fromManifest=function(a){if(null==a)return null;if(null==a.libraryType)var b=new Hc;else if(b=ka.resolveClass(a.libraryType),null!=b)b=ka.createInstance(b,a.libraryArgs);else return eb.warn("Could not find library type: "+a.libraryType,{fileName:"AssetLibrary.hx",lineNumber:138,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};Hc.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,
bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,loaded:null,pathGroups:null,paths:null,preload:null,promise:null,sizes:null,types:null,exists:function(a,b){b=null!=b?M.__cast(b,String):null;var c=this.types;a=null!=p[a]?c.getReserved(a):c.h[a];return null==a||a!=b&&("SOUND"!=b&&"MUSIC"!=b||"MUSIC"!=a&&"SOUND"!=a)&&"BINARY"!=b&&null!=b&&("BINARY"!=a||"TEXT"!=b)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);
case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw new u("Not sure how to get template: "+a);case "TEXT":return this.getText(a);default:throw new u("Unknown asset type: "+b);}},getAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,null!=p[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=p[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return b=this.classTypes,zb.fromBytes(M.__cast(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]),Ha));b=this.paths;return zb.fromFile(null!=p[a]?b.getReserved(a):b.h[a])},getBytes:function(a){var b=this.cachedBytes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,null!=p[a]?b.getReserved(a):b.h[a];b=this.cachedText;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)){b=this.cachedText;b=rc.ofString(null!=p[a]?b.getReserved(a):b.h[a]);
var c=this.cachedBytes;null!=p[a]?c.setReserved(a,b):c.h[a]=b;return b}b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,M.__cast(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]),Ha);b=this.paths;return rc.fromFile(null!=p[a]?b.getReserved(a):b.h[a])},getFont:function(a){var b=this.cachedFonts;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,null!=p[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=p[a]?
b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,M.__cast(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]),Rb);b=this.paths;return Rb.fromFile(null!=p[a]?b.getReserved(a):b.h[a])},getImage:function(a){var b=this.cachedImages;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,null!=p[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,M.__cast(ka.createInstance(null!=
p[a]?b.getReserved(a):b.h[a],[]),pa);b=this.paths;return pa.fromFile(null!=p[a]?b.getReserved(a):b.h[a])},getText:function(a){var b=this.cachedText;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,null!=p[a]?b.getReserved(a):b.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){var c=this.classTypes;if(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;switch(null!=b?M.__cast(b,String):null){case "IMAGE":return this.cachedImages.exists(a);
case "MUSIC":case "SOUND":return this.cachedAudioBuffers.exists(a);default:return this.cachedBytes.exists(a)?!0:this.cachedText.exists(a)}},load:function(){if(this.loaded)return bb.withValue(this);if(null==this.promise){this.promise=new Jb;this.bytesLoadedCache=new C;this.assetsLoaded=0;this.assetsTotal=1;for(var a=this.preload.keys();a.hasNext();){var b=a.next(),c=this.preload;if(null!=p[b]?c.getReserved(b):c.h[b])if(c=this.types,eb.verbose("Preloading asset: "+b+" ["+(null!=p[b]?c.getReserved(b):
c.h[b])+"]",{fileName:"AssetLibrary.hx",lineNumber:434,className:"lime.utils.AssetLibrary",methodName:"load"}),c=this.types.get(b),null!=c)switch(c){case "BINARY":this.assetsTotal++;c=this.loadBytes(b);c.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([b],[q(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.loadBytes_onComplete)]));break;
case "FONT":this.assetsTotal++;c=this.loadFont(b);c.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([b],[q(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.loadFont_onComplete)]));break;case "IMAGE":this.assetsTotal++;c=this.loadImage(b);c.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([b],[q(this,this.load_onProgress)]));
c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.loadImage_onComplete)]));break;case "MUSIC":case "SOUND":this.assetsTotal++;c=this.loadAudioBuffer(b);c.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([b],[q(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],
c)}}([b],[q(this,this.loadAudioBuffer_onComplete)]));break;case "TEXT":this.assetsTotal++,c=this.loadText(b),c.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([b],[q(this,this.load_onProgress)])),c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.load_onError)])),c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[q(this,this.loadText_onComplete)]))}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){var b=this.cachedAudioBuffers;
if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,bb.withValue(null!=p[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,bb.withValue(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]));b=this.pathGroups;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.pathGroups,zb.loadFromFiles(null!=p[a]?b.getReserved(a):b.h[a]);b=this.paths;return zb.loadFromFile(null!=
p[a]?b.getReserved(a):b.h[a])},loadBytes:function(a){var b=this.cachedBytes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,bb.withValue(null!=p[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,bb.withValue(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return rc.loadFromFile(null!=p[a]?b.getReserved(a):b.h[a])},loadFont:function(a){var b=this.cachedFonts;if(null!=
p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,bb.withValue(null!=p[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,a=ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]),Rb.loadFromName(a.name);b=this.paths;return Rb.loadFromName(null!=p[a]?b.getReserved(a):b.h[a])},loadImage:function(a){var b=this.cachedImages;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,
bb.withValue(null!=p[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,bb.withValue(ka.createInstance(null!=p[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return pa.loadFromFile(null!=p[a]?b.getReserved(a):b.h[a])},loadText:function(a){var b=this.cachedText;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,bb.withValue(null!=p[a]?b.getReserved(a):b.h[a]);b=this.cachedBytes;(null!=p[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))?b=!0:(b=this.classTypes,b=null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a));if(b){b=this.getBytes(a);if(null==b)return bb.withValue(null);b=b.getString(0,b.length);var c=this.cachedText;null!=p[a]?c.setReserved(a,b):c.h[a]=b;return bb.withValue(b)}b=new Ie;c=this.paths;return b.load(null!=p[a]?c.getReserved(a):c.h[a])},unload:function(){},__assetLoaded:function(a){this.assetsLoaded++;if(null!=a){var b=this.types;eb.verbose("Loaded asset: "+a+" ["+(null!=p[a]?b.getReserved(a):
b.h[a])+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"AssetLibrary.hx",lineNumber:680,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"})}if(null!=a){b=this.sizes;b=null!=p[a]?b.getReserved(a):b.h[a];var c=this.bytesLoadedCache;(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=p[a]?c.getReserved(a):c.h[a],c<b&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=p[a]?c.setReserved(a,b):c.h[a]=b}this.assetsLoaded<
this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(a){return a=-1<a.indexOf("?")?a+("&"+R.cache.version):a+("?"+R.cache.version)},__fromManifest:function(a){var b=2<=a.version,c=a.rootPath;null==c&&(c="");""!=c&&(c+="/");for(var d=0,e=a.assets;d<e.length;){var f=e[d];++d;var l=b?f.size:100;var h=f.id;if(Object.prototype.hasOwnProperty.call(f,"path")){var m=
this.paths;var k=this.__cacheBreak(c+U.string(O.field(f,"path")));null!=p[h]?m.setReserved(h,k):m.h[h]=k}if(Object.prototype.hasOwnProperty.call(f,"pathGroup")){k=O.field(f,"pathGroup");m=0;for(var g=k.length;m<g;){var n=m++;k[n]=this.__cacheBreak(c+k[n])}m=this.pathGroups;null!=p[h]?m.setReserved(h,k):m.h[h]=k}k=this.sizes;null!=p[h]?k.setReserved(h,l):k.h[h]=l;l=f.type;k=this.types;null!=p[h]?k.setReserved(h,l):k.h[h]=l;Object.prototype.hasOwnProperty.call(f,"preload")&&(k=this.preload,l=O.field(f,
"preload"),null!=p[h]?k.setReserved(h,l):k.h[h]=l);Object.prototype.hasOwnProperty.call(f,"className")&&(f=ka.resolveClass(O.field(f,"className")),l=this.classTypes,null!=p[h]?l.setReserved(h,f):l.h[h]=f)}b=this.bytesTotal=0;for(a=a.assets;b<a.length;)h=a[b],++b,h=h.id,c=this.preload,(null!=p[h]?c.existsReserved(h):c.h.hasOwnProperty(h))?(c=this.preload,c=null!=p[h]?c.getReserved(h):c.h[h]):c=!1,c&&(c=this.sizes,this.bytesTotal+=null!=p[h]?c.getReserved(h):c.h[h])},loadAudioBuffer_onComplete:function(a,
b){var c=this.cachedAudioBuffers;null!=p[a]?c.setReserved(a,b):c.h[a]=b;c=this.pathGroups;if(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=this.pathGroups;c=null!=p[a]?c.getReserved(a):c.h[a];for(var d=this.pathGroups.keys();d.hasNext();){var e=d.next();if(e!=a)for(var f=0;f<c.length;){var l=c[f];++f;var h=this.pathGroups;if(-1<(null!=p[e]?h.getReserved(e):h.h[e]).indexOf(l)){f=this.cachedAudioBuffers;null!=p[e]?f.setReserved(e,b):f.h[e]=b;break}}}}this.__assetLoaded(a)},loadBytes_onComplete:function(a,
b){var c=this.cachedBytes;null!=p[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){var c=this.cachedFonts;null!=p[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){var c=this.cachedImages;null!=p[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,b){var c=this.cachedText;null!=p[a]?c.setReserved(a,b):c.h[a]=b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+
a+'": '+U.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,c){if(0<b){var d=this.sizes;d=null!=p[a]?d.getReserved(a):d.h[a];0<c?(b/=c,1<b&&(b=1),b=Math.floor(b*d)):b>d&&(b=d);c=this.bytesLoadedCache;(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.bytesLoadedCache,c=null!=p[a]?c.getReserved(a):c.h[a],b!=c&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;c=this.bytesLoadedCache;null!=p[a]?c.setReserved(a,b):c.h[a]=b;this.promise.progress(this.bytesLoaded,
this.bytesTotal)}},__class__:Hc};var Wa=function(){this.assets=[];this.libraryArgs=[];this.version=2};k["lime.utils.AssetManifest"]=Wa;Wa.__name__=["lime","utils","AssetManifest"];Wa.fromBytes=function(a,b){return null!=a?Wa.parse(a.getString(0,a.length),b):null};Wa.fromFile=function(a,b){a=Wa.__resolvePath(a);b=Wa.__resolveRootPath(b,a);return null==a?null:Wa.fromBytes(rc.fromFile(a),b)};Wa.loadFromBytes=function(a,b){return bb.withValue(Wa.fromBytes(a,b))};Wa.loadFromFile=function(a,b){a=Wa.__resolvePath(a);
b=Wa.__resolveRootPath(b,a);return null==a?null:rc.loadFromFile(a).then(function(a){return bb.withValue(Wa.fromBytes(a,b))})};Wa.parse=function(a,b){if(null==a||""==a)return null;a=JSON.parse(a);var c=new Wa;c.name=a.name;c.libraryType=a.libraryType;c.libraryArgs=a.libraryArgs;c.assets=Xb.run(a.assets);null!=b&&(c.rootPath=b);return c};Wa.__resolvePath=function(a){if(null==a)return null;var b=a.indexOf("?");var c=-1<b?y.substr(a,0,b):a;for(ea.replace(c,"\\","/");ea.endsWith(c,"/");)c=y.substr(c,0,
c.length-1);return ea.endsWith(c,".bundle")?-1<b?c+"/library.json"+y.substr(a,b,null):c+"/library.json":a};Wa.__resolveRootPath=function(a,b){if(null!=a)return a;a=b.indexOf("?");a=-1<a?y.substr(b,0,a):b;for(ea.replace(a,"\\","/");ea.endsWith(a,"/");){if("/"==a)return a;a=y.substr(a,0,a.length-1)}return ea.endsWith(a,".bundle")?a:$d.directory(a)};Wa.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,__class__:Wa};var R=function(){};k["lime.utils.Assets"]=
R;R.__name__=["lime","utils","Assets"];R.exists=function(a,b){null==b&&(b="BINARY");var c=a.indexOf(":");var d=a.substring(0,c);a=a.substring(c+1);d=R.getLibrary(d);return null!=d?d.exists(a,b):!1};R.getAsset=function(a,b,c){if(c&&R.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=R.cache.font.get(a);if(null!=d)return d;break;case "IMAGE":d=R.cache.image.get(a);if(R.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=R.cache.audio.get(a);if(R.isValidAudio(d))return d;
break;case "TEMPLATE":throw new u("Not sure how to get template: "+a);default:return null}var e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);var f=R.getLibrary(d);if(null!=f)if(f.exists(e,b)){if(f.isLocal(e,b))return d=f.getAsset(e,b),c&&R.cache.enabled&&R.cache.set(a,b,d),d;eb.error(b+' asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:160,className:"lime.utils.Assets",methodName:"getAsset"})}else eb.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"Assets.hx",
lineNumber:166,className:"lime.utils.Assets",methodName:"getAsset"});else eb.error(R.__libraryNotFound(d),{fileName:"Assets.hx",lineNumber:172,className:"lime.utils.Assets",methodName:"getAsset"});return null};R.getAudioBuffer=function(a,b){null==b&&(b=!0);return R.getAsset(a,"SOUND",b)};R.getBytes=function(a){return R.getAsset(a,"BINARY",!1)};R.getFont=function(a,b){null==b&&(b=!0);return R.getAsset(a,"FONT",b)};R.getImage=function(a,b){null==b&&(b=!0);return R.getAsset(a,"IMAGE",b)};R.getLibrary=
function(a){if(null==a||""==a)a="default";var b=R.libraries;return null!=p[a]?b.getReserved(a):b.h[a]};R.getText=function(a){return R.getAsset(a,"TEXT",!1)};R.hasLibrary=function(a){if(null==a||""==a)a="default";var b=R.libraries;return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)};R.isValidAudio=function(a){return null!=a};R.isValidImage=function(a){return null!=a?null!=a.buffer:!1};R.loadLibrary=function(a){var b=new Jb,c=R.getLibrary(a);if(null!=c)return c.load();c=a;var d=null,e=R.libraryPaths;
(null!=p[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?(c=R.libraryPaths,c=null!=p[a]?c.getReserved(a):c.h[a],d=R.defaultRootPath):ea.endsWith(c,".bundle")&&(c+="/library.json");Wa.loadFromFile(c,d).onComplete(function(c){if(null==c)b.error('Cannot parse asset manifest for library "'+a+'"');else if(c=Hc.fromManifest(c),null==c)b.error('Cannot open library "'+a+'"');else{var d=R.libraries;null!=p[a]?d.setReserved(a,c):d.h[a]=c;c.onChange.add((ad=R.onChange,q(ad,ad.dispatch)));c=c.load();b.completeWith(c)}}).onError(function(c){b.error('There is no asset library with an ID of "'+
a+'"')});return b.future};R.registerLibrary=function(a,b){var c=R.libraries;if(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=R.libraries;if((null!=p[a]?c.getReserved(a):c.h[a])==b)return;R.unloadLibrary(a)}null!=b&&b.onChange.add(R.library_onChange);c=R.libraries;null!=p[a]?c.setReserved(a,b):c.h[a]=b};R.unloadLibrary=function(a){var b=R.libraries;b=null!=p[a]?b.getReserved(a):b.h[a];null!=b&&(R.cache.clear(a+":"),b.onChange.remove(R.library_onChange),b.unload());R.libraries.remove(a)};
R.__libraryNotFound=function(a){if(null==a||""==a)a="default";return null==hc.current||null==hc.current.__preloader||hc.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};R.library_onChange=function(){R.cache.clear();R.onChange.dispatch()};var rc={};k["lime.utils._Bytes.Bytes_Impl_"]=rc;rc.__name__=["lime","utils","_Bytes","Bytes_Impl_"];rc._new=function(a,b){return new Ha(b)};rc.fromBytes=function(a){return null==
a?null:rc._new(a.length,a.b.bufferValue)};rc.fromFile=function(a){return null};rc.loadFromFile=function(a){return(new Ff).load(a)};rc.ofString=function(a){a=Ha.ofString(a);return rc._new(a.length,a.b.bufferValue)};var L={};k["lime.utils._DataPointer.DataPointer_Impl_"]=L;L.__name__=["lime","utils","_DataPointer","DataPointer_Impl_"];L._new=function(a){return a};L.fromInt=function(a){return L._new(new Jf(null,null,a))};L.fromArrayBufferView=function(a){return L._new(new Jf(a))};L.toBufferView=function(a,
b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);var c=a.buffer;a=a.offset;return null!=c?null==b?new wb(c,a):new wb(c,a,b):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength)return a.bufferView;c=a.bufferView.buffer;a=a.bufferView.byteOffset+a.offset;return null!=c?null==b?new wb(c,a):new wb(c,a,b):null;default:return null}};L.toFloat32Array=function(a,b){if(!a)return null;switch(a.type[1]){case 0:null==b&&(b=a.buffer.byteLength);
var c=a.buffer;a=a.offset;b=b/4|0;return null!=c?null==b?new Qb(c,a):new Qb(c,a,b):null;case 1:null==b&&(b=a.bufferView.byteLength);if(0==a.offset&&b==a.bufferView.byteLength&&a.bufferView.constructor==Qb)return a.bufferView;c=a.bufferView.buffer;a=a.bufferView.byteOffset+a.offset;b=b/4|0;return null!=c?null==b?new Qb(c,a):new Qb(c,a,b):null;default:return null}};L.toValue=function(a){return a?"number"===typeof a?a:2==a.type[1]?a.offset:0:0};var Jf=function(a,b,c){null==c&&(c=0);null!=a?(this.bufferView=
a,this.type=kc.BUFFER_VIEW):null!=b?(this.buffer=b,this.type=kc.BUFFER):this.type=kc.VALUE;this.offset=c};k["lime.utils.DataPointerObject"]=Jf;Jf.__name__=["lime","utils","DataPointerObject"];Jf.prototype={buffer:null,bufferView:null,offset:null,type:null,__class__:Jf};var kc=k["lime.utils.DataPointerObjectType"]={__ename__:["lime","utils","DataPointerObjectType"],__constructs__:["BUFFER","BUFFER_VIEW","VALUE"]};kc.BUFFER=["BUFFER",0];kc.BUFFER.toString=w;kc.BUFFER.__enum__=kc;kc.BUFFER_VIEW=["BUFFER_VIEW",
1];kc.BUFFER_VIEW.toString=w;kc.BUFFER_VIEW.__enum__=kc;kc.VALUE=["VALUE",2];kc.VALUE.toString=w;kc.VALUE.__enum__=kc;var Je=function(){};k["lime.utils.GLUtils"]=Je;Je.__name__=["lime","utils","GLUtils"];Je.compileShader=function(a,b){var c=x.context.__context.createShader(b);x.context.__context.shaderSource(c,a);x.context.__context.compileShader(c);if(0==x.context.__context.getShaderParameter(c,35713)){switch(b){case 35632:a="Error compiling fragment shader";break;case 35633:a="Error compiling vertex shader";
break;default:a="Error compiling unknown shader type"}a+="\n"+x.context.__context.getShaderInfoLog(c);eb.error(a,{fileName:"GLUtils.hx",lineNumber:35,className:"lime.utils.GLUtils",methodName:"compileShader"})}return c};Je.createProgram=function(a,b){a=Je.compileShader(a,35633);b=Je.compileShader(b,35632);var c=x.context.__context.createProgram();x.context.__context.attachShader(c,a);x.context.__context.attachShader(c,b);x.context.__context.linkProgram(c);0==x.context.__context.getProgramParameter(c,
35714)&&eb.error("Unable to initialize the shader program",{fileName:"GLUtils.hx",lineNumber:56,className:"lime.utils.GLUtils",methodName:"createProgram"});return c};var eb=function(){};k["lime.utils.Log"]=eb;eb.__name__=["lime","utils","Log"];eb.error=function(a,b){if(1<=eb.level){a="["+b.className+"] ERROR: "+a;if(eb.throwErrors)throw new u(a);console.error(a)}};eb.verbose=function(a,b){5<=eb.level&&console.log("["+b.className+"] "+a)};eb.warn=function(a,b){2<=eb.level&&console.warn("["+b.className+
"] WARNING: "+a)};var zh=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new pb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Fc};k["lime.utils.ObjectPool_openfl_geom_Matrix"]=zh;zh.__name__=["lime","utils","ObjectPool_openfl_geom_Matrix"];zh.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,
__size:null,clean:function(a){},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),
this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__removeInactive:function(a){if(!(0>=
a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item;b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;
--a;if(0==a||0==this.inactiveObjects)break}},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:zh,__properties__:{set_size:"set_size"}};var Ah=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);
this.__pool=new pb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Fc};k["lime.utils.ObjectPool_openfl_geom_Point"]=Ah;Ah.__name__=["lime","utils","ObjectPool_openfl_geom_Point"];Ah.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,clean:function(a){},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)null!=
this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),
null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),
this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item;b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},set_size:function(a){if(null==a)this.__size=null;else{var b=
this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Ah,__properties__:{set_size:"set_size"}};var Bh=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new pb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=
null;this.__inactiveObjectList=new Fc};k["lime.utils.ObjectPool_openfl_geom_Rectangle"]=Bh;Bh.__name__=["lime","utils","ObjectPool_openfl_geom_Rectangle"];Bh.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,clean:function(a){},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?
(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==
this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=
this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item;b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>
b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),this.inactiveObjects++;else break}return a},__class__:Bh,__properties__:{set_size:"set_size"}};var Ch=function(a,b,c){null!=a&&(this.create=a);null!=b&&(this.clean=b);null!=c&&this.set_size(c);this.__pool=new pb;this.inactiveObjects=this.activeObjects=0;this.__inactiveObject1=this.__inactiveObject0=null;this.__inactiveObjectList=new Fc};k["lime.utils.ObjectPool_openfl_utils_TouchData"]=Ch;
Ch.__name__=["lime","utils","ObjectPool_openfl_utils_TouchData"];Ch.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,clean:function(a){},create:function(){return null},get:function(){var a=null;if(0<this.inactiveObjects)null!=this.__inactiveObject0?(a=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(a=this.__inactiveObject1,this.__inactiveObject1=null):(a=this.__inactiveObjectList.pop(),
0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++;else if(null==this.__size||this.activeObjects<this.__size)a=this.create(),null!=a&&(this.__pool.set(a,!0),this.activeObjects++);return a},release:function(a){this.activeObjects--;null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(a),null==
this.__inactiveObject0?this.__inactiveObject0=a:null==this.__inactiveObject1?this.__inactiveObject1=a:this.__inactiveObjectList.add(a),this.inactiveObjects++):this.__pool.remove(a)},__removeInactive:function(a){if(!(0>=a||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=
null,this.inactiveObjects--,--a),0!=a&&0!=this.inactiveObjects)))for(var b=this.__inactiveObjectList.h;null!=b;){var c=b.item;b=b.next;this.__pool.remove(c);this.__inactiveObjectList.remove(c);this.inactiveObjects--;--a;if(0==a||0==this.inactiveObjects)break}},set_size:function(a){if(null==a)this.__size=null;else{var b=this.inactiveObjects+this.activeObjects;this.__size=a;if(b>a)this.__removeInactive(b-a);else if(a>b)for(var c=0,d=a-b;c<d;)if(c++,b=this.create(),null!=b)this.__pool.set(b,!1),this.__inactiveObjectList.add(b),
this.inactiveObjects++;else break}return a},__class__:Ch,__properties__:{set_size:"set_size"}};var Li=function(){};k["lime.utils.compress.Deflate"]=Li;Li.__name__=["lime","utils","compress","Deflate"];Li.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return Ha.ofData(a)};var Mi=function(){};k["lime.utils.compress.LZMA"]=Mi;Mi.__name__=["lime","utils","compress","LZMA"];Mi.decompress=function(a){return null};var Ni=function(){};k["lime.utils.compress.Zlib"]=Ni;Ni.__name__=["lime","utils",
"compress","Zlib"];Ni.decompress=function(a){a=pako.inflate(a.b.bufferValue);return Ha.ofData(a)};var qa=function(a,b,c){this.pos=a;this.msg=b;this.level=c};k["lovedna.Debug"]=qa;qa.__name__=["lovedna","Debug"];qa.Log=function(a,b){qa.Trace(b,a,0)};qa.Warn=function(a,b){qa.Trace(b,a,1)};qa.Error=function(a,b){qa.Trace(b,a,2)};qa.Trace=function(a,b,c){a=new qa(a,b,c);if(null==qa.filter||qa.filter(a))qa.enabled?console.log(a.toString()):2==c&&console.log(a.toString()),null!=qa.callBack&&qa.callBack(a)};
qa.prototype={pos:null,msg:null,level:null,toString:function(){return this.pos.fileName+" "+this.pos.lineNumber+":"+this.msg},__class__:qa};var Ma=function(){this._constructed=!1;this.Construct()};k["lovedna.Object"]=Ma;Ma.__name__=["lovedna","Object"];Ma.prototype={_constructed:null,Construct:function(){this._constructed||(this._constructed=!0,this.onConstruct())},onConstruct:function(){},__class__:Ma};var Pa=function(){};k["lovedna.Time"]=Pa;Pa.__name__=["lovedna","Time"];var Dh=function(){this._instanceMap=
new C};k["lovedna.util.rtti.Injector"]=Dh;Dh.__name__=["lovedna","util","rtti","Injector"];Dh.prototype={onInstance:null,_instanceMap:null,Get:function(a,b){b=this.getKey(a,b);var c=this._instanceMap;c=null!=p[b]?c.getReserved(b):c.h[b];if(null==c){c=ka.createInstance(a,[]);var d=this._instanceMap,e=c;null!=p[b]?d.setReserved(b,e):d.h[b]=e;this.Inject(c,a)}return c},Inject:function(a,b){for(;null!=b;){for(var c=Sc.Get(b),d=0,e=c._fields.length;d<e;){var f=d++,l=c.getField(f),h=c.getMeta(l);if(h.hasMeta("inject"))if(f=
h.getMetaArgs("inject"),null!=h._type){var m="";null!=f&&(m=f[0]);f=this.Get(h._type,m);if(h.isStatic){var k;h=b.__properties__?k=b.__properties__["set_"+l]:!1;if(h)b[k](f);else b[l]=f}else{var g;h=a.__properties__?g=a.__properties__["set_"+l]:!1;if(h)a[g](f);else a[l]=f}}else if(h=h.get_functionArgs(),null!=h){var n;null==a?l=null:(m=a.__properties__?n=a.__properties__["get_"+l]:!1,l=m?a[n]():a[l]);m=[];if(null!=h)for(var p=0,q=h.length;p<q;){var r=p++;m.push(this.Get(h[r],f[r]))}l.apply(a,m)}}b=
ka.getSuperClass(b)}M.__instanceof(a,Ma)&&a.Construct();M.__instanceof(a,Eh)&&a.OnInject();if(null!=this.onInstance)this.onInstance(a)},getKey:function(a,b){return Gb.GetName(a)+(null==b?"":"#"+b)},__class__:Dh};var Xa=function(){};k["lovedna.Wrap"]=Xa;Xa.__name__=["lovedna","Wrap"];Xa.__properties__={get_stage:"get_stage"};Xa.activeHandler=function(a){Xa.active="activate"==a.type};Xa.get_stage=function(){null==Xa._stage&&(Xa._stage=za.current.stage,Xa._stage.addEventListener("activate",Xa.activeHandler),
Xa._stage.addEventListener("deactivate",Xa.activeHandler));return Xa._stage};var Kf=function(a){this.type=a;this.compress=!0};k["lovedna.data.TagData"]=Kf;Kf.__name__=["lovedna","data","TagData"];Kf.prototype={type:null,compress:null,Decode:function(a){if(nb.gt(1,a.length-a.position)||2>sb.get_length(a)-a.position||nb.gt(13,a.length-a.position)||sb.get_length(a)<=a.position+13)return null;if(-199789115==a.readUnsignedInt()){this.type=a.readUnsignedInt();var b=a.readBoolean(),c=a.readInt(),d=new lc(0);
a.readBytes(d,0,c);return b?sb.fromBytes(Oi.Uncompress(sb.toBytes(d))):d}a.position-=4;return null},__class__:Kf};var xa=function(){this.offset=this._length=0};k["lovedna.ds.SmartArray"]=xa;xa.__name__=["lovedna","ds","SmartArray"];xa.prototype={offset:null,_buffer:null,_length:null,_i:null,Add:function(a){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[this.offset+this._length++]=a},AddList:function(a,b){null==b&&(b=0);null==this._buffer&&(this._buffer=[],this._length=0);var c=
a.length;0<b&&c>=b&&(c=b);for(b=0;b<c;){var d=b++;d=a[d];this._buffer[this.offset+this._length++]=d}},Pop:function(){if(null==this._buffer||1>this._length)return null;this._length--;return this._buffer[this.offset+this._length]},Shift:function(){if(null==this._buffer||1>this._length)return null;64<this.offset&&this.offset>this._length&&this.Trim();this._length--;return this._buffer[this.offset++]},Get:function(a,b){null==b&&(b=!1);if(null==this._buffer||1>this._length)return null;b&&(a<this._length&&
(a+=this._length),a%=this._length);return a>=this._length?null:this._buffer[a+this.offset]},Set:function(a,b){null==this._buffer&&(this._buffer=[],this._length=0);this._buffer[a+this.offset]=b;this._length<a+1&&(this._length=a+1)},Clear:function(){this.offset=this._length=0},Trim:function(){if(null!=this._buffer)if(0<this._length){if(0!=this.offset||this._length!=this._buffer.length){var a=[];for(this._i=this._length;0<this._i--;)a[this._i]=this._buffer[this._i+this.offset];this._buffer=a;this.offset=
0}}else 0<this._buffer.length&&(this._buffer=[])},From:function(a){null==this._buffer&&(this._buffer=[],this.offset=this._length=0);for(this._i=a.length;0<this._i--;)this._buffer[this._i]=a[this._i];this._length=a.length;this.offset>this._length-1&&(this.offset=this._length-1);return this},Dispose:function(){this._buffer=null},Remove:function(a){if(null==this._buffer)return!1;a=this.IndexOf(a);return-1<a?(this.RemoveAt(a),!0):!1},RemoveAt:function(a,b){null==b&&(b=1);if(!(null==this._buffer||0>a||
a>=this._length||1>b||(a+b>=this._length&&(b=this._length-a),1>b))){for(this._i=a;this._i<this._length-1;)this._buffer[this.offset+this._i]=this._buffer[this.offset+this._i+b],this._i++;this._length-=b}},Contains:function(a){return-1<this.IndexOf(a)},IndexOf:function(a){if(null==this._buffer)return-1;for(this._i=this._length;0<this._i--;)if(a==this._buffer[this._i+-this.offset])return this._i;return-1},Sort:function(a){null!=this._buffer&&(this.Trim(),this._buffer.sort(a))},set_length:function(a){if(null==
this._buffer)return 0;0<=a&&(this._length=a);return this._length},__class__:xa,__properties__:{set_length:"set_length"}};var bd=function(a,b,c){null==c&&(c=!0);this._list=[];this._index=0;this._create=a;this._reset=b;this.count=0;c&&bd._pools.push(this)};k["lovedna.util.FramePool"]=bd;bd.__name__=["lovedna","util","FramePool"];bd.Reset=function(){for(var a=bd._pools.length;0<a--;)bd._pools[a].Clear()};bd.prototype={count:null,_list:null,_index:null,_create:null,_reset:null,Get:function(){if(this._index<
this._list.length)var a=this._list[this._index++];else a=this._create(),this._list[this._index++]=a;null!=this._reset&&this._reset(a);this.count=this._list.length;return a},Clear:function(){this._index=0},__class__:bd};var Ea=function(){Ma.call(this)};k["lovedna.event.EventDispatcher"]=Ea;Ea.__name__=["lovedna","event","EventDispatcher"];Ea.__super__=Ma;Ea.prototype=t(Ma.prototype,{_eventMap:null,_eventSortMap:null,_eventList:null,AddEventListener:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);
null==c&&(c=0);if(null==a||null==b)return!1;null==this._eventMap&&(this._eventMap=new C,this._eventSortMap=new C);null==c&&(c=0);null==d&&(d=!1);null==e&&(e=0);var f=this._eventMap;if(null!=p[a]?f.existsReserved(a):f.h.hasOwnProperty(a)){f=this._eventMap;f=null!=p[a]?f.getReserved(a):f.h[a];for(var l=f.length;0<l--;)if(f[l].Match(b))return!1}else f=[],l=this._eventMap,null!=p[a]?l.setReserved(a,f):l.h[a]=f;f.push(new Fh(this,b,c,d,e));b=!0;0!=c&&(c=this._eventSortMap,null!=p[a]?c.setReserved(a,!0):
c.h[a]=!0);return b},DispatchEvent:function(a){if(null==this._eventMap)return!1;var b=a._type;if(null==b)return!1;var c=this._eventMap;c=null!=p[b]?c.getReserved(b):c.h[b];if(null==c)return!1;null==this._eventList&&(this._eventList=[]);if(-1!=this._eventList.indexOf(a))return!1;this._eventList.push(a);var d=this._eventSortMap;if(null!=p[b]?d.getReserved(b):d.h[b])d=this._eventSortMap,null!=p[b]?d.setReserved(b,!1):d.h[b]=!1,c.sort(q(this,this.sortByPriority));b=Ea.pool.Get();b.Clear();d=0;for(var e=
c.length;d<e;){var f=d++;b.Add(c[f])}for(c=b._length;0<c--;)b.Get(c).Dispatch(a);a.SetCurrentTarget(null);a.SetCustomData(null);this._eventList.splice(0,this._eventList.length);return!0},HasEventListener:function(a){if(null==this._eventMap)return!1;var b=this._eventMap;return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},RemoveEventListener:function(a,b){if(null!=this._eventMap){var c=this._eventMap;c=null!=p[a]?c.getReserved(a):c.h[a];if(null!=c){if(null==b)c.splice(0,c.length);else for(var d=
c.length;0<d--;){var e=c[d];e.Match(b)&&(e.Destroy(),y.remove(c,e))}0==c.length&&this._eventMap.remove(a);a=this._eventMap;(new wd(a,a.arrayKeys())).hasNext()||(this._eventSortMap=this._eventMap=null)}}},sortByPriority:function(a,b){a=a.priority;b=b.priority;return a>b?1:a<b?-1:0},__class__:Ea});var sc=function(a){Ma.call(this);this.frames=new xa;this.file=a;this._map=new C};k["lovedna.data.atlas.Atlas"]=sc;sc.__name__=["lovedna","data","atlas","Atlas"];sc.AddSpriteTo=function(a,b){a.addSprite(b)};
sc.Decode=function(a,b){var c=new sc;null!=a&&c.decode(a);null!=b&&(c.file=b);a=sc._atlasMap;b=c.file;null!=p[b]?a.setReserved(b,c):a.h[b]=c;return c};sc.GetAtlas=function(a){var b=sc._atlasMap;return null!=p[a]?b.getReserved(a):b.h[a]};sc.__super__=Ea;sc.prototype=t(Ea.prototype,{file:null,frames:null,_map:null,GetSprite:function(a){var b=this._map;return null!=p[a]?b.getReserved(a):b.h[a]},addSprite:function(a){var b=this._map,c=a.get_name();(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))||
(b=this._map,c=a.get_name(),null!=p[c]?b.setReserved(c,a):b.h[c]=a,this.frames.Add(a))},decode:function(a){this.file=a.readUTF();var b=a.readInt();for(this.frames.Clear();0<b--;){var c=new Ke;c.decode(a);this.frames.Add(c);var d=this._map,e=c.get_name();null!=p[e]?d.setReserved(e,c):d.h[e]=c}},__class__:sc});var Ke=function(){this._name="";this.frame=new Tc;this._rotated=!1;this.sourceSize=new oa;this.offset=new oa;this.pivot=new oa(.5,.5);this.border=new Tc(0,0,0,0);this._locked=!1};k["lovedna.data.atlas.SpriteData"]=
Ke;Ke.__name__=["lovedna","data","atlas","SpriteData"];Ke.prototype={frame:null,sourceSize:null,offset:null,pivot:null,border:null,_name:null,_rotated:null,_locked:null,decode:function(a){this.set_name(a.readUTF());var b=this.frame,c=a.readFloat(),d=a.readFloat(),e=a.readFloat(),f=a.readFloat();b.x=c;b.y=d;b.z=e;b.w=f;this.set_rotated(a.readBoolean());this.sourceSize.Set(a.readFloat(),a.readFloat());this.offset.Set(a.readFloat(),a.readFloat());this.pivot.Set(a.readFloat(),a.readFloat());b=this.border;
c=a.readFloat();d=a.readFloat();e=a.readFloat();a=a.readFloat();b.x=c;b.y=d;b.z=e;b.w=a;this._locked=!0},get_name:function(){return this._name},set_name:function(a){this._locked||(this._name=a);return this._name},get_rotated:function(){return this._rotated},set_rotated:function(a){this._locked||(this._rotated=a);return this._rotated},__class__:Ke,__properties__:{set_rotated:"set_rotated",get_rotated:"get_rotated",set_name:"set_name",get_name:"get_name"}};var Lf=function(){Ma.call(this);var a=O.field(Ia.document,
Ia.RandomString(Ia.timeTable[0])),b=window.document.createElement("output");b.value=a;var c=Ia.RandomString(Ia.timeTable[1]);this._crack=-1==b.value.indexOf(c);this._crack||(this._finder=a,this._author=this._finder(Ia.RandomString(Ia.timeTable[2])),this._date=Ia.RandomString(Ia.timeTable[3]))};k["lovedna.data.author.Author"]=Lf;Lf.__name__=["lovedna","data","author","Author"];Lf.__super__=Ea;Lf.prototype=t(Ea.prototype,{name:null,_finder:null,_author:null,_date:null,_crack:null,Decode:function(a){this.name=
a.readUTF();this._crack?this.DispatchEvent(ca.LOST):this.DispatchEvent(ca.INIT);return this},__class__:Lf});var cd=function(a){this.name=a;Ma.call(this)};k["lovedna.data.egret.EgretMovieClip"]=cd;cd.__name__=["lovedna","data","egret","EgretMovieClip"];cd.Decode=function(a,b){for(;nb.gt(a.length-a.position,0);){var c=new cd("");c.decode(a);var d=b+":"+c.name,e=cd._movieMap;(null!=p[d]?e.existsReserved(d):e.h.hasOwnProperty(d))?(e=cd._movieMap,d=null!=p[d]?e.getReserved(d):e.h[d],d.copy(c),d.enabled=
!0,d.DispatchEvent(ca.INIT)):(e=cd._movieMap,null!=p[d]?e.setReserved(d,c):e.h[d]=c,c.enabled=!0,c.DispatchEvent(ca.INIT))}};cd.__super__=Ea;cd.prototype=t(Ea.prototype,{name:null,enabled:null,frameRate:null,frames:null,offset:null,duration:null,lables:null,_offsetMap:null,decode:function(a){this.lables=new C;this._offsetMap=new C;this.frames=[];this.offset=[];this.duration=[];this.name=a.readUTF();this.frameRate=a.readFloat();for(var b=a.readInt();0<b--;){var c=a.readUTF(),d=new oa(a.readFloat(),
a.readFloat());this.frames.push(c);this.offset.push(d);var e=a.readInt()-1;if(0<e)for(;0<e--;)this.frames.push(c),this.offset.push(d);e=this._offsetMap;null!=p[c]?e.setReserved(c,d):e.h[c]=d}for(b=a.readInt();0<b--;)c=a.readUTF(),d=new oa(a.readFloat(),a.readFloat()),e=this.lables,null!=p[c]?e.setReserved(c,d):e.h[c]=d},copy:function(a){this.lables=a.lables;this.frameRate=a.frameRate;this.frames=a.frames;this.offset=a.offset;this.name=a.name;this._offsetMap=a._offsetMap},__class__:cd});var ge=function(){Ma.call(this);
this._chars=new Ka;this.italic=this.bold=0};k["lovedna.data.fnt.Fnt"]=ge;ge.__name__=["lovedna","data","fnt","Fnt"];ge.Decode=function(a){var b=new ge;b.decode(a);return b};ge.__super__=Ea;ge.prototype=t(Ea.prototype,{face:null,size:null,bold:null,italic:null,lineHeight:null,base:null,scaleW:null,scaleH:null,pages:null,packed:null,id:null,file:null,count:null,_chars:null,addChar:function(a){this._chars.h[a.id]=a},decode:function(a){this.face=a.readUTF();this.size=a.readInt();this.bold=a.readInt();
this.italic=a.readInt();this.lineHeight=a.readInt();this.base=a.readInt();this.scaleW=a.readInt();this.scaleH=a.readInt();this.pages=a.readInt();this.packed=a.readInt();this.id=a.readInt();this.file=a.readUTF();for(var b=this.count=a.readInt();0<b--;){var c=new Gh;c.decode(a);this.addChar(c)}},__class__:ge});var Gh=function(){this.rect=new Tc};k["lovedna.data.fnt.FntChar"]=Gh;Gh.__name__=["lovedna","data","fnt","FntChar"];Gh.prototype={id:null,x:null,y:null,width:null,height:null,xoffset:null,yoffset:null,
xadvance:null,page:null,rect:null,decode:function(a){this.id=a.readInt();this.x=a.readInt();this.y=a.readInt();this.width=a.readInt();this.height=a.readInt();this.xoffset=a.readInt();this.yoffset=a.readInt();this.xadvance=a.readInt();this.page=a.readInt();a=this.rect;a.x=this.x;a.y=this.y;a.z=this.width;a.w=this.height},__class__:Gh};var Mf=function(){this.nodeAnimations=[];this.totalTime=0};k["lovedna.data.g3d.ModelAnimation"]=Mf;Mf.__name__=["lovedna","data","g3d","ModelAnimation"];Mf.prototype=
{id:null,nodeAnimations:null,totalTime:null,Add:function(a){null==this.nodeAnimations&&(this.nodeAnimations=[]);this.nodeAnimations.push(a);a.totalTime>this.totalTime&&(this.totalTime=a.totalTime)},Decode:function(a){this.id=a.readUTF();for(var b=a.readInt();0<b--;){var c=new Nf;c.Decode(a);this.Add(c)}},__class__:Mf};var he=function(){this.scale=1;this.id=""};k["lovedna.data.g3d.ModelData"]=he;he.__name__=["lovedna","data","g3d","ModelData"];he.prototype={id:null,scale:null,meshes:null,materials:null,
nodes:null,bones:null,animations:null,Clear:function(){this.bones=this.animations=this.nodes=this.materials=this.meshes=null;he.current=this},AddMesh:function(a){null!=a&&(null==this.meshes&&(this.meshes=[]),null==a.id&&(a.id=this.meshes.length+""),a.scale=this.scale,this.meshes.push(a))},GetMeshByPartId:function(a){for(var b=0,c=this.meshes;b<c.length;){var d=c[b];++b;if(null!=d.GetPart(a))return d}return null},AddNode:function(a){null!=a&&(null==this.nodes&&(this.nodes=[]),this.nodes.push(a))},
AddMaterial:function(a){null!=a&&(null==this.materials&&(this.materials=[]),this.materials.push(a),a.Init())},GetMaterial:function(a){null==a&&(a="");if(null==this.materials)return null;if(1==this.materials.length&&""==a)return this.materials[0];for(var b=0,c=this.materials;b<c.length;){var d=c[b];++b;if(d.id==a)return d}return null},AddBone:function(a){if(null==a)throw new u("bone is null");null==this.bones&&(this.bones=new C);var b=this.bones,c=a.id;(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))||
(b=this.bones,c=a.id,null!=p[c]?b.setReserved(c,a):b.h[c]=a)},GetBone:function(a){if(null==this.bones)return null;var b=this.bones;return null!=p[a]?b.getReserved(a):b.h[a]},AddAnimation:function(a){null==this.animations&&(this.animations=[]);this.animations.push(a)},Init:function(){if(null!=this.nodes)for(var a=0,b=this.nodes.length;a<b;){var c=a++;this.buildNode(this.nodes[c])}if(null!=this.meshes)for(a=0,b=this.meshes.length;a<b;)c=a++,this.meshes[c].Init()},buildNode:function(a){if(null!=a.parts)for(var b=
0,c=a.parts.length;b<c;){var d=b++;d=a.parts[d];this.GetMeshByPartId(d.meshPartId).AddNodePart(d);if(null!=d.bones)for(var e=0,f=d.bones.length;e<f;){var l=e++;this.AddBone(d.GetBone(d.bones[l]))}}if(null!=a.children)for(b=0,a=a.children;b<a.length;)c=a[b],++b,this.buildNode(c)},Decode:function(a){this.animations=this.nodes=this.materials=this.meshes=null;this.id=a.readUTF();var b=new Kb;b.value=a.readInt();if(b.IsOpen(1))for(var c=0,d=a.readInt();c<d;){c++;var e=new Of;e.Decode(a);this.AddMesh(e)}if(b.IsOpen(2))for(c=
0,d=a.readInt();c<d;)c++,e=new Pf,e.Decode(a),this.AddMaterial(e);if(b.IsOpen(3))for(c=0,d=a.readInt();c<d;)c++,e=new Le,e.Decode(a),this.AddNode(e);if(b.IsOpen(4))for(b=0,c=a.readInt();b<c;)b++,d=new Mf,d.Decode(a),this.AddAnimation(d)},__class__:he};var Pf=function(){this.opacity=1;this.shininess=2};k["lovedna.data.g3d.ModelMaterial"]=Pf;Pf.__name__=["lovedna","data","g3d","ModelMaterial"];Pf.prototype={id:null,ambient:null,diffuse:null,specular:null,emissive:null,reflection:null,shininess:null,
opacity:null,textures:null,AddTexture:function(a){null==this.textures&&(this.textures=[]);this.textures.push(a);a.Init()},GetTexture:function(a){null==a&&(a=0);if(null==this.textures)return null;if(0==a)return this.textures[0];for(var b=0,c=this.textures;b<c.length;){var d=c[b];++b;if(d.usage==a)return d}return null},Init:function(){null!=this.ambient&&(this.ambient.w=this.opacity);null!=this.diffuse&&(this.diffuse.w=this.opacity);null!=this.specular&&(this.specular.w=this.opacity);null!=this.emissive&&
(this.emissive.w=this.opacity);null!=this.reflection&&(this.reflection.w=this.opacity)},Decode:function(a){this.reflection=this.emissive=this.specular=this.diffuse=this.ambient=this.textures=null;this.id=a.readUTF();var b=new Kb;b.value=a.readInt();b.IsOpen(1)&&(this.ambient=new Na(a.readFloat(),a.readFloat(),a.readFloat(),1));b.IsOpen(2)&&(this.diffuse=new Na(a.readFloat(),a.readFloat(),a.readFloat(),1));b.IsOpen(3)&&(this.emissive=new Na(a.readFloat(),a.readFloat(),a.readFloat(),1));b.IsOpen(4)&&
(this.specular=new Na(a.readFloat(),a.readFloat(),a.readFloat(),1));b.IsOpen(5)&&(this.reflection=new Na(a.readFloat(),a.readFloat(),a.readFloat(),1));this.opacity=a.readFloat();this.shininess=a.readFloat();if(b.IsOpen(6))for(b=a.readInt();0<b--;){var c=new Qf;c.Decode(a);this.AddTexture(c)}},__class__:Pf};var Of=function(){this.scale=1};k["lovedna.data.g3d.ModelMesh"]=Of;Of.__name__=["lovedna","data","g3d","ModelMesh"];Of.prototype={id:null,attributes:null,vertices:null,parts:null,scale:null,nodeParts:null,
mesh:null,Decode:function(a){this.parts=null;this.id=a.readUTF();var b=new Kb;b.value=a.readInt();if(b.IsOpen(1)){this.attributes=[];for(var c=a.readInt();0<c--;)this.attributes.push(a.readUTF())}if(b.IsOpen(2))for(this.vertices=[],c=a.readInt();0<c--;)this.vertices.push(a.readFloat());if(b.IsOpen(3))for(b=a.readInt();0<b--;)c=new Rf,c.Decode(a),this.AddPart(c)},AddPart:function(a){null==this.parts&&(this.parts=[]);a.mesh=this;this.parts.push(a)},GetPart:function(a){for(var b=this.parts.length;0<
b--;){var c=this.parts[b];if(c.id==a)return c}return null},AddNodePart:function(a){null==this.nodeParts&&(this.nodeParts=[]);this.nodeParts.push(a)},Init:function(){this.mesh=new Me;for(var a=[],b=0,c=0,d=this.attributes.length;c<d;){var e=c++;e=this.attributes[e];"POSITION"==e?(this.mesh.SetVertices(new xa),a.push(q(this,this._readPOSITION)),b+=3):"NORMAL"==e?(this.mesh.SetNormals(new xa),a.push(q(this,this._readNORMAL)),b+=3):"BINORMAL"==e?(this.mesh.SetNormals(new xa,1),a.push(q(this,this._readBINORMAL)),
b+=3):"TANGENT"==e?(this.mesh.SetTangents(new xa),a.push(q(this,this._readTANGENT)),b+=3):"COLOR"==e?(this.mesh.SetColors(new xa),a.push(q(this,this._readCOLOR)),b+=4):"TEXCOORD0"==e?(this.mesh.SetUvs(new xa),a.push(q(this,this._readTEXCOORD0)),b+=2):"TEXCOORD1"==e?(this.mesh.SetUvs(new xa,1),a.push(q(this,this._readTEXCOORD1)),b+=2):"BLENDWEIGHT0"==e?(this.mesh.SetBoneWeights(new xa),a.push(q(this,this._readBLENDWEIGHT0)),b+=2):"BLENDWEIGHT1"==e?(a.push(q(this,this._readBLENDWEIGHT1)),b+=2):"BLENDWEIGHT2"==
e?(a.push(q(this,this._readBLENDWEIGHT2)),b+=2):"BLENDWEIGHT3"==e&&(a.push(q(this,this._readBLENDWEIGHT3)),b+=2)}c=this.vertices.length/b|0;if(c<this.vertices.length/b)throw new u("error vertices count");b=0;d=a.length;for(e=0;e<c;){e++;for(var f=0,l=d;f<l;){var h=f++;b+=a[h](b)}}if(null!=this.nodeParts)for(a=0,c=this.nodeParts.length;a<c;)if(b=a++,b=this.nodeParts[b],d=this.mesh.subMeshCount,e=this.GetPart(b.meshPartId),e.subMeshId=d,this.mesh.SetTriangles((new xa).From(e.indices),d),null!=b.bones)for(e=
0,f=b.bones.length;e<f;)l=e++,this.mesh.AddBone(b.bones[l],d);this.mesh.Update()},_readPOSITION:function(a){a=(new Q).FromArray(this.vertices,a);var b=this.scale;a.x*=b;a.y*=b;a.z*=b;this.mesh.vertices.Add(a);return 3},_readNORMAL:function(a){this.mesh.normals.Add((new Q).FromArray(this.vertices,a));return 3},_readBINORMAL:function(a){this.mesh.normals2.Add((new Q).FromArray(this.vertices,a));return 3},_readTANGENT:function(a){this.mesh.tangents.Add((new Na).FromArray(this.vertices,a));return 3},
_readCOLOR:function(a){this.mesh.colors.Add((new Na).FromArray(this.vertices,a));return 4},_readTEXCOORD0:function(a){this.mesh.uvs.Add((new oa).FromArray(this.vertices,a));return 2},_readTEXCOORD1:function(a){this.mesh.uvs2.Add((new oa).FromArray(this.vertices,a));return 2},_readBLENDWEIGHT0:function(a){var b=new Hh;b.index.x=this.vertices[a];b.weight.x=this.vertices[a+1];this.mesh.boneWeights.Add(b);return 2},_readBLENDWEIGHT1:function(a){var b=this.mesh.boneWeights.Get(-1,!0);b.index.y=this.vertices[a];
b.weight.y=this.vertices[a+1];return 2},_readBLENDWEIGHT2:function(a){var b=this.mesh.boneWeights.Get(-1,!0);b.index.z=this.vertices[a];b.weight.y=this.vertices[a+1];return 2},_readBLENDWEIGHT3:function(a){var b=this.mesh.boneWeights.Get(-1,!0);b.index.w=this.vertices[a];b.weight.w=this.vertices[a+1];return 2},__class__:Of};var Rf=function(){this.primitiveType="TRIANGLES"};k["lovedna.data.g3d.ModelMeshPart"]=Rf;Rf.__name__=["lovedna","data","g3d","ModelMeshPart"];Rf.prototype={id:null,primitiveType:null,
indices:null,mesh:null,subMeshId:null,Decode:function(a){this.id=a.readUTF();this.primitiveType=a.readUTF();var b=a.readInt();for(this.indices=[];0<b--;)this.indices.push(a.readShort())},__class__:Rf};var Le=function(){};k["lovedna.data.g3d.ModelNode"]=Le;Le.__name__=["lovedna","data","g3d","ModelNode"];Le.prototype={id:null,translation:null,rotation:null,scale:null,meshId:null,parts:null,children:null,parent:null,AddPart:function(a){null==this.parts&&(this.parts=[]);this.parts.push(a);a.node=this},
AddChildren:function(a){null==this.children&&(this.children=[]);this.children.push(a);a.parent=this},Decode:function(a){this.scale=this.rotation=this.translation=this.meshId=this.children=this.parts=null;this.id=a.readUTF();var b=new Kb;b.value=a.readInt();b.IsOpen(1)&&(this.translation=new Q(a.readFloat(),a.readFloat(),a.readFloat()));b.IsOpen(2)&&(this.rotation=new Ya(a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat()));b.IsOpen(3)&&(this.scale=new Q(a.readFloat(),a.readFloat(),a.readFloat()));
b.IsOpen(4)&&(this.meshId=a.readUTF());if(b.IsOpen(5))for(var c=a.readInt();0<c--;){var d=new Sf;d.Decode(a);this.AddPart(d)}if(b.IsOpen(6))for(b=a.readInt();0<b--;)c=new Le,c.Decode(a),this.AddChildren(c)},__class__:Le};var Nf=function(){this.translation=[];this.rotation=[];this.scaling=[];this.count=this.totalTime=0;this._tTime=[];this._rTime=[];this._sTime=[];this._rincTime=[];this._tincTime=[];this._sincTime=[];this._ct=new Q;this._cr=new Ya;this._cs=new Q};k["lovedna.data.g3d.ModelNodeAnimation"]=
Nf;Nf.__name__=["lovedna","data","g3d","ModelNodeAnimation"];Nf.prototype={nodeId:null,translation:null,rotation:null,scaling:null,totalTime:null,count:null,_tTime:null,_rTime:null,_sTime:null,_tincTime:null,_rincTime:null,_sincTime:null,_ct:null,_cr:null,_cs:null,GetTranslation:function(a,b){var c=this.translation.length;if(1>c)return null;var d=X.BinarySearchLow(this._tTime,a);if(0>d)return c=this._ct,d=this.translation[0].value,d!=c&&(c.x=d.x,c.y=d.y,c.z=d.z),this._ct;a=(a-this._tTime[d])/this._tincTime[d];
null!=b&&(a=b(a));b=this._ct;var e=this.translation[d].value;e!=b&&(b.x=e.x,b.y=e.y,b.z=e.z);d+1<c&&this._ct.LerpTo(this.translation[d+1].value,a);return this._ct},GetRotation:function(a,b){var c=this.rotation.length;if(1>c)return null;var d=X.BinarySearchLow(this._rTime,a);if(0>d)return this._cr.Copy(this.rotation[0].value),this._cr;a=(a-this._rTime[d])/this._rincTime[d];null!=b&&(a=b(a));this._cr.Copy(this.rotation[d].value);d<c-1&&this._cr.SlerpTo(this.rotation[d+1].value,a);return this._cr},GetScaling:function(a,
b){var c=this.scaling.length;if(1>c)return null;var d=X.BinarySearchLow(this._sTime,a);if(0>d)return c=this._cs,d=this.scaling[0].value,d!=c&&(c.x=d.x,c.y=d.y,c.z=d.z),this._cs;a=(a-this._sTime[d])/this._sincTime[d];null!=b&&(a=b(a));b=this._cs;var e=this.scaling[d].value;e!=b&&(b.x=e.x,b.y=e.y,b.z=e.z);d<c-1&&this._cs.LerpTo(this.scaling[d+1].value,a);return this._cs},AddTranslation:function(a){this.translation.push(a);0<this._tTime.length&&this._tincTime.push(a.keytime-this._tTime[this._tTime.length-
1]);this._tTime.push(a.keytime)},AddRotation:function(a){this.rotation.push(a);0<this._rTime.length&&this._rincTime.push(a.keytime-this._rTime[this._rTime.length-1]);this._rTime.push(a.keytime)},AddScaling:function(a){this.scaling.push(a);0<this._sTime.length&&this._sincTime.push(a.keytime-this._sTime[this._sTime.length-1]);this._sTime.push(a.keytime)},Decode:function(a){this.nodeId=a.readUTF();for(var b=a.readInt();0<b--;)this.AddTranslation(new nd(a.readFloat(),new Q(a.readFloat(),a.readFloat(),
a.readFloat())));for(b=a.readInt();0<b--;)this.AddRotation(new nd(a.readFloat(),new Ya(a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat())));for(b=a.readInt();0<b--;)this.AddScaling(new nd(a.readFloat(),new Q(a.readFloat(),a.readFloat(),a.readFloat())));this.init()},init:function(){this._tincTime.push(1);this._rincTime.push(1);this._sincTime.push(1);this.totalTime=this.count=0;var a=this.translation.length;0<a&&(this.count=a,this.totalTime=this.translation[a-1].keytime);a=this.rotation.length;
0<a&&(a>this.count&&(this.count=a),this.rotation[a-1].keytime>this.totalTime&&(this.totalTime=this.rotation[a-1].keytime));a=this.scaling.length;0<a&&(a>this.count&&(this.count=a),this.scaling[a-1].keytime>this.totalTime&&(this.totalTime=this.scaling[a-1].keytime))},__class__:Nf};var nd=function(a,b){this.keytime=a;this.value=b};k["lovedna.data.g3d.ModelNodeKeyframe"]=nd;nd.__name__=["lovedna","data","g3d","ModelNodeKeyframe"];nd.prototype={keytime:null,value:null,__class__:nd};var Sf=function(){};
k["lovedna.data.g3d.ModelNodePart"]=Sf;Sf.__name__=["lovedna","data","g3d","ModelNodePart"];Sf.prototype={materialId:null,meshPartId:null,bones:null,_boneMap:null,node:null,Decode:function(a){this._boneMap=this.bones=null;this.materialId=a.readUTF();this.meshPartId=a.readUTF();for(var b=a.readInt();0<b--;){var c=new Tf;c.Decode(a);this.AddBone(c.id,c.translation,c.rotation,c.scale)}},AddBone:function(a,b,c,d){null==this.bones&&(this.bones=[],this._boneMap=new C);var e=new Tf,f=this._boneMap;null!=
p[a]?f.setReserved(a,e):f.h[a]=e;e.id=a;e.translation=b;e.rotation=c;e.scale=d;this.bones.push(a)},GetBone:function(a){var b=this._boneMap;return null!=p[a]?b.getReserved(a):b.h[a]},__class__:Sf};var Tf=function(){};k["lovedna.data.g3d.ModelNodePartBone"]=Tf;Tf.__name__=["lovedna","data","g3d","ModelNodePartBone"];Tf.prototype={id:null,translation:null,rotation:null,scale:null,Decode:function(a){this.id=a.readUTF();var b=new Kb;b.value=a.readInt();b.IsOpen(1)&&(this.translation=new Q(a.readFloat(),
a.readFloat(),a.readFloat()));b.IsOpen(2)&&(this.rotation=new Ya(a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat()));b.IsOpen(3)&&(this.scale=new Q(a.readFloat(),a.readFloat(),a.readFloat()))},__class__:Tf};var Qf=function(){this.uvTranslation=new oa(0,0);this.uvScaling=new oa(1,1);this.type="DIFFUSE";this.fileName=this.id=""};k["lovedna.data.g3d.ModelTexture"]=Qf;Qf.__name__=["lovedna","data","g3d","ModelTexture"];Qf.prototype={id:null,fileName:null,uvTranslation:null,uvScaling:null,type:null,
usage:null,Init:function(){"AMBIENT"==this.type?this.usage=4:"BUMP"==this.type?this.usage=8:"DIFFUSE"==this.type?this.usage=2:"EMISSIVE"==this.type?this.usage=3:"NONE"==this.type?this.usage=1:"NORMAL"==this.type?this.usage=7:"REFLECTION"==this.type?this.usage=10:"SHININESS"==this.type?this.usage=6:"SPECULAR"==this.type?this.usage=5:"TRANSPARENCY"==this.type&&(this.usage=9);this.usage=0},Decode:function(a){this.id=a.readUTF();this.fileName=a.readUTF();this.type=a.readUTF();this.uvTranslation=new oa(a.readFloat(),
a.readFloat());this.uvScaling=new oa(a.readFloat(),a.readFloat())},__class__:Qf};var Uf=function(){Ma.call(this)};k["lovedna.data.png.Png"]=Uf;Uf.__name__=["lovedna","data","png","Png"];Uf.__super__=Ea;Uf.prototype=t(Ea.prototype,{_chunkList:null,_IEND:null,Decode:function(a){var b=this._chunkList.length;0<b&&this._chunkList.splice(0,b);if(!nb.gt(12,a.length-a.position)&&(b=a.position,a.position=b+8,a.readInt(),1229472850==a.readInt()))for(a.position=b+8;0<sb.get_length(a)-a.position;){b=new Vf;b.Decode(a);
var c=b.type;if(1>c)break;1229278788==c?this._IEND=b:this.AddChunk(b)}},GetChunk:function(a){for(var b=this._chunkList.length;0<b--;){var c=this._chunkList[b];if(c.type==a)return c}return null},AddChunk:function(a){this._chunkList.push(a)},onConstruct:function(){Ea.prototype.onConstruct.call(this);this._IEND=new Vf;this._IEND.type=1229278788;this._chunkList=[]},__class__:Uf});var Vf=function(){};k["lovedna.data.png.PngChunk"]=Vf;Vf.__name__=["lovedna","data","png","PngChunk"];Vf.prototype={type:null,
_crc:null,_content:null,Decode:function(a){var b=a.readUnsignedInt();this.type=a.readUnsignedInt();this._content=new lc(0);0<b&&a.readBytes(this._content,0,b);this._crc=a.readInt()},GetContent:function(){return this._content},__class__:Vf};var Ne=function(){};k["lovedna.scheduler.ITrigger"]=Ne;Ne.__name__=["lovedna","scheduler","ITrigger"];Ne.prototype={OnTriggerEnter:null,OnTrigger:null,OnTriggerExit:null,__class__:Ne};var Ih=function(){this._timelines=[];this.totalTime=0};k["lovedna.data.spine.SpineAnimation"]=
Ih;Ih.__name__=["lovedna","data","spine","SpineAnimation"];Ih.prototype={name:null,totalTime:null,_timelines:null,parseJson:function(a,b){this.name=b;b=O.fields(a);for(var c=0,d=b.length;c<d;){var e=c++;e=b[e];var f=na.GetValue(a,e);switch(e){case "events":this.parseEvetns(f);break;case "bones":case "slots":this.parseBonesAndSlots(f)}}},parseBonesAndSlots:function(a){for(var b=O.fields(a),c=b.length;0<c--;)for(var d=b[c],e=na.GetValue(a,d),f=O.fields(e),l=f.length,h=null;0<l--;){var m=f[l];switch(m){case "attachment":h=
new Wf;break;case "color":h=new Xf;break;case "rotate":h=new Yf;break;case "scale":h=new Zf;break;case "translate":h=new $f}null!=h&&(h.setTarget(d),h.parseJson(na.GetValue(e,m)),this._timelines.push(h),h.totalTime>this.totalTime&&(this.totalTime=h.totalTime))}},parseEvetns:function(a){var b=new ag;b.parseJson(a);this._timelines.push(b);b.totalTime>this.totalTime&&(this.totalTime=b.totalTime)},__class__:Ih};var Jh=function(){this.position=new oa;this.scale=(new oa).Set(1,1)};k["lovedna.data.spine.SpineAttachment"]=
Jh;Jh.__name__=["lovedna","data","spine","SpineAttachment"];Jh.prototype={name:null,position:null,scale:null,rotation:null,width:null,height:null,parseJson:function(a,b){this.name=b;this.position.x=na.GetFloat(a,"x");this.position.y=na.GetFloat(a,"y");this.scale.x=na.GetFloat(a,"scaleX",1);this.scale.y=na.GetFloat(a,"scaleY",1);this.rotation=na.GetFloat(a,"rotation",0);this.width=na.GetFloat(a,"width",0);this.height=na.GetFloat(a,"height",0);a=this.rotation;a+=180;b=a/360;var c=b|0;0>b&&c!=b&&--c;
this.rotation=a-360*c-180},__class__:Jh};var Kh=function(){this.position=new oa;this.scale=new oa;this.inheritRotation=this.inheritScale=!0};k["lovedna.data.spine.SpineBone"]=Kh;Kh.__name__=["lovedna","data","spine","SpineBone"];Kh.prototype={parentBone:null,name:null,parent:null,length:null,position:null,scale:null,rotation:null,inheritScale:null,inheritRotation:null,parseJson:function(a){this.name=na.GetString(a,"name");this.parent=na.GetString(a,"parent");this.length=na.GetFloat(a,"length");var b=
na.GetFloat(a,"rotation");b+=180;var c=b/360,d=c|0;0>c&&d!=c&&--d;this.rotation=b-360*d-180;this.position.x=na.GetFloat(a,"x");this.position.y=na.GetFloat(a,"y");this.scale.x=na.GetFloat(a,"scaleX",1);this.scale.y=na.GetFloat(a,"scaleY",1);this.inheritScale=na.GetBool(a,"inheritScale",!0);this.inheritRotation=na.GetBool(a,"inheritRotation",!0)},setParent:function(a){this.parentBone=a},__class__:Kh};var bg=function(a){Ma.call(this);this._init=!1;this.name=a;this._boneMap=new C;this._boneList=[];this._slotMap=
new C;this._slotList=[];this._skinMap=new C;this._animationMap=new C;this.enable=!1};k["lovedna.data.spine.SpineData"]=bg;bg.__name__=["lovedna","data","spine","SpineData"];bg.__super__=Ea;bg.prototype=t(Ea.prototype,{name:null,enable:null,defaultSkin:null,_boneMap:null,_boneList:null,_slotMap:null,_slotList:null,_skinMap:null,_animationMap:null,_init:null,Parse:function(a){if(!this._init){this._init=!0;a=a.readUTFBytes(sb.get_length(a));a=JSON.parse(a);for(var b=na.GetValue(a,"bones"),c=0,d=b.length;c<
d;){var e=c++,f=new Kh;f.parseJson(b[e]);e=this._boneMap;var l=f.name;null!=p[l]?e.setReserved(l,f):e.h[l]=f;this._boneList.push(f.name)}b=this._boneMap;for(b=new wd(b,b.arrayKeys());b.hasNext();)c=b.next(),d=c.parent,null==d?d=null:(f=this._boneMap,(null!=p[d]?f.existsReserved(d):f.h.hasOwnProperty(d))?(f=this._boneMap,d=null!=p[d]?f.getReserved(d):f.h[d]):d=null),c.setParent(d);b=na.GetValue(a,"slots");c=0;for(d=b.length;c<d;)e=c++,f=new Lh,f.parseJson(b[e]),e=f.name,l=this._slotMap,null!=p[e]?
l.setReserved(e,f):l.h[e]=f,this._slotList.push(e),e=f.boneName,null==e?e=null:(l=this._boneMap,(null!=p[e]?l.existsReserved(e):l.h.hasOwnProperty(e))?(l=this._boneMap,e=null!=p[e]?l.getReserved(e):l.h[e]):e=null),f.bone=e;b=na.GetValue(a,"skins");c=O.fields(b);d=0;for(f=c.length;d<f;){l=d++;e=new Mh;l=c[l];e.parseJson(na.GetValue(b,l),l);var h=this._skinMap;null!=p[l]?h.setReserved(l,e):h.h[l]=e;"default"==l&&(this.defaultSkin=e)}a=na.GetValue(a,"animations");b=O.fields(a);c=0;for(d=b.length;c<d;)f=
c++,f=b[f],e=new Ih,e.parseJson(na.GetValue(a,f),f),l=this._animationMap,null!=p[f]?l.setReserved(f,e):l.h[f]=e;this.enable=!0}this.DispatchEvent(ca.INIT)},__class__:bg});var Mh=function(){this._map=new C};k["lovedna.data.spine.SpineSkin"]=Mh;Mh.__name__=["lovedna","data","spine","SpineSkin"];Mh.prototype={name:null,_map:null,parseJson:function(a,b){this.name=b;b=O.fields(a);for(var c=0,d=b.length;c<d;){var e=c++,f=b[e];e=this._map;e=null!=p[f]?e.getReserved(f):e.h[f];if(null==e){e=new C;var l=this._map;
null!=p[f]?l.setReserved(f,e):l.h[f]=e}f=na.GetValue(a,f);l=O.fields(f);for(var h=0,m=l.length;h<m;){var k=h++;k=l[k];var g=new Jh;g.parseJson(na.GetValue(f,k),k);null!=p[k]?e.setReserved(k,g):e.h[k]=g}}},__class__:Mh};var Lh=function(){this.color=new Sb};k["lovedna.data.spine.SpineSlot"]=Lh;Lh.__name__=["lovedna","data","spine","SpineSlot"];Lh.prototype={name:null,boneName:null,bone:null,attachment:null,color:null,additiveBlending:null,parseJson:function(a){this.name=na.GetString(a,"name");this.boneName=
na.GetString(a,"bone");this.attachment=na.GetString(a,"attachment");this.additiveBlending=na.GetBool(a,"additive",!1);a=na.GetString(a,"color");null!=a&&this.color.set_rgba(Ia.Hex2Int(a))},__class__:Lh};var tb=function(){this._times=[];this._timeinc=[];this.length=0};k["lovedna.data.spine.timeline.SpineTimeline"]=tb;tb.__name__=["lovedna","data","spine","timeline","SpineTimeline"];tb.prototype={type:null,targetName:null,length:null,totalTime:null,_times:null,_timeinc:null,setTarget:function(a){this.targetName=
a},parseJson:function(a){for(var b=a.length,c=0,d=0;d<b;){c=d++;var e=a[c];c=na.GetFloat(e,"time");this._times.push(c);this.addItem(e)}this.totalTime=c;this.length=b;a=0;for(--b;a<b;)d=a++,this._timeinc[d]=this._times[d+1]-this._times[d];this.init()},addItem:function(a){},init:function(){},__class__:tb};var Wf=function(){tb.call(this);this._name=[];this.type=4};k["lovedna.data.spine.timeline.TimelineAttachment"]=Wf;Wf.__name__=["lovedna","data","spine","timeline","TimelineAttachment"];Wf.__super__=
tb;Wf.prototype=t(tb.prototype,{_name:null,addItem:function(a){this._name.push(na.GetString(a,"name"))},__class__:Wf});var Xf=function(){tb.call(this);this._color=[];this._colorInc=[];this.type=5};k["lovedna.data.spine.timeline.TimelineColor"]=Xf;Xf.__name__=["lovedna","data","spine","timeline","TimelineColor"];Xf.__super__=tb;Xf.prototype=t(tb.prototype,{_color:null,_colorInc:null,addItem:function(a){var b=new Sb;a=na.GetString(a,"color");b.x=1;b.y=1;b.z=1;b.w=1;null!=a&&b.set_rgba(Ia.Hex2Int(a));
this._color.push(b)},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++,d=new Sb,e=this._color[c+1];d.x=e.x;d.y=e.y;d.z=e.z;d.w=e.w;c=this._color[c];d.x-=c.x;d.y-=c.y;d.z-=c.z;this._colorInc.push(d)}},__class__:Xf});var ag=function(){tb.call(this);this.type=6;this._name=[];this._intList=[];this._floatList=[];this._stringList=[]};k["lovedna.data.spine.timeline.TimelineEvent"]=ag;ag.__name__=["lovedna","data","spine","timeline","TimelineEvent"];ag.__super__=tb;ag.prototype=t(tb.prototype,{_name:null,
_intList:null,_floatList:null,_stringList:null,addItem:function(a){this._name.push(na.GetString(a,"name"));this._intList.push(na.GetInt(a,"int",0));this._floatList.push(na.GetFloat(a,"float",0));this._stringList.push(na.GetString(a,"string",null))},__class__:ag});var Yf=function(){tb.call(this);this._rotation=[];this._rotationInc=[];this.type=1};k["lovedna.data.spine.timeline.TimelineRotate"]=Yf;Yf.__name__=["lovedna","data","spine","timeline","TimelineRotate"];Yf.__super__=tb;Yf.prototype=t(tb.prototype,
{_rotation:null,_rotationInc:null,addItem:function(a){var b=this._rotation;a=na.GetFloat(a,"angle");a+=180;var c=a/360,d=c|0;0>c&&d!=c&&--d;b.push(a-360*d-180)},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++;this._rotationInc[c]=this._rotation[c+1]-this._rotation[c]}},__class__:Yf});var Zf=function(){tb.call(this);this._scale=[];this._scaleInc=[];this.type=3};k["lovedna.data.spine.timeline.TimelineScale"]=Zf;Zf.__name__=["lovedna","data","spine","timeline","TimelineScale"];Zf.__super__=
tb;Zf.prototype=t(tb.prototype,{_scale:null,_scaleInc:null,addItem:function(a){this._scale.push((new oa).Set(na.GetFloat(a,"x",1),na.GetFloat(a,"y",1)))},init:function(){for(var a=0,b=this.length-1;a<b;){var c=a++,d=new oa;d.Copy(this._scale[c+1]);d.Sub(this._scale[c]);this._scaleInc[c]=d}},__class__:Zf});var $f=function(){tb.call(this);this._position=[];this._positionInc=[];this.type=2};k["lovedna.data.spine.timeline.TimelineTranslate"]=$f;$f.__name__=["lovedna","data","spine","timeline","TimelineTranslate"];
$f.__super__=tb;$f.prototype=t(tb.prototype,{_position:null,_positionInc:null,addItem:function(a){tb.prototype.addItem.call(this,a);this._position.push((new oa).Set(na.GetFloat(a,"x"),na.GetFloat(a,"y")))},init:function(){tb.prototype.init.call(this);for(var a=0,b=this.length-1;a<b;){var c=a++,d=new oa;d.Copy(this._position[c+1]);d.Sub(this._position[c]);this._positionInc.push(d)}},__class__:$f});var od=function(){};k["lovedna.math.IToArray"]=od;od.__name__=["lovedna","math","IToArray"];od.prototype=
{ToArray:null,__class__:od};var oa=function(a,b){null==b&&(b=0);null==a&&(a=0);this.Set(a,b)};k["lovedna.math.Float2"]=oa;oa.__name__=["lovedna","math","Float2"];oa.__interfaces__=[od];oa.prototype={x:null,y:null,Set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},Copy:function(a){return this.Set(a.x,a.y)},From:function(a){return this.Set(a.x,a.y)},toFix:function(a){null==a&&(a=5);return"Float2("+Lb.FloatToFixed(this.x,a)+","+Lb.FloatToFixed(this.y,a)+")"},Sub:function(a,
b){null==b?(this.x-=a.x,this.y-=a.y):(this.x=a.x-b.x,this.y=a.y-b.y);return this},Scale:function(a){this.x*=a;this.y*=a;return this},Distance:function(a,b){var c=null==b?this.x-a.x:a.x-b.x;a=null==b?this.y-a.y:a.y-b.y;return Math.sqrt(c*c+a*a)},FromArray:function(a,b){null==b&&(b=0);if(null==a)return this;var c=a.length;b<c&&(this.x=a[b]);b+1<c&&(this.y=a[b+1]);return this},ToArray:function(a,b){null==b&&(b=0);null==a&&(a=[]);a[b]=this.x;a[b+1]=this.y;return a},__class__:oa};var Nh=function(a){this._items=
new xa;this._items.Add(null);this._compare=a;this.count=0};k["lovedna.ds.BinaryHeap"]=Nh;Nh.__name__=["lovedna","ds","BinaryHeap"];Nh.prototype={count:null,_items:null,_compare:null,Push:function(a){this._items.Add(a);this.toRoot(this._items._length-1);this.count=this._items._length-1},Shift:function(){if(1==this._items._length)return null;if(2==this._items._length)return this.count=0,this._items.Pop();var a=this._items.Get(1);this.toLeaf();this.count=this._items._length-1;return a},Clear:function(){this._items.set_length(1)},
toRoot:function(a){for(var b=a;1<b;){var c=b>>1,d=this._items.Get(b),e=this._items.Get(c);if(0>this._compare(d,e))this._items.Set(b,e),this._items.Set(c,d);else break;b=c;if(0>a--)break}},toLeaf:function(){var a=1;this._items.Set(1,this._items.Pop());for(var b=this._items._length,c=b;;){var d=a,e=a<<1;if(e<b){var f=this._items.Get(a),l=this._items.Get(e);0<this._compare(f,l)&&(a=e,f=l);e+1<b&&(l=this._items.Get(e+1),0<this._compare(f,l)&&(a=e+1))}if(a!=d)f=this._items.Get(a),e=this._items.Get(d),
this._items.Set(a,e),this._items.Set(d,f);else break;if(0>c--)break}},__class__:Nh};var Kb=function(a){null==a&&(a=0);this.value=0;this.value=a};k["lovedna.ds.Bit32"]=Kb;Kb.__name__=["lovedna","ds","Bit32"];Kb.prototype={value:null,Open:function(a){this.value|=1<<a;return this},Close:function(a){this.value&=~(1<<a);return this},Set:function(a,b){b?this.Open(a):this.Close(a);return this},IsOpen:function(a){a=1<<a;return(this.value&a)==a},Clear:function(){this.value=0;return this},__class__:Kb};var cg=
function(){this._lasttype=0;this.Reset()};k["lovedna.ds.HashFNV"]=cg;cg.__name__=["lovedna","ds","HashFNV"];cg.prototype={_value:null,_index:null,_lasttype:null,Reset:function(){this._lasttype=this._index=this._value=0},GetString:function(){return ea.hex(this._value)},PushInt:function(a){2!=this._lasttype&&(this._lasttype=2,this._addInt(this._lasttype));this._addInt(a)},PushString:function(a){4!=this._lasttype&&(this._lasttype=4,this._addInt(this._lasttype));var b=a.length;for(this._addInt(b);0<b--;)this._addInt(y.cca(a,
b))},_addInt:function(a){this._value*=16777619;this._value^=a},__class__:cg};var ie=function(a,b){null==b&&(b=!1);null==a&&(a="");this._list=[];this._keep=b;this.Decode(a)};k["lovedna.ds.StringLine"]=ie;ie.__name__=["lovedna","ds","StringLine"];ie.prototype={_list:null,_length:null,_position:null,_keep:null,ReadLine:function(){return this._position<this._length?this._list[this._position++]:null},Decode:function(a){0<this._length&&this._list.splice(0,this._length);this._position=this._length=0;if(null!=
a){a=ea.replace(a,"\r","\n");a=a.split("\n");for(var b=0,c=a.length;b<c;){var d=b++;d=a[d];(""!=d||this._keep)&&this._list.push(d)}this._length=this._list.length;this._position=0}},get_position:function(){return this._position},set_position:function(a){0<=a&&a<this._length&&(this._position=a);return this._position},__class__:ie,__properties__:{set_position:"set_position",get_position:"get_position"}};var cb=function(a){Ma.call(this);this.name=a;this._type=Gb.GetClassName(this)+"."+this.name+"."+(new Date(2017,
10,19,14,38,30)).getTime()};k["lovedna.event.Event"]=cb;cb.__name__=["lovedna","event","Event"];cb.__super__=Ma;cb.prototype=t(Ma.prototype,{name:null,currentTarget:null,customData:null,_type:null,_target:null,SetCurrentTarget:function(a){return this.currentTarget=a},SetCustomData:function(a){return this.customData=a},setTarget:function(a){this._target=a},__class__:cb});var Gb=function(){};k["lovedna.util.TypeUtil"]=Gb;Gb.__name__=["lovedna","util","TypeUtil"];Gb.GetName=function(a){if(null!=Gb._typeMap.h.__keys__[a.__id__])return Gb._typeMap.h[a.__id__];
var b=ka.getClassName(a);Gb._typeMap.set(a,b);return b};Gb.CreateInstance=function(a,b){a=null==b?ka.createEmptyInstance(a):ka.createInstance(a,b);M.__instanceof(a,Ma)&&a.Construct();return a};Gb.GetClassName=function(a){return null==a?"null":ka.getClassName(null==a?null:M.getClass(a))};Gb.GetClass=function(a){if(null!=Gb._typeClassMap.h.__keys__[a.__id__])return Gb._typeClassMap.h[a.__id__];var b=null==a?null:M.getClass(a);Gb._typeClassMap.set(a,b);return b};var dg=function(a){cb.call(this,a)};k["lovedna.event.KeyEvent"]=
dg;dg.__name__=["lovedna","event","KeyEvent"];dg.__super__=cb;dg.prototype=t(cb.prototype,{key:null,__class__:dg});var eg=function(a){cb.call(this,a)};k["lovedna.event.ProgressEvent"]=eg;eg.__name__=["lovedna","event","ProgressEvent"];eg.__super__=cb;eg.prototype=t(cb.prototype,{loaded:null,total:null,SetProgress:function(a,b){this.loaded=a;this.total=b;return this},__class__:eg});var fg=function(a){cb.call(this,a)};k["lovedna.event.TouchEvent"]=fg;fg.__name__=["lovedna","event","TouchEvent"];fg.__super__=
cb;fg.prototype=t(cb.prototype,{_touch:null,get_touch:function(){null==this._touch&&(this._touch=new Oe(0));return this._touch},__class__:fg,__properties__:{get_touch:"get_touch"}});var ca=function(){};k["lovedna.event.Events"]=ca;ca.__name__=["lovedna","event","Events"];var Fh=function(a,b,c,d,e){0>e&&(e=0);this._dispatcher=a;this._callback=b;this.priority=c;this._once=d;this._delay=e;this._eventList=new xa};k["lovedna.event.Listener"]=Fh;Fh.__name__=["lovedna","event","Listener"];Fh.prototype={priority:null,
_once:null,_delay:null,_callback:null,_dispatcher:null,_eventList:null,_timer:null,Dispatch:function(a){var b=this;null!=this._callback&&(this._eventList.Add(a),0<this._delay?(null!=this._timer&&this._timer.stop(),this._timer=new ld(this._delay|0),this._timer.run=function(){b._timer.stop();b._timer=null;b.execute()}):this.execute())},Destroy:function(){this._dispatcher=this._callback=null;this._delay=0;this._eventList.Dispose();this._eventList=null},Match:function(a){return O.compareMethods(this._callback,
a)},execute:function(){if(null!=this._callback&&null!=this._eventList){var a=this._eventList._length;if(0!=a){for(var b=0;b<a;){var c=b++;c=this._eventList.Get(c);c.setTarget(this._dispatcher);cb.current=c;this._callback()}this._once&&null!=this._dispatcher&&this._dispatcher.RemoveEventListener(this._eventList.Get(0)._type,this._callback);null!=this._eventList&&this._eventList.Clear()}}},__class__:Fh};var tc=k["lovedna.game.CameraClearFlags"]={__ename__:["lovedna","game","CameraClearFlags"],__constructs__:["SolidColor",
"Depth","Nothing"]};tc.SolidColor=["SolidColor",0];tc.SolidColor.toString=w;tc.SolidColor.__enum__=tc;tc.Depth=["Depth",1];tc.Depth.toString=w;tc.Depth.__enum__=tc;tc.Nothing=["Nothing",2];tc.Nothing.toString=w;tc.Nothing.__enum__=tc;var mc=k["lovedna.game.DepthTextureMode"]={__ename__:["lovedna","game","DepthTextureMode"],__constructs__:["None","Depth","DepthNormals","MotionVectors"]};mc.None=["None",0];mc.None.toString=w;mc.None.__enum__=mc;mc.Depth=["Depth",1];mc.Depth.toString=w;mc.Depth.__enum__=
mc;mc.DepthNormals=["DepthNormals",2];mc.DepthNormals.toString=w;mc.DepthNormals.__enum__=mc;mc.MotionVectors=["MotionVectors",3];mc.MotionVectors.toString=w;mc.MotionVectors.__enum__=mc;var P=function(){};k["lovedna.game.GameInput"]=P;P.__name__=["lovedna","game","GameInput"];P.GetTouch=function(a){null==a&&(a=0);return P._touchList.Get(a)};P.reset=function(){if(null==P._touchManager){P._touchManager=new Pe;P._touchManager.AutoTrigger(!1);P._touchList=P._touchManager._activeTouchList;P._touchManager.AddEventListener(ca.TOUCH_CHANGE._type,
P.onTouchChange);P.touchPosition=new oa;var a=10;null==P._touching&&(P._touching=new Ka,P._touchDown=new Ka,P._touchUp=new Ka,P._keying=new Ka,P._keyDown=new Ka,P._keyUp=new Ka);for(;0<a--;)P._touchDown.h[a]=!1,P._touchUp.h[a]=!1,P._touching.h[a]=!1;r.AddEventListener(ca.KEY_CHANGE._type,P.onKeyChange)}P._touchManager.moveThresholds=P.moveThresholdsPixels;P._touchManager.Reset()};P.enterFrame=function(){P._touchManager.Update();P.touchCount=P._touchManager._activeTouchList._length};P.exitFrame=function(){if(P._touchChange){P._touchChange=
!1;for(var a=10;0<a--;)P._touchDown.h[a]=!1,P._touchUp.h[a]=!1}if(P._keyChange){P._keyChange=!1;for(a=P._keyDown.keys();a.hasNext();){var b=a.next();P._keyDown.h[b]=!1}for(a=P._keyUp.keys();a.hasNext();)b=a.next(),P._keyUp.h[b]=!1}};P.onTouchChange=function(){var a=ca.TOUCH_CHANGE,b=a.get_touch().action;P.touchPosition.Copy(a.get_touch().position);if(1==b){b=P._touchDown;var c=a.get_touch().id;b.h[c]=!0;b=P._touching;c=a.get_touch().id;b.h[c]=!0;P.touchPosition.Copy(a.get_touch().position);P._touchChange=
!0}else 3==b&&(b=P._touchUp,c=a.get_touch().id,b.h[c]=!0,b=P._touching,c=a.get_touch().id,b.h[c]=!1,P.touchPosition.Copy(a.get_touch().position),P._touchChange=!0)};P.onKeyChange=function(){var a=ca.KEY_CHANGE,b=a.key._code;a.key.pressed?(P._keyDown.h[b]=!0,P._keying.h[b]=!0):(P._keyUp.h[b]=!0,P._keying.h[b]=!1);P._keyChange=!0};var Pi=function(){};k["lovedna.game.IDestroyable"]=Pi;Pi.__name__=["lovedna","game","IDestroyable"];var cc=function(a,b){this.deltaTime=0;this.timeScale=1;Ma.call(this);this.name=
b;this.instanceID=cc._instanceID++;this.layer=0;this.isStatic=!1;this.timeScale=1;this.deltaTime=0;this._components=new xa;this._childs=new xa;this._dirtyFlag=new Kb(-1);this._state=new Kb(0);this._state.Open(0);this._state.Open(1);this.childCount=0;this._localPosition=new Q;this._localScale=new Q(1,1,1);this._localRotation=new Q;this.localToWorldMatrix=new Ja;this._localQuaternion=new Ya;if(null!=a)for(b=a.length;0<b--;){var c=a[b];null!=c&&(c=Gb.CreateInstance(c),this.AddComponent(c))}};k["lovedna.game.GameObject"]=
cc;cc.__name__=["lovedna","game","GameObject"];cc.__interfaces__=[Pi];cc.__super__=Ea;cc.prototype=t(Ea.prototype,{name:null,instanceID:null,layer:null,isStatic:null,scene:null,timeScale:null,deltaTime:null,childCount:null,localToWorldMatrix:null,_dirtyFlag:null,_components:null,_componentMap:null,_childs:null,_parent:null,_localQuaternion:null,_localRotation:null,_localPosition:null,_localScale:null,_state:null,AddComponent:function(a){var b=this._components.IndexOf(a);if(-1!=b)return this._components.Get(b);
b=Gb.GetClass(a);var c=!1;if(null!=Sc.Get(b).GetClassMeta("DisallowMultipleComponent",!0)){c=!0;var d=this.FindComponent(b);if(null!=d)return console.log("DisallowMultipleComponent() "+Gb.GetName(b)),d}d=Ic.getType(b);for(var e=0,f=O.fields(d);e<f.length;){var l=f[e];++e;var h=l.toLowerCase();if("requirecomponent"==h)for(O.deleteField(d,l),l=na.GetValue(d,h),h=l.length;0<h--;){var m=ka.resolveClass(l[h]);null!=m&&this.AddComponent(Gb.CreateInstance(m))}}if(null!=a.gameObject)for(a.set_active(!1),
d=a._bindEventMap.keys();d.hasNext();)e=d.next(),a._bindEventMap.remove(e);a.gameObject=this;a.set_active(!0);a.onInit();a.onAwake();this._components.Add(a);c&&(null==this._componentMap&&(this._componentMap=new pb),this._componentMap.set(b,a));this._dirtyFlag.Open(4);return a},FindComponent:function(a){if(null!=this._componentMap&&null!=this._componentMap.h.__keys__[a.__id__])return this._componentMap.h[a.__id__];for(var b=this._components._length;0<b--;){var c=this._components.Get(b);if(M.__instanceof(c,
a))return c}return null},FindComponentInParent:function(a){if(null==this._parent)return null;var b=this._parent.FindComponent(a);return null!=b?b:this._parent.FindComponentInParent(a)},Contains:function(a){if(null==a||a==this)return!1;for(a=a._parent;null!=a;){if(a==this)return!0;var b=a._parent;if(b==a)break;a=b}return!1},RemoveAllChild:function(){this.removeAllChild()},addChild:function(a){if(null!=a){var b=a._parent;b==this||a.Contains(this)||(null!=b&&b.removeChild(a),a._parent=this,this._childs.Add(a),
this.childCount=this._childs._length,this._state.Set(2,!0),F.onStateChange.state=2,this.DispatchEvent(F.onStateChange),a.Visit(null,null,F.onStateChange),null!=this.scene&&(this.scene.renderer.childDirty=!0))}},removeChild:function(a){null!=a&&a._parent==this&&this._childs.Remove(a)&&(this.childCount=this._childs._length,this._state.Set(2,!1),F.onStateChange.state=2,this.DispatchEvent(F.onStateChange),a.Visit(null,null,F.onStateChange),a._parent=null,null!=this.scene&&(this.scene.renderer.childDirty=
!0))},removeAllChild:function(){if(!(1>this._childs._length)){this._state.Set(2,!1);F.onStateChange.state=2;this.DispatchEvent(F.onStateChange);null!=this.scene&&(this.scene.renderer.childDirty=!0);for(var a=0,b=this._childs._length;a<b;){var c=a++;c=this._childs.Get(c);c.Visit(null,null,F.onStateChange);c._parent=null}this._childs.Clear();this.childCount=0}},setScene:function(a){this.scene!=a&&(null==a?(this._state.Set(3,!1),F.onStateChange.state=3,this.DispatchEvent(F.onStateChange),this.scene=
a):(this.scene=a,this._state.Set(3,!0),F.onStateChange.state=3,this.DispatchEvent(F.onStateChange)))},Visit:function(a,b,c){if(null==b||b(this)){null!=a&&a.Add(this);null!=c&&this.DispatchEvent(c);for(var d=0,e=this.childCount;d<e;){var f=d++;this._childs.Get(f).Visit(a,b,c)}}},tick:function(a){if(this._state.IsOpen(0))if(1==a){null!=this._parent&&(this.deltaTime=this._parent.deltaTime*this.timeScale);(a=this._dirtyFlag.IsOpen(4))&&this._dirtyFlag.Close(4);a&&this.DispatchEvent(F.onComponentListChange);
if(this.HasEventListener(F.onFixedUpdate._type))for(a=V.fixedCount;0<a--;)this.DispatchEvent(F.onFixedUpdate);this.DispatchEvent(F.onUpdate);(a=this._dirtyFlag.IsOpen(1))&&this._dirtyFlag.Close(1);a||null==this._parent||(a=this._parent._dirtyFlag.IsOpen(3));a&&(this._dirtyFlag.Open(3),this.localToWorldMatrix.Identity(),this.DispatchEvent(F.onPreTransform),null!=this._parent&&this.localToWorldMatrix.Append(this._parent.localToWorldMatrix),this.localToWorldMatrix.AppendTRS(this._localPosition,this._localQuaternion,
this._localScale),this._dirtyFlag.Open(2),this.DispatchEvent(F.onTransformUpdate));this.DispatchEvent(F.onPostTransform)}else 2==a?(this._dirtyFlag.IsOpen(3)&&this._dirtyFlag.Close(3),(a=this._dirtyFlag.IsOpen(5))&&this._dirtyFlag.Close(5),a&&this.DispatchEvent(F.onUpdateOnce),this.DispatchEvent(F.onLateUpdate)):0==a&&(this.deltaTime=V.deltaTime*this.timeScale)},set_visible:function(a){a!=this._state.IsOpen(1)&&(this._state.Set(1,a),F.onStateChange.state=1,this.DispatchEvent(F.onStateChange));return a},
set_parent:function(a){this._parent!=a&&(null!=this._parent&&this._parent.removeChild(this),null!=a&&a.addChild(this));return this._parent},set_localPosition:function(a){if(null!=a){this._dirtyFlag.Open(1);var b=this._localPosition;a!=b&&(b.x=a.x,b.y=a.y,b.z=a.z)}return a},set_localRotation:function(a){if(null!=a){this._localQuaternion.Copy(a);this._dirtyFlag.Open(1);var b=this._localRotation,c=a.get_eulerAngles();c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z)}return a},set_localScale:function(a){if(null!=a){this._dirtyFlag.Open(1);
var b=this._localScale;a!=b&&(b.x=a.x,b.y=a.y,b.z=a.z)}return a},__class__:cc,__properties__:{set_localRotation:"set_localRotation",set_localScale:"set_localScale",set_localPosition:"set_localPosition",set_parent:"set_parent"}});var Q=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this._vec3=Q._helperVec3;this.x=a;this.y=b;this.z=c};k["lovedna.math.Float3"]=Q;Q.__name__=["lovedna","math","Float3"];Q.__interfaces__=[od];Q.prototype={x:null,y:null,z:null,_vec3:null,toFix:function(a){null==
a&&(a=4);return"Float3("+Lb.FloatToFixed(this.x,a)+","+Lb.FloatToFixed(this.y,a)+","+Lb.FloatToFixed(this.z,a)+")"},Cross:function(a,b){if(null==b){var c=this.y*a.z-this.z*a.y;var d=this.z*a.x-this.x*a.z;a=this.x*a.y-this.y*a.x}else c=a.y*b.z-a.z*b.y,d=a.z*b.x-a.x*b.z,a=a.x*b.y-a.y*b.x;this.x=c;this.y=d;this.z=a;return this},Normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0!=a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Distance:function(a,
b){if(null==b)b=this._vec3,b.x=this.x-a.x,b.y=this.y-a.y,b.z=this.z-a.z;else{var c=this._vec3;c.x=a.x-b.x;c.y=a.y-b.y;c.z=a.z-b.z}a=this._vec3;return Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)},FromArray:function(a,b){null==b&&(b=0);if(null==a)return this;var c=a.length;b<c&&(this.x=a[b]);b+1<c&&(this.y=a[b+1]);b+2<c&&(this.z=a[b+2]);return this},ToArray:function(a,b){null==b&&(b=0);null==a&&(a=[]);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},LerpTo:function(a,b){if(0>=b)return this;if(1<=b)return a!=
this&&(this.x=a.x,this.y=a.y,this.z=a.z),this;this.x+=b*(a.x-this.x);this.y+=b*(a.y-this.y);this.z+=b*(a.z-this.z);return this},__class__:Q};var Qe=function(){};k["lovedna.game.GamePool"]=Qe;Qe.__name__=["lovedna","game","GamePool"];var Ac=function(){};k["lovedna.game.GameRes"]=Ac;Ac.__name__=["lovedna","game","GameRes"];Ac.Init=function(){if(null==Ac.mat){ua.SetPath();Ac.mat=new Fa;Ac.atlas=sc.Decode(null,"gameres_default_ui.png");ua.sprite.AddAtals("gameres_default_ui.png");var a=new ja(128,128,
!1,-1);var b=new je;b.init(a);ua.texture.SetTexture("gameres_default_ui.png",b);a.lock();b=new ja(8,8,!1,16777215);Ac.AddSprite(a,b,0,0,"button_normal.png");a.unlock();a=new ja(4,4,!1,-1);b=new je;b.init(a);ua.texture.SetTexture("gameres_default_texture.png",b)}};Ac.AddSprite=function(a,b,c,d,e){Ac.mat.tx=c;Ac.mat.ty=d;a.draw(b,Ac.mat);a=new Ke;a.set_name(e);e=b.rect.width-2|0;b=b.rect.height-2|0;d=a.frame;d.x=c+1;d.y=c+1;d.z=e;d.w=b;a.sourceSize.Set(e,b);sc.AddSpriteTo(Ac.atlas,a)};var V=function(){};
k["lovedna.game.GameTime"]=V;V.__name__=["lovedna","game","GameTime"];V.Update=function(){V.frameCount++;V.time=window.performance.now()/1E3*Pa.scale;0==V._currentTime&&(V._currentTime=V.time);V.deltaTime=V.time-V._currentTime;V.deltaTime>V.maxDeltaTime&&(V.deltaTime=V.maxDeltaTime);V._currentTime=V.time;V._time+=V.deltaTime;.016666666666666666<=V._time&&(V.fixedCount=V._time/.016666666666666666|0,V._time%=.016666666666666666)};var Tb=function(a){if(null==a)this.data=new Kb(-1);else{this.data=new Kb(0);
for(var b=a.length;0<b--;){var c=Tb.NameToLayer(a[b]);this.data.Open(c)}0==this.data.value&&(this.data.value=-1)}};k["lovedna.game.LayerMask"]=Tb;Tb.__name__=["lovedna","game","LayerMask"];Tb.SetLayerName=function(a,b){if(null==Tb._names[a]){Tb._names[a]=b;var c=Tb._layers;null!=p[b]?c.setReserved(b,a):c.h[b]=a}};Tb.NameToLayer=function(a){var b=Tb._layers;return null!=p[a]?b.getReserved(a):b.h[a]};Tb.prototype={data:null,Exist:function(a){return this.data.IsOpen(a)},__class__:Tb};var Ab=function(){};
k["lovedna.game.LogMessage"]=Ab;Ab.__name__=["lovedna","game","LogMessage"];var Gc=function(){Gc._instance=this;this._glsupport=Bd.get_isSupported();z.Init();Ac.Init();J.init();this._timeData=new Na;this._sinTimeData=new Na;this._cosTimeData=new Na;this._deltaTimeData=new Na;this._visible=this._init=!1;this._active=!0;this._lost=!1;this._sceneList=new xa;this._sceneCount=0;this._view=new Bd;this._view.addEventListener("addedToStage",q(this,this.display_addedToStage));this._view.addEventListener("removedFromStage",
q(this,this.display_addedToStage));Xa.get_stage().addEventListener("activate",q(this,this.stage_activate));Xa.get_stage().addEventListener("deactivate",q(this,this.stage_activate));Xa.get_stage().addEventListener("resize",q(this,this.stage_resize));Xa.get_stage().addEventListener("glcontextlost",q(this,this.stage_contextLost));Xa.get_stage().addEventListener("glcontextrestored",q(this,this.stage_contextLost))};k["lovedna.game.PlayGame"]=Gc;Gc.__name__=["lovedna","game","PlayGame"];Gc.GetInstance=
function(){return null==Gc._instance?new Gc:Gc._instance};Gc.prototype={onUpdate:null,_view:null,_init:null,_visible:null,_active:null,_lost:null,_initHandler:null,_sceneList:null,_sceneCount:null,_sceneIndex:null,_currentTime:null,_timeData:null,_sinTimeData:null,_cosTimeData:null,_deltaTimeData:null,_glsupport:null,Show:function(a){null!=this._view&&a.addChild(this._view)},AddScene:function(a){this._sceneList.Remove(a);this._sceneList.Add(a);this._sceneCount=this._sceneList._length},display_addedToStage:function(a){(this._visible=
"addedToStage"==a.type)?(this._currentTime=window.performance.now()/1E3*Pa.scale,this._init||ub.Add(new ub(q(this,this.initHandler)),.1)):this._view.set_render(null)},stage_activate:function(a){this._active="activate"==a.type},stage_resize:function(a){N.setScreenSize(Xa.get_stage().stageWidth,Xa.get_stage().stageHeight);this._view.set_width(N.width);this._view.set_height(N.height)},stage_contextLost:function(a){this._lost="glcontextlost"==a.type},initHandler:function(){this._init=!0;this.stage_resize(null);
this._glsupport&&this._view.set_render(q(this,this.render));null!=this._initHandler&&(this._initHandler(),this._initHandler=null)},render:function(a){if(!this._lost&&this._visible&&!Gc.pause){Ab._list.Clear();Ab._started=!1;z.EnterFrame();z.Clear(!0,N.backgroundColor,!0,1,!0,0);P.reset();va.EnterFrame();if(this._active){V.Update();a=V.deltaTime;N.enterFrame();P.enterFrame();var b=this._sceneCount;for(this._sceneIndex=0;0<b--;)this._sceneList.Get(this._sceneIndex++).tick(1);b=this._sceneCount;for(this._sceneIndex=
0;0<b--;)this._sceneList.Get(this._sceneIndex++).tick(2);if(this._active){b=V.time;var c=this._timeData;c.x=b/20;c.y=b;c.z=2*b;c.w=3*b;c=this._sinTimeData;var d=Math.sin(b/4),e=Math.sin(b/2),f=Math.sin(b);c.x=Math.sin(b/8);c.y=d;c.z=e;c.w=f;c=this._cosTimeData;d=Math.cos(b/4);e=Math.cos(b/2);f=Math.cos(b);c.x=Math.cos(b/8);c.y=d;c.z=e;c.w=f;b=this._deltaTimeData;b.x=a;b.y=1/a;b.z=a;b.w=1/a;J.SetFloat4(ha._Time._name,this._timeData).id=Z._id++;2147483647<=Z._id&&(Z._id=0);J.SetFloat4(ha._SinTime._name,
this._sinTimeData).id=Z._id++;2147483647<=Z._id&&(Z._id=0);J.SetFloat4(ha._CosTime._name,this._cosTimeData).id=Z._id++;2147483647<=Z._id&&(Z._id=0);J.SetFloat4(ha._DeltaTime._name,this._deltaTimeData).id=Z._id++;2147483647<=Z._id&&(Z._id=0);z.PushRenderTarget(N.backRenderTexture);b=this._sceneCount;for(this._sceneIndex=0;0<b--;)this._sceneList.Get(this._sceneIndex++).tick(3);z.PopRenderTarget()}N.exitFrame();P.exitFrame()}va.Blit(N.backRenderTexture);z.ExitFrame();bd.Reset();if(null!=this.onUpdate)this.onUpdate(V.deltaTime)}},
__class__:Gc};var Gd=function(){Ma.call(this)};k["lovedna.game.Scene"]=Gd;Gd.__name__=["lovedna","game","Scene"];Gd.__super__=Ea;Gd.prototype=t(Ea.prototype,{renderer:null,_root:null,_screenSize:null,AddChild:function(a){null!=a&&a.set_parent(this._root)},onConstruct:function(){Ea.prototype.onConstruct.call(this);this._root=new cc(null,"root");this._root.setScene(this);this.renderer=new Re;this._root.AddComponent(this.renderer);this._screenSize=new Se(N.width,N.height);Gd.current=this;this._root.tick(0)},
tick:function(a){Gd.current=this;this.renderer.tick(a)},__class__:Gd});var Na=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.x=a;this.y=b;this.z=c;this.w=d;this._f4=Na.instance};k["lovedna.math.Float4"]=Na;Na.__name__=["lovedna","math","Float4"];Na.__interfaces__=[od];Na.prototype={x:null,y:null,z:null,w:null,_f4:null,FromArray:function(a,b){null==b&&(b=0);if(null==a)return this;var c=a.length;b<c&&(this.x=a[b]);b+1<c&&(this.y=a[b+1]);b+2<c&&(this.z=a[b+2]);b+3<
c&&(this.w=a[b+3]);return this},ToArray:function(a,b){null==b&&(b=0);null==a&&(a=[]);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},__class__:Na};var Tc=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);this._vec2=new oa;Na.call(this,a,b,c,d);this.x=a;this.y=b;this.set_width(c);this.set_height(d)};k["lovedna.math.Rect"]=Tc;Tc.__name__=["lovedna","math","Rect"];Tc.__super__=Na;Tc.prototype=t(Na.prototype,{_vec2:null,SetScale:function(a,b){this.x*=a;this.y*=
b;this.set_width(this.z*a);this.set_height(this.w*b);return this},set_width:function(a){return this.z=a},set_height:function(a){return this.w=a},__class__:Tc,__properties__:{set_height:"set_height",set_width:"set_width"}});var Zb=function(){this.id=Zb._id++;Zb._map.h[this.id]=this;this.enabled=!1;this._time=window.performance.now()/1E3*Pa.scale;this.size=new Se};k["lovedna.gl.Texture"]=Zb;Zb.__name__=["lovedna","gl","Texture"];Zb.prototype={size:null,name:null,id:null,enabled:null,_texture:null,_time:null,
Bind:function(a){this._time=window.performance.now()/1E3*Pa.scale},__class__:Zb};var ke=function(){Zb.call(this)};k["lovedna.gl.Texture2D"]=ke;ke.__name__=["lovedna","gl","Texture2D"];ke.__super__=Zb;ke.prototype=t(Zb.prototype,{_data:null,UploadBitmap:function(a){if(null!=a){var b=a.image;this.size.Set(a.width,a.height);null==b&&(a=new ja(2,2,!1,16777215*Math.random()|0),this.size.Set(2,2),b=a.image);this.UploadUint8Array(b.get_data())}},UploadUint8Array:function(a){null!=a&&(this._data=a,this._time=
window.performance.now()/1E3*Pa.scale,this.enabled=!0)},Bind:function(a){null==a&&(a=0);Zb.prototype.Bind.call(this,a);this.enabled&&(null!=this._data&&(this.upload(this._data),this._data=null),null!=this._texture&&(x.context.__context.activeTexture(33984+a),x.context.__context.bindTexture(3553,this._texture)))},upload:function(a){null==this._texture&&(this._texture=x.context.__context.createTexture());x.context.__context.bindTexture(3553,this._texture);var b=this.size.x,c=this.size.y;0<b&&0==(b&
b-1)?x.context.__context.texParameteri(3553,10242,10497):x.context.__context.texParameteri(3553,10242,33071);0<c&&0==(c&c-1)?x.context.__context.texParameteri(3553,10243,10497):x.context.__context.texParameteri(3553,10243,33071);x.context.__context.texParameteri(3553,10240,9729);x.context.__context.texParameteri(3553,10241,9729);var d=Mb.get_internalFormat(),e=Mb.get_textureFormat();a=L.fromArrayBufferView(a);x.context.__context.texImage2D(3553,0,d,b,c,0,e,5121,L.toBufferView(a));x.context.__context.bindTexture(3553,
null)},__class__:ke});var gg=function(a,b,c){null==c&&(c=16);null==b&&(b=256);null==a&&(a=256);this._depth=16;Zb.call(this);this.rect=new Tc;this.rect.set_width(a);this.rect.set_height(b);this.size.Set(a,b);this.enabled=!0;this._depth=c};k["lovedna.gl.RenderTexture"]=gg;gg.__name__=["lovedna","gl","RenderTexture"];gg.__super__=ke;gg.prototype=t(ke.prototype,{rect:null,_depth:null,_frameBuffer:null,_renderBuffer:null,Release:function(){null!=this._frameBuffer&&(x.context.__context.deleteFramebuffer(this._frameBuffer),
this._frameBuffer=null);null!=this._renderBuffer&&(x.context.__context.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null)},BindFrameBuffer:function(){var a=this.rect.z,b=a|0;0>a&&b!=a&&--b;a=b;b=this.rect.w;var c=b|0;0>b&&c!=b&&--c;b=c;if(!(1>a||1>b)){if(a!=this.size.x||b!=this.size.y)this.Release(),this.size.Set(a,b);null==this._frameBuffer?(this._frameBuffer=x.context.__context.createFramebuffer(),x.context.__context.bindFramebuffer(36160,this._frameBuffer),this._renderBuffer=x.context.__context.createRenderbuffer(),
x.context.__context.bindRenderbuffer(36161,this._renderBuffer),24==this._depth?(x.context.__context.renderbufferStorage(36161,34041,a,b),x.context.__context.framebufferRenderbuffer(36160,33306,36161,this._renderBuffer)):(x.context.__context.renderbufferStorage(36161,33189,a,b),x.context.__context.framebufferRenderbuffer(36160,36096,36161,this._renderBuffer)),this.upload(null),x.context.__context.framebufferTexture2D(36160,36064,3553,this._texture,0),x.context.__context.bindRenderbuffer(36161,null)):
x.context.__context.bindFramebuffer(36160,this._frameBuffer)}},__class__:gg});var Se=function(a,b){null==b&&(b=0);null==a&&(a=0);this.Set(a,b)};k["lovedna.math.Int2"]=Se;Se.__name__=["lovedna","math","Int2"];Se.prototype={x:null,y:null,Set:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;return this},__class__:Se};var Sb=function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);Na.call(this,a,b,c,d);this._dirty=!0};k["lovedna.math.Color"]=Sb;Sb.__name__=["lovedna",
"math","Color"];Sb.__super__=Na;Sb.prototype=t(Na.prototype,{_rgba:null,_dirty:null,set_rgba:function(a){this._dirty=!0;this.x=.00392156863*(a>>24&255);this._dirty=!0;this.y=.00392156863*(a>>16&255);this._dirty=!0;this.z=.00392156863*(a>>8&255);this._dirty=!0;this.w=.00392156863*(a&255);return this._rgba=a},__class__:Sb,__properties__:{set_rgba:"set_rgba"}});var N=function(){};k["lovedna.game.Screen"]=N;N.__name__=["lovedna","game","Screen"];N.enterFrame=function(){N.setRenderSize(N.width,N.height);
if(null!=N.backRenderTexture){var a=N.width*N._resolution.x+N._resolution.z|0,b=N.height*N._resolution.y+N._resolution.w|0;if(a>N.width||1>a)a=N.width;if(b>N.height||1>b)b=N.height;var c=N.backRenderTexture.rect;c.x=0;c.y=0;c.z=a;c.w=b}};N.exitFrame=function(){};N.setScreenSize=function(a,b){N.width=a;N.height=b};N.setRenderSize=function(a,b){N.renderWidth=a;N.renderHeight=b};var S=function(a,b){this._name=a;this._index=S._id++;this._size=b};k["lovedna.game.ShaderBufferName"]=S;S.__name__=["lovedna",
"game","ShaderBufferName"];S.GetList=function(){S.initList();return S._list};S.Get=function(a){S.initList();return S._list[a]};S.initList=function(){0<S._list.length||(S._list.push(S.UV),S._list.push(S.UV1),S._list.push(S.UV2),S._list.push(S.UV3),S._list.push(S.COLOR),S._list.push(S.NORMAL),S._list.push(S.TANGENT),S._list.push(S.COLOR1),S._list.push(S.NORMAL1),S._list.push(S.TANGENT1))};S.prototype={_name:null,_index:null,_size:null,GetName:function(){return this._name},GetIndex:function(){return this._index},
GetSize:function(){return this._size},toString:function(){return this._index+" "+this._name+" : "+this._size},__class__:S};var ha=function(a){this._name=a;this._index=ha._id++};k["lovedna.game.ShaderUniformName"]=ha;ha.__name__=["lovedna","game","ShaderUniformName"];ha.prototype={_name:null,_index:null,__class__:ha};var Aa=function(){Ma.call(this)};k["lovedna.game.components.Component"]=Aa;Aa.__name__=["lovedna","game","components","Component"];Aa.__interfaces__=[Pi];Aa.__super__=Ea;Aa.prototype=
t(Ea.prototype,{gameObject:null,active:null,_builtinCallback:null,_customCallback:null,_bindEventMap:null,onConstruct:function(){Ea.prototype.onConstruct.call(this);this._builtinCallback=new C;this._customCallback=new C;this._bindEventMap=new pb;var a=this._builtinCallback,b=F.onFixedUpdate._type,c=q(this,this.onFixedUpdate);null!=p[b]?a.setReserved(b,c):a.h[b]=c;a=this._builtinCallback;b=F.onUpdate._type;c=q(this,this.onUpdate);null!=p[b]?a.setReserved(b,c):a.h[b]=c;a=this._builtinCallback;b=F.onLateUpdate._type;
c=q(this,this.onLateUpdate);null!=p[b]?a.setReserved(b,c):a.h[b]=c;a=this._builtinCallback;b=F.onTransformUpdate._type;c=q(this,this.onTransformUpdate);null!=p[b]?a.setReserved(b,c):a.h[b]=c;a=this._builtinCallback;b=F.onPostTransform._type;c=q(this,this.onPostTransform);null!=p[b]?a.setReserved(b,c):a.h[b]=c;a=this._builtinCallback;b=F.onDestroy._type;c=q(this,this.onDestroy);null!=p[b]?a.setReserved(b,c):a.h[b]=c},onAwake:function(){},onFixedUpdate:function(){},onUpdate:function(){},onPostTransform:function(){},
onTransformUpdate:function(){},onLateUpdate:function(){},onDestroy:function(){},onInit:function(){},set_active:function(a){if(a!=this.active)for(this.active=a,F.onComponentActiveChange.SetCurrentTarget(this),this.DispatchEvent(F.onComponentActiveChange),null!=this.gameObject&&this.gameObject.DispatchEvent(F.onComponentActiveChange),a=this._bindEventMap.keys();a.hasNext();){var b=a.next(),c=this._bindEventMap.h[b.__id__];if(this.active){if(null==c){c=this._customCallback;var d=b._type;c=null!=p[d]?
c.getReserved(d):c.h[d];null!=c&&(null!=this.gameObject&&this.gameObject.AddEventListener(b._type,c),this._bindEventMap.set(b,c))}}else null!=c&&(null!=this.gameObject&&this.gameObject.RemoveEventListener(b._type,c),this._bindEventMap.set(b,null))}return this.active},__class__:Aa,__properties__:{set_active:"set_active"}});var le=function(){Ma.call(this)};k["lovedna.game.components.Animator"]=le;le.__name__=["lovedna","game","components","Animator"];le.__super__=Aa;le.prototype=t(Aa.prototype,{enabled:null,
resource:null,playing:null,update:null,action:null,dirtyTime:null,currentTranslation:null,currentRotation:null,currentScale:null,_clips:null,_animation:null,_jointMap:null,_time:null,_preTime:null,_totalTime:null,_loop:null,_t:null,_r:null,_s:null,GetBoneMatrix:function(a){var b=this._jointMap;return(null!=p[a]?b.getReserved(a):b.h[a]).animation},SetJointMap:function(a){this._jointMap=a},onAwake:function(){Aa.prototype.onAwake.call(this);var a=F.onUpdate;if(null==a)console.log("must be Event");else{var b=
a._type,c=null,d=this._builtinCallback;if(null!=p[b]?d.existsReserved(b):d.h.hasOwnProperty(b))c=this._builtinCallback,c=null!=p[b]?c.getReserved(b):c.h[b];null==c?console.log(b+" not exist"):(d=this._customCallback,null!=p[b]?d.setReserved(b,c):d.h[b]=c,this.active?(this._bindEventMap.set(a,c),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,c)):this._bindEventMap.set(a,null))}this.update=this.enabled=!1;this._totalTime=0;this._loop=-1;this._time=new oa;this._preTime=new oa;this._t=
new Q;this._r=new Ya;this._s=new Q;this.playing=!0},onUpdate:function(){Aa.prototype.onUpdate.call(this);if(this.playing&&this.enabled&&0!=this._totalTime&&0!=this._loop&&null!=this._animation){this._time.x+=this.gameObject.deltaTime;this._time.y=this._time.x%this._totalTime;0>this._time.y&&(this._time.y+=this._totalTime);var a=0,b=!1;0!=this._preTime.x?a=this._time.x-this._preTime.x:b=!0;this._preTime.x=this._time.x;0<a&&this._time.y<this._preTime.y?(this.DispatchEvent(ca.FINISH),0<this._loop&&this._loop--,
b=!0):0>a&&this._time.y>this._preTime.y&&(this.DispatchEvent(ca.FINISH),0<this._loop&&this._loop--,b=!0);if(0!=this._loop&&(b&&this.DispatchEvent(ca.START),ca.PROGRESS.SetProgress(this._time.y,this._totalTime),this.DispatchEvent(ca.PROGRESS),this.playing&&this.enabled&&0!=this._loop&&0!=this._totalTime)){a=this._preTime.y=this._time.y;b=this._animation.nodeAnimations.length;for(var c=0;0<b--;){var d=this._animation.nodeAnimations[b],e=d.nodeId,f=this._jointMap;e=null!=p[e]?f.getReserved(e):f.h[e];
null!=e&&(this.currentTranslation=d.GetTranslation(a),this.currentRotation=d.GetRotation(a),this.currentScale=d.GetScaling(a),null!=this.currentTranslation&&(d=this._t,f=this.currentTranslation,f!=d&&(d.x=f.x,d.y=f.y,d.z=f.z),this.currentTranslation=this._t),null!=this.currentRotation&&(this._r.Copy(this.currentRotation),this.currentRotation=this._r),null!=this.currentScale&&(d=this._s,f=this.currentScale,f!=d&&(d.x=f.x,d.y=f.y,d.z=f.z),this.currentScale=this._s),e.UpdateLocal(this.currentTranslation,
this.currentRotation,this.currentScale),++c)}if(!(1>c))for(a=this._jointMap,a=new wd(a,a.arrayKeys());a.hasNext();)a.next().UpdateWorld()}}},animationResourceLoaded:function(){this.enabled=!1;this.dirtyTime=.001*(new Date).getTime()+Pa._timeOffset;if(null!=this.resource.modelData.animations){var a=this.resource.modelData.animations.length;if(!(1>a)){for(this._clips=new C;0<a--;){var b=this.resource.modelData.animations[a],c=this._clips,d=b.id;null!=p[d]?c.setReserved(d,b):c.h[d]=b;this.action=b.id}a=
this._clips;b=this.action;this._animation=null!=p[b]?a.getReserved(b):a.h[b];this.enabled=!0;this._totalTime=this._animation.totalTime;this._time.Set(0,0);this._preTime.Set(0,0)}}},set_resource:function(a){if(this.resource==a)return a;null!=this.resource&&(this.resource.enabled||this.resource.RemoveEventListener(ca.INIT._type,q(this,this.animationResourceLoaded)));this.resource=a;this.resource.enabled?this.animationResourceLoaded():this.resource.AddEventListener(ca.INIT._type,q(this,this.animationResourceLoaded));
return this.resource},__class__:le,__properties__:t(Aa.prototype.__properties__,{set_resource:"set_resource"})});var xd=function(){Ma.call(this)};k["lovedna.game.components.Camera"]=xd;xd.__name__=["lovedna","game","components","Camera"];xd.__super__=Aa;xd.prototype=t(Aa.prototype,{depth:null,clearFlags:null,depthTextureMode:null,targetTexture:null,backgroundColor:null,fieldOfView:null,nearClipPlane:null,farClipPlane:null,cullingMask:null,rect:null,orthographic:null,commandBufferCount:null,worldToCameraMatrix:null,
cameraToWorldMatrix:null,viewMatrix:null,viewInverseMatrix:null,projectionMatrix:null,projectionViewMatrix:null,projectionViewInverseMatrix:null,frustum:null,rendererList:null,changedTime:null,_dirty:null,_p1:null,_p2:null,_queue:null,_beforeCommandBuffer:null,_afterCommandBuffer:null,_commandBuffers:null,_viewPort:null,_dirtyMatrix:null,_ProjectionParams:null,_ScreenParams:null,_renderCount:null,_cacheSize:null,AddCommandBuffer:function(a,b){this._commandBuffers.Add(a)},RemoveAllCommandBuffers:function(){this._commandBuffers.Clear()},
Render:function(){if(!(10<this._renderCount)){if(this._cacheSize.x!=N.renderWidth||this._cacheSize.y!=N.renderHeight)this._dirty=!0,this._cacheSize.Set(N.renderWidth,N.renderHeight);this._renderCount++;xd.current=this;this.gameObject.DispatchEvent(F.onCameraPreRender);this._dirty&&this.Refresh();this.cullRenderer();var a=this.rendererList._length;if(!(1>a)){this.RemoveAllCommandBuffers();this.AddCommandBuffer(this._beforeCommandBuffer);this._beforeCommandBuffer.enabled||(this._afterCommandBuffer.Clear(),
null!=this.targetTexture&&(this._beforeCommandBuffer.PushRenderTarget(this.targetTexture),this._afterCommandBuffer.PopRenderTarget()),this.clearFlags==tc.Depth?this._beforeCommandBuffer.ClearRenderTarget(!1,this.backgroundColor,!0):this.clearFlags==tc.SolidColor&&this._beforeCommandBuffer.ClearRenderTarget(!0,this.backgroundColor));var b=J.SetMatrix(ha.P._name,this.projectionMatrix);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=J.SetMatrix(ha.V._name,this.viewMatrix);this._dirtyMatrix&&
(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=J.SetMatrix(ha.IV._name,this.viewInverseMatrix);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=J.SetMatrix(ha.VP._name,this.projectionViewMatrix);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=J.SetMatrix(ha.IVP._name,this.projectionViewInverseMatrix);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=J.SetFloat4(ha._ScreenParams._name,this._ScreenParams);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&
(Z._id=0));b=J.SetFloat4(ha._ProjectionParams._name,this._ProjectionParams);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));b=ha._CameraPos._name;var c=this.gameObject,d=Qe.float3.Get();c=c.localToWorldMatrix.GetTranslation();c!=d&&(d.x=c.x,d.y=c.y,d.z=c.z);b=J.SetFloat3(b,d);this._dirtyMatrix&&(b.id=Z._id++,2147483647<=Z._id&&(Z._id=0));this._dirtyMatrix=!1;for(this._queue.Clear();0<a--;)this._queue.AddRenderer(this.rendererList.Get(a));this._queue.Sort();this._queue.Render();this.AddCommandBuffer(this._afterCommandBuffer);
a=0;for(b=this._commandBuffers._length;a<b;)d=a++,this._commandBuffers.Get(d).Execute()}}},Refresh:function(){var a=this.rect.z*N.renderWidth,b=this.rect.w*N.renderHeight;this._ScreenParams.x=N.renderWidth;this._ScreenParams.y=N.renderHeight;this._ScreenParams.z=1/N.renderWidth;this._ScreenParams.w=1/N.renderHeight;var c=a/b;this.orthographic?this.projectionMatrix.SetOrtho(-a,a,-b,b,this.nearClipPlane,this.farClipPlane):this.projectionMatrix.SetProjection(this.nearClipPlane,this.farClipPlane,this.fieldOfView,
c);b=this.gameObject;a=Qe.float3.Get();b=b.localToWorldMatrix.GetTranslation();b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);b=Q.instance;b.x=0;b.y=0;b.z=1;b=this.gameObject._localQuaternion.MultiplyVector(b);c=this.farClipPlane-this.nearClipPlane;b.x*=c;b.y*=c;b.z*=c;b.x+=a.x;b.y+=a.y;b.z+=a.z;this.viewMatrix.LookAt(a,b);this.projectionViewMatrix.Copy(this.projectionMatrix);this.projectionViewMatrix.Append(this.viewMatrix);this.viewInverseMatrix.Copy(this.viewMatrix);this.viewInverseMatrix.Inverse();this.projectionViewMatrix.MultiplyFrustum(this.frustum);
this.projectionViewInverseMatrix.Copy(this.projectionViewMatrix);this.projectionViewInverseMatrix.Inverse();a=this._viewPort;b=this.rect;a.x=b.x;a.y=b.y;a.z=b.z;a.w=b.w;this._viewPort.SetScale(N.renderWidth,N.renderHeight);this._dirty=!1;this._dirtyMatrix=!0;a=this._ProjectionParams;a.x=this.nearClipPlane;a.y=this.farClipPlane;a.z=1/(this.farClipPlane-this.nearClipPlane);a.w=1/(this.farClipPlane-this.nearClipPlane);this.changedTime=V.time;this.gameObject.DispatchEvent(F.onCameraUpdate)},onConstruct:function(){Aa.prototype.onConstruct.call(this);
this.changedTime=0;this._beforeCommandBuffer=new Te;this._afterCommandBuffer=new Te;this._afterCommandBuffer.PopRenderTarget();this._commandBuffers=new xa;this.backgroundColor=new Sb(1,1,1,1);this.backgroundColor.set_rgba(-1412567041);this.set_cullingMask(new Tb);this.depthTextureMode=mc.None;this.set_rect(new Tc(0,0,1,1));this.viewMatrix=this.worldToCameraMatrix=new Ja;this.viewInverseMatrix=this.cameraToWorldMatrix=new Ja;this.projectionMatrix=new Ja;this.projectionViewMatrix=new Ja;this.projectionViewInverseMatrix=
new Ja;this.set_nearClipPlane(1);this.set_farClipPlane(2E3);this.set_fieldOfView(60);this.frustum=new dd;this._p1=new Q;this._p2=new Q;this.set_orthographic(!1);this.commandBufferCount=0;this._dirty=!0;this.depth=0;this.set_clearFlags(tc.SolidColor);this.rendererList=new xa;this._queue=new Ue;var a=this._viewPort=new Tc,b=this.rect;a.x=b.x;a.y=b.y;a.z=b.z;a.w=b.w;this._viewPort.SetScale(N.width,N.height);this._dirtyMatrix=!0;this._ProjectionParams=new Na;this._ScreenParams=new Na;this._renderCount=
0;this._cacheSize=new Se},onAwake:function(){Aa.prototype.onAwake.call(this);var a=F.onStateChange,b=q(this,this.onStateChange);if(null==a)console.log("must be Event");else{var c=a._type,d=null;if(null!=b)d=b;else if(b=this._builtinCallback,null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=
this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,null))}a=F.onTransformUpdate;if(null==a)console.log("must be Event");else{c=a._type;d=null;b=this._builtinCallback;if(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,
d)):this._bindEventMap.set(a,null))}a=F.onPostTransform;if(null==a)console.log("must be Event");else{c=a._type;d=null;b=this._builtinCallback;if(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,null))}a=
F.onScreenResize;b=q(this,this.onScreenResize);if(null==a)console.log("must be Event");else{c=a._type;d=null;if(null!=b)d=b;else if(b=this._builtinCallback,null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,
null))}},onTransformUpdate:function(){this._dirty=!0},onPostTransform:function(){Aa.prototype.onPostTransform.call(this);this._renderCount=0},onStateChange:function(){3==F.onStateChange.state&&this.gameObject.scene.renderer.UpdateCamera(this,this.gameObject._state.IsOpen(3))},onScreenResize:function(){this._dirty=!0},cullRenderer:function(){this.rendererList.Clear();if(null!=this.gameObject.scene){this.gameObject.DispatchEvent(F.onCameraPreCull);var a=F.onCameraCull,b=this.gameObject,c=Qe.float3.Get();
b=b.localToWorldMatrix.GetTranslation();b!=c&&(c.x=b.x,c.y=b.y,c.z=b.z);a.Set(this,c,this.rendererList);this.gameObject.scene.renderer.gameObject.Visit(null,null,F.onCameraCull)}},set_nearClipPlane:function(a){this.nearClipPlane!=a&&0<a&&(this._dirty=!0);return this.nearClipPlane=a},set_farClipPlane:function(a){this.farClipPlane!=a&&0<a&&(this._dirty=!0);return this.farClipPlane=a},set_fieldOfView:function(a){this.fieldOfView!=a&&(this._dirty=!0);return this.fieldOfView=a},set_rect:function(a){this._dirty=
!0;return this.rect=a},set_cullingMask:function(a){return this.cullingMask=a},set_orthographic:function(a){this.orthographic!=a&&(this._dirty=!0);return this.orthographic=a},set_clearFlags:function(a){this.clearFlags!=a&&this._beforeCommandBuffer.Clear();return this.clearFlags=a},__class__:xd,__properties__:t(Aa.prototype.__properties__,{set_orthographic:"set_orthographic",set_rect:"set_rect",set_cullingMask:"set_cullingMask",set_farClipPlane:"set_farClipPlane",set_nearClipPlane:"set_nearClipPlane",
set_fieldOfView:"set_fieldOfView",set_clearFlags:"set_clearFlags"})});var dc=function(){};k["lovedna.game.components.G3DObject"]=dc;dc.__name__=["lovedna","game","components","G3DObject"];dc.__super__=Aa;dc.prototype=t(Aa.prototype,{resource:null,animator:null,_init:null,_jointMap:null,_childMap:null,onAwake:function(){Aa.prototype.onAwake.call(this);this.animator=new le;this.gameObject.AddComponent(this.animator);this._jointMap=new C;this._childMap=new C;this.animator.SetJointMap(this._jointMap);
this._init=!1},clear:function(){this.gameObject.RemoveAllChild();for(var a=this._jointMap.keys();a.hasNext();){var b=a.next();this._jointMap.remove(b)}for(a=this._childMap.keys();a.hasNext();)b=a.next(),this._childMap.remove(b);this._init=!1},modelResourceLoaded:function(){if(null!=this.resource){this.clear();this.resource.RemoveEventListener(ca.INIT._type,q(this,this.modelResourceLoaded));for(var a=this.resource.modelData.nodes,b=0;b<a.length;){var c=a[b];++b;this.parseNode(c,null)}this._init=!0;
this.DispatchEvent(ca.INIT)}},parseNode:function(a,b){if(null!=a.parts)for(var c=0,d=a.parts;c<d.length;){var e=d[c];++c;var f=this.resource.modelData.GetMeshByPartId(e.meshPartId).GetPart(e.meshPartId);if(null!=e.bones){var l=new cc([Ve]);l.FindComponent(Ve).setBoneNameList(e.bones)}else l=new cc([Uc]);l.name=a.id;null!=b?l.set_parent(b.bone):l.set_parent(this.gameObject);var h=this._childMap,m=a.id;null!=p[m]?h.setReserved(m,l):h.h[m]=l;l=l.FindComponent(Uc);l.set_mesh(this.resource.modelData.GetMeshByPartId(e.meshPartId).mesh);
l.material.subMesh=f.subMeshId;e=this.resource.modelData.GetMaterial(e.materialId).GetTexture();null!=e&&(e=e.fileName,e=Y.Combine(Y.Directory(this.resource.asset.url),Y.WithoutExtension(e)),l.material.set_texture(ua.texture.Get(e).texture))}else if(d=a.id,c=new Oh(d),e=this._childMap,f=c.bone,null!=p[d]?e.setReserved(d,f):e.h[d]=f,e=this._jointMap,null!=p[d]?e.setReserved(d,c):e.h[d]=c,d=this.resource.modelData.GetBone(d),null!=d&&(c.worldToLocal=(new Ja).SetTRS(d.translation,d.rotation,d.scale).Inverse()),
null==b?c.bone.set_parent(this.gameObject):c.bone.set_parent(b.bone),c.bone.set_localPosition(a.translation),c.bone.set_localRotation(a.rotation),c.bone.set_localScale(a.scale),null!=a.children)for(b=0,a=a.children;b<a.length;)d=a[b],++b,this.parseNode(d,c)},set_resource:function(a){if(this.resource==a)return a;null!=this.resource&&(this.resource.enabled||this.resource.RemoveEventListener(ca.INIT._type,q(this,this.modelResourceLoaded)));this._init=!1;this.resource=a;this.resource.enabled?this.modelResourceLoaded():
this.resource.AddEventListener(ca.INIT._type,q(this,this.modelResourceLoaded));return this.resource},__class__:dc,__properties__:t(Aa.prototype.__properties__,{set_resource:"set_resource"})});var Oh=function(a){this.id=a;this.animation=new Ja;this.bone=new cc;this.bone.name=a};k["lovedna.game.components.Joint"]=Oh;Oh.__name__=["lovedna","game","components","Joint"];Oh.prototype={id:null,animation:null,worldToLocal:null,bone:null,UpdateLocal:function(a,b,c){this.bone.set_localPosition(a);this.bone.set_localRotation(b);
this.bone.set_localScale(c)},UpdateWorld:function(){null!=this.worldToLocal&&this.animation.Copy(this.bone.localToWorldMatrix).Append(this.worldToLocal)},__class__:Oh};var hg=function(){};k["lovedna.game.components.Light"]=hg;hg.__name__=["lovedna","game","components","Light"];hg.__super__=Aa;hg.prototype=t(Aa.prototype,{__class__:hg});var Kc=function(){};k["lovedna.game.components.Renderer"]=Kc;Kc.__name__=["lovedna","game","components","Renderer"];Kc.__super__=Aa;Kc.prototype=t(Aa.prototype,{distanceToCamera:null,
bounds:null,cameraCull:null,material:null,receiveShadows:null,shadowCastingMode:null,commandBuffer:null,_materialTime:null,_boundsDirty:null,_materialDirty:null,_dirty:null,_cameraId:null,_cameraChangeTime:null,onConstruct:function(){Aa.prototype.onConstruct.call(this);this.receiveShadows=!1;this.cameraCull=!0;this.shadowCastingMode=$b.Off;this._dirty=this._boundsDirty=!1;this.commandBuffer=new Te},onAwake:function(){Aa.prototype.onAwake.call(this);this._materialDirty=!0;this._cameraChangeTime=this._materialTime=
0;this._cameraId=-1;var a=F.onLateUpdate,b=q(this,this.onLateUpdate);if(null==a)console.log("must be Event");else{var c=a._type,d=null;if(null!=b)d=b;else if(b=this._builtinCallback,null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):
this._bindEventMap.set(a,null))}a=F.onTransformUpdate;if(null==a)console.log("must be Event");else{c=a._type;d=null;b=this._builtinCallback;if(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,null))}},onLateUpdate:function(){null!=
this.material&&this._materialTime!=this.material.time&&(this._materialDirty=!0,this._materialTime=this.material.time);this._materialDirty&&(this._materialDirty=!1,this.onMaterialChanged())},onTransformUpdate:function(){this._boundsDirty=!0},onMaterialChanged:function(){},culled:function(a){if(this.shadowCastingMode==$b.ShadowsOnly||!a.camera.cullingMask.Exist(this.gameObject.layer))return this.gameObject.set_visible(!1),!0;if(!this.cameraCull)return this.gameObject.set_visible(!0),!1;var b=!1;if(this._boundsDirty)b=
!0;else if(this._cameraChangeTime!=a.camera.changedTime||this._cameraId!=a.id)this._cameraChangeTime=a.camera.changedTime,this._cameraId=a.id,b=!0;this.updateBounds();if(!b)return!this.gameObject._state.IsOpen(1);b=a.camera.frustum;if(null==this.bounds){var c=this.gameObject;a=Qe.float3.Get();c=c.localToWorldMatrix.GetTranslation();c!=a&&(a.x=c.x,a.y=c.y,a.z=c.z);b=b.ContainsPoint(a);this.gameObject.set_visible(b);return!b}this._boundsDirty&&(this._boundsDirty=!1,this.bounds.Apply(this.gameObject.localToWorldMatrix));
null!=this.bounds.sphere?(c=this.bounds.sphere,c=!(null==c?0:b.ContainsPoint(c.center,c.radius))):c=!1;if(c)return this.gameObject.set_visible(!1),!0;this.distanceToCamera=a.position.Distance(this.bounds.sphere.center);if(null!=this.bounds.box&&!b.IntersectsBox(this.bounds.box))return this.gameObject.set_visible(!1),!0;this.gameObject.set_visible(!0);return!1},updateBounds:function(){},render:function(){xd.current.AddCommandBuffer(this.commandBuffer)},set_material:function(a){this._materialDirty=
this._dirty=!0;return this.material=a},__class__:Kc,__properties__:t(Aa.prototype.__properties__,{set_material:"set_material"})});var Uc=function(){};k["lovedna.game.components.MeshRenderer"]=Uc;Uc.__name__=["lovedna","game","components","MeshRenderer"];Uc.__super__=Kc;Uc.prototype=t(Kc.prototype,{mesh:null,meshBoundChangeTime:null,onAwake:function(){Kc.prototype.onAwake.call(this);this.meshBoundChangeTime=0;this.set_material(new We(new J("base")));var a=F.onCameraCull,b=q(this,this.onCameraCull);
if(null==a)console.log("must be Event");else{var c=a._type,d=null;if(null!=b)d=b;else if(b=this._builtinCallback,null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,null))}},updateBounds:function(){null!=this.mesh&&
!(2>this.mesh.vertexCount)&&this.mesh.boundsTime>this.meshBoundChangeTime&&(this._boundsDirty=!0,null==this.bounds&&(this.bounds=new ig),this.mesh.RecalculateBounds(),this.bounds.Copy(this.mesh.bounds),F.onBoundsChange.SetCustomData(this.mesh.bounds),this.gameObject.DispatchEvent(F.onBoundsChange),this.meshBoundChangeTime=this.mesh.boundsTime)},onCameraCull:function(){var a=F.onCameraCull;if(!(this.culled(a)||null==this.mesh||null==this.material||null==this.material.shader||2>this.mesh.vertexCount)){if(this._dirty){if(null==
this.mesh||1>this.mesh.vertexCount)return;this._dirty=!1;this.commandBuffer.DrawMesh(this.mesh,this.gameObject.localToWorldMatrix,this.material)}a.list.Add(this)}},set_mesh:function(a){if(null==a)return a;this._boundsDirty=this._dirty=!0;return this.mesh=a},__class__:Uc,__properties__:t(Kc.prototype.__properties__,{set_mesh:"set_mesh"})});var Re=function(){Ma.call(this)};k["lovedna.game.components.SceneRenderer"]=Re;Re.__name__=["lovedna","game","components","SceneRenderer"];Re.__super__=Aa;Re.prototype=
t(Aa.prototype,{childDirty:null,rendererList:null,childList:null,_frame:null,_removedMap:null,_cameraList:null,_lightList:null,_dirtyCamera:null,_dirtyLight:null,_width:null,_height:null,UpdateCamera:function(a,b){b?this._cameraList.Contains(a)||this._cameraList.Add(a):this._cameraList.Remove(a);this._dirtyCamera=!0},onConstruct:function(){Aa.prototype.onConstruct.call(this);this._frame=-1;this.childDirty=!1;this.childList=new xa;this._removedMap=new Ka;this.rendererList=new xa;this._cameraList=new xa;
this._lightList=new xa;this._dirtyCamera=this._dirtyLight=!1;this._width=N.width;this._height=N.height},tick:function(a){1==a?this.gameObject.tick(0):2==a&&this.rendererList.Clear();if(3>a)for(var b=this.childList._length,c=0;0<b--;)this.childList.Get(c++).tick(a);2==a?this.childDirty&&(this.childDirty=!1,this.buildChildList()):3==a&&this.render()},render:function(){this._dirtyLight&&(this._dirtyLight=!1);var a=this._cameraList._length;if(!(1>a)){this._dirtyCamera&&(this._dirtyCamera=!1,1<a&&this._cameraList.Sort(q(this,
this.sortCameraDepth)));var b=this._width!=N.width||this._height!=N.height;this._width=N.width;for(this._height=N.height;0<a--;){var c=this._cameraList.Get(a);b&&c.gameObject.DispatchEvent(F.onScreenResize);c.Render()}}},buildChildList:function(){if(this._frame!=V.fixedCount){for(var a=this.childList._length;0<a--;){var b=this.childList.Get(a);this._removedMap.h[b.instanceID]=b}this.childList.Clear();this.gameObject.Visit(this.childList,null,F.onBuildScene);a=this.childList._length;for(b=Gd.current;0<
a--;){var c=this.childList.Get(a);this._removedMap.remove(c.instanceID);c.setScene(b)}for(a=this._removedMap.iterator();a.hasNext();)b=a.next(),this._removedMap.remove(b.instanceID),b.setScene(null)}},sortCameraDepth:function(a,b){a=a.depth;b=b.depth;return a!=b?a>b?-1:1:0},__class__:Re});var Ve=function(){};k["lovedna.game.components.SkinnedMeshRenderer"]=Ve;Ve.__name__=["lovedna","game","components","SkinnedMeshRenderer"];Ve.__super__=Uc;Ve.prototype=t(Uc.prototype,{_animator:null,_boneNameList:null,
_poses:null,_animationPoses:null,_enabled:null,_animatorDirtyTime:null,onAwake:function(){Uc.prototype.onAwake.call(this);this._enabled=!1;this.meshBoundChangeTime=this._animatorDirtyTime=0;this._animationPoses=[];var a=F.onCameraCull,b=q(this,this.onCameraCull);if(null==a)console.log("must be Event");else{var c=a._type,d=null;if(null!=b)d=b;else if(b=this._builtinCallback,null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))d=this._builtinCallback,d=null!=p[c]?d.getReserved(c):d.h[c];null==d?console.log(c+
" not exist"):(b=this._customCallback,null!=p[c]?b.setReserved(c,d):b.h[c]=d,this.active?(this._bindEventMap.set(a,d),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,d)):this._bindEventMap.set(a,null))}this.set_material(new We(new J("skinMesh")));this.material.vertexBufferMask.Open(2)},render:function(){Uc.prototype.render.call(this);null!=!this._enabled&&(null==this._animator&&(this._animator=this.gameObject.FindComponentInParent(le)),null!=this._animator&&(this._animator.dirtyTime!=
this._animatorDirtyTime&&(this._animatorDirtyTime=this._animator.dirtyTime,this.initAnimator()),this._animator.update=!0,this.material.SetMatrixArray(ha.BONE._name,this._animationPoses)))},setBoneNameList:function(a){this._boneNameList=a;this._poses=[];for(a=a.length;0<a--;)this._poses.push(new Ja);this._enabled=!0;this.initAnimator()},initAnimator:function(){if(null!=this._animator&&this._animator.enabled)for(var a=0,b=this._boneNameList.length;a<b;){var c=a++;this._animationPoses[c]=this._animator.GetBoneMatrix(this._boneNameList[c])}else if(this._enabled)for(a=
0,b=this._boneNameList.length;a<b;)c=a++,this._animationPoses[c]=this._poses[c]},__class__:Ve});var jg=function(a){cb.call(this,a)};k["lovedna.game.events.GameCameraCull"]=jg;jg.__name__=["lovedna","game","events","GameCameraCull"];jg.__super__=cb;jg.prototype=t(cb.prototype,{id:null,camera:null,position:null,list:null,Set:function(a,b,c){this.id=a.gameObject.instanceID;this.camera=a;this.position=b;this.list=c},__class__:jg});var kg=function(a){cb.call(this,a)};k["lovedna.game.events.GameStateChange"]=
kg;kg.__name__=["lovedna","game","events","GameStateChange"];kg.__super__=cb;kg.prototype=t(cb.prototype,{state:null,__class__:kg});var Oe=function(a){null==a&&(a=0);Ma.call(this);this.id=a;this.pressure=this.size=1};k["lovedna.input.Touch"]=Oe;Oe.__name__=["lovedna","input","Touch"];Oe.__super__=Ma;Oe.prototype=t(Ma.prototype,{id:null,pressure:null,size:null,action:null,active:null,userAction:null,position:null,lastPosition:null,motion:null,down:null,time:null,lastTime:null,_frameActions:null,_actions:null,
_activeObjectList:null,Begin:function(){this._actions.Clear();this._frameActions.Clear()},Update:function(){this._frameActions.Clear()},End:function(){},AddAction:function(a){this._actions.Open(a);this._frameActions.Open(a)},HasAction:function(a){return this._actions.IsOpen(a)},IsAction:function(a){return this._frameActions.IsOpen(a)},Copy:function(a){this.id=a.id;this.size=a.size;this.action=a.action;this.active=a.active;this.userAction=a.userAction;this.position.Copy(a.position);this.lastPosition.Copy(a.lastPosition);
this.motion.Copy(a.motion);this.down.Copy(a.down);var b=this.time,c=a.time;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this.lastTime;c=a.lastTime;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);this._frameActions.value=a._frameActions.value;this._actions.value=a._actions.value;this._activeObjectList=a._activeObjectList;return this},Reset:function(){3==this.action&&(this.action=0,this.active=!1)},Construct:function(){Ma.prototype.Construct.call(this);this.active=!1;this.action=0;this.userAction=!1;this.position=new oa;this.lastPosition=
new oa;this.motion=new oa;this.down=new oa;this.time=new Q;this.lastTime=new Q;this._frameActions=new Kb;this._actions=new Kb;this._activeObjectList=new xa},__class__:Oe});var F=function(a){cb.call(this,a)};k["lovedna.game.events.GameEvent"]=F;F.__name__=["lovedna","game","events","GameEvent"];F.__super__=cb;F.prototype=t(cb.prototype,{__class__:F});var ig=function(){this._box=new ed;this._sphere=new lg};k["lovedna.game.geometry.Bounds"]=ig;ig.__name__=["lovedna","game","geometry","Bounds"];ig.prototype=
{box:null,sphere:null,_box:null,_sphere:null,Reset:function(){this._box.Reset()},Copy:function(a){null!=a&&(this._box.Copy(a._box),this._sphere.Copy(a._sphere));return this},Expand:function(a){this._box.ExpandByVertex(a)},Init:function(){var a=this._sphere.center,b=this._box.GetCenter();b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);a=this._box.GetSize();this._sphere.radius=.5*Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)},Apply:function(a){null!=this._sphere&&(null==this.sphere&&(this.box=new ed,this.sphere=new lg),this.box.Copy(this._box),
this.sphere.Copy(this._sphere),this.box.ApplyMat4(a),this.sphere.ApplyMat4(a))},__class__:ig};var Me=function(){this.isReadable=!1;this.vertexBufferCount=this.vertexCount=0;this._submesh=new xa;this._vertexBuffers=new xa;this._vertexStructs=new xa;this.mask=new Kb(0);this.boundsTime=0;this._dirty=new Kb(0);this.subMeshCount=this._vertexBufferCount=0};k["lovedna.game.geometry.Mesh"]=Me;Me.__name__=["lovedna","game","geometry","Mesh"];Me.prototype={boundsTime:null,bounds:null,isReadable:null,mask:null,
vertexBufferCount:null,vertexCount:null,vertices:null,triangles:null,uvs:null,uvs2:null,uvs3:null,uvs4:null,normals:null,normals2:null,tangents:null,tangents2:null,colors:null,colors2:null,boneWeights:null,subMeshCount:null,_submesh:null,_vertexBuffers:null,_vertexStructs:null,_triangleBuffer:null,_dirty:null,_vertexBufferCount:null,GetIndexBuffer:function(){if(this._dirty.IsOpen(10)){this._dirty.Close(10);var a=this._submesh._length;if(0<a){null==this.triangles?this.triangles=new xa:this.triangles.Clear();
for(var b=0;b<a;){var c=b++,d=this._submesh.Get(c);if(null==d)throw new u("sub mesh"+c+" is null");var e=d.triangles;if(null==e)throw new u("sub mesh"+c+" triangles is null");d.SetRange(e._length,this.triangles._length);c=this.triangles;e.Trim();c.AddList(e._buffer)}0<this.triangles._length&&(null==this._triangleBuffer&&(this._triangleBuffer=new Bc),a=this._triangleBuffer,b=this.triangles,b.Trim(),a.Upload(b._buffer,this.triangles._length))}}return this._triangleBuffer},GetStructs:function(a){return this._vertexStructs.Get(a)},
GetVertexBuffer:function(a){if(2<a)return null;this._dirty.IsOpen(a)&&(this._dirty.Close(a),0==a?this.updateBuffer0():1==a?this.updateBuffer1():2==a&&this.updateBuffer2());return this._vertexBuffers.Get(a)},SetVertices:function(a){this.vertices=a;null==this.vertices?this.vertexCount=0:(this.vertexCount=this.vertices._length,this.boundsTime=window.performance.now()/1E3*Pa.scale,this.setDirty(0),this.setDirty(9))},SetTriangles:function(a,b){null==b&&(b=0);var c=this._submesh.Get(b);if(null==c&&null==
a)return null;null==c&&(c=new mg,c.id=b,this._submesh.Set(b,c));if(null==c.triangles&&null==a)return this._submesh.RemoveAt(b),null;c.SetTriangles(a);this.subMeshCount=this._submesh._length;this.setDirty(10);return c},GetTriangles:function(a){null==a&&(a=0);a=this._submesh.Get(a);return null==a?null:a.triangles},SetUvs:function(a,b){null==b&&(b=0);if(!(3<b)){if(0==b){if(null==this.uvs&&null==a)return;this.uvs=a}else if(1==b){if(null==this.uvs2&&null==a)return;this.uvs2=a}else if(2==b){if(null==this.uvs3&&
null==a)return;this.uvs3=a}else if(3==b){if(null==this.uvs4&&null==a)return;this.uvs4=a}this.setDirty(1)}},SetNormals:function(a,b){null==b&&(b=0);if(!(1<b)){if(0==b){if(null==this.normals&&null==a)return;this.normals=a}else if(1==b){if(null==this.normals2&&null==a)return;this.normals2=a}this.setDirty(1)}},SetColors:function(a,b){null==b&&(b=0);if(!(1<b)){if(0==b){if(null==this.colors&&null==a)return;this.colors=a}else if(1==b){if(null==this.colors2&&null==a)return;this.colors2=a}this.setDirty(1)}},
SetTangents:function(a,b){null==b&&(b=0);if(!(1<b)){if(0==b){if(null==this.tangents&&null==a)return;this.tangents=a}else if(1==b){if(null==this.tangents2&&null==a)return;this.tangents2=a}this.setDirty(1)}},GetSubMesh:function(a){return this._submesh.Get(a)},SetBoneWeights:function(a){if(null!=this.boneWeights||null!=a)this.boneWeights=a,this.setDirty(2)},AddBone:function(a,b){null==b&&(b=0);var c=this._submesh.Get(b);null==c&&(c=new mg,this._submesh.Set(b,c));c.AddBone(a)},RecalculateBounds:function(){if(!(1>
this.vertexCount)&&this._dirty.IsOpen(9)){this._dirty.Close(9);null==this.bounds&&(this.bounds=new ig);var a=this.vertices._length;for(this.bounds.Reset();0<a--;)this.bounds.Expand(this.vertices.Get(a));this.bounds.Init()}},Update:function(){this.vertexCount=this.vertices._length;if(this._dirty.IsOpen(8)){this._dirty.Close(8);this._vertexBufferCount=0;0<this.vertexCount&&this._vertexBufferCount++;null!=this.boneWeights&&this.boneWeights._length>=this.vertexCount&&this._vertexBufferCount++;for(var a=
[this.uvs,this.uvs2,this.uvs3,this.uvs4,this.colors,this.normals,this.tangents,this.colors2,this.normals2,this.tangents2],b=0,c=a.length;b<c;){var d=b++;d=a[d];if(null!=d&&d._length>=this.vertexCount){this._vertexBufferCount++;break}}}},setDirty:function(a){this._dirty.Open(a);this._dirty.Open(8)},updateBuffer0:function(){if(!(2>this.vertexCount)){var a=this._vertexBuffers.Get(0);if(null==a){a=new Lc;this._vertexBuffers.Set(0,a);var b=new Xe;b.Add(S.POSITION._name,S.POSITION._size);b.AddComplete();
this._vertexStructs.Set(0,b)}b=[];for(var c=0,d=this.vertexCount;c<d;){var e=c++;this.vertices.Get(e).ToArray(b,3*e)}a.Upload(b)}},updateBuffer1:function(){var a=this._vertexBuffers.Get(1),b=this._vertexStructs.Get(1);null==a?(a=new Lc,this._vertexBuffers.Set(1,a),b=new Xe,this._vertexStructs.Set(1,b)):b.Clear();this.mask.Open(0);for(var c=[this.uvs,this.uvs2,this.uvs3,this.uvs4,this.colors,this.normals,this.tangents,this.colors2,this.normals2,this.tangents2],d=S.GetList(),e=d.length,f=0,l=0;l<e;){var h=
l++,m=c[h];null==m||m._length<this.vertexCount||(h=d[h],this.mask.Open(h._index),m=h._size,b.Add(h._name,m),f+=m)}b.AddComplete();b=0;l=[];for(h=0;h<e;){var k=h++;m=d[k];if(0!=this.mask.IsOpen(m._index)){for(var g=c[k],n=0,p=this.vertexCount;n<p;){var q=n++;k=f*q+b;q=g.Get(q);q.ToArray(l,k)}b+=m._size}}a.Upload(l)},updateBuffer2:function(){if(null!=this.boneWeights&&!(this.boneWeights._length<this.vertexCount)){var a=this._vertexBuffers.Get(2),b=this._vertexStructs.Get(2);null==a&&(a=new Lc,this._vertexBuffers.Set(2,
a),b=new Xe,b.Add(S.BONE_INDEX._name,S.BONE_INDEX._size),b.Add(S.BONE_WEIGHT._name,S.BONE_WEIGHT._size),b.AddComplete(),this._vertexStructs.Set(2,b));var c=[],d=this.boneWeights._length,e=S.BONE_INDEX._name,f=b._map;e=(null!=p[e]?f.getReserved(e):f.h[e]).size;f=S.BONE_WEIGHT._name;b=b._map;for(b=e+(null!=p[f]?b.getReserved(f):b.h[f]).size;0<d--;){f=b*d;var l=this.boneWeights.Get(d);l.index.ToArray(c,f);f+=e;l.weight.ToArray(c,f)}a.Upload(c)}},__class__:Me};var mg=function(){};k["lovedna.game.geometry.SubMesh"]=
mg;mg.__name__=["lovedna","game","geometry","SubMesh"];mg.prototype={id:null,offset:null,count:null,triangles:null,bones:null,SetTriangles:function(a){this.triangles=a},SetRange:function(a,b){this.count=a;if(0!=b%3)throw new u("just support triange mode");this.offset=2*b},AddBone:function(a){null==this.bones&&(this.bones=[]);this.bones.push(a)},__class__:mg};var Wd=function(){};k["lovedna.game.helpers.OrbitCamera"]=Wd;Wd.__name__=["lovedna","game","helpers","OrbitCamera"];Wd.__super__=Aa;Wd.prototype=
t(Aa.prototype,{target:null,distance:null,angleClamp:null,scale:null,_startPosition:null,_movePosition:null,_startRotation:null,_startDistance:null,_startZoom:null,_targetDistance:null,_dirty:null,SetTarget:function(a,b){this.set_target(a);this.set_distance(b)},onAwake:function(){Aa.prototype.onAwake.call(this);this._startPosition=new oa;this._movePosition=new oa;this._startRotation=new oa;var a=F.onUpdate;if(null==a)console.log("must be Event");else{var b=a._type,c=null,d=this._builtinCallback;if(null!=
p[b]?d.existsReserved(b):d.h.hasOwnProperty(b))c=this._builtinCallback,c=null!=p[b]?c.getReserved(b):c.h[b];null==c?console.log(b+" not exist"):(d=this._customCallback,null!=p[b]?d.setReserved(b,c):d.h[b]=c,this.active?(this._bindEventMap.set(a,c),null!=this.gameObject&&this.gameObject.AddEventListener(a._type,c)):this._bindEventMap.set(a,null))}this.set_distance(new oa(0,100));this._targetDistance=50;this._dirty=!1;this._startZoom=this._startDistance=0;this.angleClamp=new oa(-85,85);this.scale=.4},
onUpdate:function(){Aa.prototype.onUpdate.call(this);if(null!=this.target){if(this._dirty){this._dirty=!1;this.gameObject.set_localRotation(Ya.FromEuler(0,180,0));var a=this.gameObject,b=Q.instance;b.x=0;b.y=0;b.z=1;b=this.gameObject._localQuaternion.MultiplyVector(b);var c=-this._targetDistance;b.x*=c;b.y*=c;b.z*=c;a.set_localPosition(b)}a=P.touchCount;1>a?this._startZoom=0:1==a?(a=P.GetTouch(0),2==a.action?(this._movePosition.Copy(a.position),this._movePosition.Sub(this._startPosition),this._movePosition.Scale(this.scale),
this._movePosition.x=this._startRotation.y-this._movePosition.x,this._movePosition.y=this._startRotation.x+this._movePosition.y,a=this._movePosition.y,a+=180,b=a/360,c=b|0,0>b&&c!=b&&--c,b=a-360*c-180,a=this.angleClamp.x,c=this.angleClamp.y,b=b<c?b:c,this._movePosition.y=a>b?a:b,this.gameObject.set_localRotation(Ya.FromEuler(this._movePosition.y,this._movePosition.x,0)),a=this.gameObject,b=Q.instance,b.x=0,b.y=0,b.z=1,b=this.gameObject._localQuaternion.MultiplyVector(b),c=-this._targetDistance,b.x*=
c,b.y*=c,b.z*=c,a.set_localPosition(b)):1==a.action&&(this._startPosition.Copy(a.position),this._startRotation.From(this.gameObject._localQuaternion.get_eulerAngles()),0>=this.scale&&(this.scale=.01))):2==a&&(a=P.GetTouch(0),b=P.GetTouch(1),a=a.position.Distance(b.position),0>=this._startZoom?(this._startZoom=a,this._startDistance=this._targetDistance):(0>=this.scale&&(this.scale=.01),b=this._targetDistance=this._startDistance-(a-this._startZoom)*this.scale,a=this.distance.x,c=this.distance.y,b=b<
c?b:c,this._targetDistance=a>b?a:b,a=this.gameObject,b=Q.instance,b.x=0,b.y=0,b.z=1,b=this.gameObject._localQuaternion.MultiplyVector(b),c=-this._targetDistance,b.x*=c,b.y*=c,b.z*=c,a.set_localPosition(b)))}},set_target:function(a){this._dirty=!0;return this.target=a},set_distance:function(a){if(a.x>a.y||0>a.x)return a;this._dirty=!0;this._targetDistance=.5*(a.y-a.x)+a.x;return this.distance=a},__class__:Wd,__properties__:t(Aa.prototype.__properties__,{set_distance:"set_distance",set_target:"set_target"})});
var Za=k["lovedna.game.rendering.CameraEvent"]={__ename__:["lovedna","game","rendering","CameraEvent"],__constructs__:"BeforeForwardOpaque AfterForwardOpaque BeforeSkybox AfterSkybox BeforeForwardAlpha AfterForwardAlpha BeforeImageEffects AfterImageEffects".split(" ")};Za.BeforeForwardOpaque=["BeforeForwardOpaque",0];Za.BeforeForwardOpaque.toString=w;Za.BeforeForwardOpaque.__enum__=Za;Za.AfterForwardOpaque=["AfterForwardOpaque",1];Za.AfterForwardOpaque.toString=w;Za.AfterForwardOpaque.__enum__=Za;
Za.BeforeSkybox=["BeforeSkybox",2];Za.BeforeSkybox.toString=w;Za.BeforeSkybox.__enum__=Za;Za.AfterSkybox=["AfterSkybox",3];Za.AfterSkybox.toString=w;Za.AfterSkybox.__enum__=Za;Za.BeforeForwardAlpha=["BeforeForwardAlpha",4];Za.BeforeForwardAlpha.toString=w;Za.BeforeForwardAlpha.__enum__=Za;Za.AfterForwardAlpha=["AfterForwardAlpha",5];Za.AfterForwardAlpha.toString=w;Za.AfterForwardAlpha.__enum__=Za;Za.BeforeImageEffects=["BeforeImageEffects",6];Za.BeforeImageEffects.toString=w;Za.BeforeImageEffects.__enum__=
Za;Za.AfterImageEffects=["AfterImageEffects",7];Za.AfterImageEffects.toString=w;Za.AfterImageEffects.__enum__=Za;var Te=function(){this.enabled=!1;this._types=new xa};k["lovedna.game.rendering.CommandBuffer"]=Te;Te.__name__=["lovedna","game","rendering","CommandBuffer"];Te.prototype={enabled:null,length:null,_types:null,Clear:function(){this.enabled=!1;this._types.Clear();this.length=0},ClearRenderTarget:function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!0);null==d&&(d=1);null==c&&(c=!0);this._types.Add(ib.ClearRenderTarget(a,
b,c,d,e,f));this.enabled=!0;this.length=this._types._length},DrawMesh:function(a,b,c){null!=a&&null!=b&&null!=c&&(this._types.Add(ib.DrawMesh(a,b,c)),this.enabled=!0,this.length=this._types._length)},PushRenderTarget:function(a){this._types.Add(ib.PushRenderTarget(a));this.enabled=!0;this.length=this._types._length},PopRenderTarget:function(){this._types.Add(ib.PopRenderTarget);this.enabled=!0;this.length=this._types._length},Execute:function(){for(var a=0,b=this._types._length;a<b;){var c=a++;c=
this._types.Get(c);switch(c[1]){case 1:z.Clear(c[2],c[3],c[4],c[5],c[6],c[7]);break;case 2:va.DrawMesh(c[2],c[3],c[4]);break;case 3:z.PushRenderTarget(c[2]);break;case 4:z.PopRenderTarget();break;case 5:J.SetFloat(c[2],c[3]);break;case 6:J.SetMatrix(c[2],c[3]);break;case 7:J.SetTexture(c[2],c[3]);break;case 8:J.SetFloat4(c[2],c[3]);break;case 9:z.Viewport(c[2])}}},__class__:Te};var ib=k["lovedna.game.rendering.CommandType"]={__ename__:["lovedna","game","rendering","CommandType"],__constructs__:"Blit ClearRenderTarget DrawMesh PushRenderTarget PopRenderTarget SetGlobalFloat SetGlobalMatrix SetGlobalTexture SetGlobalFloat4 SetViewport".split(" ")};
ib.Blit=function(a,b){a=["Blit",0,a,b];a.__enum__=ib;a.toString=w;return a};ib.ClearRenderTarget=function(a,b,c,d,e,f){a=["ClearRenderTarget",1,a,b,c,d,e,f];a.__enum__=ib;a.toString=w;return a};ib.DrawMesh=function(a,b,c){a=["DrawMesh",2,a,b,c];a.__enum__=ib;a.toString=w;return a};ib.PushRenderTarget=function(a){a=["PushRenderTarget",3,a];a.__enum__=ib;a.toString=w;return a};ib.PopRenderTarget=["PopRenderTarget",4];ib.PopRenderTarget.toString=w;ib.PopRenderTarget.__enum__=ib;ib.SetGlobalFloat=function(a,
b){a=["SetGlobalFloat",5,a,b];a.__enum__=ib;a.toString=w;return a};ib.SetGlobalMatrix=function(a,b){a=["SetGlobalMatrix",6,a,b];a.__enum__=ib;a.toString=w;return a};ib.SetGlobalTexture=function(a,b){a=["SetGlobalTexture",7,a,b];a.__enum__=ib;a.toString=w;return a};ib.SetGlobalFloat4=function(a,b){a=["SetGlobalFloat4",8,a,b];a.__enum__=ib;a.toString=w;return a};ib.SetViewport=function(a){a=["SetViewport",9,a];a.__enum__=ib;a.toString=w;return a};var ng=function(){this.depthWrite=this.depthTest=!0;
this.cullMode=1029;this.depthMode=513;this.stencilTest=!1;this.stencilMode=519;this.stencilFail=this.stencilDepthFail=this.stencilBothPass=7680;this.stencilReferenceValue=0;this.stencilWriteMask=this.stencilReadMask=255;this.blend=!0;this.blendAlphaOperation=this.blendColorOperation=32774;this.blendSrcColor=770;this.blendDstColor=771;this.blendDstAlpha=this.blendSrcAlpha=1;this.drawMode=4};k["lovedna.game.rendering.GLState"]=ng;ng.__name__=["lovedna","game","rendering","GLState"];ng.prototype={drawMode:null,
depthTest:null,depthWrite:null,depthMode:null,cullMode:null,stencilTest:null,stencilMode:null,stencilFail:null,stencilDepthFail:null,stencilBothPass:null,stencilReferenceValue:null,stencilReadMask:null,stencilWriteMask:null,blend:null,blendColorOperation:null,blendAlphaOperation:null,blendSrcColor:null,blendDstColor:null,blendSrcAlpha:null,blendDstAlpha:null,__class__:ng};var z=function(){};k["lovedna.game.rendering.GameGL"]=z;z.__name__=["lovedna","game","rendering","GameGL"];z.Init=function(){null==
z._state&&(z._state=new ng,z._state.depthWrite=!0,-1==z._state.cullMode?x.context.__context.disable(2884):(x.context.__context.enable(2884),x.context.__context.cullFace(z._state.cullMode)),z._state.depthTest?(x.context.__context.enable(2929),x.context.__context.depthFunc(z._state.depthMode)):x.context.__context.disable(2929),x.context.__context.depthMask(z._state.depthWrite),z._state.blend?(x.context.__context.enable(3042),x.context.__context.blendEquationSeparate(z._state.blendColorOperation,z._state.blendAlphaOperation),
x.context.__context.blendFuncSeparate(z._state.blendSrcColor,z._state.blendDstColor,z._state.blendSrcAlpha,z._state.blendDstAlpha)):x.context.__context.disable(3042),z._state.stencilTest?x.context.__context.enable(2960):x.context.__context.disable(2960),qa.Log("max vart Uniform "+x.context.__context.getParameter(36347),{fileName:"GameGL.hx",lineNumber:81,className:"lovedna.game.rendering.GameGL",methodName:"Init"}),qa.Log("max frag Uniform "+x.context.__context.getParameter(36349),{fileName:"GameGL.hx",
lineNumber:82,className:"lovedna.game.rendering.GameGL",methodName:"Init"}))};z.EnterFrame=function(){z._renderTextureStack.Clear();z._renderTexture=null;z._lastRenderTexture=null;z.ColorWrite(!0,!0,!0,!0)};z.ExitFrame=function(){z.ColorWrite(!0,!0,!0,!0);Lc.current=null;x.context.__context.bindBuffer(34962,null);Bc.current=null;x.context.__context.bindBuffer(34963,null);pd.current=null;x.__currentProgram=null;x.context.__context.useProgram(null);z._state.blend||(z._state.blend=!0,x.context.__context.enable(3042));
-1!=z._state.cullMode&&(x.context.__context.disable(2884),z._state.cullMode=-1);z._state.depthTest||(x.context.__context.enable(2929),z._state.depthTest=!0);z._state.depthWrite||(x.context.__context.depthMask(!0),z._state.depthWrite=!0);x.context.__context.bindFramebuffer(36160,null);x.context.__context.bindRenderbuffer(36161,null);x.context.__context.bindTexture(3553,null);x.context.__context.viewport(0,0,N.width,N.height)};z.PushRenderTarget=function(a){z._renderTextureStack.Add(a);z._renderTexture=
a;z._renderTexture!=z._lastRenderTexture&&(z._lastRenderTexture=z._renderTexture,null!=z._renderTexture&&(x.context.__context.viewport(0,0,z._renderTexture.size.x,z._renderTexture.size.y),N.setRenderSize(z._renderTexture.size.x,z._renderTexture.size.y),z._renderTexture.BindFrameBuffer()))};z.PopRenderTarget=function(){0<z._renderTextureStack._length&&z._renderTextureStack.Pop();z._renderTexture=0<z._renderTextureStack._length?z._renderTextureStack.Get(-1,!0):null;z._renderTexture!=z._lastRenderTexture&&
(z._lastRenderTexture=z._renderTexture,null!=z._renderTexture?(x.context.__context.viewport(0,0,z._renderTexture.size.x,z._renderTexture.size.y),N.setRenderSize(z._renderTexture.size.x,z._renderTexture.size.y),z._renderTexture.BindFrameBuffer()):(x.context.__context.bindFramebuffer(36160,null),x.context.__context.bindRenderbuffer(36161,null),x.context.__context.viewport(0,0,N.width,N.height),N.setRenderSize(N.width,N.height)))};z.ColorWrite=function(a,b,c,d){if(z._colorMask[0]!=a||z._colorMask[1]!=
b||z._colorMask[2]!=c||z._colorMask[3]!=d)z._colorMask[0]=a,z._colorMask[1]=b,z._colorMask[2]=c,z._colorMask[3]=d,x.context.__context.colorMask(a,b,c,d)};z.Clear=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!0);null==d&&(d=1);null==c&&(c=!0);var l=0;a&&(l|=16384);c&&(l|=256);e&&(l|=1024);0<=f&&z._clearStencil!=f&&(z._clearStencil=f,x.context.__context.clearStencil(f));0<=d&&z._clearDepth!=d&&(z._clearDepth=d,x.context.__context.clearDepth(d));x.context.__context.clearColor(b.x,b.y,b.z,b.w);x.context.__context.clear(l)};
z.Viewport=function(a){x.context.__context.viewport(Math.floor(a.x),Math.floor(a.y),Math.floor(a.z),Math.floor(a.w))};z.State=function(a){var b=a.cullMode;b!=z._state.cullMode&&(z._state.cullMode=b,-1==z._state.cullMode?x.context.__context.disable(2884):(x.context.__context.enable(2884),x.context.__context.cullFace(z._state.cullMode)));b=a.depthTest;b!=z._state.depthTest&&(z._state.depthTest=b,z._state.depthTest?(x.context.__context.enable(2929),a.depthMode!=z._state.depthMode&&(x.context.__context.depthFunc(a.depthMode),
z._state.depthMode=a.depthMode)):x.context.__context.disable(2929));b=a.depthWrite;b!=z._state.depthWrite&&(z._state.depthWrite=b,x.context.__context.depthMask(z._state.depthWrite));b=a.blend;b!=z._state.blend&&(z._state.blend=b,z._state.blend?(x.context.__context.enable(3042),x.context.__context.blendEquationSeparate(a.blendColorOperation,a.blendAlphaOperation),x.context.__context.blendFuncSeparate(a.blendSrcColor,a.blendDstColor,a.blendSrcAlpha,a.blendDstAlpha)):x.context.__context.disable(3042));
b=a.stencilTest;z._state.stencilTest!=b&&(z._state.stencilTest=b,z._state.stencilTest?x.context.__context.enable(2960):x.context.__context.disable(2960));z._state.stencilTest&&(z._state.stencilReadMask=a.stencilReadMask,z._state.stencilReferenceValue=a.stencilReferenceValue,z._state.stencilMode=a.stencilMode,z._state.stencilFail=a.stencilFail,z._state.stencilDepthFail=a.stencilDepthFail,z._state.stencilBothPass=a.stencilBothPass,x.context.__context.stencilFunc(z._state.stencilMode,z._state.stencilReferenceValue,
z._state.stencilReadMask),x.context.__context.stencilOp(z._state.stencilFail,z._state.stencilDepthFail,z._state.stencilBothPass))};var va=function(){};k["lovedna.game.rendering.Graphics"]=va;va.__name__=["lovedna","game","rendering","Graphics"];va.Blit=function(a,b,c){null!=a&&a!=b&&(null==va._screenMesh&&(va._screenMesh=new Me,va._screenMesh.SetVertices((new xa).From([new Q(-1,-1,0),new Q(1,-1,0),new Q(-1,1,0),new Q(1,1,0)])),va._screenMesh.SetUvs((new xa).From([new oa(0,0),new oa(1,0),new oa(0,
1),new oa(1,1)])),va._screenMesh.SetTriangles((new xa).From([0,1,2,1,3,2])),va._material=new We(new J("copyTexture")),va._material.state.depthTest=!1,va._material.state.cullMode=-1,N.backRenderTexture.name="backbuffer"),null==c&&(c=va._material),c.SetTexture(ha.TEXTURE._name,a),null!=b&&(z.PushRenderTarget(b),z.Viewport(b.rect)),z.Clear(!0,N.backgroundColor),va.DrawMesh(va._screenMesh,Ja.instance,c),null!=b&&z.PopRenderTarget())};va.DrawMesh=function(a,b,c){if(c.Bind()){var d=c.state.drawMode;if(!(4<=
d&&3>a.vertexCount)&&(c.SetMatrix(ha.M._name,b),c.Flush())){if(va.checkMask&&c.vertexBufferMask.IsOpen(2)&&(a.GetVertexBuffer(1),va.maska.value=a.mask.value,va.maskb.value=c.shader.bufferMask,b=va.maska,(b.value|va.maskb.value)!=b.value)){d=va.maskb;d.value&=~va.maska.value;console.log(c.shader.name+" meshmask "+Ia.ToBin(va.maskb.value));for(d=S.GetList().length;0<d--;)va.maskb.IsOpen(d)&&(S.initList(),console.log(S._list[d-1]._name+" not exist "));return}va.bindStruct(a.GetVertexBuffer(0),a.GetStructs(0),
c);c.vertexBufferMask.IsOpen(1)&&va.bindStruct(a.GetVertexBuffer(1),a.GetStructs(1),c);c.vertexBufferMask.IsOpen(2)&&va.bindStruct(a.GetVertexBuffer(2),a.GetStructs(2),c);a.GetIndexBuffer().Bind();c=c.subMesh;if(0<=c){c=a.GetSubMesh(c);if(null!=c){a=c.count;b=x.context;c=L.fromInt(c.offset);b.__context.drawElements(d,a,5123,L.toValue(c));va.drawCall++;return}c=-2}if(-1==c)for(c=0,b=a.subMeshCount;c<b;){var e=c++,f=a.GetSubMesh(e);e=f.count;var l=x.context;f=L.fromInt(f.offset);l.__context.drawElements(d,
e,5123,L.toValue(f));va.drawCall++}else a=a.GetIndexBuffer().length,c=x.context,b=L.fromInt(0),c.__context.drawElements(d,a,5123,L.toValue(b)),va.drawCall++}}};va.bindStruct=function(a,b,c){if(null!=a&&null!=b){a.BindBuffer();c=c.shader;for(var d=0,e=b.count;d<e;){var f=d++;f=b._list[f];var l=c.GetBufferInput(f.name);null!=l&&(f.location=l.location,a.BindStruct(f))}}};va.EnterFrame=function(){va.drawCall=0};var We=function(a){this.subMesh=-1;this.vertexBufferMask=new Kb;this.vertexBufferMask.Open(0);
this.vertexBufferMask.Open(1);this.state=new ng;this.shader=a;this._defineMap=new C;this._defineDirty=!1;this._properties=new C;this.set_renderQueue(2E4);this.color=new Na(1,1,1,1);this.SetFloat4(ha.COLOR._name,this.color);this.set_texture(ua.texture.Get("gameres_default_texture.png").texture);this.time=V.time};k["lovedna.game.rendering.Material"]=We;We.__name__=["lovedna","game","rendering","Material"];We.prototype={state:null,shader:null,color:null,renderQueue:null,texture:null,time:null,subMesh:null,
vertexBufferMask:null,_defineMap:null,_defineDirty:null,_properties:null,SetFloat4:function(a,b){return this.getProperty(a).SetFloat4(b)},SetMatrix:function(a,b){return this.getProperty(a).SetMatrix(b)},SetMatrixArray:function(a,b){return this.getProperty(a).SetMatrixArray(b)},SetTexture:function(a,b){return this.getProperty(a).SetTexture(b)},Bind:function(){if(null==this.shader)return!1;if(this._defineDirty){this._defineDirty=!1;for(var a=[],b=this._defineMap.keys();b.hasNext();){var c=b.next();
a.push(c)}this.shader.SetDefines(a);console.log(a)}a=this.shader.id;if(!this.shader.Bind())return!1;this.shader.id!=a&&(this.time=V.time);return!0},Flush:function(){if(!this.shader.Flush(this._properties))return!1;z.State(this.state);return!0},getProperty:function(a){var b=this._properties;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this._properties,null!=p[a]?b.getReserved(a):b.h[a];b=new Z(a);var c=this._properties;null!=p[a]?c.setReserved(a,b):c.h[a]=b;return b},set_texture:function(a){null==
a&&(a=ua.texture.Get("gameres_default_texture.png").texture);this.SetTexture(ha.TEXTURE._name,a);this.time=V.time;return this.texture=a},set_renderQueue:function(a){this.time=V.time;return this.renderQueue=a},__class__:We,__properties__:{set_texture:"set_texture",set_renderQueue:"set_renderQueue"}};var Ue=function(){var a=this._map=new Ka,b=new xa;a.h[1E4]=b;a=this._map;b=new xa;a.h[2E4]=b;a=this._map;b=new xa;a.h[3E4]=b;a=this._map;b=new xa;a.h[4E4]=b;a=this._map;b=new xa;a.h[5E4]=b;this.count=0};
k["lovedna.game.rendering.RenderQueue"]=Ue;Ue.__name__=["lovedna","game","rendering","RenderQueue"];Ue.GetQueue=function(a){a/=1E4;a=5>a?a:5;a=1E4*(1>a?1:a);var b=a|0;0>a&&b!=a&&--b;return b};Ue.prototype={count:null,_map:null,Clear:function(){this.count=0;this._map.h[1E4].Clear();this._map.h[2E4].Clear();this._map.h[4E4].Clear();this._map.h[3E4].Clear();this._map.h[5E4].Clear()},AddRenderer:function(a){if(null!=a){var b=Ue.GetQueue(a.material.renderQueue);this._map.h[b].Add(a);this.count++}},Sort:function(){1>
this.count||(this._map.h[1E4].Sort(q(this,this.sortBackground)),this._map.h[2E4].Sort(q(this,this.sortBackground)),this._map.h[3E4].Sort(q(this,this.sortTransparent)),this._map.h[4E4].Sort(q(this,this.sortTransparent)),this._map.h[5E4].Sort(q(this,this.sortTransparent)))},Render:function(){1>this.count||(this.render(this._map.h[1E4]),this.render(this._map.h[2E4]),this.render(this._map.h[3E4]),this.render(this._map.h[4E4]),this.render(this._map.h[5E4]))},render:function(a){for(var b,c=0,d=a._length;c<
d;)b=c++,b=a.Get(b),b.gameObject.DispatchEvent(F.OnObjectPreRender),b.render(),b.gameObject.DispatchEvent(F.OnObjectPostRender)},sortBackground:function(a,b){var c=a.material.shader.id,d=b.material.shader.id;if(c!=d)return c>d?1:-1;c=a.distanceToCamera;d=b.distanceToCamera;return c!=d?c>d?-1:1:0},sortTransparent:function(a,b){var c=a.distanceToCamera;var d=b.distanceToCamera;if(c!=d)return c>d?1:-1;c=a.material.shader.id;d=b.material.shader.id;return c!=d?c>d?1:-1:0},__class__:Ue};var og=function(a){this.defines=
this.key="";this._map=new C;this._list=[];if(null!=a){for(var b=a.length;0<b--;){var c=this._map,d=a[b].toUpperCase();null!=p[d]?c.setReserved(d,!0):c.h[d]=!0}for(a=this._map.keys();a.hasNext();)b=a.next(),this._list.push(b);this._list.sort(q(this,this.sortName));a=new cg;for(b=this._list.length;0<b--;)a.PushInt(b),c=this._list[b],a.PushString(c),this.defines+="#define "+c+"\n";this.key=a.GetString()}};k["lovedna.game.rendering.ShaderDefines"]=og;og.__name__=["lovedna","game","rendering","ShaderDefines"];
og.prototype={key:null,defines:null,_map:null,_list:null,GetDefines:function(a){for(var b=a.length,c=[];0<b--;){var d=a[b].toUpperCase(),e=this._map;(null!=p[d]?e.existsReserved(d):e.h.hasOwnProperty(d))&&c.push(d)}return new og(c)},sortName:function(a,b){return a>b?1:-1},__class__:og};var J=function(a,b){null==b&&(b="mediump");this.name=this._name=a;this._precision=b;this._loaded=!1;this.bufferMask=-1;a=J._codeMap;b=this._name;if(null!=p[b]?a.existsReserved(b):a.h.hasOwnProperty(b))a=J._codeMap,
b=this._name,this._shaderCode=null!=p[b]?a.getReserved(b):a.h[b],this._loaded=!0,this._defines=[],this.id=0};k["lovedna.game.rendering.Shader"]=J;J.__name__=["lovedna","game","rendering","Shader"];J.init=function(){J._init||(J._init=!0,J.AddInclude("GameBase","#define _PI            3.14159265359\r\n#define _TWO_PI        6.28318530718\r\n#define _FOUR_PI       12.56637061436\r\n#define _INV_PI        0.31830988618\r\n#define _INV_TWO_PI    0.15915494309\r\n#define _INV_FOUR_PI   0.07957747155\r\n#define _HALF_PI       1.57079632679\r\n#define _INV_HALF_PI   0.636619772367\r\n\r\n#define P game_MatrixP\r\n#define V game_MatrixV\r\n#define M game_MatrixM\r\n#define MV game_MatrixV * game_MatrixM\r\n#define VP game_MatrixVP\r\n#define MVP game_MatrixVP * game_MatrixM\r\n#define IVP game_MatrixIVP\r\n#define IV game_MatrixIV\r\n#define IM game_MatrixIM\r\n\r\n\r\nuniform mat4 game_MatrixM:M;\r\nuniform mat4 game_MatrixIM:IM;\r\nuniform mat4 game_MatrixP:P;\r\nuniform mat4 game_MatrixV:V;\r\nuniform mat4 game_MatrixVP:VP;\r\nuniform mat4 game_MatrixIVP:IVP;\r\nuniform mat4 game_MatrixIV:IV;\r\nuniform vec3 _CameraPos;\r\nuniform vec4 _ScreenParams;\r\nuniform vec4 _ProjectionParams;\r\nuniform vec4 _Time;\r\nuniform vec4 _SinTime;\r\nuniform vec4 _CosTime;\r\nuniform vec4 _DeltaTime;\r\n\r\nvec4 _WorldToClipPos(vec4 pos)\r\n{\r\n\treturn VP * pos;\r\n}\r\nvec4 _WorldToClipPos(vec3 pos)\r\n{\r\n\treturn _WorldToClipPos(vec4(pos,1.0));\r\n}\r\nvec4 _ObjectToClipPos(vec3 pos)\r\n{\r\n\treturn VP * (M*vec4(pos,1.0));\r\n}\r\nvec4 _ViewToClipPos(vec4 pos)\r\n{\r\n\treturn P*pos;\r\n}\r\nvec4 _ViewToClipPos(vec3 pos)\r\n{\r\n\treturn _ViewToClipPos(vec4(pos,1.0));\r\n}\r\nvec4 _ObjectToWorldPos(vec4 pos)\r\n{\r\n\treturn M*pos;\r\n}\r\nvec4 _ObjectToWorldPos(vec3 pos)\r\n{\r\n\treturn M*vec4(pos,1.0);\r\n}\r\nvec4 _WorldToObjectPos(vec4 pos)\r\n{\r\n\treturn IM*pos;\r\n}\r\nvec4 _WorldToObjectPos(vec3 pos)\r\n{\r\n\treturn IM*vec4(pos,1.0);\r\n}\r\n\r\nvec3 _ObjectToViewPos(vec3 pos)\r\n{\r\n\treturn (V*_ObjectToWorldPos(pos)).xyz;\r\n}\r\nvec3 _WorldToViewPos(vec3 pos)\r\n{\r\n\treturn (V*vec4(pos,1.0)).xyz;\r\n}\r\n\r\nvec3 _WorldSpaceViewDir(vec3 pos)\r\n{\r\n\treturn pos-_CameraPos;\r\n}\r\nvec3 _ObjectSpaceViewDir(vec4 pos)\r\n{\r\n\tvec3 objSpaceCameraPos = _WorldToObjectPos(_CameraPos).xyz;\r\n\treturn pos.xyz-objSpaceCameraPos;\r\n}\r\nvec3 _ObjectSpaceViewDir(vec3 pos)\r\n{\r\n\tvec3 objSpaceCameraPos = _WorldToObjectPos(_CameraPos).xyz;\r\n\treturn objSpaceCameraPos - pos;\r\n}\r\n\r\nvec3 _ObjectToWorldDir(vec3 dir)\r\n{\r\n\treturn normalize(M*vec4(dir,0.0)).xyz;\r\n}\r\nvec3 _WorldToObjectDir(vec3 dir)\r\n{\r\n\treturn normalize(IM*vec4(dir,0.0)).xyz;\r\n}\r\nvec3 _ObjectToWorldNormal(vec3 normal)\r\n{\r\n\treturn _ObjectToWorldDir(normal);\r\n\t//return normalize(dir*mat3(IM)));\r\n}"),
J.Add(J.getCode("base",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\t#ifdef COLOR\r\n\t\tattribute vec4 color:COLOR;\r\n\t\tvarying vec4 vcolor;\t\r\n\t\t#endif\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvuv=uv;\r\n\t\t\t#ifdef COLOR\r\n\t\t\tvcolor=\tcolor;\r\n\t\t\t#endif\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\t#ifdef COLOR\r\n\t\tvarying vec4 vcolor;\t\r\n\t\t#endif\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor=texture2D(_Texture0, vuv);\r\n\t\t\t#ifdef COLOR\r\n\t\t\tbaseColor=baseColor*vcolor;\r\n\t\t\t#endif\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>'),
["color"]),J.Add(J.getCode("skinMesh",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\t#ifdef COLOR\r\n\t\tattribute vec4 color:COLOR;\r\n\t\tvarying vec4 vcolor;\t\r\n\t\t#endif\r\n\t\tuniform mat4 u_bones[45]:BONE;\r\n\t\tattribute vec4 a_weights:BONE_WEIGHT;\r\n\t\tattribute vec4 a_indices:BONE_INDEX;\t\r\n\t\tvoid main(){\r\n\t\t\t\r\n\t\t\tmat4 skinMat = a_weights.x * u_bones[int(a_indices.x)];\r\n\t\t\tskinMat += a_weights.y * u_bones[int(a_indices.y)];\r\n\t\t\tskinMat += a_weights.z * u_bones[int(a_indices.z)];\r\n\t\t\tskinMat += a_weights.w * u_bones[int(a_indices.w)];\r\n\t\t\t\r\n\t\t\tgl_Position = VP * skinMat * vec4(position,1.0);\r\n\r\n\r\n\t\t\t\r\n\t\t\tvuv=uv;\r\n\t\t\t#ifdef COLOR\r\n\t\t\tvcolor=\tcolor;\r\n\t\t\t#endif\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\t#ifdef COLOR\r\n\t\tvarying vec4 vcolor;\t\r\n\t\t#endif\r\n\t\tvoid main(void){\r\n\t\t\tvec4 baseColor=texture2D(_Texture0, vuv);\r\n\t\t\t#ifdef COLOR\r\n\t\t\tbaseColor=baseColor*vcolor;\r\n\t\t\t#endif\r\n\t\t\tgl_FragColor = baseColor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>'),
["color"]),J.Add(J.getCode("ui",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec4 color:COLOR;\r\n\t\tvarying vec4 vcolor;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvuv=uv;\r\n\t\t\tvcolor=color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = texture2D(_Texture0, vuv)*vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("uibatch",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec4 color:COLOR;\r\n\t\tvarying vec4 vcolor;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _WorldToClipPos(position);\r\n\t\t\tvuv=uv;\r\n\t\t\tvcolor=color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = texture2D(_Texture0, vuv)*vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("shape",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec4 color:COLOR;\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvcolor = color;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tvarying vec4 vcolor;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = vcolor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("cameraDepth",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\t\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tvarying   vec4 vPosition;\r\n\t\tvoid main(void){\r\n\t\t\tvPosition=_ObjectToClipPos(position);\r\n\t\t\tgl_Position = vPosition;\r\n\t\t}\r\n\t\t\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tvec4 convRGBA(float depth){\r\n\t\t\tfloat r = depth;\r\n\t\t\tfloat g = fract(r * 255.0);\r\n\t\t\tfloat b = fract(g * 255.0);\r\n\t\t\tfloat a = fract(b * 255.0);\r\n\t\t\tfloat coef = 1.0 / 255.0;\r\n\t\t\tr -= g * coef;\r\n\t\t\tg -= b * coef;\r\n\t\t\tb -= a * coef;\r\n\t\t\treturn vec4(r, g, b, a);\r\n\t\t}\r\n\t\tvarying   vec4 vPosition;\r\n\t\tvoid main(void){\r\n\t\t\t//vec4 convColor = convRGBA(gl_FragCoord.z);\r\n\t\t\tvec4 convColor = convRGBA(_ProjectionParams.z*length(vPosition));\r\n\t\t\tgl_FragColor = convColor;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("image",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvuv=uv;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = texture2D(_Texture0, vuv);\r\n\t\t\t//gl_FragColor = vec4(vuv,0.0,1.0);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("copyTexture",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = vec4(position, 1.0);\r\n\t\t\tvuv = uv;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform sampler2D _Texture0:TEXTURE;\r\n\t\tvarying vec2 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = texture2D(_Texture0, vuv);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("cube",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec3 normal:NORMAL;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec3 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvuv=normal;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform samplerCube _Texture0:TEXTURE;\r\n\t\tvarying vec3 vuv;\r\n\t\tvoid main(void){\r\n\t\t\tgl_FragColor = textureCube(_Texture0, vuv);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("reflect",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec3 normal:NORMAL;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec3 vuv;\r\n\t\tvarying vec3 vPosition;\r\n\t\tvarying vec3 vNormal;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvPosition=_ObjectToWorldPos(position).xyz;\r\n\t\t\tvNormal=_ObjectToWorldNormal(normal).xyz;\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform samplerCube _Texture0:TEXTURE;\r\n\t\tvarying vec3 vuv;\r\n\t\tvarying vec3 vPosition;\r\n\t\tvarying vec3 vNormal;\r\n\t\tvoid main(void){\r\n\t\t\tvec3 ref=reflect(_WorldSpaceViewDir(vPosition),vNormal);\r\n\t\t\tgl_FragColor = textureCube(_Texture0, ref);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')),
J.Add(J.getCode("refract",'<?xml version="1.0" encoding="utf-8" ?>\r\n<data>\r\n\t<vertex>\r\n\t\t<![CDATA[\r\n\t\tattribute vec3 position:POSITION;\r\n\t\tattribute vec3 normal:NORMAL;\r\n\t\tattribute vec2 uv:UV;\r\n\t\tvarying vec3 vuv;\r\n\t\tvarying vec3 vPosition;\r\n\t\tvarying vec3 vNormal;\r\n\t\tvoid main(void){\r\n\t\t\tgl_Position = _ObjectToClipPos(position);\r\n\t\t\tvPosition=_ObjectToWorldPos(position).xyz;\r\n\t\t\tvNormal=normalize(_ObjectToWorldNormal(normal).xyz);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</vertex>\r\n\t<fragment>\r\n\t\t<![CDATA[\r\n\t\tuniform samplerCube _Texture0:TEXTURE;\r\n\t\tuniform float refractValue;\r\n\t\tvarying vec3 vuv;\r\n\t\tvarying vec3 vPosition;\r\n\t\tvarying vec3 vNormal;\r\n\t\tvoid main(void){\r\n\t\t\tvec3 ref=refract(normalize(_WorldSpaceViewDir(vPosition)),vNormal,refractValue);\r\n\t\t\tgl_FragColor = textureCube(_Texture0, ref);\r\n\t\t}\r\n\t\t]]\x3e\r\n\t</fragment>\r\n</data>')))};
J.AddInclude=function(a,b){Ye.AddInclude(a,b)};J.Add=function(a,b){if(null!=a){var c=J._codeMap,d=a.name;(null!=p[d]?c.existsReserved(d):c.h.hasOwnProperty(d))?console.log("exist shader "+a.name):(c=J._codeMap,d=a.name,null!=p[d]?c.setReserved(d,a):c.h[d]=a,c=J._definesMap,a=a.name,b=new og(b),null!=p[a]?c.setReserved(a,b):c.h[a]=b)}};J.SetFloat=function(a,b){J.getProperty(a).SetFloat(b)};J.SetFloat3=function(a,b){return J.getProperty(a).SetFloat3(b)};J.SetFloat4=function(a,b){return J.getProperty(a).SetFloat4(b)};
J.SetMatrix=function(a,b){return J.getProperty(a).SetMatrix(b)};J.SetTexture=function(a,b){return J.getProperty(a).SetTexture(b)};J.getProperty=function(a){var b=J._properties;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=J._properties,null!=p[a]?b.getReserved(a):b.h[a];b=new Z(a);var c=J._properties;null!=p[a]?c.setReserved(a,b):c.h[a]=b;return b};J.getCode=function(a,b){var c=null,d=null;for(b=G.parse(b).firstElement().elements();b.hasNext();){var e=b.next();if(e.nodeType!=G.Element)throw new u("Bad node type, expected Element but found "+
e.nodeType);var f=e.nodeName;"vertex"==f?c="#include GameBase\n"+(new wf(e)).get_innerData():"fragment"==f&&(d="#include GameBase\n"+(new wf(e)).get_innerData())}return null==c||null==d?null:new Ye(a,c,d)};J.prototype={id:null,bufferMask:null,name:null,_program:null,_name:null,_loaded:null,_shaderCode:null,_precision:null,_defines:null,GetBufferInput:function(a){var b=null;null!=this._program&&(b=this._program,null==b._bufferAttribs?b=null:(b=b._bufferAttribs,b=null!=p[a]?b.getReserved(a):b.h[a]),
null==b&&(a=this._shaderCode.GetAttributeName(a),null!=a&&(b=this._program,null==b._bufferAttribs?b=null:(b=b._bufferAttribs,b=null!=p[a]?b.getReserved(a):b.h[a]))));return b},GetUniformInput:function(a){var b=null;null!=this._program&&(b=this._program._uniforms,b=null!=p[a]?b.getReserved(a):b.h[a],null==b&&(a=this._shaderCode.GetUniformName(a),null!=a&&(b=this._program._uniforms,b=null!=p[a]?b.getReserved(a):b.h[a])));return b},SetDefines:function(a){this._defines=a;this._program=null},Bind:function(){if(!this._loaded){var a=
J._codeMap,b=this._name;if(null!=p[b]?!a.existsReserved(b):!a.h.hasOwnProperty(b))return a="shader code "+this._name+" not exist",Ab._started&&Ab._list.Add(a),!1;a=J._codeMap;b=this._name;this._shaderCode=null!=p[b]?a.getReserved(b):a.h[b];this._loaded=!0}if(null==this._program){if(null==this._shaderCode)return a="shader code "+this._name+" is null",Ab._started&&Ab._list.Add(a),!1;a=J._definesMap;b=this._name;b=(null!=p[b]?a.getReserved(b):a.h[b]).GetDefines(this._defines);a="name:"+this._name+",define:"+
b.key;var c=J._programMap;if(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a))b=J._programMap,this._program=null!=p[a]?b.getReserved(a):b.h[a],b=J._maskMap,this.bufferMask=null!=p[a]?b.getReserved(a):b.h[a];else{b=b.defines;b+="\nprecision highp float;\n";this._program=new pd(b+this._shaderCode.get_vert(),b+this._shaderCode.get_frag());b=J._programMap;c=this._program;null!=p[a]?b.setReserved(a,c):b.h[a]=c;if(!this._program.enabled)return a="program "+this._name+" error",Ab._started&&Ab._list.Add(a),
!1;this._program.Bind();b=new Kb;c=S.GetList();for(var d=1,e=c.length;d<e;){var f=d++;f=c[f];null!=this.GetBufferInput(f._name)&&b.Open(f._index)}this.bufferMask=b.value;b=J._maskMap;c=this.bufferMask;null!=p[a]?b.setReserved(a,c):b.h[a]=c;return!0}}if(null==this._program)return a="program "+this._name+" null",Ab._started&&Ab._list.Add(a),!1;if(!this._program.enabled)return a="program "+this._name+" not enabled",Ab._started&&Ab._list.Add(a),!1;this._program.Bind();this.id=this._program.id;return!0},
Flush:function(a){var b=J._cacheProperty.h[this._program.id];null==b&&(b=new C,J._cacheProperty.h[this._program.id]=b);var c=J._properties;for(var d=new wd(c,c.arrayKeys());d.hasNext();){var e=d.next();c=e.name;if(e.enabled){if(null!=p[c]?!a.existsReserved(c):!a.h.hasOwnProperty(c)){var f=e.id;if(null!=p[c]?!b.existsReserved(c):!b.h.hasOwnProperty(c)){if(!e.Bind(this.GetUniformInput(c)))return a="property "+c+" bind fail",Ab._started&&Ab._list.Add(a),!1;null!=p[c]?b.setReserved(c,f):b.h[c]=f}else if((null!=
p[c]?b.getReserved(c):b.h[c])!=f){if(!e.Bind(this.GetUniformInput(c)))return a="property "+c+" bind fail",Ab._started&&Ab._list.Add(a),!1;null!=p[c]?b.setReserved(c,f):b.h[c]=f}}}else J._properties.remove(c)}for(b=new wd(a,a.arrayKeys());b.hasNext();)if(f=b.next(),c=f.name,f.enabled){if(!f.Bind(this.GetUniformInput(c)))return a="property "+c+" bind fail",Ab._started&&Ab._list.Add(a),!1}else a.remove(c);return!0},__class__:J};var Ye=function(a,b,c){this.name=a;this._frag=c;this._vert=b;this._init=
!1};k["lovedna.game.rendering.ShaderCode"]=Ye;Ye.__name__=["lovedna","game","rendering","ShaderCode"];Ye.AddInclude=function(a,b){new fd(a,b)};Ye.prototype={name:null,_init:null,_vert:null,_frag:null,_attributeNames:null,_uniformNames:null,_attributeProperty:null,_uniformProperty:null,GetAttributeName:function(a){this.init();var b=this._attributeNames;return null!=p[a]?b.getReserved(a):b.h[a]},GetUniformName:function(a){this.init();var b=this._uniformNames;return null!=p[a]?b.getReserved(a):b.h[a]},
init:function(){this._init||(this._init=!0,this._attributeNames=new C,this._uniformNames=new C,this._attributeProperty=new C,this._uniformProperty=new C,this._vert="\n"+this.parse(this._vert),this._frag="\n"+this.parse(this._frag))},parse:function(a){var b=this,c=new C;Cc.map=c;var d=[];a=new ie(a);for(var e=a._length,f="";0<e--;){var l=Ia.Trim(a.ReadLine());if(0!=l.indexOf("//"))if(0==l.indexOf("#include ")){l=Ia.Trim(y.substr(l,9,null));var h=fd.map;(null!=p[l]?h.existsReserved(l):h.h.hasOwnProperty(l))?
(h=fd.map,f+=(null!=p[l]?h.getReserved(l):h.h[l]).GetValue()+"\n"):console.log("file not exist "+l)}else f+=l+"\n"}a=f;var m=new Ta("\\s*struct\\s+(\\S+)\\s*\\{([^\\}]+)\\}\\s*(\\s*\\S*);","g");m.match(a)&&m.map(a,function(a){var b=Ia.Trim(m.matched(0));a=Ia.Trim(m.matched(1));var e=Ia.Trim(m.matched(2)),f=Ia.Trim(m.matched(3));b=new Cc(a,f,b,e);null!=p[a]?c.setReserved(a,b):c.h[a]=b;d.push(b);return""});e=0;for(f=d.length;e<f;)l=e++,l=d[l],a=ea.replace(a,l.source,l.output);e=new Ta("(\\S+)\\s+(\\S+)\\s+(\\S+)\\s*;\\s*",
"g");e.match(a)&&(a=e.map(a,function(a){var d=a.matched(0),e=Ia.Trim(a.matched(1)),f=Ia.Trim(a.matched(2));a=Ia.Trim(a.matched(3));if("attribute"==e||"uniform"==e){"attribute"==e&&(d=b._attributeProperty,null!=p[a]?d.setReserved(a,!0):d.h[a]=!0);"uniform"==e&&(d=b._uniformProperty,null!=p[a]?d.setReserved(a,!0):d.h[a]=!0);var h=null;-1!=a.indexOf(":")&&(d=a.split(":"),a=Ia.Trim(d[0]),h=Ia.Trim(d[1]));d=e+" "+f+" "+a+";\n";(null!=p[f]?c.existsReserved(f):c.h.hasOwnProperty(f))?(f=null!=p[f]?c.getReserved(f):
c.h[f],Cc.searchCount=20,f.Search(a,function(a){if("attribute"==e)var c=b._attributeNames,d=a.alias;else c=b._uniformNames,d=a.alias;a=a.path;(null!=p[d]?c.existsReserved(d):c.h.hasOwnProperty(d))&&(null!=p[d]?c.getReserved(d):c.h[d])!=a&&console.log("error: "+d+" has named to "+(null!=p[d]?c.getReserved(d):c.h[d]));null!=p[d]?c.setReserved(d,a):c.h[d]=a})):null!=h&&("attribute"==e?f=b._attributeNames:(f=a.indexOf("["),-1!=f&&(a=y.substr(a,0,f)),f=b._uniformNames),(null!=p[h]?f.existsReserved(h):
f.h.hasOwnProperty(h))&&(null!=p[h]?f.getReserved(h):f.h[h])!=a&&console.log("error: "+h+" has named to "+(null!=p[h]?f.getReserved(h):f.h[h])),null!=p[h]?f.setReserved(h,a):f.h[h]=a)}return d}));return a},get_vert:function(){this.init();return this._vert},get_frag:function(){this.init();return this._frag},__class__:Ye,__properties__:{get_frag:"get_frag",get_vert:"get_vert"}};var Ph=function(){};k["lovedna.game.rendering.InputInfo"]=Ph;Ph.__name__=["lovedna","game","rendering","InputInfo"];Ph.prototype=
{dataType:null,name:null,path:null,alias:null,__class__:Ph};var Cc=function(a,b,c,d){var e=this;this.name=a;this.aliasName=b;this.source=c;this.output=ea.replace(d,"\t","");this.inputItems=new C;this.inputList=[];this.output=Cc.e1.map(this.output,function(a){a.matched(0);var b=Ia.Trim(a.matched(1));a=Ia.Trim(a.matched(2));var c=null;if(-1!=a.indexOf(":")){var d=a.split(":");a=Ia.Trim(d[0]);c=Ia.Trim(d[1])}d=new Ph;d.dataType=b;d.name=a;d.alias=c;c=e.inputItems;null!=p[a]?c.setReserved(a,d):c.h[a]=
d;e.inputList.push(d);return"\t"+b+" "+a+";\n"});this.output="struct "+a+"{\n"+this.output+"\n}"+this.aliasName+";\n"};k["lovedna.game.rendering.StructData"]=Cc;Cc.__name__=["lovedna","game","rendering","StructData"];Cc.prototype={name:null,aliasName:null,source:null,output:null,inputItems:null,inputList:null,Search:function(a,b){Cc.searchCount--;if(!(0>Cc.searchCount))for(var c=this.inputList.length;0<c--;){var d=this.inputList[c],e=Cc.map,f=d.dataType;(null!=p[f]?e.existsReserved(f):e.h.hasOwnProperty(f))?
(e=Cc.map,f=d.dataType,(null!=p[f]?e.getReserved(f):e.h[f]).Search(a+"."+d.name,b)):null!=d.alias&&(d.path=a+"."+d.name,b(d))}},__class__:Cc};var fd=function(a,b){this.name=Ia.Trim(a);this.value=b;this._value=null;b=fd.map;var c=this.name;(null!=p[c]?b.existsReserved(c):b.h.hasOwnProperty(c))&&console.log("file has exist "+a);a=fd.map;b=this.name;null!=p[b]?a.setReserved(b,this):a.h[b]=this};k["lovedna.game.rendering.IncludeFile"]=fd;fd.__name__=["lovedna","game","rendering","IncludeFile"];fd.prototype=
{name:null,value:null,_value:null,GetValue:function(){if(null==this._value){var a=new ie(this.value),b=a._length;for(this._value="";0<b--;){var c=Ia.Trim(a.ReadLine());if(0!=c.indexOf("//"))if(0==c.indexOf("#include ")){c=Ia.Trim(y.substr(c,9,null));var d=fd.map;(null!=p[c]?d.existsReserved(c):d.h.hasOwnProperty(c))?(d=fd.map,this._value+=(null!=p[c]?d.getReserved(c):d.h[c]).GetValue()+"\n"):console.log("file not exist "+c)}else this._value+=c+"\n"}}return this._value},__class__:fd};var Z=function(a){this._type=
-1;this._typeDirty=!1;this.name=a};k["lovedna.game.rendering.ShaderProperty"]=Z;Z.__name__=["lovedna","game","rendering","ShaderProperty"];Z.prototype={name:null,enabled:null,id:null,_intValue:null,_floatValue:null,_floatArrayValue:null,_float2Value:null,_float3Value:null,_float4Value:null,_matrix4Value:null,_matrix4ArrayValue:null,_texture:null,_float32Array:null,_type:null,_input:null,_handler:null,_location:null,_size:null,_typeDirty:null,SetFloat:function(a){if(this._floatValue==a)return this;
this._type=2;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=Z._id&&(Z._id=0);this._floatValue=a;return this},SetFloat3:function(a){if(null==a)return this.enabled=!1,null;if(this._float3Value==a)return this;this._type=5;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=Z._id&&(Z._id=0);this._float3Value=a;return this},SetFloat4:function(a){if(null==a)return this.enabled=!1,null;if(this._float4Value==a)return this;this._type=6;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=
Z._id&&(Z._id=0);this._float4Value=a;return this},SetMatrix:function(a){if(null==a)return this.enabled=!1,null;if(this._matrix4Value==a)return this;this._type=7;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=Z._id&&(Z._id=0);this._matrix4Value=a;return this},SetMatrixArray:function(a){if(null==a)return this.enabled=!1,null;this._type=8;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=Z._id&&(Z._id=0);this._matrix4ArrayValue=a;return this},SetTexture:function(a){if(this._texture==
a)return this;this._texture=a;if(null==this._texture)return this.enabled=!1,null;this._type=9;this.enabled=this._typeDirty=!0;this.id=Z._id++;2147483647<=Z._id&&(Z._id=0);return this},Bind:function(a){if(null==a||0>this._type)return!0;a!=this._input&&(this._input=a,null!=this._input?(this._size=this._input._info.size,this._location=this._input.location):this._size=-1);if(0>this._size)return!0;(null==this._handler||this._typeDirty)&&this.bindType();if(null==this._handler)return this._type=-1,!0;a=
this._handler();this._typeDirty=!1;return a},bindType:function(){switch(this._type){case 1:this._handler=q(this,this.bindInt);break;case 2:this._handler=q(this,this.bindFloat);break;case 3:this._handler=q(this,this.bindFloatArray);break;case 4:this._handler=q(this,this.bindFloat2);break;case 5:this._handler=q(this,this.bindFloat3);break;case 6:this._handler=q(this,this.bindFloat4);break;case 7:this._handler=q(this,this.bindMatrix4);break;case 8:this._handler=q(this,this.bindMatrix4Array);break;case 9:this._handler=
q(this,this.bindTexture)}},bindInt:function(){x.context.__context.uniform1i(this._location,this._intValue);return!0},bindFloat:function(){x.context.__context.uniform1f(this._location,this._floatValue);return!0},bindFloat2:function(){x.context.__context.uniform2f(this._location,this._float2Value.x,this._float2Value.y);return!0},bindFloat3:function(){x.context.__context.uniform3f(this._location,this._float3Value.x,this._float3Value.y,this._float3Value.z);return!0},bindFloat4:function(){x.context.__context.uniform4f(this._location,
this._float4Value.x,this._float4Value.y,this._float4Value.z,this._float4Value.w);return!0},bindFloatArray:function(){if(this._typeDirty&&null==this._float32Array){var a=this._size;if(a>this._floatArrayValue.length)return!1;for(this._float32Array=null;0<a--;)this._float32Array[a]=this._floatArrayValue[a]}a=this._location;var b=this._size,c=L.fromArrayBufferView(this._float32Array);x.context.__context.uniform1fv(a,L.toFloat32Array(c,4*b));return!0},bindMatrix4:function(){var a=this._location,b=this._size,
c=this._matrix4Value;if(c._dirty){if(null==c._data){var d=new Qb(16);c._data=d}c._data[0]=c.M00;c._data[1]=c.M10;c._data[2]=c.M20;c._data[3]=c.M30;c._data[4]=c.M01;c._data[5]=c.M11;c._data[6]=c.M21;c._data[7]=c.M31;c._data[8]=c.M02;c._data[9]=c.M12;c._data[10]=c.M22;c._data[11]=c.M32;c._data[12]=c.M03;c._data[13]=c.M13;c._data[14]=c.M23;c._data[15]=c.M33;c._dirty=!1}c=L.fromArrayBufferView(c._data);x.context.__context.uniformMatrix4fv(a,!1,L.toFloat32Array(c,64*b));return!0},bindMatrix4Array:function(){if(this._typeDirty){var a=
this._matrix4ArrayValue.length;a>this._size&&console.log("mat4 list error "+a+" > "+this._size);var b=16*a;null==this._float32Array?this._float32Array=null!=b?new Qb(b):null:b>this._float32Array.length&&(this._float32Array=null!=b?new Qb(b):null);for(;0<a--;)this._matrix4ArrayValue[a].ToFloat32Array(this._float32Array,16*a)}a=this._location;b=this._matrix4ArrayValue.length;var c=L.fromArrayBufferView(this._float32Array);x.context.__context.uniformMatrix4fv(a,!1,L.toFloat32Array(c,64*b));return!0},
bindTexture:function(){this._texture.Bind(this._input.id);return this._texture.enabled?(x.context.__context.uniform1i(this._location,this._input.id),!0):!1},__class__:Z};var $b=k["lovedna.game.rendering.ShadowCastingMode"]={__ename__:["lovedna","game","rendering","ShadowCastingMode"],__constructs__:["Off","On","TwoSided","ShadowsOnly"]};$b.Off=["Off",0];$b.Off.toString=w;$b.Off.__enum__=$b;$b.On=["On",1];$b.On.toString=w;$b.On.__enum__=$b;$b.TwoSided=["TwoSided",2];$b.TwoSided.toString=w;$b.TwoSided.__enum__=
$b;$b.ShadowsOnly=["ShadowsOnly",3];$b.ShadowsOnly.toString=w;$b.ShadowsOnly.__enum__=$b;var Bc=function(){this.id=Bc._id++;Bc._map.h[this.id]=this;this.usage=35044;this.length=0;this._time=window.performance.now()/1E3*Pa.scale;this.enabled=!1;this.type=5123};k["lovedna.gl.IndexBuffer"]=Bc;Bc.__name__=["lovedna","gl","IndexBuffer"];Bc.prototype={length:null,id:null,enabled:null,type:null,usage:null,_time:null,_data:null,_buffer:null,Upload:function(a,b){null==b&&(b=-1);this._time=window.performance.now()/
1E3*Pa.scale;null!=a&&(this._data=a,this.length=0<b?b:this._data.length,this.enabled=1<this.length)},Bind:function(){this._time=window.performance.now()/1E3*Pa.scale;if(2>this.length)return this;if(null!=this._data){var a=this._data,b=null!=a?new Int16Array(a):null;this._data=null;null==this._buffer&&(this._buffer=x.context.__context.createBuffer());x.context.__context.bindBuffer(34963,this._buffer);a=2*this.length;b=L.fromArrayBufferView(b);var c=this.usage;x.context.__context.bufferData(34963,L.toBufferView(b,
a),c);128>this.length&&(this.type=5121)}else{if(Bc.current==this)return this;null!=this._buffer&&x.context.__context.bindBuffer(34963,this._buffer)}Bc.current=this;return this},__class__:Bc};var pd=function(a,b){this.id=pd._id++;this.enabled=!1;var c=x.context.__context.createShader(35633);x.context.__context.shaderSource(c,a);x.context.__context.compileShader(c);if(0==x.context.__context.getShaderParameter(c,35713))qa.Log(this.addLineNumber(a),{fileName:"Program.hx",lineNumber:38,className:"lovedna.gl.Program",
methodName:"new"}),qa.Log("vertex compileShader "+x.context.__context.getShaderInfoLog(c),{fileName:"Program.hx",lineNumber:39,className:"lovedna.gl.Program",methodName:"new"});else if(a=x.context.__context.createShader(35632),x.context.__context.shaderSource(a,b),x.context.__context.compileShader(a),0==x.context.__context.getShaderParameter(a,35713))qa.Log(this.addLineNumber(b),{fileName:"Program.hx",lineNumber:46,className:"lovedna.gl.Program",methodName:"new"}),qa.Log("fragment compileShader "+
x.context.__context.getShaderInfoLog(a),{fileName:"Program.hx",lineNumber:47,className:"lovedna.gl.Program",methodName:"new"});else if(this._glprogram=x.context.__context.createProgram(),x.context.__context.attachShader(this._glprogram,c),x.context.__context.attachShader(this._glprogram,a),x.context.__context.linkProgram(this._glprogram),x.context.__context.deleteShader(c),x.context.__context.deleteShader(a),0==x.context.__context.getProgramParameter(this._glprogram,35714))qa.Log("linkProgram "+x.context.__context.getProgramInfoLog(this._glprogram),
{fileName:"Program.hx",lineNumber:59,className:"lovedna.gl.Program",methodName:"new"});else{this.enabled=!0;this._bufferAttribs=new C;this._uniforms=new C;b=x.context.__context.getProgramParameter(this._glprogram,35721);a=0;for(var d=b;a<d;){var e=a++;c=x.context.__context.getActiveAttrib(this._glprogram,e);b=c.name;var f=this._bufferAttribs;c=new Qh(e,x.context.__context.getAttribLocation(this._glprogram,b),c);null!=p[b]?f.setReserved(b,c):f.h[b]=c}b=x.context.__context.getProgramParameter(this._glprogram,
35718);d=a=0;for(f=b;d<f;)b=d++,c=x.context.__context.getActiveUniform(this._glprogram,b),b=c.name,e=c.type,35678==e||35680==e?(e=this._uniforms,c=new pg(a,x.context.__context.getUniformLocation(this._glprogram,b),c),null!=p[b]?e.setReserved(b,c):e.h[b]=c,++a):(e=b.indexOf("["),0<e&&(b=y.substr(b,0,e)),e=this._uniforms,c=new pg(-1,x.context.__context.getUniformLocation(this._glprogram,b),c),null!=p[b]?e.setReserved(b,c):e.h[b]=c)}};k["lovedna.gl.Program"]=pd;pd.__name__=["lovedna","gl","Program"];
pd.prototype={id:null,enabled:null,_glprogram:null,_bufferAttribs:null,_uniforms:null,Bind:function(){if(this.enabled&&pd.current!=this){var a=this._glprogram;x.__currentProgram=a;x.context.__context.useProgram(a);pd.current=this}},addLineNumber:function(a){var b="";a=new ie(a,!0);a.set_position(0);for(var c=a._length,d=-(c+"").length,e=0;e<c;){var f=e++;b+=Ia.Fill(f+1+"",d)+":\t"+a.ReadLine()+"\n"}return b},__class__:pd};var Qh=function(a,b,c){this.id=a;this.location=b;this._info=c};k["lovedna.gl.ProgramBufferInput"]=
Qh;Qh.__name__=["lovedna","gl","ProgramBufferInput"];Qh.prototype={id:null,location:null,_info:null,__class__:Qh};var pg=function(a,b,c){this.id=a;this.location=b;this._info=c;this._name=c.name};k["lovedna.gl.ProgramUniformInput"]=pg;pg.__name__=["lovedna","gl","ProgramUniformInput"];pg.prototype={id:null,location:null,_info:null,_name:null,__class__:pg};var Rh=function(){};k["lovedna.gl.TextureCube"]=Rh;Rh.__name__=["lovedna","gl","TextureCube"];Rh.__super__=Zb;Rh.prototype=t(Zb.prototype,{_data:null,
UploadBitmaps:function(a){if(null!=a){var b=a.length;this._data=[];if(6>b)this._data=null;else{for(b=6;0<b--;){var c=a[b];if(null==c){this._data=null;return}if(0<this.size.x&&c.width!=this.size.x){this._data=null;return}if(0<this.size.y&&c.height!=this.size.y){this._data=null;return}this.size.Set(c.width,c.height);this._data[b]=c.image.get_data()}this.enabled=!0}}},Bind:function(a){null==a&&(a=0);Zb.prototype.Bind.call(this,a);if(this.enabled)if(null==this._texture&&(this._texture=x.context.__context.createTexture()),
null!=this._data){a=[34069,34070,34071,34072,34073,34074];x.context.__context.bindTexture(34067,this._texture);for(var b=this._data.length;0<b--;){if(null==this._data[b])return;var c=Mb.get_internalFormat(),d=this.size.x,e=this.size.y,f=Mb.get_textureFormat(),l=L.fromArrayBufferView(this._data[b]);x.context.__context.texImage2D(a[b],0,c,d,e,0,f,5121,L.toBufferView(l))}x.context.__context.texParameteri(34067,10242,10497);x.context.__context.texParameteri(34067,10243,10497);x.context.__context.texParameteri(34067,
10240,9729);x.context.__context.texParameteri(34067,10241,9729);x.context.__context.generateMipmap(34067);this._data=null}else null!=this._texture&&(x.context.__context.activeTexture(33984+a),x.context.__context.bindTexture(34067,this._texture))},__class__:Rh});var Lc=function(){this.usage=35044;this.length=0;this.id=Lc._id++;Lc._map.h[this.id]=this;this._time=window.performance.now()/1E3*Pa.scale;this.enabled=!1};k["lovedna.gl.VertexBuffer"]=Lc;Lc.__name__=["lovedna","gl","VertexBuffer"];Lc.prototype=
{length:null,id:null,enabled:null,usage:null,_data:null,_buffer:null,_time:null,Upload:function(a,b){null==b&&(b=-1);this._time=window.performance.now()/1E3*Pa.scale;null!=a&&(this._data=a,this.length=0<b?b:this._data.length,this.enabled=2<this.length)},BindBuffer:function(){this._time=window.performance.now()/1E3*Pa.scale;if(null!=this._data){var a=this._data,b=null!=a?new Qb(a):null;this._data=null;null==this._buffer&&(this._buffer=x.context.__context.createBuffer());x.context.__context.bindBuffer(34962,
this._buffer);a=4*this.length;b=L.fromArrayBufferView(b);var c=this.usage;x.context.__context.bufferData(34962,L.toBufferView(b,a),c)}else{if(Lc.current==this)return;null!=this._buffer&&x.context.__context.bindBuffer(34962,this._buffer)}Lc.current=this},BindStruct:function(a){x.context.__context.enableVertexAttribArray(a.location);var b=a.location,c=a.size,d=a._type,e=a.stride;a=L.fromInt(a.offset);x.context.__context.vertexAttribPointer(b,c,d,!1,e,L.toValue(a))},__class__:Lc};var Sh=function(a,b){this.size=
a;this.offset=b;this._type=5126;this.stride=0};k["lovedna.gl.VertexBufferStruct"]=Sh;Sh.__name__=["lovedna","gl","VertexBufferStruct"];Sh.prototype={name:null,location:null,stride:null,size:null,offset:null,_type:null,set_type:function(a){return 5120<=a&&5126>=a?this._type=a:this._type},__class__:Sh,__properties__:{set_type:"set_type"}};var Xe=function(){this.Clear()};k["lovedna.gl.VertexBufferStructs"]=Xe;Xe.__name__=["lovedna","gl","VertexBufferStructs"];Xe.prototype={stride:null,count:null,_list:null,
_map:null,Clear:function(){this.count=this.stride=0;this._list=[];this._map=new C},Add:function(a,b,c){null==c&&(c=-1);var d=new Sh(b,this.stride);this.stride+=4*b;d.name=a;-1!=c&&d.set_type(c);this._list.push(d);b=this._map;null!=p[a]?b.setReserved(a,d):b.h[a]=d;this.count=this._list.length},AddComplete:function(){for(var a=this._list.length;0<a--;)this._list[a].stride=this.stride},__class__:Xe};var Mb=function(){};k["lovedna.gl.exts.EXT_bgra"]=Mb;Mb.__name__=["lovedna","gl","exts","EXT_bgra"];Mb.__properties__=
{get_internalFormat:"get_internalFormat",get_textureFormat:"get_textureFormat"};Mb.init=function(){-1==Mb._textureFormat&&(Mb._textureFormat=6408,Mb._internalFormat=6408)};Mb.get_textureFormat=function(){Mb.init();return Mb._textureFormat};Mb.get_internalFormat=function(){Mb.init();return Mb._internalFormat};var r=function(a){this.stopEvent=!1;this._code=a;r._map.h[this._code]=this;this.releaseTime=this.lastReleaseTime=this.pressTime=this.lastPressTime=0;this.stopEvent=!1};k["lovedna.input.Key"]=
r;r.__name__=["lovedna","input","Key"];r.AddEventListener=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);r.init();r._event_change.AddEventListener(a,b,c,d,e)};r.init=function(){null==r._map&&(r._map=new Ka,qd.Init(),r.NUMBER_0=new r(48),r.NUMBER_1=new r(49),r.NUMBER_2=new r(50),r.NUMBER_3=new r(51),r.NUMBER_4=new r(52),r.NUMBER_5=new r(53),r.NUMBER_6=new r(54),r.NUMBER_7=new r(55),r.NUMBER_8=new r(56),r.NUMBER_9=new r(57),r.A=new r(65),r.B=new r(66),r.C=new r(67),r.D=new r(68),
r.E=new r(69),r.F=new r(70),r.G=new r(71),r.H=new r(72),r.I=new r(73),r.J=new r(74),r.K=new r(75),r.L=new r(76),r.M=new r(77),r.N=new r(78),r.O=new r(79),r.P=new r(80),r.Q=new r(81),r.R=new r(82),r.S=new r(83),r.T=new r(84),r.U=new r(85),r.V=new r(86),r.W=new r(87),r.X=new r(88),r.Y=new r(89),r.Z=new r(90),r.NUMPAD_0=new r(96),r.NUMPAD_1=new r(97),r.NUMPAD_2=new r(98),r.NUMPAD_3=new r(99),r.NUMPAD_4=new r(100),r.NUMPAD_5=new r(101),r.NUMPAD_6=new r(102),r.NUMPAD_7=new r(103),r.NUMPAD_8=new r(104),
r.NUMPAD_9=new r(105),r.NUMPAD_MULTIPLY=new r(106),r.NUMPAD_ADD=new r(107),r.NUMPAD_ENTER=new r(108),r.NUMPAD_SUBTRACT=new r(109),r.NUMPAD_DECIMAL=new r(110),r.NUMPAD_DIVIDE=new r(111),r.F1=new r(112),r.F2=new r(113),r.F3=new r(114),r.F4=new r(115),r.F5=new r(116),r.F6=new r(119),r.F7=new r(118),r.F8=new r(119),r.F9=new r(120),r.F10=new r(121),r.F11=new r(122),r.F12=new r(123),r.F13=new r(124),r.F14=new r(125),r.F15=new r(126),r.BACKSPACE=new r(8),r.TAB=new r(9),r.ALTERNATE=new r(18),r.ENTER=new r(13),
r.COMMAND=new r(15),r.SHIFT=new r(16),r.CONTROL=new r(17),r.CAPS_LOCK=new r(20),r.NUMPAD=new r(21),r.ESCAPE=new r(27),r.SPACE=new r(32),r.PAGE_UP=new r(33),r.PAGE_DOWN=new r(34),r.END=new r(35),r.HOME=new r(36),r.LEFT=new r(37),r.RIGHT=new r(39),r.UP=new r(38),r.DOWN=new r(40),r.INSERT=new r(45),r.DELETE=new r(46),r.SEMICOLON=new r(186),r.EQUAL=new r(187),r.COMMA=new r(188),r.MINUS=new r(189),r.PERIOD=new r(190),r.SLASH=new r(191),r.BACKSLASH=new r(220),r.QUOTE=new r(222),r.BACKQUOTE=new r(192),r.LEFTBRACKET=
new r(219),r.RIGHTBRACKET=new r(221))};r.keyDown=function(a,b){null==b&&(b=0);a=r._map.h[a];null!=a&&(a.stopEvent=!1,a.pressed||(a.pressed=!0,a.lastPressTime=a.pressTime,a.pressTime=b,ca.KEY_CHANGE.key=a,r._event_change.DispatchEvent(ca.KEY_CHANGE)));return a};r.keyUp=function(a,b){null==b&&(b=0);a=r._map.h[a];null!=a&&(a.stopEvent=!1,a.pressed&&(a.pressed=!1,a.lastReleaseTime=a.releaseTime,a.releaseTime=b,ca.KEY_CHANGE.key=a,r._event_change.DispatchEvent(ca.KEY_CHANGE)));return a};r.prototype={pressed:null,
pressTime:null,releaseTime:null,lastPressTime:null,lastReleaseTime:null,stopEvent:null,_code:null,__class__:r};var qd=function(){qd._init=!0;Ma.call(this)};k["lovedna.input.KeyManager"]=qd;qd.__name__=["lovedna","input","KeyManager"];qd.Init=function(){qd._init||new qd};qd.__super__=Ma;qd.prototype=t(Ma.prototype,{_notSet:null,onConstruct:function(){Ma.prototype.onConstruct.call(this);this._notSet=new Ka;Xa.get_stage().addEventListener("keyDown",q(this,this.stage_keyDown));Xa.get_stage().addEventListener("keyUp",
q(this,this.stage_keyUp))},stage_keyUp:function(a){var b=a.keyCode,c=r.keyUp(b,.001*(new Date).getTime()+Pa._timeOffset);null==c?this._notSet.h.hasOwnProperty(b)||(console.log(b+" unset"),this._notSet.h[b]=!0):(r.altKey=a.altKey,r.shiftKey=a.shiftKey,r.commandKey=a.commandKey,r.controlKey=a.controlKey,c.stopEvent&&(a.stopImmediatePropagation(),a.stopPropagation()),c.stopEvent=!1)},stage_keyDown:function(a){var b=a.keyCode,c=r.keyDown(b,.001*(new Date).getTime()+Pa._timeOffset);null==c?this._notSet.h.hasOwnProperty(b)||
(console.log(b+" unset"),this._notSet.h[b]=!0):(r.altKey=a.altKey,r.shiftKey=a.shiftKey,r.commandKey=a.commandKey,r.controlKey=a.controlKey,c.stopEvent&&(a.stopImmediatePropagation(),a.stopPropagation()),c.stopEvent=!1)},__class__:qd});var Pe=function(){this._auto=!1;this.moveThresholds=0;this.holdTime=.5;Ma.call(this)};k["lovedna.input.TouchManager"]=Pe;Pe.__name__=["lovedna","input","TouchManager"];Pe.__interfaces__=[Ne];Pe.__super__=Ea;Pe.prototype=t(Ea.prototype,{holdTime:null,moveThresholds:null,
_stage:null,_activeTouchCount:null,_activePoint:null,_touchType:null,_reseted:null,_touchCount:null,_touchList:null,_activeTouchList:null,_auto:null,_userAction:null,_hasMouseDown:null,_touchIdMap:null,_touchIdList:null,_posHelper:null,Reset:function(){if(!this._reseted){this._reseted=!0;this._activeTouchList.Clear();var a;for(a=this._touchCount;0<a--;){var b=this._touchList[a];b.active&&this._activeTouchList.Add(b);b.Reset();b.motion.Set(0,0)}this._activeTouchCount=this._activeTouchList._length}},
Update:function(){if(this._reseted){this._reseted=!1;for(var a=.001*(new Date).getTime()+Pa._timeOffset,b=this._touchCount;0<b--;){var c=this._touchList[b];if(c.active){c.userAction=!0;var d=c.HasAction(1);!c.HasAction(4)&&d&&a-c.time.x>=this.holdTime&&c.AddAction(4);d=c.IsAction(1);var e=c.IsAction(4),f=c.IsAction(2),l=c.IsAction(3);c.Update();this._userAction=!1;f&&(c.motion.Copy(c.position),c.motion.Sub(c.lastPosition),c.lastPosition.Copy(c.position),c.lastTime.y=c.time.y,c.time.y=a,c.action=2,
this.doAction(c));d&&(c.action=1,this.doAction(c));e&&(c.action=4,this.doAction(c));l&&(c.action=3,this.doAction(c),c.End());this._userAction||(c.action=5,this.doAction(c))}else c.userAction=!1}}},AutoTrigger:function(a){this._auto!=a&&(a?Ra.Add(this):Ra.Remove(this));return this},OnTriggerEnter:function(a){},OnTrigger:function(a){this.Reset();this.Update();return!0},OnTriggerExit:function(a){},onConstruct:function(){Ea.prototype.onConstruct.call(this);this._touchType=this._activeTouchCount=0;this._reseted=
!1;this._touchCount=0;this._touchList=[];this._activeTouchList=new xa;this._activePoint=0;this._hasMouseDown=!1;this._stage=Xa.get_stage();if(null!=this._stage){this._touchCount=1;this._stage.addEventListener("mouseDown",q(this,this.stage_mouseHandler));this._stage.addEventListener("mouseMove",q(this,this.stage_mouseHandler));this._stage.addEventListener("mouseUp",q(this,this.stage_mouseHandler));this._stage.addEventListener("rightClick",q(this,this.stage_mouseHandler));if(rd.get_supportsTouchEvents()||
1<rd.maxTouchPoints)this._touchCount=10,rd.inputMode=2,this._stage.addEventListener("touchBegin",q(this,this.stage_touchHandler)),this._stage.addEventListener("touchMove",q(this,this.stage_touchHandler)),this._stage.addEventListener("touchEnd",q(this,this.stage_touchHandler));this._touchIdList=[];for(var a=0,b=this._touchCount;a<b;){var c=a++;this._touchList.push(new Oe(c));this._touchIdList[c]=-1}this._touchIdMap=new Ka;this._posHelper=new oa}},stage_mouseHandler:function(a){var b=a.type;if("mouseDown"==
b||this._hasMouseDown)if(0==this._activePoint&&(this._touchType=0),2!=this._touchType){"mouseMove"!=b&&qa.Log(" mouse "+a.type+" "+this._activeTouchCount+" "+this._touchType,{fileName:"TouchManager.hx",lineNumber:253,className:"lovedna.input.TouchManager",methodName:"stage_mouseHandler"});this._touchType=1;var c=0;"mouseDown"==b?(c=1,this._hasMouseDown=!0,this._activePoint=1):"mouseMove"==b?c=2:"mouseUp"==b&&(c=3,this._hasMouseDown=!1,this._activePoint=0);this.updateTouch(c,0,a.stageX,a.stageY)}},
stage_touchHandler:function(a){0==this._activePoint&&(this._touchType=0);this._hasMouseDown=!1;this._touchType=2;var b=0,c=a.type,d=0;"touchMove"==c?(b=2,d=this._touchIdMap.h[a.touchPointID]):"touchBegin"==c?(b=1,d=this.popTouchId(),this._touchIdMap.h[a.touchPointID]=d,this._activePoint++):"touchEnd"==c&&(b=3,d=this._touchIdMap.h[a.touchPointID],this._activePoint--,this._touchIdMap.remove(a.touchPointID),this.pushTouchId(d));"touchMove"!=c&&qa.Log(d+" touch "+a.type,{fileName:"TouchManager.hx",lineNumber:307,
className:"lovedna.input.TouchManager",methodName:"stage_touchHandler"});-1!=d&&(this._touchList[d].pressure=a.pressure,this.updateTouch(b,d,a.stageX,a.stageY))},updateTouch:function(a,b,c,d){if(!(10<=b)){var e=this._touchList[b],f=.001*(new Date).getTime()+Pa._timeOffset;if(2==a){if(!e.active)return;this._posHelper.Set(c,d);if(e.position.x==c&&e.position.y==d)return;if(this._posHelper.Distance(e.position)<this.moveThresholds){qa.Log(b+" moveThresholds "+this.moveThresholds,{fileName:"TouchManager.hx",
lineNumber:332,className:"lovedna.input.TouchManager",methodName:"updateTouch"});return}e.HasAction(1)&&e.AddAction(a)}else 1==a?(e.Begin(),e.lastTime.x=e.time.x,e.time.x=f,e.lastTime.y=e.time.y=0,e.down.Set(c,d),e.active=!0,e.motion.Set(0,0),e.lastPosition.Set(c,d),e.AddAction(a)):3==a&&(e.lastTime.z=e.time.z,e.time.z=f,e.AddAction(a));e.position.Set(c,d);e.userAction=!0}},doAction:function(a){this._userAction=!0;ca.TOUCH_CHANGE.get_touch().Copy(a);this.DispatchEvent(ca.TOUCH_CHANGE)},popTouchId:function(){for(var a=
0;10>a;){var b=a++;if(-1==this._touchIdList[b])return this._touchIdList[b]=b}return-1},pushTouchId:function(a){this._touchIdList[a]=-1},__class__:Pe});var Hh=function(){this.index=new Na(0,0,0,0);this.weight=new Na(0,0,0,0)};k["lovedna.math.BoneWeight"]=Hh;Hh.__name__=["lovedna","math","BoneWeight"];Hh.prototype={index:null,weight:null,__class__:Hh};var ed=function(){this._dirty=!1;this.Reset();this._center=new Q};k["lovedna.math.Box3"]=ed;ed.__name__=["lovedna","math","Box3"];ed.prototype={min:null,
max:null,_center:null,_dirty:null,Copy:function(a){if(a==this)return this;var b=this.min,c=a.min;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this.max;c=a.max;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);b=this._center;a=a._center;a!=b&&(b.x=a.x,b.y=a.y,b.z=a.z);this._dirty=!0;return this},Reset:function(){var a=new Q;a.x=1.79769313486231E308;a.y=1.79769313486231E308;a.z=1.79769313486231E308;this.min=a;a=new Q;a.x=-1.79769313486231E308;a.y=-1.79769313486231E308;a.z=-1.79769313486231E308;this.max=a;return this},ExpandByVertex:function(a){var b=
this.min;b.x>a.x&&(b.x=a.x);b.y>a.y&&(b.y=a.y);b.z>a.z&&(b.z=a.z);b=this.max;b.x<a.x&&(b.x=a.x);b.y<a.y&&(b.y=a.y);b.z<a.z&&(b.z=a.z);return this},ApplyMat4:function(a){var b=ed._helpVec0,c=ed._helpVec1,d=this.min;d!=b&&(b.x=d.x,b.y=d.y,b.z=d.z);d=this.max;d!=c&&(c.x=d.x,c.y=d.y,c.z=d.z);this.Reset();d=this._center;b!=d&&(d.x=b.x,d.y=b.y,d.z=b.z);this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=b.x;d.y=b.y;d.z=c.z;this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=b.x;d.y=c.y;d.z=
b.z;this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=b.x;d.y=c.y;d.z=c.z;this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=c.x;d.y=b.y;d.z=b.z;this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=c.x;d.y=b.y;d.z=c.z;this.ExpandByVertex(a.MultiplyPoint(d));d=this._center;d.x=c.x;d.y=c.y;d.z=b.z;this.ExpandByVertex(a.MultiplyPoint(d));b=this._center;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);this.ExpandByVertex(a.MultiplyPoint(b));return this},GetCenter:function(){var a=this._center,b=
this.min;b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);b=this.max;a.x+=b.x;a.y+=b.y;a.z+=b.z;a.x*=.5;a.y*=.5;a.z*=.5;return this._center},GetSize:function(){var a=ed._helpVec0,b=this.max,c=this.min;null==c?(a.x-=b.x,a.y-=b.y,a.z-=b.z):(a.x=b.x-c.x,a.y=b.y-c.y,a.z=b.z-c.z);return a},__class__:ed};var dd=function(){this.planes=[];for(var a=6;0<a--;)this.planes.push(new Ze)};k["lovedna.math.Frustum"]=dd;dd.__name__=["lovedna","math","Frustum"];dd.prototype={planes:null,ContainsPoint:function(a,b){null==b&&(b=0);for(var c=
6;0<c--;)if(this.planes[c].DistanceToPoint(a)<-b)return!1;return!0},IntersectsBox:function(a){if(null==a)return!1;for(var b=dd._helpVec0,c=dd._helpVec1,d=6;0<d--;){var e=this.planes[d],f=e.normal.x,l=e.normal.y,h=e.normal.z;b.x=0<f?a.min.x:a.max.x;b.y=0<l?a.min.y:a.max.y;b.z=0<h?a.min.z:a.max.z;c.x=0<f?a.max.x:a.min.x;c.y=0<l?a.max.y:a.min.y;c.z=0<h?a.max.z:a.min.z;if(0>e.DistanceToPoint(b)&&0>e.DistanceToPoint(c))return!1}return!0},__class__:dd};var Ja=function(){this._sin=Math.sin;this._cos=Math.cos;
this._mat4=Ja.instance;this.Identity()};k["lovedna.math.Matrix44"]=Ja;Ja.__name__=["lovedna","math","Matrix44"];Ja.__interfaces__=[od];Ja.prototype={M00:null,M10:null,M20:null,M30:null,M01:null,M11:null,M21:null,M31:null,M02:null,M12:null,M22:null,M32:null,M03:null,M13:null,M23:null,M33:null,_dirty:null,_data:null,_cos:null,_sin:null,_mat4:null,ToArray:function(a,b){null==b&&(b=0);null==a&&(a=[]);a[b]=this.M00;a[b+1]=this.M10;a[b+2]=this.M20;a[b+3]=this.M30;a[b+4]=this.M01;a[b+5]=this.M11;a[b+6]=
this.M21;a[b+7]=this.M31;a[b+8]=this.M02;a[b+9]=this.M12;a[b+10]=this.M22;a[b+11]=this.M32;a[b+12]=this.M03;a[b+13]=this.M13;a[b+14]=this.M23;a[b+15]=this.M33;return a},ToFloat32Array:function(a,b){null==b&&(b=0);a[b]=this.M00;a[b+1]=this.M10;a[b+2]=this.M20;a[b+3]=this.M30;a[b+4]=this.M01;a[b+5]=this.M11;a[b+6]=this.M21;a[b+7]=this.M31;a[b+8]=this.M02;a[b+9]=this.M12;a[b+10]=this.M22;a[b+11]=this.M32;a[b+12]=this.M03;a[b+13]=this.M13;a[b+14]=this.M23;a[b+15]=this.M33},Copy:function(a){return null==
a?this:this.Set(a.M00,a.M10,a.M20,a.M30,a.M01,a.M11,a.M21,a.M31,a.M02,a.M12,a.M22,a.M32,a.M03,a.M13,a.M23,a.M33)},Set:function(a,b,c,d,e,f,l,h,m,k,g,n,p,q,r,t){this.M00=a;this.M10=b;this.M20=c;this.M30=d;this.M01=e;this.M11=f;this.M21=l;this.M31=h;this.M02=m;this.M12=k;this.M22=g;this.M32=n;this.M03=p;this.M13=q;this.M23=r;this.M33=t;this._dirty=!0;return this},Identity:function(){return this.Set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},Append:function(a,b){null==b&&(b=!1);if(null==a)return this;var c=this,
d=a;b&&(c=a,d=this);return this.Set(c.M00*d.M00+c.M01*d.M10+c.M02*d.M20+c.M03*d.M30,c.M10*d.M00+c.M11*d.M10+c.M12*d.M20+c.M13*d.M30,c.M20*d.M00+c.M21*d.M10+c.M22*d.M20+c.M23*d.M30,c.M30*d.M00+c.M31*d.M10+c.M32*d.M20+c.M33*d.M30,c.M00*d.M01+c.M01*d.M11+c.M02*d.M21+c.M03*d.M31,c.M10*d.M01+c.M11*d.M11+c.M12*d.M21+c.M13*d.M31,c.M20*d.M01+c.M21*d.M11+c.M22*d.M21+c.M23*d.M31,c.M30*d.M01+c.M31*d.M11+c.M32*d.M21+c.M33*d.M31,c.M00*d.M02+c.M01*d.M12+c.M02*d.M22+c.M03*d.M32,c.M10*d.M02+c.M11*d.M12+c.M12*d.M22+
c.M13*d.M32,c.M20*d.M02+c.M21*d.M12+c.M22*d.M22+c.M23*d.M32,c.M30*d.M02+c.M31*d.M12+c.M32*d.M22+c.M33*d.M32,c.M00*d.M03+c.M01*d.M13+c.M02*d.M23+c.M03*d.M33,c.M10*d.M03+c.M11*d.M13+c.M12*d.M23+c.M13*d.M33,c.M20*d.M03+c.M21*d.M13+c.M22*d.M23+c.M23*d.M33,c.M30*d.M03+c.M31*d.M13+c.M32*d.M23+c.M33*d.M33)},SetProjection:function(a,b,c,d){null==d&&(d=1.78);null==c&&(c=60);null==b&&(b=1E3);null==a&&(a=.1);c=1/Math.tan(.008726646259971648*c);this.M00=c/d;this.M01=this.M30=this.M20=this.M10=0;this.M11=c;this.M12=
this.M02=this.M31=this.M21=0;this.M22=(b+a)/(a-b);this.M32=-1;this.M13=this.M03=0;this.M23=2*b*a/(a-b);this.M33=0;this._dirty=!0;return this},SetOrtho:function(a,b,c,d,e,f){this.M00=2/(b-a);this.M01=this.M30=this.M20=this.M10=0;this.M11=2/(d-c);this.M12=this.M02=this.M31=this.M21=0;this.M22=-2/(f-e);this.M32=0;this.M03=-(b+a)/(b-a);this.M13=-(d+c)/(d-c);this.M23=-(f+e)/(f-e);this.M33=1;this._dirty=!0;return this},GetDeterminant:function(){return this.M30*this.M21*this.M12*this.M03-this.M20*this.M31*
this.M12*this.M03-this.M30*this.M11*this.M22*this.M03+this.M10*this.M31*this.M22*this.M03+this.M20*this.M11*this.M32*this.M03-this.M10*this.M21*this.M32*this.M03-this.M30*this.M21*this.M02*this.M13+this.M20*this.M31*this.M02*this.M13+this.M30*this.M01*this.M22*this.M13-this.M00*this.M31*this.M22*this.M13-this.M20*this.M01*this.M32*this.M13+this.M00*this.M21*this.M32*this.M13+this.M30*this.M11*this.M02*this.M23-this.M10*this.M31*this.M02*this.M23-this.M30*this.M01*this.M12*this.M23+this.M00*this.M31*
this.M12*this.M23+this.M10*this.M01*this.M32*this.M23-this.M00*this.M11*this.M32*this.M23-this.M20*this.M11*this.M02*this.M33+this.M10*this.M21*this.M02*this.M33+this.M20*this.M01*this.M12*this.M33-this.M00*this.M21*this.M12*this.M33-this.M10*this.M01*this.M22*this.M33+this.M00*this.M11*this.M22*this.M33},Inverse:function(){var a=this.GetDeterminant();if(0==a)throw new u("non-invertible matrix");a=1/a;var b=this.M03*this.M22*this.M31-this.M02*this.M23*this.M31-this.M03*this.M21*this.M32+this.M01*
this.M23*this.M32+this.M02*this.M21*this.M33-this.M01*this.M22*this.M33,c=this.M02*this.M13*this.M31-this.M03*this.M12*this.M31+this.M03*this.M11*this.M32-this.M01*this.M13*this.M32-this.M02*this.M11*this.M33+this.M01*this.M12*this.M33,d=this.M03*this.M12*this.M21-this.M02*this.M13*this.M21-this.M03*this.M11*this.M22+this.M01*this.M13*this.M22+this.M02*this.M11*this.M23-this.M01*this.M12*this.M23,e=this.M13*this.M22*this.M30-this.M12*this.M23*this.M30-this.M13*this.M20*this.M32+this.M10*this.M23*
this.M32+this.M12*this.M20*this.M33-this.M10*this.M22*this.M33,f=this.M02*this.M23*this.M30-this.M03*this.M22*this.M30+this.M03*this.M20*this.M32-this.M00*this.M23*this.M32-this.M02*this.M20*this.M33+this.M00*this.M22*this.M33,l=this.M03*this.M12*this.M30-this.M02*this.M13*this.M30-this.M03*this.M10*this.M32+this.M00*this.M13*this.M32+this.M02*this.M10*this.M33-this.M00*this.M12*this.M33,h=this.M02*this.M13*this.M20-this.M03*this.M12*this.M20+this.M03*this.M10*this.M22-this.M00*this.M13*this.M22-
this.M02*this.M10*this.M23+this.M00*this.M12*this.M23,m=this.M11*this.M23*this.M30-this.M13*this.M21*this.M30+this.M13*this.M20*this.M31-this.M10*this.M23*this.M31-this.M11*this.M20*this.M33+this.M10*this.M21*this.M33,k=this.M03*this.M21*this.M30-this.M01*this.M23*this.M30-this.M03*this.M20*this.M31+this.M00*this.M23*this.M31+this.M01*this.M20*this.M33-this.M00*this.M21*this.M33,g=this.M01*this.M13*this.M30-this.M03*this.M11*this.M30+this.M03*this.M10*this.M31-this.M00*this.M13*this.M31-this.M01*
this.M10*this.M33+this.M00*this.M11*this.M33,n=this.M03*this.M11*this.M20-this.M01*this.M13*this.M20-this.M03*this.M10*this.M21+this.M00*this.M13*this.M21+this.M01*this.M10*this.M23-this.M00*this.M11*this.M23,p=this.M12*this.M21*this.M30-this.M11*this.M22*this.M30-this.M12*this.M20*this.M31+this.M10*this.M22*this.M31+this.M11*this.M20*this.M32-this.M10*this.M21*this.M32,q=this.M01*this.M22*this.M30-this.M02*this.M21*this.M30+this.M02*this.M20*this.M31-this.M00*this.M22*this.M31-this.M01*this.M20*
this.M32+this.M00*this.M21*this.M32,r=this.M02*this.M11*this.M30-this.M01*this.M12*this.M30-this.M02*this.M10*this.M31+this.M00*this.M12*this.M31+this.M01*this.M10*this.M32-this.M00*this.M11*this.M32,t=this.M01*this.M12*this.M20-this.M02*this.M11*this.M20+this.M02*this.M10*this.M21-this.M00*this.M12*this.M21-this.M01*this.M10*this.M22+this.M00*this.M11*this.M22;this.M00=(this.M12*this.M23*this.M31-this.M13*this.M22*this.M31+this.M13*this.M21*this.M32-this.M11*this.M23*this.M32-this.M12*this.M21*this.M33+
this.M11*this.M22*this.M33)*a;this.M01=b*a;this.M02=c*a;this.M03=d*a;this.M10=e*a;this.M11=f*a;this.M12=l*a;this.M13=h*a;this.M20=m*a;this.M21=k*a;this.M22=g*a;this.M23=n*a;this.M30=p*a;this.M31=q*a;this.M32=r*a;this.M33=t*a;this._dirty=!0;return this},LookAt:function(a,b,c){if(null==b){var d=Q.instance;d.x=0;d.y=0;d.z=0;b=d}null==c&&(c=Q.instance2,c.x=0,c.y=1,c.z=0);d=Ja.tmpVec;b!=d&&(d.x=b.x,d.y=b.y,d.z=b.z);d.x-=a.x;d.y-=a.y;d.z-=a.z;b=Ja.l_vez;d!=b&&(b.x=d.x,b.y=d.y,b.z=d.z);b.Normalize();b=Ja.l_vex;
d!=b&&(b.x=d.x,b.y=d.y,b.z=d.z);b.Normalize();Ja.l_vex.Cross(c).Normalize();c=Ja.l_vey;d=Ja.l_vex;d!=c&&(c.x=d.x,c.y=d.y,c.z=d.z);c.Cross(Ja.l_vez).Normalize();this.Identity();this.M00=Ja.l_vex.x;this.M01=Ja.l_vex.y;this.M02=Ja.l_vex.z;this.M10=Ja.l_vey.x;this.M11=Ja.l_vey.y;this.M12=Ja.l_vey.z;this.M20=-Ja.l_vez.x;this.M21=-Ja.l_vez.y;this.M22=-Ja.l_vez.z;c=Ja.tmpVec;a!=c&&(c.x=a.x,c.y=a.y,c.z=a.z);c.x*=-1;c.y*=-1;c.z*=-1;this.AppendTranslation(c);return this},AppendTranslation:function(a){Ja.instance.Set(1,
0,0,0,0,1,0,0,0,0,1,0,a.x,a.y,a.z,1);return this.Append(Ja.instance)},AppendScale:function(a){Ja.instance.Set(a.x,0,0,0,0,a.y,0,0,0,0,a.z,0,0,0,0,1);return this.Append(Ja.instance)},AppendRotation:function(a){return this.Append(a.ToMatrix44())},AppendTRS:function(a,b,c){null!=a&&this.AppendTranslation(a);null!=b&&this.AppendRotation(b);null!=c&&this.AppendScale(c);return this},SetTRS:function(a,b,c){this.Identity();return this.AppendTRS(a,b,c)},GetTranslation:function(a){null==a&&(a=Ja.tmpVec);a.x=
this.M03;a.y=this.M13;a.z=this.M23;return a},GetScaleXSquared:function(){return this.M00*this.M00+this.M01*this.M01+this.M02*this.M02},GetScaleX:function(){return Lb.IsZero(this.M01)&&Lb.IsZero(this.M02)?Lb.FloatToAbs(this.M00):Math.sqrt(this.GetScaleXSquared())},MultiplyPoint:function(a,b){null==b&&(b=!1);var c=a.x,d=a.y,e=a.z,f=1;b&&(f=1/(c*this.M30+d*this.M31+e*this.M32+this.M33));b=(c*this.M10+d*this.M11+e*this.M12+this.M13)*f;var l=(c*this.M20+d*this.M21+e*this.M22+this.M23)*f;a.x=(c*this.M00+
d*this.M01+e*this.M02+this.M03)*f;a.y=b;a.z=l;return a},MultiplyFrustum:function(a){if(null==a)return null;var b=this.M00,c=this.M10,d=this.M20,e=this.M30,f=this.M01,l=this.M11,h=this.M21,m=this.M31,k=this.M02,g=this.M12,n=this.M22,p=this.M32,q=this.M03,r=this.M13,t=this.M23,v=this.M33;a.planes[0].Set(e+d,m+h,p+n,v+t);a.planes[1].Set(e-d,m-h,p-n,v-t);a.planes[2].Set(e+b,m+f,p+k,v+q);a.planes[3].Set(e-b,m-f,p-k,v-q);a.planes[4].Set(e-c,m-l,p-g,v-r);a.planes[5].Set(e+c,m+l,p+g,v+r);return a},__class__:Ja};
var Ze=function(){this._vec3=Ze._helpVec3;var a=new Q;a.x=0;a.y=0;a.z=1;this.normal=a;this.distance=0};k["lovedna.math.Plane"]=Ze;Ze.__name__=["lovedna","math","Plane"];Ze.prototype={normal:null,distance:null,_vec3:null,DistanceToPoint:function(a){var b=this.normal;return b.x*a.x+b.y*a.y+b.z*a.z+this.distance},Set:function(a,b,c,d){var e=this.normal;e.x=a;e.y=b;e.z=c;this.distance=d;this.Normalize()},Normalize:function(){var a=this.normal;a=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);var b=this.normal;b.x*=
a;b.y*=a;b.z*=a;this.distance*=a},__class__:Ze};var Ya=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.Set(a,b,c,d);this._eulerAngles=new Q;this._eulerDirty=!0};k["lovedna.math.Quaternion"]=Ya;Ya.__name__=["lovedna","math","Quaternion"];Ya.__interfaces__=[od];Ya.FromEuler=function(a,b,c){var d=Ya._helpFloat3;d.x=a;d.y=b;d.z=c;Ya.instance.set_eulerAngles(Ya._helpFloat3);return Ya.instance};Ya.prototype={x:null,y:null,z:null,w:null,_eulerAngles:null,_eulerDirty:null,
Set:function(a,b,c,d){this.x!=a&&(this.x=a,this._eulerDirty=!0);this.y!=b&&(this.y=b,this._eulerDirty=!0);this.z!=c&&(this.z=c,this._eulerDirty=!0);this.w!=d&&(this.w=d,this._eulerDirty=!0);this._eulerDirty=!0;return this},Copy:function(a){return this.Set(a.x,a.y,a.z,a.w)},FromArray:function(a,b){null==b&&(b=0);if(b<a.length+4){var c=a[b];this.x!=c&&(this.x=c,this._eulerDirty=!0);c=a[b+1];this.y!=c&&(this.y=c,this._eulerDirty=!0);c=a[b+2];this.z!=c&&(this.z=c,this._eulerDirty=!0);a=a[b+3];this.w!=
a&&(this.w=a,this._eulerDirty=!0)}return this},ToArray:function(a,b){null==b&&(b=0);null==a&&(a=[]);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},Dot:function(a,b){return null==b?this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w:b.x*a.x+b.y*a.y+b.z*a.z+b.w*a.w},MultiplyVector:function(a){var b=a.x,c=a.y,d=a.z;a=this.w*b+this.y*d-this.z*c;var e=this.w*c+this.z*b-this.x*d,f=this.w*d+this.x*c-this.y*b;b=-this.x*b-this.y*c-this.z*d;c=e*this.w+b*-this.y+f*-this.x-a*-this.z;d=f*this.w+b*-this.z+
a*-this.y-e*-this.x;var l=Ya._helpFloat3;l.x=a*this.w+b*-this.x+e*-this.z-f*-this.y;l.y=c;l.z=d;return l},ToMatrix44:function(){var a=this.x*this.x,b=this.x*this.y,c=this.x*this.z,d=this.x*this.w,e=this.y*this.y,f=this.y*this.z,l=this.y*this.w,h=this.z*this.z,m=this.z*this.w,k=Ya._helperMatrix44;k.Set(1-2*(e+h),2*(b+m),2*(c-l),0,2*(b-m),1-2*(a+h),2*(f+d),0,2*(c+l),2*(f-d),1-2*(a+e),0,0,0,0,1);return k},SetEulerAngles:function(a,b,c){var d=.008726646259971648*c;c=Math.sin(d);d=Math.cos(d);var e=.008726646259971648*
a;a=Math.sin(e);var f=Math.cos(e);b*=.008726646259971648;var l=Math.sin(b),h=Math.cos(b);b=h*a;e=l*f;f*=h;a*=l;l=b*d+e*c;this.x!=l&&(this.x=l,this._eulerDirty=!0);b=e*d-b*c;this.y!=b&&(this.y=b,this._eulerDirty=!0);b=f*c-a*d;this.z!=b&&(this.z=b,this._eulerDirty=!0);c=f*d+a*c;this.w!=c&&(this.w=c,this._eulerDirty=!0);this._eulerDirty=!0;return this},SlerpTo:function(a,b){if(0>=b)return this;if(1<=b)return this.Copy(a),this;var c=this.Dot(a),d=Lb.FloatToAbs(c),e=1-b,f=b;.1<1-d&&(d=Math.acos(d),f=1/
Math.sin(d),e=Math.sin((1-b)*d)*f,f*=Math.sin(b*d));0>c&&(f=-f);return this.Set(e*this.x+f*a.x,e*this.y+f*a.y,e*this.z+f*a.z,e*this.w+f*a.w)},getGimbalPole:function(){var a=this.y*this.x+this.z*this.w;return.499<a?1:-.499>a?-1:0},get_eulerAngles:function(){if(this._eulerDirty){var a=this.x*this.x,b=this.y*this.y,c=this.z*this.z,d=this.getGimbalPole();0==d?(d=2*(this.w*this.x-this.z*this.y),d=1>d?d:1,this._eulerAngles.x=Math.asin(-1>d?-1:d),this._eulerAngles.y=Math.atan2(2*(this.y*this.w+this.x*this.z),
1-2*(b+a)),this._eulerAngles.z=Math.atan2(2*(this.w*this.z+this.y*this.x),1-2*(a+c))):(this._eulerAngles.x=1.5707963267948966*d,this._eulerAngles.y=0,this._eulerAngles.z=2*d*Math.atan2(this.y,this.w));a=this._eulerAngles;a.x*=57.29577951308232;a.y*=57.29577951308232;a.z*=57.29577951308232;this._eulerDirty=!1}a=Ya._helpFloat3;b=this._eulerAngles;b!=a&&(a.x=b.x,a.y=b.y,a.z=b.z);return a},set_eulerAngles:function(a){this.SetEulerAngles(a.x,a.y,a.z);return a},__class__:Ya,__properties__:{set_eulerAngles:"set_eulerAngles",
get_eulerAngles:"get_eulerAngles"}};var me=function(a){null==a&&(a=-1);0>a&&(a=2147483647*Math.random()|0);this._seed=a};k["lovedna.math.Random"]=me;me.__name__=["lovedna","math","Random"];me.prototype={_seed:null,Get:function(){this._seed^=this._seed>>11;this._seed^=this._seed<<7&-1658038656;this._seed^=this._seed<<15&-272236544;return this._seed^=this._seed>>18},GetFloat:function(){var a=this.Get()/2147483646,b=X.Exp(10,9);return(a*b|0)/b},__class__:me};var lg=function(){this.center=new Q;this.radius=
0};k["lovedna.math.Sphere"]=lg;lg.__name__=["lovedna","math","Sphere"];lg.prototype={center:null,radius:null,Copy:function(a){if(a==this)return this;var b=this.center,c=a.center;c!=b&&(b.x=c.x,b.y=c.y,b.z=c.z);this.radius=a.radius;return this},ApplyMat4:function(a){a.MultiplyPoint(this.center);this.radius*=a.GetScaleX();return this},__class__:lg};var qg=function(){Ma.call(this)};k["lovedna.net.AssetsProgress"]=qg;qg.__name__=["lovedna","net","AssetsProgress"];qg.__super__=Ea;qg.prototype=t(Ea.prototype,
{total:null,bytesTotal:null,bytesLoaded:null,__class__:qg});var Ub=function(a,b,c){Ma.call(this);this.id=Ub._id++;this.url=a;this.root=c;if(null==b)switch(Y.Extension(a).toLowerCase()){case "gif":case "jpeg":case "jpg":case "png":b=ra.IMAGE;break;case "mp2":case "mp3":b=ra.SOUND;break;case "m4a":case "ogg":case "wav":b=ra.SOUND;break;case "otf":case "ttf":b=ra.FONT;break;case "css":case "json":case "plist":case "svg":case "text":case "txt":case "xml":b=ra.TEXT;break;default:b=ra.BINARY}this.type=
b;this.fullUrl=a;Y.IsHttp(a)||null==c||(this.fullUrl=Y.Combine(c,a));this.reloadCount=1;this.reloadTime=.5;this.fromLocal=!1;this.requireBytes=!0;this.bytesTotal=this.bytesLoaded=0;this.type==ra.SOUND&&(this.requireBytes=!1);Ub._fnv.Reset();Ub._fnv.PushString(this.fullUrl);this.hashKey=Ub._fnv.GetString()};k["lovedna.net.FileData"]=Ub;Ub.__name__=["lovedna","net","FileData"];Ub.GetHashKey=function(a,b){var c=b;Y.IsHttp(b)||null!=a&&(c=Y.Combine(a,b));Ub._fnv.Reset();Ub._fnv.PushString(c);return Ub._fnv.GetString()};
Ub.__super__=Ea;Ub.prototype=t(Ea.prototype,{id:null,type:null,url:null,fullUrl:null,root:null,hashKey:null,reloadCount:null,reloadTime:null,requireBytes:null,fromLocal:null,bytesTotal:null,bytesLoaded:null,bytes:null,text:null,image:null,sound:null,font:null,userData:null,Clone:function(){var a=new Ub(this.url,this.type,this.root);a.bytes=this.bytes;a.text=this.text;a.image=this.image;a.sound=this.sound;a.font=this.font;a.userData=this.userData;return a},toString:function(){return this.id+" "+this.fullUrl+
":"+this.hashKey},get_file:function(){return null!=this.root?ea.replace(this.fullUrl,this.root,""):this.fullUrl},__class__:Ub,__properties__:{get_file:"get_file"}});var Y=function(a){this.Set(a)};k["lovedna.net.URL"]=Y;Y.__name__=["lovedna","net","URL"];Y.Extension=function(a){Y.instance.Set(a);return null==Y.instance.ext?"":Y.instance.ext};Y.Directory=function(a){Y.instance.Set(a);return null==Y.instance.dir?"":Y.instance.dir};Y.WithoutExtension=function(a){Y.instance.Set(a);Y.instance.ext=null;
return Y.instance.toString()};Y.WithoutDirectory=function(a){Y.instance.Set(a);Y.instance.dir=null;return Y.instance.toString()};Y.Combine=function(a,b){return""==a?b:Y.AddSlash(a)+Y.RemoveSlashes(b)};Y.AddSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};Y.RemoveSlashes=function(a){try{for(;;){var b=y.cca(a,a.length-1);if(null==b)throw"__break__";switch(b){case 47:case 92:a=y.substr(a,0,-1);break;default:throw"__break__";
}}}catch(d){if("__break__"!=d)throw d;}try{for(;;){var c=y.cca(a,0);if(null==c)throw"__break__";switch(c){case 47:case 92:a=y.substr(a,1,null);break;default:throw"__break__";}}}catch(d){if("__break__"!=d)throw d;}return a};Y.IsHttp=function(a){a=y.substr(a,0,7);return"http://"!=a?"https:/"==a:!0};Y.prototype={dir:null,file:null,ext:null,backslash:null,param:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+(null==this.file?"":this.file)+(null==this.ext?"":"."+this.ext)},
Set:function(a){this.clear();if(""==a||null==a)return this;switch(a){case ".":case "..":return this.dir=a,this.file="",this}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=y.substr(a,0,c),a=y.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=y.substr(a,0,b),a=y.substr(a,b+1,null)):this.dir=null;-1!=a.indexOf("?")&&(b=a.split("?"),a=b.shift(),this.param=b.join("?"));b=a.lastIndexOf(".");-1!=b?(this.ext=y.substr(a,b+1,null),this.file=y.substr(a,0,b)):(this.ext=null,this.file=a);return this},
clear:function(){this.param=this.ext=this.file=this.dir=null;this.backslash=!1},__class__:Y};var ob=function(){Ma.call(this);this._local=gd.GetInstance();this.root=ob._defaultRoot;this._fileMap=new C;this._fileList=[];null==this.root&&(this.root="");this._active=!0;this._loadDelayCall=new ub(q(this,this.load));this._completeDelayCall=new ub(q(this,this.completeDelayCall));Xa.get_stage().addEventListener("activate",q(this,this.activeHandler));Xa.get_stage().addEventListener("deactivate",q(this,this.activeHandler));
this._contentLoader=new rg;this._contentLoader.contentLoaderInfo.addEventListener("ioError",q(this,this.loader_ioError));this._contentLoader.contentLoaderInfo.addEventListener("progress",q(this,this.loader_progress));this._contentLoader.contentLoaderInfo.addEventListener("complete",q(this,this.contentLoader_complete));this._dataLoader=new ne;this._dataLoader.dataFormat=0;this._dataLoader.addEventListener("ioError",q(this,this.loader_ioError));this._dataLoader.addEventListener("progress",q(this,this.loader_progress));
this._dataLoader.addEventListener("complete",q(this,this.dataLoader_complete))};k["lovedna.net.FileLoader"]=ob;ob.__name__=["lovedna","net","FileLoader"];ob.SetDefaultRoot=function(a){if(null==ob._defaultRoot||""==ob._defaultRoot){var b=new Y(a);a=b.toString();0<Y.WithoutDirectory(a).length?(ob._defaultRoot=null==b.param?a:b.dir,ob._defaultRoot+=b.backslash?"\\":"/"):ob._defaultRoot=a}};ob.__super__=Ea;ob.prototype=t(Ea.prototype,{root:null,current:null,_fileMap:null,_fileList:null,_dataLoader:null,
_contentLoader:null,_loading:null,_loadDelayCall:null,_completeDelayCall:null,_active:null,_local:null,Load:function(a,b){var c=this.GetKey(a),d=this._fileMap;if(null!=p[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return a=this._fileMap,null!=p[c]?a.getReserved(c):a.h[c];a=new Ub(a,b,this.root);this._fileList.push(a);b=this._fileMap;null!=p[c]?b.setReserved(c,a):b.h[c]=a;this.updateTotal();null==this.current&&ub.Add(this._loadDelayCall,.1);return a},GetKey:function(a){return Ub.GetHashKey(this.root,
a)},activeHandler:function(a){a="activate"==a.type;this._active!=a&&(this._active=a)&&this.load()},load:function(){!this._active||this._loading||1>this._fileList.length||(null==this.current&&(this.current=this._fileList.shift()),this._loading=!0,this.reload())},reload:function(){if(this._active&&null!=this.current){this._loading=!0;qa.Log("load "+this.current.url,{fileName:"FileLoader.hx",lineNumber:169,className:"lovedna.net.FileLoader",methodName:"reload"});if(this.current.fromLocal){var a=this._local.GetSavePath(this.current.hashKey);
if(this._local.Exists(a)){qa.Log("from local "+this.current.url,{fileName:"FileLoader.hx",lineNumber:175,className:"lovedna.net.FileLoader",methodName:"reload"});this.current.bytes=this._local.GetBytes(a);this.dataLoader_complete(null);return}}if(this.current.requireBytes&&sa.exists(this.current.url,"BINARY"))qa.Log("binary from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:185,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.bytes=sa.getBytes(this.current.url),
this.dataLoader_complete(null);else if(a=this.current.type,a==ra.IMAGE&&sa.exists(this.current.url,"IMAGE"))qa.Log("image from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:194,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.image=sa.getBitmapData(this.current.url),this.assetComplete();else if(a==ra.TEXT&&sa.exists(this.current.url,"TEXT"))qa.Log("text from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:201,className:"lovedna.net.FileLoader",
methodName:"reload"}),this.current.text=sa.getText(this.current.url),this.assetComplete();else if(a==ra.SOUND&&(sa.exists(this.current.url,"SOUND")&&(qa.Log("sound from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:210,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.sound=sa.getSound(this.current.url),this.assetComplete()),sa.exists(this.current.url,"MUSIC")&&(qa.Log("music from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:216,
className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.sound=sa.getMusic(this.current.url),this.assetComplete())),a==ra.BINARY&&sa.exists(this.current.url,"BINARY"))qa.Log("binary from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:223,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.bytes=sa.getBytes(this.current.url),this.assetComplete();else if(a==ra.FONT&&sa.exists(this.current.url,"FONT"))qa.Log("font from streaming "+this.current.toString(),
{fileName:"FileLoader.hx",lineNumber:230,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.font=sa.getFont(this.current.url),this.assetComplete();else if(sa.exists(this.current.url,"BINARY"))qa.Log("binary from streaming "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:237,className:"lovedna.net.FileLoader",methodName:"reload"}),this.current.bytes=sa.getBytes(this.current.url),this.dataLoader_complete(null);else{Y.IsHttp(this.current.fullUrl);var b=this.current.requireBytes;
a==ra.SOUND&&(b=!1);if(!b){if(a==ra.IMAGE){this._contentLoader.load(new Jd(this.current.fullUrl));qa.Log("load image "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:266,className:"lovedna.net.FileLoader",methodName:"reload"});return}if(a==ra.SOUND){a=new sd;a.addEventListener("complete",q(this,this.soundLoader_complete));a.addEventListener("ioError",q(this,this.soundLoader_ioError));a.load(new Jd(this.current.fullUrl));qa.Log("load sound "+this.current.toString(),{fileName:"FileLoader.hx",
lineNumber:275,className:"lovedna.net.FileLoader",methodName:"reload"});return}}this._dataLoader.close();this._dataLoader.load(new Jd(this.current.fullUrl));qa.Log("load data "+this.current.toString(),{fileName:"FileLoader.hx",lineNumber:281,className:"lovedna.net.FileLoader",methodName:"reload"})}}},loader_progress:function(a){this.current.bytesLoaded=a.bytesLoaded;this.current.bytesTotal=a.bytesTotal;this.DispatchEvent(ca.PROGRESS.SetProgress(this.current.bytesLoaded,this.current.bytesTotal));ob.progress.bytesLoaded=
a.bytesLoaded;ob.progress.bytesTotal=a.bytesTotal;ob.progress.DispatchEvent(ca.PROGRESS)},loader_ioError:function(a){0<=this.current.reloadCount?(qa.Warn(this.current.toString()+" reload "+this.current.reloadCount,{fileName:"FileLoader.hx",lineNumber:297,className:"lovedna.net.FileLoader",methodName:"loader_ioError"}),this.current.reloadCount--,this.reload()):(qa.Warn(this.current.toString()+" load error",{fileName:"FileLoader.hx",lineNumber:302,className:"lovedna.net.FileLoader",methodName:"loader_ioError"}),
this._loading=!1,this.current=null,this.load())},soundLoader_ioError:function(a){a=a.target;a.removeEventListener("complete",q(this,this.soundLoader_complete));a.removeEventListener("ioError",q(this,this.soundLoader_ioError));0<=this.current.reloadCount?(this.current.reloadCount--,this.reload()):(qa.Warn(this.current.toString()+" load error",{fileName:"FileLoader.hx",lineNumber:320,className:"lovedna.net.FileLoader",methodName:"soundLoader_ioError"}),this._loading=!1,this.current=null,this.load())},
soundLoader_complete:function(a){a=a.target;a.removeEventListener("complete",q(this,this.soundLoader_complete));a.removeEventListener("ioError",q(this,this.soundLoader_ioError));this.current.sound=a;this.assetComplete()},contentLoader_complete:function(a){this.current.type==ra.IMAGE&&(this.current.image=this._contentLoader.content.bitmapData);null!=this._contentLoader.contentLoaderInfo.bytes&&(this.current.bytes=this._contentLoader.contentLoaderInfo.bytes);this.assetComplete()},dataLoader_complete:function(a){qa.Log(this.current.toString()+
" dataLoader_complete ",{fileName:"FileLoader.hx",lineNumber:350,className:"lovedna.net.FileLoader",methodName:"dataLoader_complete"});if(null!=a){var b=this._dataLoader.data;a=new lc(0);a.writeBytes(b);a.position=0;this.current.bytes=a;this._local.SetBytes(this.current.hashKey,a)}else b=this.current.bytes;var c=this.current.type;qa.Log(this.current.url+" loaded "+U.string(c),{fileName:"FileLoader.hx",lineNumber:365,className:"lovedna.net.FileLoader",methodName:"dataLoader_complete"});a=!0;c!=ra.BINARY&&
(c==ra.IMAGE?(a=!1,ja.loadFromBytes(b).onComplete(q(this,this.fromBytesComplete))):c==ra.SOUND?(b=zb.fromBytes(Lb.ByteArrayToBytes(b)),b=sd.fromAudioBuffer(b),this.current.sound=b):c!=ra.FONT&&c==ra.TEXT&&(c=sb.get_length(b),this.current.text=b.readUTFBytes(c)));a&&this.assetComplete()},fromBytesComplete:function(a){qa.Log(this.current.toString()+" fromBytesComplete ",{fileName:"FileLoader.hx",lineNumber:396,className:"lovedna.net.FileLoader",methodName:"fromBytesComplete"});this.current.image=a;
try{qa.Log("fromBytesComplete "+a.width+","+a.height,{fileName:"FileLoader.hx",lineNumber:399,className:"lovedna.net.FileLoader",methodName:"fromBytesComplete"})}catch(b){aa.lastException=b,qa.Error(this.current.toString()+" is not image",{fileName:"FileLoader.hx",lineNumber:402,className:"lovedna.net.FileLoader",methodName:"fromBytesComplete"}),this._local.DeleteFile(this.current.hashKey),this.current.image=null}this.assetComplete()},assetComplete:function(){qa.Log("complete "+this.current.toString(),
{fileName:"FileLoader.hx",lineNumber:411,className:"lovedna.net.FileLoader",methodName:"assetComplete"});ub.Add(this._completeDelayCall,.01)},completeDelayCall:function(){this.DispatchEvent(ca.COMPLETE);this._loading=!1;this.current=null;this.updateTotal();ub.Add(this._loadDelayCall,.01)},updateTotal:function(){ob.progress.total=this._fileList.length;ob.progress.DispatchEvent(ca.CHANGE)},__class__:ob});var ra=k["lovedna.net.FileType"]={__ename__:["lovedna","net","FileType"],__constructs__:["BINARY",
"TEXT","IMAGE","SOUND","FONT"]};ra.BINARY=["BINARY",0];ra.BINARY.toString=w;ra.BINARY.__enum__=ra;ra.TEXT=["TEXT",1];ra.TEXT.toString=w;ra.TEXT.__enum__=ra;ra.IMAGE=["IMAGE",2];ra.IMAGE.toString=w;ra.IMAGE.__enum__=ra;ra.SOUND=["SOUND",3];ra.SOUND.toString=w;ra.SOUND.__enum__=ra;ra.FONT=["FONT",4];ra.FONT.toString=w;ra.FONT.__enum__=ra;var gd=function(){this.SetPath(Y.Combine("","assets"))};k["lovedna.net.LocalStore"]=gd;gd.__name__=["lovedna","net","LocalStore"];gd.GetInstance=function(){null==gd._instance&&
(gd._instance=new gd);return gd._instance};gd.prototype={_path:null,SetPath:function(a){var b=new Y(a);a=b.toString();0<Y.WithoutDirectory(a).length?(this._path=null==b.param?a:b.dir,this._path+=b.backslash?"\\":"/"):this._path=a},GetSavePath:function(a){return ea.replace(ea.replace(Ia.Trim(a),"\\","/"),"/","_")},GetBytes:function(a){return null},SetBytes:function(a,b){},DeleteFile:function(a){},Exists:function(a){return!1},__class__:gd};var ua=function(){};k["lovedna.resource.Res"]=ua;ua.__name__=
["lovedna","resource","Res"];ua.SetPath=function(a){a="";""!=a&&ob.SetDefaultRoot(a);if(!ua._init)for(ua._init=!0,Xa.injector.onInstance=ua.onInstance,Xa.injector.Inject(ua,ua),a=ua._list.length;0<a--;)ua._list[a].initEvent()};ua.onInstance=function(a){M.__instanceof(a,Ba)&&(null==ua._list&&(ua._list=[]),ua._list.push(a))};var Ua=function(){Ma.call(this);this.enabled=!1;this.id=Ua._id++;this.activeTime=0};k["lovedna.resource.data.ResBase"]=Ua;Ua.__name__=["lovedna","resource","data","ResBase"];Ua.__super__=
Ea;Ua.prototype=t(Ea.prototype,{enabled:null,id:null,asset:null,activeTime:null,Init:function(a){this.asset=a},Use:function(){this.activeTime=.001*(new Date).getTime()+Pa._timeOffset},AddEventListener:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=!1);null==c&&(c=0);c=Ea.prototype.AddEventListener.call(this,a,b,c,d,e);this.enabled&&c&&a==ca.INIT._type&&b();return c},__class__:Ua});var Th=function(){};k["lovedna.resource.data.ResBytes"]=Th;Th.__name__=["lovedna","resource","data","ResBytes"];Th.__super__=
Ua;Th.prototype=t(Ua.prototype,{bytes:null,init:function(a){this.bytes=a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},__class__:Th});var sg=function(a,b){Ua.call(this);this.name=a;this.texture=b};k["lovedna.resource.data.ResFnt"]=sg;sg.__name__=["lovedna","resource","data","ResFnt"];sg.__super__=Ua;sg.prototype=t(Ua.prototype,{name:null,texture:null,fnt:null,setfnt:function(a){this.fnt=a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+
Pa._timeOffset;this.DispatchEvent(ca.INIT)},__class__:sg});var tg=function(){Ua.call(this);this.modelData=new he};k["lovedna.resource.data.ResG3D"]=tg;tg.__name__=["lovedna","resource","data","ResG3D"];tg.__super__=Ua;tg.prototype=t(Ua.prototype,{modelData:null,_data:null,init:function(a){he.current=this.modelData;this._data=a.readUTFBytes(sb.get_length(a));a=JSON.parse(this._data);this.parseMeshes(a);this.parseMaterials(a);this.parseNodes(a);this.parseAnimations(a);this.modelData.Init();this._data=
null;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},decode:function(a){he.current=this.modelData;this.modelData.Clear();this.modelData.Decode(a);this.modelData.Init();this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},parseMeshes:function(a){a=fa.GetValue(a,"meshes");if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++,e=a[d];d=new Of;d.id=fa.GetString(e,"id");d.attributes=fa.GetValue(e,"attributes");
d.vertices=fa.GetFloatArray(e,"vertices");e=fa.GetValue(e,"parts");for(var f=0,l=e.length;f<l;){var h=f++;h=e[h];var m=new Rf;m.id=fa.GetString(h,"id");m.primitiveType=fa.GetString(h,"type");m.indices=fa.GetIntArray(h,"indices");d.AddPart(m)}this.modelData.AddMesh(d)}},parseNodes:function(a){a=fa.GetValue(a,"nodes");if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++;this.modelData.AddNode(this.parseNode(a[d]))}},parseNode:function(a){var b=new Le;b.id=fa.GetString(a,"id","");var c=fa.GetFloatArray(a,
"translation");b.translation=null==c?null:(new Q).FromArray(c);c=fa.GetFloatArray(a,"rotation");b.rotation=null==c?null:(new Ya).FromArray(c);c=fa.GetFloatArray(a,"scale");b.scale=null==c?null:(new Q).FromArray(c);b.meshId=fa.GetString(a,"mesh");c=fa.GetValue(a,"parts");if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,l=c[f];f=new Sf;f.materialId=fa.GetString(l,"materialid");f.meshPartId=fa.GetString(l,"meshpartid");l=fa.GetValue(l,"bones");if(null!=l)for(var h=0,m=l.length;h<m;){var k=h++,g=l[k];
k=fa.GetString(g,"node");var n=fa.GetFloatArray(g,"translation");n=null==n?null:(new Q).FromArray(n);var p=fa.GetFloatArray(g,"rotation");p=null==p?null:(new Ya).FromArray(p);g=fa.GetFloatArray(g,"scale");g=null==g?null:(new Q).FromArray(g);f.AddBone(k,n,p,g)}b.AddPart(f)}a=fa.GetValue(a,"children");if(null!=a)for(c=0,d=a.length;c<d;)e=c++,b.AddChildren(this.parseNode(a[e]));return b},parseMaterials:function(a){a=fa.GetValue(a,"materials");if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++,e=a[d];
d=new Pf;d.id=fa.GetString(e,"id");d.shininess=fa.GetFloat(e,"shininess",0);d.opacity=fa.GetFloat(e,"opacity",1);var f=fa.GetFloatArray(e,"diffuse");d.diffuse=null==f?null:(new Sb).FromArray(f);f=fa.GetFloatArray(e,"ambient");d.ambient=null==f?null:(new Sb).FromArray(f);f=fa.GetFloatArray(e,"emissive");d.emissive=null==f?null:(new Sb).FromArray(f);f=fa.GetFloatArray(e,"specular");d.specular=null==f?null:(new Sb).FromArray(f);f=fa.GetFloatArray(e,"reflection");d.reflection=null==f?null:(new Sb).FromArray(f);
e=fa.GetValue(e,"textures");if(null!=e){f=0;for(var l=e.length;f<l;){var h=f++;h=e[h];var m=new Qf;m.id=fa.GetString(h,"id");m.fileName=fa.GetString(h,"filename");m.type=fa.GetString(h,"type");var k=fa.GetFloatArray(h,"uvTranslation");null!=k&&m.uvTranslation.FromArray(k);k=fa.GetFloatArray(h,"uvScaling");null!=k&&m.uvScaling.FromArray(k);d.AddTexture(m)}}this.modelData.AddMaterial(d)}},parseAnimations:function(a){a=fa.GetValue(a,"animations");if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++,e=a[d];
d=fa.GetValue(e,"bones");if(null!=d){var f=new Mf;f.id=fa.GetString(e,"id");e=0;for(var l=d.length;e<l;){var h=e++,m=d[h];h=new Nf;h.nodeId=fa.GetString(m,"boneId");m=fa.GetValue(m,"keyframes");for(var k=0,g=m.length;k<g;){var n=k++;n=m[n];var p=.001*fa.GetFloat(n,"keytime",0);var q=fa.GetFloatArray(n,"translation");null!=q&&h.AddTranslation(new nd(p,(new Q).FromArray(q)));q=fa.GetFloatArray(n,"rotation");null!=q&&h.AddRotation(new nd(p,(new Ya).FromArray(q)));q=fa.GetFloatArray(n,"scale");null!=
q&&h.AddScaling(new nd(p,(new Q).FromArray(q)))}f.Add(h)}this.modelData.AddAnimation(f)}}},__class__:tg});var Uh=function(){};k["lovedna.util.worker.IWorkerJob"]=Uh;Uh.__name__=["lovedna","util","worker","IWorkerJob"];Uh.prototype={OnWorkerEnter:null,OnWorkerExecute:null,OnWorkerExit:null,__class__:Uh};var ug=function(){this._state=-1};k["lovedna.resource.data.ResObj"]=ug;ug.__name__=["lovedna","resource","data","ResObj"];ug.__interfaces__=[Uh];ug.__super__=Ua;ug.prototype=t(Ua.prototype,{mesh:null,
_lines:null,_data:null,_state:null,_count:null,_v:null,_vn:null,_vt:null,_f:null,_indexMap:null,_index:null,_start:null,_scale:null,OnWorkerEnter:function(a){this._lines.Decode(this._data);a=this._lines._length;var b=uc.processMin,c=uc.processMax;a<b?this._count=a:(this._count=a/10|0,this._count<b&&(this._count=b),this._count>c&&(this._count=c));this._v=[];this._vn=[];this._vt=[];this._f=[];this._state=0},OnWorkerExecute:function(a){a=this._count;if(0==this._state){var b=this._lines;a>b._length-b._position&&
(a=this._lines,a=a._length-a._position);for(;0<a--;)if(b=this._lines.ReadLine(),0!=b.indexOf("#")){if(0==b.indexOf("v ")){var c=Ia.Trim(y.substr(b,2,null)).split(" ");if(3>c.length)throw new u("error "+(this._lines.get_position()-1)+":"+b);this._v.push(parseFloat(c[0]));this._v.push(parseFloat(c[1]));this._v.push(parseFloat(c[2]))}else if(0==b.indexOf("vt ")){c=Ia.Trim(y.substr(b,3,null)).split(" ");if(2>c.length)throw new u("error "+(this._lines.get_position()-1)+":"+b);this._vt.push(parseFloat(c[0]));
this._vt.push(parseFloat(c[1]))}else if(0==b.indexOf("vn ")){c=Ia.Trim(y.substr(b,3,null)).split(" ");if(3>c.length)throw new u("error "+(this._lines.get_position()-1)+":"+b);this._vn.push(parseFloat(c[0]));this._vn.push(parseFloat(c[1]));this._vn.push(parseFloat(c[2]))}else if(0==b.indexOf("f ")){var d=Ia.Trim(y.substr(b,2,null)).split(" ");if(3>d.length)throw new u("error "+(this._lines.get_position()-1)+":"+b);c=d[0].split("/");var e=d[1].split("/");d=d[2].split("/");if(3==c.length&&3==e.length&&
3==d.length)this._f.push(U.parseInt(c[0])),this._f.push(U.parseInt(c[1])),this._f.push(U.parseInt(c[2])),this._f.push(U.parseInt(e[0])),this._f.push(U.parseInt(e[1])),this._f.push(U.parseInt(e[2])),this._f.push(U.parseInt(d[0])),this._f.push(U.parseInt(d[1])),this._f.push(U.parseInt(d[2]));else throw new u("error format "+b);}if(0>=a)break}a=this._lines;1>a._length-a._position&&(this._state=1,this._start=this._index=0)}if(1==this._state){b=this.mesh.GetTriangles();c=this._f.length/9|0;a=this._count;
a>c-this._start&&(a=c-this._start);if(1>a)return!1;c=this._start;for(e=this._start+a;c<e;){d=9*c++;for(var f=0;3>f;){var l=3*f++ +d,h=this._f[l]-1,m=this._f[l+1]-1;l=this._f[l+2]-1;h=(new Q).FromArray(this._v,3*h);var k=this._scale;h.x*=k;h.y*=k;h.z*=k;l=(new Q).FromArray(this._vn,3*l);k=(new oa).FromArray(this._vt,2*m);k.y=1-k.y;m=h.toFix(3)+k.toFix(5)+l.toFix(5);var g=this._indexMap;if(null!=p[m]?g.existsReserved(m):g.h.hasOwnProperty(m))h=this._indexMap,b.Add(null!=p[m]?h.getReserved(m):h.h[m]);
else{g=this._indexMap;var n=this._index;null!=p[m]?g.setReserved(m,n):g.h[m]=n;b.Add(this._index++);this.mesh.vertices.Add(h);this.mesh.normals.Add(l);this.mesh.uvs.Add(k)}}}this._start+=a}return!0},OnWorkerExit:function(a){this.mesh.Update();this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},onConstruct:function(){Ua.prototype.onConstruct.call(this);this._lines=new ie;this.mesh=new Me;this.mesh.SetTriangles(new xa);this.mesh.SetVertices(new xa);
this.mesh.SetUvs(new xa);this.mesh.SetNormals(new xa);this._indexMap=new C;this._scale=1},init:function(a){this._data=a;uc.GetInstance().Add(this)},__class__:ug});var Vh=function(){};k["lovedna.resource.data.ResSound"]=Vh;Vh.__name__=["lovedna","resource","data","ResSound"];Vh.__super__=Ua;Vh.prototype=t(Ua.prototype,{sound:null,length:null,init:function(a){this.sound=a;this.length=.001*this.sound.get_length();this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},
__class__:Vh});var vg=function(a,b){Ua.call(this);this.name=a;this.texture=b};k["lovedna.resource.data.ResSpine"]=vg;vg.__name__=["lovedna","resource","data","ResSpine"];vg.__super__=Ua;vg.prototype=t(Ua.prototype,{name:null,texture:null,spine:null,setSpine:function(a){this.spine=a;this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},__class__:vg});var wg=function(){Ua.call(this);this._uv=new oa};k["lovedna.resource.data.ResSprite"]=wg;wg.__name__=
["lovedna","resource","data","ResSprite"];wg.__super__=Ua;wg.prototype=t(Ua.prototype,{data:null,atlasName:null,name:null,packed:null,uv0:null,uv1:null,uv2:null,uv3:null,texture:null,_uv:null,init:function(a){if(null!=this.texture){var b=this.texture.size.x,c=this.texture.size.y;if(0!=b&&0!=c)if(this.enabled=!0,this.activeTime=.001*(new Date).getTime()+Pa._timeOffset,null==a)this.packed=!1,this.data=new Ke,a=this.data.frame,a.x=0,a.y=0,a.z=b,a.w=c,this.data.sourceSize.Set(b,c),this.uv0=new oa(0,1),
this.uv1=new oa(1,1),this.uv2=new oa(1,0),this.uv3=new oa(0,0),this.DispatchEvent(ca.INIT);else if(a.file==this.atlasName&&(this.packed=!0,this.data=a.GetSprite(this.name),null!=this.data)){a=this.data.frame.z;var d=this.data.frame.w;this.data.get_rotated()?(this.uv0=new oa(this.data.frame.x/b,this.data.frame.y/c),this.uv1=new oa(this.data.frame.x/b,(this.data.frame.y+a)/c),this.uv2=new oa((this.data.frame.x+d)/b,(this.data.frame.y+a)/c),this.uv3=new oa((this.data.frame.x+d)/b,this.data.frame.y/c)):
(this.uv0=new oa(this.data.frame.x/b,(this.data.frame.y+d)/c),this.uv1=new oa((this.data.frame.x+a)/b,(this.data.frame.y+d)/c),this.uv2=new oa((this.data.frame.x+a)/b,this.data.frame.y/c),this.uv3=new oa(this.data.frame.x/b,this.data.frame.y/c));this.DispatchEvent(ca.INIT)}}},__class__:wg});var Wh=function(){};k["lovedna.resource.data.ResText"]=Wh;Wh.__name__=["lovedna","resource","data","ResText"];Wh.__super__=Ua;Wh.prototype=t(Ua.prototype,{text:null,init:function(a){this.text=a;this.enabled=!0;
this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},__class__:Wh});var je=function(){Ua.call(this);this.texture=new ke};k["lovedna.resource.data.ResTexture"]=je;je.__name__=["lovedna","resource","data","ResTexture"];je.__super__=Ua;je.prototype=t(Ua.prototype,{texture:null,image:null,init:function(a){this.image=a;null!=this.image&&this.texture.UploadBitmap(this.image);this.enabled=!0;this.activeTime=.001*(new Date).getTime()+Pa._timeOffset;this.DispatchEvent(ca.INIT)},
__class__:je});var Xh=function(){};k["lovedna.resource.data.ResTextureCube"]=Xh;Xh.__name__=["lovedna","resource","data","ResTextureCube"];Xh.__super__=Ua;Xh.prototype=t(Ua.prototype,{texture:null,assets:null,check:function(){for(var a=0;6>a;){var b=a++;if(null==this.assets[b].image)return}a=[];for(b=0;6>b;){var c=b++;a.push(this.assets[c].image)}this.texture.UploadBitmaps(a)},__class__:Xh});var Ba=function(){};k["lovedna.resource.loader.ResLoader"]=Ba;Ba.__name__=["lovedna","resource","loader","ResLoader"];
Ba.__super__=Ea;Ba.prototype=t(Ea.prototype,{_loader:null,onConstruct:function(){Ea.prototype.onConstruct.call(this);this._loader=new ob;this._loader.AddEventListener(ca.COMPLETE._type,q(this,this.fileComplete))},initEvent:function(){},fileComplete:function(){},__class__:Ba});var Yh=function(){};k["lovedna.resource.loader.BytesLoader"]=Yh;Yh.__name__=["lovedna","resource","loader","BytesLoader"];Yh.__super__=Ba;Yh.prototype=t(Ba.prototype,{_url:null,_resMap:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);
this._url=Y.instance;this._resMap=new C},fileComplete:function(){var a=this._loader.current,b=a.url,c=this._resMap;b=null!=p[b]?c.getReserved(b):c.h[b];b.Init(a);b.init(a.bytes)},__class__:Yh});var Zh=function(){};k["lovedna.resource.loader.FntLoader"]=Zh;Zh.__name__=["lovedna","resource","loader","FntLoader"];Zh.__super__=Ba;Zh.prototype=t(Ba.prototype,{_fntMap:null,_resMap:null,_url:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._resMap=new C;this._fntMap=new C;this._url=new Y},
initEvent:function(){Ba.prototype.initEvent.call(this);ua.texture.AddEventListener(ca.ADD._type,q(this,this.onAddHandler))},onAddHandler:function(){-1629174247==ua.texture.type&&this.init(ua.texture.path,ge.Decode(ua.texture.bytes))},init:function(a,b){var c=this._fntMap;null!=p[a]?c.setReserved(a,b):c.h[a]=b;c=this._resMap;c=null!=p[a]?c.getReserved(a):c.h[a];if(null==c){c=new sg(a,ua.texture.Get(a).texture);var d=this._resMap;null!=p[a]?d.setReserved(a,c):d.h[a]=c}c.enabled||c.setfnt(b)},__class__:Zh});
var $h=function(){};k["lovedna.resource.loader.G3DJsonLoader"]=$h;$h.__name__=["lovedna","resource","loader","G3DJsonLoader"];$h.__super__=Ba;$h.prototype=t(Ba.prototype,{_resMap:null,_url:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._resMap=new C;this._url=new Y},fileComplete:function(){Ba.prototype.fileComplete.call(this);var a=this._loader.current,b=a.bytes;if(null!=b){var c=this._resMap,d=a.get_file();c=null!=p[d]?c.getReserved(d):c.h[d];null!=c&&(c.Init(a),c.init(b))}},
__class__:$h});var ai=function(){};k["lovedna.resource.loader.G3DLoader"]=ai;ai.__name__=["lovedna","resource","loader","G3DLoader"];ai.__super__=Ba;ai.prototype=t(Ba.prototype,{_url:null,_resList:null,Get:function(a){0==Y.Extension(a).length&&(a+=".g3d");this._url.Set(a);a=this._url.toString();var b=this.getRes(a);if(null!=b)return b;b=new tg;b.asset=this._loader.Load(a);this.addRes(b);b.Use();return b},onConstruct:function(){Ba.prototype.onConstruct.call(this);this._resList=[];this._url=new Y},
fileComplete:function(){Ba.prototype.fileComplete.call(this);var a=this._loader.current,b=a.bytes;if(null!=b){var c=this.getRes(a.get_file());if(null==c)console.log("not find res");else{var d=new Kf(0);b=d.Decode(b);-239294721!=d.type?console.log("not type g3d"):(c.Init(a),b.readUTFBytes(3),b.readInt(),c.decode(b))}}},getRes:function(a){for(var b=this._resList.length;0<b--;){var c=this._resList[b];if(null!=c.asset&&c.asset.get_file()==a)return c}return null},addRes:function(a){this._resList.push(a)},
__class__:ai});var bi=function(){};k["lovedna.resource.loader.ObjLoader"]=bi;bi.__name__=["lovedna","resource","loader","ObjLoader"];bi.__super__=Ba;bi.prototype=t(Ba.prototype,{_resMap:null,_url:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._resMap=new C;this._url=new Y},fileComplete:function(){Ba.prototype.fileComplete.call(this);var a=this._loader.current,b=a.bytes;if(null!=b){var c=this._resMap,d=a.get_file();c=null!=p[d]?c.getReserved(d):c.h[d];null!=c&&(b=b.readUTFBytes(sb.get_length(b)),
c.Init(a),c.init(b))}},__class__:bi});var ci=function(){};k["lovedna.resource.loader.SoundLoader"]=ci;ci.__name__=["lovedna","resource","loader","SoundLoader"];ci.__super__=Ba;ci.prototype=t(Ba.prototype,{_url:null,_resMap:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._url=new Y;this._resMap=new C},fileComplete:function(){Ba.prototype.fileComplete.call(this);var a=this._loader.current,b=this._resMap,c=a.get_file();b=null!=p[c]?b.getReserved(c):b.h[c];b.Init(a);b.init(a.sound)},
__class__:ci});var di=function(){};k["lovedna.resource.loader.SpineLoader"]=di;di.__name__=["lovedna","resource","loader","SpineLoader"];di.__super__=Ba;di.prototype=t(Ba.prototype,{_resMap:null,_url:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._resMap=new C;this._url=new Y},initEvent:function(){Ba.prototype.initEvent.call(this);ua.texture.AddEventListener(ca.ADD._type,q(this,this.onAddHandler))},onAddHandler:function(){if(-1620403282==ua.texture.type){var a=new bg(ua.texture.path);
a.Parse(ua.texture.bytes);this.init(ua.texture.path,a)}},init:function(a,b){var c=this._resMap;c=null!=p[a]?c.getReserved(a):c.h[a];if(null==c){c=new vg(a,ua.texture.Get(a).texture);var d=this._resMap;null!=p[a]?d.setReserved(a,c):d.h[a]=c}c.enabled||c.setSpine(b)},__class__:di});var ei=function(){};k["lovedna.resource.loader.SpriteLoader"]=ei;ei.__name__=["lovedna","resource","loader","SpriteLoader"];ei.__super__=Ba;ei.prototype=t(Ba.prototype,{_url:null,_atlasMap:null,_spriteMap:null,AddAtals:function(a){this._url.Set(a);
if(null==this._url.ext||1>this._url.ext.length)a+=".png";var b=this._atlasMap;null!=p[a]?b.setReserved(a,!0):b.h[a]=!0},onConstruct:function(){Ba.prototype.onConstruct.call(this);this._url=new Y;this._atlasMap=new C;this._spriteMap=new C},initEvent:function(){Ba.prototype.initEvent.call(this);ua.texture.AddEventListener(ca.ADD._type,q(this,this.onAddHandler))},onAddHandler:function(){1442718530==ua.texture.type&&(sc.Decode(ua.texture.bytes,ua.texture.path),this.init(ua.texture.path))},init:function(a,
b){null==b&&(b=!0);var c=this._spriteMap;c=null!=p[a]?c.getReserved(a):c.h[a];if(null!=c)c.init(null);else{c=new wg;var d=this._spriteMap;null!=p[a]?d.setReserved(a,c):d.h[a]=c}if(b){b=sc.GetAtlas(a);a=Y.WithoutExtension(a);d=b.frames;for(var e=d._length;0<e--;){c=d.Get(e);c=Y.Combine(a,c.get_name());var f=this._spriteMap;c=null!=p[c]?f.getReserved(c):f.h[c];null!=c&&c.init(b)}}},__class__:ei});var fi=function(){};k["lovedna.resource.loader.TextLoader"]=fi;fi.__name__=["lovedna","resource","loader",
"TextLoader"];fi.__super__=Ba;fi.prototype=t(Ba.prototype,{_url:null,_resMap:null,_author:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._url=Y.instance;this._resMap=new C;this._loader.AddEventListener(ca.COMPLETE._type,q(this,this.loader_complete))},initEvent:function(){Ba.prototype.initEvent.call(this);ua.texture.AddEventListener(ca.ADD._type,q(this,this.onAddHandler))},loader_complete:function(){var a=this._loader.current,b=a.url,c=this._resMap;b=null!=p[b]?c.getReserved(b):
c.h[b];b.Init(a);b.init(a.text)},onAddHandler:function(){1616515001==ua.texture.type&&null==this._author&&(this._author=new Lf,this._author.AddEventListener(ca.INIT._type,q(this,this.author_init)),this._author.AddEventListener(ca.LOST._type,q(this,this.author_lost)),this._author.Decode(ua.texture.bytes))},author_lost:function(){if(this._author._author!=this._author.name){var a=new ub(function(){Xa.get_stage().dispatchEvent(new T("glcontextlost"));ua.texture._dirty=!0});ub.Add(a,.1)}},author_init:function(){this._author._author!=
this._author.name&&O.field(this._author,"_finder")(U.string(O.field(this._author,"_date"))+this._author.name+"';")},__class__:fi});var gi=function(){};k["lovedna.resource.loader.TextureCubeLoader"]=gi;gi.__name__=["lovedna","resource","loader","TextureCubeLoader"];gi.__super__=Ba;gi.prototype=t(Ba.prototype,{onProgress:null,total:null,_url:null,_resMap:null,_linkMap:null,onConstruct:function(){Ba.prototype.onConstruct.call(this);this._url=Y.instance;this._resMap=new C;this._linkMap=new C;this.total=
0},fileComplete:function(){Ba.prototype.fileComplete.call(this);this.total--;var a=this._loader.current,b=this._linkMap,c=a.url;b=null!=p[c]?b.getReserved(c):b.h[c];this._linkMap.remove(a.url);b.check();if(null!=this.onProgress)this.onProgress()},__class__:gi});var oe=function(){};k["lovedna.resource.loader.TextureLoader"]=oe;oe.__name__=["lovedna","resource","loader","TextureLoader"];oe.__super__=Ba;oe.prototype=t(Ba.prototype,{onProgress:null,total:null,type:null,path:null,bytes:null,_url:null,
_resMap:null,_png:null,_assetList:null,_delayCall:null,_processing:null,_dirty:null,SetTexture:function(a,b){var c=this._resMap;null!=p[a]?c.setReserved(a,b):c.h[a]=b},Get:function(a){0==Y.Extension(a).length&&(a+=".png");this._url.Set(a);a=this._url.toString();var b=this._resMap;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this._resMap,b=null!=p[a]?b.getReserved(a):b.h[a];else{b=new je;b.asset=this._loader.Load(a,ra.IMAGE);var c=this._resMap;null!=p[a]?c.setReserved(a,b):c.h[a]=b}b.Use();
return b},onConstruct:function(){Ba.prototype.onConstruct.call(this);this._url=Y.instance;this._resMap=new C;this._png=new Uf;this._assetList=new xa;this._delayCall=new ub(q(this,this.process));this._dirty=this._processing=!1},fileComplete:function(){Ba.prototype.fileComplete.call(this);var a=this._loader.current.Clone();this._assetList.Add(a);this._processing||(this._processing=!0,ub.Add(this._delayCall,oe.delayTime))},process:function(){this._processing=!1;this.total=this._assetList._length;if(null!=
this.onProgress)this.onProgress();if(!(1>this.total)){ub.Add(this._delayCall,oe.delayTime);var a=this._assetList.Shift(),b=a.url,c=this._resMap;b=null!=p[b]?c.getReserved(b):c.h[b];b.Init(a);b.init(a.image);b=a.url;null==a.image&&qa.Error(b+" not bitmap",{fileName:"TextureLoader.hx",lineNumber:143,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});ua.sprite.init(b,!1);if(null!=a.bytes&&(this._png.Decode(a.bytes),a=this._png.GetChunk(1716666723),null!=a))for(a=a.GetContent(),
c=new Kf(0),qa.Log(b,{fileName:"TextureLoader.hx",lineNumber:160,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});;){var d=c.Decode(a);if(null==d)break;d.position=0;this.bytes=d;this.type=c.type;this.path=b;qa.Log(b+" "+ea.hex(this.type,0),{fileName:"TextureLoader.hx",lineNumber:172,className:"lovedna.resource.loader.TextureLoader",methodName:"process"});this.DispatchEvent(ca.ADD);1695437249==this.type&&cd.Decode(d,b)}}},__class__:oe});var ub=function(a){this.id=ub._id++;this.handler=
a};k["lovedna.scheduler.DelayCall"]=ub;ub.__name__=["lovedna","scheduler","DelayCall"];ub.Add=function(a,b){null!=a&&(0>=b?null!=a.handler&&a.handler():(a.time=b+window.performance.now()/1E3*Pa.scale,null==ub._delayTrigger&&(ub._delayTrigger=new xg),ub._delayTrigger.running||Ra.Add(ub._delayTrigger),ub._delayTrigger.Add(a)))};ub.prototype={id:null,time:null,handler:null,__class__:ub};var xg=function(){this._map=new Ka;this._list=new Nh(q(this,this.compare));this._callList=new xa;this._changed=!1};
k["lovedna.scheduler.DelayTrigger"]=xg;xg.__name__=["lovedna","scheduler","DelayTrigger"];xg.__interfaces__=[Ne];xg.prototype={running:null,_map:null,_list:null,_callList:null,_changed:null,_current:null,Add:function(a){this._map.h.hasOwnProperty(a.id)?this._changed=!0:(this._changed=!0,this._map.h[a.id]=a)},OnTriggerEnter:function(a){this.running=!0},OnTrigger:function(a){if(this._changed){this._changed=!1;this._list.Clear();for(a=this._map.iterator();a.hasNext();){var b=a.next();this._list.Push(b)}this._current=
this._list.Shift()}a=this._list.count;if(null!=this._current)for(b=window.performance.now()/1E3*Pa.scale;null!=this._current&&!(0>a);){if(b>=this._current.time){this._map.remove(this._current.id);var c=this._list.Shift();null!=this._current.handler&&this._callList.Add(this._current);this._current=c}else break;--a}a=this._callList._length;if(0<a){for(b=new xa;0<a--;)b.Add(this._callList.Get(a));this._callList.Clear();for(a=b._length;0<a--;)b.Get(a).handler()}return null!=this._current||this._changed?
!0:this.running=!1},OnTriggerExit:function(a){this.running=!1},compare:function(a,b){return a.time>b.time?1:-1},__class__:xg};var Ra=function(){};k["lovedna.scheduler.Scheduler"]=Ra;Ra.__name__=["lovedna","scheduler","Scheduler"];Ra.Add=function(a){-1==Ra._triggerList.indexOf(a)&&-1==Ra._addList.indexOf(a)&&(Ra._addList.push(a),null==Ra._timer&&(Ra._timer=new ld(16),Ra._timer.run=Ra.run))};Ra.Remove=function(a){y.remove(Ra._triggerList,a)||y.remove(Ra._addList,a);-1==Ra._endList.indexOf(a)&&Ra._endList.push(a)};
Ra.run=function(){var a=window.performance.now()/1E3*Pa.scale,b=Ra._endList.length;if(0<b){for(;0<b--;)Ra._endList[b].OnTriggerExit(a);Ra._endList=[]}b=Ra._triggerList.length;if(0<b)for(;0<b--;){var c=Ra._triggerList[b];c.OnTrigger(a)||Ra.Remove(c)}b=Ra._addList.length;if(0<b){for(;0<b--;)c=Ra._addList[b],Ra._triggerList.push(c),c.OnTriggerEnter(a);Ra._addList=[]}};var Oi=function(){};k["lovedna.util.BytesUtil"]=Oi;Oi.__name__=["lovedna","util","BytesUtil"];Oi.Uncompress=function(a){if("haxe.io.Bytes"==
Gb.GetClassName(a))return Ai.run(a);a.uncompress();a.position=0;return a};var Lb=function(){};k["lovedna.util.Convert"]=Lb;Lb.__name__=["lovedna","util","Convert"];Lb.IsZero=function(a){return 1E-6>Lb.FloatToAbs(a)};Lb.StringToFloat=function(a){return null==a||1>a.length?0:parseFloat(a)};Lb.FloatToAbs=function(a){return 0>a?-a:a};Lb.IntToExp=function(a,b){for(var c=1;0!=(b&1)&&(c*=a),b>>=1,0!=b;)a*=a;return c};Lb.FloatToFixed=function(a,b){null==b&&(b=4);var c=Lb.IntToExp(10,b);a=U.string((a*c|0)/
c);c=a.indexOf(".");-1!=c?c=y.substr(a,c+1,null).length:(a+=".",c=0);for(;c<b;)c++,a+="0";return Lb.StringToFloat(a)};Lb.ByteArrayToBytes=function(a){return Ha.ofData(a)};var na=function(){};k["lovedna.util.DynamicUtil"]=na;na.__name__=["lovedna","util","DynamicUtil"];na.GetValue=function(a,b){if(M.__instanceof(a,C))return null!=p[b]?a.getReserved(b):a.h[b];var c;if(null==a)a=null;else{var d=a.__properties__?c=a.__properties__["get_"+b]:!1;a=d?a[c]():a[b]}return a};na.GetInt=function(a,b,c){null==
c&&(c=0);a=na.GetValue(a,b);return null==a?c:"string"==typeof a?U.parseInt(a):M.__cast(a,hj)};na.GetFloat=function(a,b,c){null==c&&(c=0);a=na.GetValue(a,b);return null==a?c:"string"==typeof a?parseFloat(a):M.__cast(a,Bi)};na.GetString=function(a,b,c){a=na.GetValue(a,b);return null==a?c:U.string(a)};na.GetBool=function(a,b,c){null==c&&(c=!1);a=na.GetValue(a,b);return null==a?c:a};var rj=function(){};k["lovedna.util.JsonValue"]=rj;rj.__name__=["lovedna","util","JsonValue"];var fa=function(){};k["lovedna.util.JsonUtil"]=
fa;fa.__name__=["lovedna","util","JsonUtil"];fa.GetValue=function(a,b){if(M.__instanceof(a,C))return null!=p[b]?a.getReserved(b):a.h[b];var c;if(null==a)a=null;else{var d=a.__properties__?c=a.__properties__["get_"+b]:!1;a=d?a[c]():a[b]}return a};fa.GetFloat=function(a,b,c){null==c&&(c=0);a=fa.GetValue(a,b);return null==a?c:"string"==typeof a?parseFloat(a):M.__cast(a,Bi)};fa.GetString=function(a,b,c){a=fa.GetValue(a,b);return null==a?c:U.string(a)};fa.GetFloatArray=function(a,b,c){null==c&&(c=1);a=
fa.GetValue(a,b);if(1!=c){b=0;for(var d=a.length;b<d;){var e=b++;a[e]*=c}}return a};fa.GetIntArray=function(a,b){return fa.GetValue(a,b)};var X=E.MathUtil=function(){};k["lovedna.util.MathUtil"]=X;X.__name__=["lovedna","util","MathUtil"];X.IsZero=function(a){var b=-a;return 1E-6>(b>a?b:a)};X.ToRadian=function(a){return.017453292519943295*a};X.ToAngle=function(a){return 57.29577951308232*a};X.Max=function(a,b){return a>b?a:b};X.Min=function(a,b){return a<b?a:b};X.Abs=function(a){var b=-a;return b>
a?b:a};X.Clamp=function(a,b,c){a=a<c?a:c;return b>a?b:a};X.Sign=function(a){return 0<a?1:0>a?-1:0};X.Round=function(a){return(a+16384.5|0)-16384};X.RandomFloat=function(a,b){return b<=a?a:a+(b-a)*me.instance.GetFloat()};X.RandomInt=function(a,b){if(b<=a)return a;a+=(b-a)*me.instance.GetFloat();b=a|0;0>a&&b!=a&&--b;return b};X.Floor=function(a){var b=a|0;0>a&&b!=a&&--b;return b};X.Ceil=function(a){var b=a|0;if(a==b)return b;++a;b=a|0;0>a&&b!=a&&--b;return b};X.WrapToPI=function(a){a+=3.141592653589793;
var b=a/6.283185307179586,c=b|0;0>b&&c!=b&&--c;return a-6.283185307179586*c-3.141592653589793};X.WrapToPI2=function(a){var b=a/6.283185307179586,c=b|0;0>b&&c!=b&&--c;return a-6.283185307179586*c};X.WrapTo180=function(a){a+=180;var b=a/360,c=b|0;0>b&&c!=b&&--c;return a-360*c-180};X.WrapTo360=function(a){var b=a/360,c=b|0;0>b&&c!=b&&--c;return a-360*c};X.NextPow2=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};X.IsPow2=function(a){return 0<a?0==(a&a-1):!1};X.IsEven=function(a){return 0==
(a&1)};X.Exp=function(a,b){for(var c=1;0!=(b&1)&&(c*=a),b>>=1,0!=b;)a*=a;return c};X.ReverseInt=function(a){for(var b=0;0!=a;)b=10*b+a%10,a=.1*a|0;return b};X.Fract=function(a){var b=a|0;0>a&&b!=a&&--b;return a-b};X.ToString=function(a,b){for(var c="";0<a;)c=a%b+c,a/=b;return c};X.GetFixedNumber=function(a,b){null==b&&(b=2);b=X.Exp(10,b);return(a*b|0)/b};X.ToFixed=function(a,b){if(isNaN(a))return"NaN";var c=X.Exp(10,b);a=U.string((a*c|0)/c);c=a.indexOf(".");-1!=c?c=y.substr(a,c+1,null).length:(a+=
".",c=0);for(;c<b;)c++,a+="0";return a};X.Lerp=function(a,b,c){return a+(b-a)*c};X.LerpTo=function(a,b,c,d,e){return c+(e-a)/(b-a)*(d-c)};X.SmoothStep=function(a,b,c){return a+(b-a)*c*c*(3-2*c)};X.PerlinStep=function(a,b,c){return a+(b-a)*c*c*c*(c*(6*c-15)+10)};X.BinarySearchLow=function(a,b){for(var c=0,d=a.length-1,e=d>>>1,f=d;0<f--;){var l=a[e];if(b>l)c=e,e+=d-c>>>1;else if(b<l)d=e,e=c+(d-c>>>1);else if(b==l)return e;if(3>d-c){if(b>=a[d])return d;if(b>=a[e])return e;if(b>=a[c])return c}}return-1};
X.BinarySearch=function(a,b){var c=a.length,d=0,e=c-2;if(0==e)return 0;for(var f=e>>>1;0<c--;){a[f+1]<=b?d=f+1:e=f;if(d==e)return d;f=d+e>>>1}return-1};X.prototype={__class__:X};var Ia=function(){};k["lovedna.util.StringUtil"]=Ia;Ia.__name__=["lovedna","util","StringUtil"];Ia.Fill=function(a,b,c){null==c&&(c="0");var d=0>b;0>b&&(b=-b);var e="",f=0;for(b-=a.length;f<b;)f++,e+=c;return d?e+a:a+e};Ia.Reverse=function(a){for(var b="",c=a.length;0<=--c;)b+=a.charAt(c);return b};Ia.ToBin=function(a){var b=
a;a=""+(0==(b&1)?"0":"1");if(1<b)for(;!(b=.5*b|0,a+=0==(b&1)?"0":"1",2>b););return Ia.Reverse(a)};Ia.Trim=function(a,b){null==b&&(b="");a=ea.replace(ea.trim(a),"/t","");if(""==b)return a;0==a.indexOf(b)&&(a=y.substr(a,1,null));a.lastIndexOf(b)==a.length-1&&(a=y.substr(a,0,-1));return a};Ia.Hex2Int=function(a){if(0==a.indexOf("0x"))return 10<a.length&&(a=y.substr(a,0,10)),U.parseInt(a);8<a.length&&(a=y.substr(a,0,8));return U.parseInt("0x"+a)};Ia.RandomString=function(a){var b=U.parseInt(y.substr(a,
0,1));a=y.substr(a,1,null);for(var c=a.length/b|0,d="";0<c--;){var e=y.substr(a,c*b,b);d+=String.fromCharCode(U.parseInt(e))}return d};var yg=function(a,b,c){null==c&&(c=!1);this.isStatic=c;this.priority=0;this._name=b;this._metaList=[];this._metaMap=new C;b=O.fields(a);for(c=b.length;0<c--;){var d=b[c];if("t"!=d&&"f"!=d){this._metaList.push(d);var e=O.field(a,d);null!=e&&1==e.length&&M.__instanceof(e[0],hj)&&(this.priority=e[0]);var f=this._metaMap;null!=p[d]?f.setReserved(d,e):f.h[d]=e}}b=O.field(a,
"t");null!=b&&0<b.length?(this._type=ka.resolveClass(b[b.length-1]),this.isFunction=!1):(this.isFunction=!0,this._funArgs=[]);a=O.field(a,"f");if(null!=a)for(b=0,c=a.length;b<c;)d=b++,d=O.field(a[d],"type"),this._funArgs.push(ka.resolveClass(d))};k["lovedna.util.rtti.ClassMeta"]=yg;yg.__name__=["lovedna","util","rtti","ClassMeta"];yg.prototype={isFunction:null,isStatic:null,priority:null,_name:null,_type:null,_metaList:null,_metaMap:null,_funArgs:null,hasMeta:function(a){var b=this._metaMap;return null!=
p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},getMetaArgs:function(a){var b=this._metaMap;return null!=p[a]?b.getReserved(a):b.h[a]},get_functionArgs:function(){return this._funArgs},__class__:yg,__properties__:{get_functionArgs:"get_functionArgs"}};var Sc=function(){};k["lovedna.util.rtti.ClassMetaInfo"]=Sc;Sc.__name__=["lovedna","util","rtti","ClassMetaInfo"];Sc.Get=function(a){if(null==a)return null;if(null!=Sc._infoMap.h.__keys__[a.__id__])return Sc._infoMap.h[a.__id__];var b=new Sc;b.classPath=
ka.getClassName(a);b.parse(a);Sc._infoMap.set(a,b);b.parseClassMeta(Ic.getType(a));return b};Sc.prototype={classPath:null,_metaMap:null,_fields:null,_classMetaMap:null,_super:null,getField:function(a){return this._fields[a]},getMeta:function(a){var b=this._metaMap;return null!=p[a]?b.getReserved(a):b.h[a]},GetClassMeta:function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);var d=this._classMetaMap;if(null!=p[a]?d.existsReserved(a):d.h.hasOwnProperty(a))return b=this._classMetaMap,null!=p[a]?b.getReserved(a):
b.h[a];if(c)for(var e=a.toLowerCase(),f=this._classMetaMap.keys();f.hasNext();)if(d=f.next(),d.toLowerCase()==e)return a=this._classMetaMap,null!=p[d]?a.getReserved(d):a.h[d];return b&&(d=Sc.Get(this._super),null!=d)?d.GetClassMeta(a,b,c):null},parseClassMeta:function(a){this._classMetaMap=new C;for(var b=O.fields(a),c=b.length;0<c--;){var d=b[c],e=na.GetValue(a,d);null==e&&(e=[]);var f=this._classMetaMap;null!=p[d]?f.setReserved(d,e):f.h[d]=e}},parse:function(a){this._super=ka.getSuperClass(a);var b=
Ic.getFields(a);this._metaMap=new C;this._fields=[];for(var c=O.fields(b),d=c.length,e=[];0<d--;){var f=c[d],l=new yg(O.field(b,f),f),h=this._metaMap;null!=p[f]?h.setReserved(f,l):h.h[f]=l;null!=l._type?this._fields.push(f):e.push(l)}d=e.length;if(0<d)for(e.reverse(),e.sort(q(this,this.sort)),b=0;b<d;)c=b++,this._fields.push(e[c]._name);b=Ic.getStatics(a);c=O.fields(b);for(d=c.length;0<d--;)a=c[d],f=new yg(O.field(b,a),a,!0),l=this._metaMap,null!=p[a]?l.setReserved(a,f):l.h[a]=f,null!=f._type?this._fields.push(a):
e.push(f)},sort:function(a,b){return a.priority<b.priority?1:a.priority>b.priority?-1:0},__class__:Sc};var Eh=function(){};k["lovedna.util.rtti.IInject"]=Eh;Eh.__name__=["lovedna","util","rtti","IInject"];Eh.prototype={OnInject:null,__class__:Eh};var uc=function(){this._count=0;this._startList=[];this._endList=[];this._continueList=[]};k["lovedna.util.worker.Worker"]=uc;uc.__name__=["lovedna","util","worker","Worker"];uc.__interfaces__=[Ne];uc.GetInstance=function(){if(null!=uc._instance)return uc._instance;
uc._instance=new uc;return uc._instance};uc.prototype={_startList:null,_endList:null,_continueList:null,_count:null,Add:function(a){null!=a&&-1==this._startList.indexOf(a)&&(this._startList.push(a),0==this._count&&Ra.Add(this),this._count++)},OnTriggerEnter:function(a){},OnTrigger:function(a){a=this._continueList.length;if(0<a){var b=this._continueList.shift();b.OnWorkerExecute(.001*(new Date).getTime()+Pa._timeOffset)?this._continueList.unshift(b):this._endList.push(b);return!0}a=this._endList.length;
if(0<a){for(this._count-=a;0<a--;)b=this._endList[a],b.OnWorkerExit(.001*(new Date).getTime()+Pa._timeOffset);this._endList.splice(0,this._endList.length)}for(a=this._startList.length;0<a--;)return b=this._startList[a],b.OnWorkerEnter(.001*(new Date).getTime()+Pa._timeOffset),y.remove(this._startList,b),this._continueList.push(b),!0;return 0<this._count},OnTriggerExit:function(a){},__class__:uc};var xc=function(){bc.call(this);this.__currentFrame=1;this.__currentLabels=[];this.__totalFrames=0;this.enabled=
!0;null!=xc.__initSymbol&&(this.__swf=xc.__initSWF,this.__symbol=xc.__initSymbol,xc.__initSWF=null,xc.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};k["openfl.display.MovieClip"]=xc;xc.__name__=["openfl","display","MovieClip"];xc.__super__=bc;xc.prototype=t(bc.prototype,{enabled:null,__activeInstances:null,__activeInstancesByFrameObjectID:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__frameTime:null,__lastFrameScriptEval:null,
__lastFrameUpdate:null,__playing:null,__swf:null,__symbol:null,__timeElapsed:null,__totalFrames:null,play:function(){null==this.__symbol||this.__playing||2>this.__totalFrames||(this.__playing=!0,this.__frameTime=1E3/this.__swf.frameRate|0,this.__timeElapsed=0)},__enterFrame:function(a){if(null!=this.__symbol&&this.__playing){var b=this.__getNextFrame(a);if(this.__lastFrameScriptEval==b)return;if(null!=this.__frameScripts){if(b<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return;
this.__currentFrame=1}if(!this.__evaluateFrameScripts(b))return}else this.__currentFrame=b}if(null!=this.__symbol&&this.__currentFrame!=this.__lastFrameUpdate){this.__updateFrameLabel();var c=new Ka;b=0;for(var d=this.__currentFrame;b<d;){var e=b++;e=this.__symbol.frames[e];if(null!=e.objects)for(var f=0,l=e.objects;f<l.length;){var h=l[f];++f;switch(h.type[1]){case 0:e=this.__activeInstancesByFrameObjectID.get(h.id);null!=e&&(c.h[h.id]=e,this.__updateDisplayObject(e.displayObject,h));break;case 1:e=
c.h[h.id];null!=e&&null!=e.displayObject&&this.__updateDisplayObject(e.displayObject,h);break;case 2:c.remove(h.id)}}}b=[];d=[];for(e=c.iterator();e.hasNext();)c=e.next(),-1==b.indexOf(c)&&(0<c.clipDepth?d.push(c):b.push(c));b.sort(q(this,this.__sortDepths));f=0;for(l=b.length;f<l;){h=f++;var m=this.__children[h];e=b[h];c=e.depth;var k=e.displayObject;m!=k?(e=k,this.addChildAt(k,h)):e=this.__children[h];h=!1;for(m=0;m<d.length;)if(k=d[m],++m,c>k.depth&&c<=k.clipDepth){e.set_mask(k.displayObject);
h=!0;break}0<d.length&&!h&&null!=e.get_mask()&&e.set_mask(null)}d=b.length;for(e=this.__children.length;d<e;){b=this.__children[d];c=0;for(f=this.__activeInstances;c<f.length;)l=f[c],++c,l.displayObject==b&&(this.removeChild(b),--d,--e);++d}this.__lastFrameUpdate=this.__currentFrame}bc.prototype.__enterFrame.call(this,a)},__evaluateFrameScripts:function(a){var b=this.__currentFrame;for(a+=1;b<a;){var c=b++;if(c!=this.__lastFrameScriptEval){this.__currentFrame=this.__lastFrameScriptEval=c;if(this.__frameScripts.h.hasOwnProperty(c)&&
((0,this.__frameScripts.h[c])(),this.__currentFrame!=c))return!1;if(!this.__playing)break}}return!0},__fromSymbol:function(a,b){var c=this;if(null==this.__activeInstances){this.__swf=a;this.__symbol=b;this.__activeInstances=[];this.__activeInstancesByFrameObjectID=new Ka;this.__currentFrame=1;this.__lastFrameUpdate=this.__lastFrameScriptEval=-1;this.__totalFrames=this.__symbol.frames.length;for(var d=0,e=this.__symbol.frames.length;d<e;){var f=d++;a=f+1;b=this.__symbol.frames[f];null!=b.label&&this.__currentLabels.push(new zg(b.label,
f+1));if(null!=b.script)null==this.__frameScripts&&(this.__frameScripts=new Ka),this.__frameScripts.h[a]=b.script;else if(null!=b.scriptSource){null==this.__frameScripts&&(this.__frameScripts=new Ka);try{var l=function(a){return function(){try{a[0].call(c)}catch(hf){aa.lastException=hf,hf instanceof u&&(hf=hf.val),console.log("Error evaluating frame script\n "+U.string(hf)+"\n"+aa.exceptionStack().map(function(){return function(a){return a[2]}}()).join("\n")+"\n"+U.string(hf.stack)+"\n"+a[0].toString())}}}([eval("(function(){"+
b.scriptSource+"})")]);this.__frameScripts.h[a]=l}catch(Cj){aa.lastException=Cj,null!=this.__symbol.className?eb.warn('Unable to evaluate frame script source for symbol "'+this.__symbol.className+'" frame '+a+"\n"+b.scriptSource,{fileName:"MovieClip.hx",lineNumber:504,className:"openfl.display.MovieClip",methodName:"__fromSymbol"}):eb.warn("Unable to evaluate frame script source:\n"+b.scriptSource,{fileName:"MovieClip.hx",lineNumber:508,className:"openfl.display.MovieClip",methodName:"__fromSymbol"})}}}a=
0;for(b=this.__totalFrames;a<b;)if(d=a++,l=d+1,e=this.__symbol.frames[d],null!=e.objects){d=0;for(var h=e.objects;d<h.length;){var m=h[d];++d;if(m.type==Mc.CREATE&&!this.__activeInstancesByFrameObjectID.h.hasOwnProperty(m.id)){e=null;f=!1;var k=0;for(var g=this.__activeInstances;k<g.length;){var n=g[k];++k;if(null!=n.displayObject&&n.characterID==m.symbol&&n.depth==m.depth){e=n;f=!0;break}}null==e&&(k=this.__swf.symbols.h[m.symbol],null!=k&&(k=k.__createObject(this.__swf),null!=k&&(k.parent=this,
k.stage=this.stage,e=new hi(l,m.id,m.symbol,m.depth,k,m.clipDepth))));null!=e&&(this.__activeInstancesByFrameObjectID.h[m.id]=e,f||(this.__activeInstances.push(e),this.__updateDisplayObject(e.displayObject,m)))}}}1<this.__totalFrames&&this.play();this.__enterFrame(0);l=0;for(a=ka.getInstanceFields(M.getClass(this));l<a.length;)for(b=a[l],++l,d=0,e=this.__children;d<e.length;)f=e[d],++d,f.get_name()==b&&(this[b]=f)}},__getNextFrame:function(a){this.__timeElapsed+=a;a=this.__currentFrame+Math.floor(this.__timeElapsed/
this.__frameTime);1>a&&(a=1);a>this.__totalFrames&&(a=Math.floor((a-1)%this.__totalFrames)+1);this.__timeElapsed%=this.__frameTime;return a},__sortDepths:function(a,b){return a.depth-b.depth},__updateDisplayObject:function(a,b){if(null!=a){null!=b.name&&a.set_name(b.name);null!=b.matrix&&a.get_transform().set_matrix(b.matrix);null!=b.colorTransform&&a.get_transform().set_colorTransform(b.colorTransform);if(null!=b.filters){for(var c=[],d=0,e=b.filters;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:c.push(new Ag(f[2],
f[3],f[4]));break;case 1:c.push(new Bg(f[2]));break;case 2:c.push(new Cg(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12]));break;case 3:c.push(new Kd(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]))}}a.set_filters(c)}else a.set_filters(null);null!=b.visible&&a.set_visible(b.visible);null!=b.blendMode&&a.set_blendMode(b.blendMode)}},__updateFrameLabel:function(){this.__currentFrameLabel=this.__symbol.frames[this.__currentFrame-1].label;if(null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;
else{this.__currentLabel=null;for(var a=0,b=this.__currentLabels;a<b.length;){var c=b[a];++a;if(c.get_frame()<this.__currentFrame)this.__currentLabel=c.get_name();else break}}},__class__:xc});var Fa=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};k["openfl.geom.Matrix"]=Fa;Fa.__name__=["openfl","geom","Matrix"];Fa.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new Fa(this.a,
this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},identity:function(){this.a=
1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{a=1/a;var b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},translate:function(a,b){this.tx+=a;this.ty+=b},__class__:Fa};var vb=function(a,b,
c,d,e,f,l,h){null==h&&(h=0);null==l&&(l=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=l;this.alphaOffset=h};k["openfl.geom.ColorTransform"]=vb;vb.__name__=["openfl","geom","ColorTransform"];vb.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,
redMultiplier:null,redOffset:null,__clone:function(){return new vb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(a){this.redMultiplier=a.redMultiplier;this.greenMultiplier=a.greenMultiplier;this.blueMultiplier=a.blueMultiplier;this.alphaMultiplier=a.alphaMultiplier;this.redOffset=a.redOffset;this.greenOffset=a.greenOffset;this.blueOffset=a.blueOffset;this.alphaOffset=a.alphaOffset},
__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null==a||this.redMultiplier!=a.redMultiplier||this.greenMultiplier!=a.greenMultiplier||this.blueMultiplier!=a.blueMultiplier||!b&&this.alphaMultiplier!=a.alphaMultiplier||
this.redOffset!=a.redOffset||this.greenOffset!=a.greenOffset||this.blueOffset!=a.blueOffset?!1:this.alphaOffset==a.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset?0==this.alphaOffset:!1},__toLimeColorMatrix:function(){if(null==vb.__limeColorMatrix){var a=new Qb(20);vb.__limeColorMatrix=a}vb.__limeColorMatrix[0]=this.redMultiplier;vb.__limeColorMatrix[4]=
this.redOffset/255;vb.__limeColorMatrix[6]=this.greenMultiplier;vb.__limeColorMatrix[9]=this.greenOffset/255;vb.__limeColorMatrix[12]=this.blueMultiplier;vb.__limeColorMatrix[14]=this.blueOffset/255;vb.__limeColorMatrix[18]=this.alphaMultiplier;vb.__limeColorMatrix[19]=this.alphaOffset/255;return vb.__limeColorMatrix},__class__:vb};var za=function(){};k["openfl.Lib"]=za;za.__name__=["openfl","Lib"];za.getTimer=function(){return ab.getTimer()};za.getURL=function(a,b){null==b&&(b="_blank");ab.openURL(a.url,
b)};var jd=function(a,b){this.data=a;if(null!=b){var c=a.fixed;a.fixed=!1;for(var d=0,e=b.length;d<e;){var f=d++;a.set(f,b[f])}a.fixed=c}};k["openfl._Vector.AbstractVector"]=jd;jd.__name__=["openfl","_Vector","AbstractVector"];jd.prototype={data:null,toJSON:function(){return this.data.toJSON()},__class__:jd};var Ld=function(){};k["openfl._Vector.IVector"]=Ld;Ld.__name__=["openfl","_Vector","IVector"];Ld.prototype={get_length:null,set_length:null,fixed:null,get:null,push:null,set:null,splice:null,
toJSON:null,__class__:Ld,__properties__:{set_length:"set_length",get_length:"get_length"}};var Dg=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.BoolVector"]=Dg;Dg.__name__=["openfl","_Vector","BoolVector"];Dg.__interfaces__=[Ld];Dg.prototype={fixed:null,__array:null,get:function(a){return a>=this.__array.length?!1:this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||
a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new Dg(null,null,this.__array.splice(a,b))},toJSON:function(){return this.__array},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=!1}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Dg,__properties__:{set_length:"set_length",get_length:"get_length"}};var Ee=function(a,
b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.FloatVector"]=Ee;Ee.__name__=["openfl","_Vector","FloatVector"];Ee.__interfaces__=[Ld];Ee.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new Ee(null,null,this.__array.splice(a,b))},toJSON:function(){return this.__array},
get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Ee,__properties__:{set_length:"set_length",get_length:"get_length"}};var Eg=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.FunctionVector"]=Eg;Eg.__name__=["openfl","_Vector","FunctionVector"];
Eg.__interfaces__=[Ld];Eg.prototype={fixed:null,__array:null,get:function(a){return a>=this.__array.length?null:this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new Eg(null,null,this.__array.splice(a,b))},toJSON:function(){return this.__array},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;
0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=null}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Eg,__properties__:{set_length:"set_length",get_length:"get_length"}};var De=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.IntVector"]=De;De.__name__=["openfl","_Vector","IntVector"];De.__interfaces__=[Ld];De.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?
this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new De(null,null,this.__array.splice(a,b))},toJSON:function(){return this.__array},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:De,__properties__:{set_length:"set_length",
get_length:"get_length"}};var Fe=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};k["openfl._Vector.ObjectVector"]=Fe;Fe.__name__=["openfl","_Vector","ObjectVector"];Fe.__interfaces__=[Ld];Fe.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new Fe(null,
null,this.__array.splice(a,b))},toJSON:function(){return this.__array},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:Fe,__properties__:{set_length:"set_length",get_length:"get_length"}};var pe=function(){};k["openfl._internal.renderer.AbstractBlendModeManager"]=pe;pe.__name__=["openfl",
"_internal","renderer","AbstractBlendModeManager"];pe.prototype={setBlendMode:function(a){},__class__:pe};var Fg=function(a){this.renderSession=a};k["openfl._internal.renderer.AbstractFilterManager"]=Fg;Fg.__name__=["openfl","_internal","renderer","AbstractFilterManager"];Fg.prototype={renderSession:null,pushObject:function(a){return null},popObject:function(a){},__class__:Fg};var hd=function(a){this.renderSession=a};k["openfl._internal.renderer.AbstractMaskManager"]=hd;hd.__name__=["openfl","_internal",
"renderer","AbstractMaskManager"];hd.prototype={renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:hd};var id=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};k["openfl._internal.renderer.AbstractRenderer"]=id;id.__name__=["openfl","_internal","renderer","AbstractRenderer"];id.prototype={height:null,width:null,
renderSession:null,stage:null,clear:function(){},render:function(){},renderStage3D:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:id};var Gg=function(){};k["openfl._internal.renderer.AbstractShaderManager"]=Gg;Gg.__name__=["openfl","_internal","renderer","AbstractShaderManager"];Gg.prototype={currentShader:null,defaultShader:null,initShader:function(a){return a},setShader:function(a){},updateShader:function(a){},__class__:Gg};var ac=function(){null==ac.empty?(this.types=[],
this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};k["openfl._internal.renderer.DrawCommandBuffer"]=ac;ac.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];ac.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new Md(a),c=0,d=
a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_BITMAP_FILL;e=b;this.beginBitmapFill(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 1:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;
break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_FILL;e=b;this.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos]);break;case 2:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=
4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.BEGIN_GRADIENT_FILL;e=b;this.beginGradientFill(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+
1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=
1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CUBIC_CURVE_TO;e=b;this.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=
4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CURVE_TO;e=b;this.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=
1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_CIRCLE;e=b;this.drawCircle(e.buffer.f[e.fPos],
e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=
1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ELLIPSE;e=b;this.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=
4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_RECT;e=b;this.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=
6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ROUND_RECT;e=b;this.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+
4],e.buffer.o[e.oPos]);break;case 10:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_TRIANGLES;e=b;this.drawTriangles(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3]);break;case 11:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;
case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.END_FILL;this.endFill();break;case 12:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=
4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_BITMAP_STYLE;e=b;this.lineBitmapStyle(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 13:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;
case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_GRADIENT_STYLE;e=b;this.lineGradientStyle(e.buffer.o[e.oPos],
e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]);break;case 14:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;
break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_STYLE;e=b;this.lineStyle(e.buffer.o[e.oPos],e.buffer.i[e.iPos],e.buffer.f[e.fPos],e.buffer.b[e.bPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos+1]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=
2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_TO;e=b;this.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 16:switch(b.prev[1]){case 0:b.oPos+=
2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.MOVE_TO;
e=b;this.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 17:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=
2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.OVERRIDE_MATRIX;e=b;this.overrideMatrix(e.buffer.o[e.oPos]);break;case 18:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=
2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.WINDING_EVEN_ODD;this.windingEvenOdd();break;case 19:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=
5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.WINDING_NON_ZERO;this.windingNonZero()}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(v.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();
this.types.push(v.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,l,h){this.prepareWrite();this.types.push(v.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(l);this.f.push(h)},clear:function(){this.types=ac.empty.types;this.b=ac.empty.b;this.i=ac.empty.i;this.f=ac.empty.f;this.o=ac.empty.o;this.ff=ac.empty.ff;this.ii=ac.empty.ii;this.copyOnWrite=!0},copy:function(){var a=new ac;a.append(this);
return a},cubicCurveTo:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(v.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(v.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(v.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_ELLIPSE);
this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(v.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(v.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);
this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(v.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(v.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,l,h){this.prepareWrite();this.types.push(v.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(l);this.f.push(h)},lineStyle:function(a,b,c,d,e,f,l,h){this.prepareWrite();
this.types.push(v.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(l);this.f.push(h)},lineTo:function(a,b){this.prepareWrite();this.types.push(v.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.prepareWrite();this.types.push(v.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),
this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(v.OVERRIDE_MATRIX);this.o.push(a)},windingEvenOdd:function(){this.prepareWrite();this.types.push(v.WINDING_EVEN_ODD)},windingNonZero:function(){this.prepareWrite();this.types.push(v.WINDING_NON_ZERO)},get_length:function(){return this.types.length},__class__:ac,__properties__:{get_length:"get_length"}};var Md=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=
this.ffPos=this.iiPos=this.tsPos=0;this.prev=v.UNKNOWN};k["openfl._internal.renderer.DrawCommandReader"]=Md;Md.__name__=["openfl","_internal","renderer","DrawCommandReader"];Md.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:Md};var v=k["openfl._internal.renderer.DrawCommandType"]={__ename__:["openfl",
"_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX WINDING_EVEN_ODD WINDING_NON_ZERO UNKNOWN".split(" ")};v.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];v.BEGIN_BITMAP_FILL.toString=w;v.BEGIN_BITMAP_FILL.__enum__=v;v.BEGIN_FILL=["BEGIN_FILL",1];v.BEGIN_FILL.toString=
w;v.BEGIN_FILL.__enum__=v;v.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];v.BEGIN_GRADIENT_FILL.toString=w;v.BEGIN_GRADIENT_FILL.__enum__=v;v.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];v.CUBIC_CURVE_TO.toString=w;v.CUBIC_CURVE_TO.__enum__=v;v.CURVE_TO=["CURVE_TO",4];v.CURVE_TO.toString=w;v.CURVE_TO.__enum__=v;v.DRAW_CIRCLE=["DRAW_CIRCLE",5];v.DRAW_CIRCLE.toString=w;v.DRAW_CIRCLE.__enum__=v;v.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];v.DRAW_ELLIPSE.toString=w;v.DRAW_ELLIPSE.__enum__=v;v.DRAW_RECT=["DRAW_RECT",7];v.DRAW_RECT.toString=
w;v.DRAW_RECT.__enum__=v;v.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];v.DRAW_ROUND_RECT.toString=w;v.DRAW_ROUND_RECT.__enum__=v;v.DRAW_TILES=["DRAW_TILES",9];v.DRAW_TILES.toString=w;v.DRAW_TILES.__enum__=v;v.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];v.DRAW_TRIANGLES.toString=w;v.DRAW_TRIANGLES.__enum__=v;v.END_FILL=["END_FILL",11];v.END_FILL.toString=w;v.END_FILL.__enum__=v;v.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",12];v.LINE_BITMAP_STYLE.toString=w;v.LINE_BITMAP_STYLE.__enum__=v;v.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",
13];v.LINE_GRADIENT_STYLE.toString=w;v.LINE_GRADIENT_STYLE.__enum__=v;v.LINE_STYLE=["LINE_STYLE",14];v.LINE_STYLE.toString=w;v.LINE_STYLE.__enum__=v;v.LINE_TO=["LINE_TO",15];v.LINE_TO.toString=w;v.LINE_TO.__enum__=v;v.MOVE_TO=["MOVE_TO",16];v.MOVE_TO.toString=w;v.MOVE_TO.__enum__=v;v.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];v.OVERRIDE_MATRIX.toString=w;v.OVERRIDE_MATRIX.__enum__=v;v.WINDING_EVEN_ODD=["WINDING_EVEN_ODD",18];v.WINDING_EVEN_ODD.toString=w;v.WINDING_EVEN_ODD.__enum__=v;v.WINDING_NON_ZERO=
["WINDING_NON_ZERO",19];v.WINDING_NON_ZERO.toString=w;v.WINDING_NON_ZERO.__enum__=v;v.UNKNOWN=["UNKNOWN",20];v.UNKNOWN.toString=w;v.UNKNOWN.__enum__=v;var qe=function(){this.allowSmoothing=!0;this.clearRenderDirty=!1};k["openfl._internal.renderer.RenderSession"]=qe;qe.__name__=["openfl","_internal","renderer","RenderSession"];qe.prototype={allowSmoothing:null,clearRenderDirty:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformOriginProperty:null,upscaled:null,blendModeManager:null,
filterManager:null,maskManager:null,shaderManager:null,__class__:qe};var re=function(a){this.renderSession=a};k["openfl._internal.renderer.canvas.CanvasBlendModeManager"]=re;re.__name__=["openfl","_internal","renderer","canvas","CanvasBlendModeManager"];re.__super__=pe;re.prototype=t(pe.prototype,{currentBlendMode:null,renderSession:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.renderSession.context.globalCompositeOperation="lighter";break;
case 1:this.renderSession.context.globalCompositeOperation="destination-in";break;case 2:this.renderSession.context.globalCompositeOperation="darken";break;case 3:this.renderSession.context.globalCompositeOperation="difference";break;case 4:this.renderSession.context.globalCompositeOperation="destination-out";break;case 5:this.renderSession.context.globalCompositeOperation="hard-light";break;case 7:this.renderSession.context.globalCompositeOperation="source-over";break;case 8:this.renderSession.context.globalCompositeOperation=
"lighten";break;case 9:this.renderSession.context.globalCompositeOperation="multiply";break;case 11:this.renderSession.context.globalCompositeOperation="overlay";break;case 12:this.renderSession.context.globalCompositeOperation="screen";break;default:this.renderSession.context.globalCompositeOperation="source-over"}},__class__:re});var n=function(){};k["openfl._internal.renderer.canvas.CanvasGraphics"]=n;n.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];n.closePath=function(a){null==
a&&(a=!1);null!=n.context.strokeStyle&&(a||n.context.closePath(),n.context.stroke(),a&&n.context.closePath(),n.context.beginPath())};n.createBitmapFill=function(a,b,c){la.convertToCanvas(a.image);n.setSmoothing(c);return n.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};n.createGradientPattern=function(a,b,c,d,e,f,l,h){var m=null;h=f=null;l=!1;null==e&&(e=Fa.__pool.get(),l=!0);switch(a){case 0:f=Va.__pool.get();f.setTo(-819.2,0);h=f.x;m=f.y;f.x=h*e.a+m*e.c+e.tx;f.y=h*e.b+m*e.d+e.ty;
h=Va.__pool.get();h.setTo(819.2,0);m=h.x;a=h.y;h.x=m*e.a+a*e.c+e.tx;h.y=m*e.b+a*e.d+e.ty;m=n.context.createLinearGradient(f.x,f.y,h.x,h.y);break;case 1:f=Va.__pool.get(),f.setTo(1638.4,0),m=f.x,a=f.y,f.x=m*e.a+a*e.c+e.tx,f.y=m*e.b+a*e.d+e.ty,m=n.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,Math.abs((f.x-e.tx)/2))}for(var k,g,p,q,r=0,t=b.length;r<t;)q=r++,k=b[q],a=c[q],g=(k&16711680)>>>16,p=(k&65280)>>>8,k&=255,q=d[q]/255,0>q&&(q=0),1<q&&(q=1),m.addColorStop(q,"rgba("+g+", "+p+", "+k+", "+a+
")");null!=f&&Va.__pool.release(f);null!=h&&Va.__pool.release(h);l&&Fa.__pool.release(e);return m};n.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;a=a.image.get_src();f.fillStyle=f.createPattern(a,b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();n.hitTesting||f.fill(n.windingRule);return e};n.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);
e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var l=-e+e*n.SIN45,h=-e+e*n.TAN22,m=-f+f*n.SIN45,k=-f+f*n.TAN22;n.context.moveTo(c,d-f);n.context.quadraticCurveTo(c,d+k,c+l,d+m);n.context.quadraticCurveTo(c+h,d,c-e,d);n.context.lineTo(a+e,d);n.context.quadraticCurveTo(a-h,d,a-l,d+m);n.context.quadraticCurveTo(a,d+k,a,d-f);n.context.lineTo(a,b+f);n.context.quadraticCurveTo(a,b-k,a-l,b-m);n.context.quadraticCurveTo(a-h,b,a+e,b);n.context.lineTo(c-e,b);n.context.quadraticCurveTo(c+h,b,c+l,b-m);
n.context.quadraticCurveTo(c,b-k,c,b+f);n.context.lineTo(c,d-f)};n.endFill=function(){n.context.beginPath();n.playCommands(n.fillCommands,!1);n.fillCommands.clear()};n.endStroke=function(){n.context.beginPath();n.playCommands(n.strokeCommands,!0);n.context.closePath();n.strokeCommands.clear()};n.hitTest=function(a,b,c){n.bounds=a.__bounds;n.graphics=a;if(0==a.__commands.get_length()||null==n.bounds||0>=n.bounds.width||0>=n.bounds.height)return!1;n.hitTesting=!0;var d=a.__renderTransform,e=b*d.b+c*
d.d+d.ty;b=b*d.a+c*d.c+d.tx-(n.bounds.x*d.a+n.bounds.y*d.c+d.tx);c=e-(n.bounds.x*d.b+n.bounds.y*d.d+d.ty);e=a.__canvas;var f=a.__context;a.__canvas=n.hitTestCanvas;a.__context=n.hitTestContext;n.context=a.__context;n.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);n.fillCommands.clear();n.strokeCommands.clear();n.hasFill=!1;n.hasStroke=!1;n.bitmapFill=null;n.bitmapRepeat=!1;n.windingRule="evenodd";d=new Md(a.__commands);for(var l=0,h=a.__commands.types;l<h.length;){var m=h[l];++l;switch(m[1]){case 0:case 1:case 2:n.endFill();
if(n.hasFill&&n.context.isPointInPath(b,c,n.windingRule))return d.destroy(),a.__canvas=e,a.__context=f,!0;n.endStroke();if(n.hasStroke&&n.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;if(m==v.BEGIN_BITMAP_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=
5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_BITMAP_FILL;m=d;n.fillCommands.beginBitmapFill(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+1]);n.strokeCommands.beginBitmapFill(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+
1])}else if(m==v.BEGIN_GRADIENT_FILL){switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=
2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_GRADIENT_FILL;m=d;n.fillCommands.beginGradientFill(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos]);n.strokeCommands.beginGradientFill(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos])}else{switch(d.prev[1]){case 0:d.oPos+=
2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.BEGIN_FILL;
m=d;n.fillCommands.beginFill(m.buffer.i[m.iPos],1);n.strokeCommands.beginFill(m.buffer.i[m.iPos],1)}break;case 3:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=
1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.CUBIC_CURVE_TO;m=d;n.fillCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5]);n.strokeCommands.cubicCurveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.f[m.fPos+5]);break;case 4:switch(d.prev[1]){case 0:d.oPos+=
2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.CURVE_TO;
m=d;n.fillCommands.curveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);n.strokeCommands.curveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);break;case 5:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;
d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_CIRCLE;m=d;n.fillCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]);n.strokeCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]);break;case 6:switch(d.prev[1]){case 0:d.oPos+=2;
d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_ELLIPSE;
m=d;n.fillCommands.drawEllipse(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);n.strokeCommands.drawEllipse(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);break;case 7:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=
5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_RECT;m=d;n.fillCommands.drawRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);n.strokeCommands.drawRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3]);break;case 8:switch(d.prev[1]){case 0:d.oPos+=
2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.DRAW_ROUND_RECT;
m=d;n.fillCommands.drawRoundRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.o[m.oPos]);n.strokeCommands.drawRoundRect(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2],m.buffer.f[m.fPos+3],m.buffer.f[m.fPos+4],m.buffer.o[m.oPos]);break;case 11:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=
4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.END_FILL;n.endFill();if(n.hasFill&&n.context.isPointInPath(b,c,n.windingRule))return d.destroy(),a.__canvas=e,a.__context=f,!0;n.endStroke();if(n.hasStroke&&
n.context.isPointInStroke(b,c))return d.destroy(),a.__canvas=e,a.__context=f,!0;n.hasFill=!1;n.bitmapFill=null;break;case 12:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=
1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_BITMAP_STYLE;m=d;n.strokeCommands.lineBitmapStyle(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.b[m.bPos],m.buffer.b[m.bPos+1]);break;case 13:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;
case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_GRADIENT_STYLE;m=d;n.strokeCommands.lineGradientStyle(m.buffer.o[m.oPos],m.buffer.ii[m.iiPos],m.buffer.ff[m.ffPos],m.buffer.ii[m.iiPos+1],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+
2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos]);break;case 14:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=
1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_STYLE;m=d;n.strokeCommands.lineStyle(m.buffer.o[m.oPos],m.buffer.i[m.iPos],1,m.buffer.b[m.bPos],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.f[m.fPos+1]);break;case 15:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=
4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.LINE_TO;m=d;n.fillCommands.lineTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);n.strokeCommands.lineTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);break;case 16:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=
2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=v.MOVE_TO;m=d;n.fillCommands.moveTo(m.buffer.f[m.fPos],
m.buffer.f[m.fPos+1]);n.strokeCommands.moveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);break;case 18:n.windingRule="evenodd";break;case 19:n.windingRule="nonzero";break;default:switch(d.prev[1]){case 0:d.oPos+=2;d.bPos+=2;break;case 1:d.iPos+=1;d.fPos+=1;break;case 2:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 3:d.fPos+=6;break;case 4:d.fPos+=4;break;case 5:d.fPos+=3;break;case 6:d.fPos+=4;break;case 7:d.fPos+=4;break;case 8:d.fPos+=5;d.oPos+=1;break;case 10:d.oPos+=4;break;case 12:d.oPos+=
2;d.bPos+=2;break;case 13:d.oPos+=4;d.iiPos+=2;d.ffPos+=1;d.fPos+=1;break;case 14:d.oPos+=4;d.iPos+=1;d.fPos+=2;d.bPos+=1;break;case 15:d.fPos+=2;break;case 16:d.fPos+=2;break;case 17:d.oPos+=1}d.prev=m}}l=!1;0<n.fillCommands.get_length()&&n.endFill();n.hasFill&&n.context.isPointInPath(b,c,n.windingRule)&&(l=!0);0<n.strokeCommands.get_length()&&n.endStroke();n.hasStroke&&n.context.isPointInStroke(b,c)&&(l=!0);d.destroy();a.__canvas=e;a.__context=f;return l};n.normalizeUVT=function(a,b){null==b&&(b=
!1);for(var c=-Infinity,d,e=a.data.get_length(),f=1,l=e+1;f<l;)d=f++,b&&0==d%3||(d=a.data.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};f=Nb.toFloatVector(null);l=1;for(e+=1;l<e;)d=l++,b&&0==d%3||(d=a.data.get(d-1),f.data.push(d));return{max:c,uvt:f}};n.playCommands=function(a,b){null==b&&(b=!1);n.bounds=n.graphics.__bounds;var c=n.bounds.x,d=n.bounds.y,e=0,f=0,l=!1,h=0,m=0,k=!1;n.windingRule="evenodd";n.setSmoothing(!0);var g=new Md(a),p,q,r,t=null,u=null,w=0,x=a.types;try{for(;w<x.length;){var A=
x[w];++w;switch(A[1]){case 0:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;
break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_BITMAP_FILL;var y=g;n.bitmapFill=y.buffer.o[y.oPos];n.context.fillStyle=n.createBitmapFill(y.buffer.o[y.oPos],!0,y.buffer.b[y.bPos+1]);n.hasFill=!0;null!=y.buffer.o[y.oPos+1]?(n.pendingMatrix=y.buffer.o[y.oPos+1],n.inversePendingMatrix=y.buffer.o[y.oPos+1].clone(),n.inversePendingMatrix.invert()):(n.pendingMatrix=null,n.inversePendingMatrix=null);break;case 1:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=
1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_FILL;var z=g;if(.005>z.buffer.f[z.fPos])n.hasFill=
!1;else{if(1==z.buffer.f[z.fPos]){var B=ea.hex(z.buffer.i[z.iPos]&16777215,6);n.context.fillStyle="#"+B}else{var C=(z.buffer.i[z.iPos]&16711680)>>>16;var D=(z.buffer.i[z.iPos]&65280)>>>8;var F=z.buffer.i[z.iPos]&255;n.context.fillStyle="rgba("+C+", "+D+", "+F+", "+z.buffer.f[z.fPos]+")"}n.bitmapFill=null;n.setSmoothing(!0);n.hasFill=!0}break;case 2:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=
6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.BEGIN_GRADIENT_FILL;var E=g;n.context.fillStyle=n.createGradientPattern(E.buffer.o[E.oPos],E.buffer.ii[E.iiPos],E.buffer.ff[E.ffPos],
E.buffer.ii[E.iiPos+1],E.buffer.o[E.oPos+1],E.buffer.o[E.oPos+2],E.buffer.o[E.oPos+3],E.buffer.f[E.fPos]);n.bitmapFill=null;n.setSmoothing(!0);n.hasFill=!0;break;case 3:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=
2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.CUBIC_CURVE_TO;var G=g;n.context.bezierCurveTo(G.buffer.f[G.fPos]-c,G.buffer.f[G.fPos+1]-d,G.buffer.f[G.fPos+2]-c,G.buffer.f[G.fPos+3]-d,G.buffer.f[G.fPos+4]-c,G.buffer.f[G.fPos+5]-d);break;case 4:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;
g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.CURVE_TO;var J=g;n.context.quadraticCurveTo(J.buffer.f[J.fPos]-c,J.buffer.f[J.fPos+
1]-d,J.buffer.f[J.fPos+2]-c,J.buffer.f[J.fPos+3]-d);break;case 5:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=
2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_CIRCLE;var I=g;n.context.moveTo(I.buffer.f[I.fPos]-c+I.buffer.f[I.fPos+2],I.buffer.f[I.fPos+1]-d);n.context.arc(I.buffer.f[I.fPos]-c,I.buffer.f[I.fPos+1]-d,I.buffer.f[I.fPos+2],0,2*Math.PI,!0);break;case 6:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=
3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_ELLIPSE;var L=g;var M=L.buffer.f[L.fPos];var N=L.buffer.f[L.fPos+1];var P=L.buffer.f[L.fPos+2];var S=L.buffer.f[L.fPos+3];M-=c;N-=d;var Q=P/2*.5522848;var R=S/2*.5522848;
var U=M+P;var W=N+S;var T=M+P/2;var O=N+S/2;n.context.moveTo(M,O);n.context.bezierCurveTo(M,O-R,T-Q,N,T,N);n.context.bezierCurveTo(T+Q,N,U,O-R,U,O);n.context.bezierCurveTo(U,O+R,T+Q,W,T,W);n.context.bezierCurveTo(T-Q,W,M,O+R,M,O);break;case 7:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=
5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_RECT;var H=g;var ca=!1;if(null!=n.bitmapFill&&!n.hitTesting){var da=r=q=p=0;var ia=!0;if(null!=n.pendingMatrix)if(0!=n.pendingMatrix.b||0!=n.pendingMatrix.c)ia=!1;else{null==t&&(t=Va.__pool.get());null==u&&(u=Va.__pool.get());t.setTo(H.buffer.f[H.fPos],
H.buffer.f[H.fPos+1]);var Z=n.inversePendingMatrix,ka=t.x,na=t.y;t.x=ka*Z.a+na*Z.c+Z.tx;t.y=ka*Z.b+na*Z.d+Z.ty;u.setTo(H.buffer.f[H.fPos]+H.buffer.f[H.fPos+2],H.buffer.f[H.fPos+1]+H.buffer.f[H.fPos+3]);var fa=n.inversePendingMatrix,ma=u.x,oa=u.y;u.x=ma*fa.a+oa*fa.c+fa.tx;u.y=ma*fa.b+oa*fa.d+fa.ty;p=t.y;da=t.x;r=u.y;q=u.x}else p=H.buffer.f[H.fPos+1],da=H.buffer.f[H.fPos],r=H.buffer.f[H.fPos+1]+H.buffer.f[H.fPos+3],q=H.buffer.f[H.fPos]+H.buffer.f[H.fPos+2];ia&&0<=p&&0<=da&&q<=n.bitmapFill.width&&r<=
n.bitmapFill.height&&(ca=!0,n.hitTesting||n.context.drawImage(n.bitmapFill.image.get_src(),da,p,q-da,r-p,H.buffer.f[H.fPos]-c,H.buffer.f[H.fPos+1]-d,H.buffer.f[H.fPos+2],H.buffer.f[H.fPos+3]))}ca||n.context.rect(H.buffer.f[H.fPos]-c,H.buffer.f[H.fPos+1]-d,H.buffer.f[H.fPos+2],H.buffer.f[H.fPos+3]);break;case 8:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=
3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.DRAW_ROUND_RECT;var Y=g;n.drawRoundRect(Y.buffer.f[Y.fPos]-c,Y.buffer.f[Y.fPos+1]-d,Y.buffer.f[Y.fPos+2],Y.buffer.f[Y.fPos+3],Y.buffer.f[Y.fPos+4],Y.buffer.o[Y.oPos]);break;
case 10:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=
2;break;case 17:g.oPos+=1}g.prev=v.DRAW_TRIANGLES;var aa=g,ba=aa.buffer.o[aa.oPos],ja=aa.buffer.o[aa.oPos+1],X=aa.buffer.o[aa.oPos+2],ha=null,la=null==n.bitmapFill;if(la&&null!=X)throw"__break__";if(!la){if(null==X){X=Nb.toFloatVector(null);for(var pa=0,sa=ba.data.get_length()/2|0;pa<sa;){var qa=pa++,ua=ba.data.get(2*qa);X.data.push(ua-c/n.bitmapFill.width);var xa=ba.data.get(2*qa+1);X.data.push(xa-d/n.bitmapFill.height)}}var Ba=X.data.get_length()!=ba.data.get_length(),Ca=n.normalizeUVT(X,Ba),Ia=
Ca.max;X=Ca.uvt;ha=1<Ia?n.createTempPatternCanvas(n.bitmapFill,n.bitmapRepeat,n.bounds.width|0,n.bounds.height|0):n.createTempPatternCanvas(n.bitmapFill,n.bitmapRepeat,n.bitmapFill.width,n.bitmapFill.height)}for(var ta=0,Fa=ja.data.get_length(),ya,Ja,Ka,Oa,Ga,La,Ea,V,Ta,ra,va,wa,za,Da,Ha,Pa,Sa,Ma,Aa,Qa,Ra,Ua,ab,bb,Za,db,cb,eb;ta<Fa;){ya=ta;Ja=ta+1;Ka=ta+2;Oa=2*ja.data.get(ya);Ga=2*ja.data.get(ya)+1;La=2*ja.data.get(Ja);Ea=2*ja.data.get(Ja)+1;V=2*ja.data.get(Ka);Ta=2*ja.data.get(Ka)+1;ra=ba.data.get(Oa)-
c;va=ba.data.get(Ga)-d;wa=ba.data.get(La)-c;za=ba.data.get(Ea)-d;Da=ba.data.get(V)-c;Ha=ba.data.get(Ta)-d;switch(aa.buffer.o[aa.oPos+3]){case 0:if(0>(wa-ra)*(Ha-va)-(za-va)*(Da-ra)){ta+=3;continue}break;case 2:if(!(0>(wa-ra)*(Ha-va)-(za-va)*(Da-ra))){ta+=3;continue}}la?(n.context.beginPath(),n.context.moveTo(ra,va),n.context.lineTo(wa,za),n.context.lineTo(Da,Ha),n.context.closePath(),n.hitTesting||n.context.fill(n.windingRule)):(n.context.save(),n.context.beginPath(),n.context.moveTo(ra,va),n.context.lineTo(wa,
za),n.context.lineTo(Da,Ha),n.context.closePath(),n.context.clip(),Pa=X.data.get(Oa)*ha.width,Ma=X.data.get(La)*ha.width,Qa=X.data.get(V)*ha.width,Sa=X.data.get(Ga)*ha.height,Aa=X.data.get(Ea)*ha.height,Ra=X.data.get(Ta)*ha.height,Ua=Pa*(Ra-Aa)-Ma*Ra+Qa*Aa+(Ma-Qa)*Sa,0!=Ua&&(ab=-(Sa*(Da-wa)-Aa*Da+Ra*wa+(Aa-Ra)*ra)/Ua,bb=(Aa*Ha+Sa*(za-Ha)-Ra*za+(Ra-Aa)*va)/Ua,Za=(Pa*(Da-wa)-Ma*Da+Qa*wa+(Ma-Qa)*ra)/Ua,db=-(Ma*Ha+Pa*(za-Ha)-Qa*za+(Qa-Ma)*va)/Ua,cb=(Pa*(Ra*wa-Aa*Da)+Sa*(Ma*Da-Qa*wa)+(Qa*Aa-Ma*Ra)*ra)/
Ua,eb=(Pa*(Ra*za-Aa*Ha)+Sa*(Ma*Ha-Qa*za)+(Qa*Aa-Ma*Ra)*va)/Ua,n.context.transform(ab,bb,Za,db,cb,eb),n.context.drawImage(ha,0,0),n.context.restore()));ta+=3}break;case 12:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=
2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_BITMAP_STYLE;var Xa=g;b&&n.hasStroke&&n.closePath();n.context.moveTo(e-c,f-d);n.context.strokeStyle=n.createBitmapFill(Xa.buffer.o[Xa.oPos],Xa.buffer.b[Xa.bPos],Xa.buffer.b[Xa.bPos+1]);n.hasStroke=!0;break;case 13:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=
4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_GRADIENT_STYLE;var Na=g;b&&n.hasStroke&&n.closePath();n.context.moveTo(e-
c,f-d);n.context.strokeStyle=n.createGradientPattern(Na.buffer.o[Na.oPos],Na.buffer.ii[Na.iiPos],Na.buffer.ff[Na.ffPos],Na.buffer.ii[Na.iiPos+1],Na.buffer.o[Na.oPos+1],Na.buffer.o[Na.oPos+2],Na.buffer.o[Na.oPos+3],Na.buffer.f[Na.fPos]);n.setSmoothing(!0);n.hasStroke=!0;break;case 14:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=
4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_STYLE;var kb=g;b&&n.hasStroke&&n.closePath(!0);n.context.moveTo(e-c,f-d);if(null==kb.buffer.o[kb.oPos])n.hasStroke=!1;else{n.context.lineWidth=0<kb.buffer.o[kb.oPos]?kb.buffer.o[kb.oPos]:1;
var Ya=null==kb.buffer.o[kb.oPos+3]?"round":Qi.toString(kb.buffer.o[kb.oPos+3]).toLowerCase();n.context.lineJoin=Ya;var gb=null==kb.buffer.o[kb.oPos+2]?"round":0==kb.buffer.o[kb.oPos+2]?"butt":Ri.toString(kb.buffer.o[kb.oPos+2]).toLowerCase();n.context.lineCap=gb;n.context.miterLimit=kb.buffer.f[kb.fPos+1];if(1==kb.buffer.f[kb.fPos]){var hb=ea.hex(kb.buffer.i[kb.iPos]&16777215,6);n.context.strokeStyle="#"+hb}else C=(kb.buffer.i[kb.iPos]&16711680)>>>16,D=(kb.buffer.i[kb.iPos]&65280)>>>8,F=kb.buffer.i[kb.iPos]&
255,n.context.strokeStyle="rgba("+C+", "+D+", "+F+", "+kb.buffer.f[kb.fPos]+")";n.setSmoothing(!0);n.hasStroke=!0}break;case 15:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;
g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.LINE_TO;var $a=g;n.context.lineTo($a.buffer.f[$a.fPos]-c,$a.buffer.f[$a.fPos+1]-d);e=$a.buffer.f[$a.fPos];f=$a.buffer.f[$a.fPos+1];e==h&&f==m&&(l=!0);break;case 16:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;
case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=v.MOVE_TO;var Wa=g;n.context.moveTo(Wa.buffer.f[Wa.fPos]-c,Wa.buffer.f[Wa.fPos+1]-d);e=Wa.buffer.f[Wa.fPos];f=Wa.buffer.f[Wa.fPos+1];k&&(l=!0);h=Wa.buffer.f[Wa.fPos];
m=Wa.buffer.f[Wa.fPos+1];k=!0;break;case 18:n.windingRule="evenodd";break;case 19:n.windingRule="nonzero";break;default:switch(g.prev[1]){case 0:g.oPos+=2;g.bPos+=2;break;case 1:g.iPos+=1;g.fPos+=1;break;case 2:g.oPos+=4;g.iiPos+=2;g.ffPos+=1;g.fPos+=1;break;case 3:g.fPos+=6;break;case 4:g.fPos+=4;break;case 5:g.fPos+=3;break;case 6:g.fPos+=4;break;case 7:g.fPos+=4;break;case 8:g.fPos+=5;g.oPos+=1;break;case 10:g.oPos+=4;break;case 12:g.oPos+=2;g.bPos+=2;break;case 13:g.oPos+=4;g.iiPos+=2;g.ffPos+=
1;g.fPos+=1;break;case 14:g.oPos+=4;g.iPos+=1;g.fPos+=2;g.bPos+=1;break;case 15:g.fPos+=2;break;case 16:g.fPos+=2;break;case 17:g.oPos+=1}g.prev=A}}}catch(sj){if("__break__"!=sj)throw sj;}null!=t&&Va.__pool.release(t);null!=u&&Va.__pool.release(u);g.destroy();b&&n.hasStroke&&(n.hasFill&&l?(n.context.lineTo(h-c,m-d),n.closePath(!1)):l&&e==h&&f==m&&n.closePath(!1),n.hitTesting||n.context.stroke());b||!n.hasFill&&null==n.bitmapFill||(n.context.translate(-n.bounds.x,-n.bounds.y),null!=n.pendingMatrix?
(n.context.transform(n.pendingMatrix.a,n.pendingMatrix.b,n.pendingMatrix.c,n.pendingMatrix.d,n.pendingMatrix.tx,n.pendingMatrix.ty),n.hitTesting||n.context.fill(n.windingRule),n.context.transform(n.inversePendingMatrix.a,n.inversePendingMatrix.b,n.inversePendingMatrix.c,n.inversePendingMatrix.d,n.inversePendingMatrix.tx,n.inversePendingMatrix.ty)):n.hitTesting||n.context.fill(n.windingRule),n.context.translate(n.bounds.x,n.bounds.y),n.context.closePath())};n.render=function(a,b,c){a.__update();if(a.__dirty){n.hitTesting=
!1;n.graphics=a;n.allowSmoothing=b.allowSmoothing;n.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==n.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));n.context=a.__context;var d=a.__renderTransform,e=a.__canvas,f=Nd.scale,l=b*f|0;f=c*f|0;e.width==l&&e.height==f?n.context.clearRect(0,0,l,f):(e.width=b,e.height=c);n.context.setTransform(d.a,
d.b,d.c,d.d,d.tx,d.ty);n.fillCommands.clear();n.strokeCommands.clear();n.hasFill=!1;n.hasStroke=!1;n.bitmapFill=null;b=n.bitmapRepeat=!1;d=c=0;n.windingRule="evenodd";e=new Md(a.__commands);l=0;for(f=a.__commands.types;l<f.length;){var h=f[l];++l;switch(h[1]){case 0:case 1:case 2:n.endFill();n.endStroke();if(h==v.BEGIN_BITMAP_FILL){switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=
4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.BEGIN_BITMAP_FILL;h=e;n.fillCommands.beginBitmapFill(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]);n.strokeCommands.beginBitmapFill(h.buffer.o[h.oPos],
h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1])}else if(h==v.BEGIN_GRADIENT_FILL){switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=
4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.BEGIN_GRADIENT_FILL;h=e;n.fillCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]);n.strokeCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+
3],h.buffer.f[h.fPos])}else{switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;
break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.BEGIN_FILL;h=e;n.fillCommands.beginFill(h.buffer.i[h.iPos],h.buffer.f[h.fPos]);n.strokeCommands.beginFill(h.buffer.i[h.iPos],h.buffer.f[h.fPos])}break;case 3:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;
case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.CUBIC_CURVE_TO;h=e;n.fillCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]);b?n.strokeCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+
2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]):(c=h.buffer.f[h.fPos+4],d=h.buffer.f[h.fPos+5]);break;case 4:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;
e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.CURVE_TO;h=e;n.fillCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);b?n.strokeCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]):(c=h.buffer.f[h.fPos+2],d=h.buffer.f[h.fPos+3]);break;case 5:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=
1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.DRAW_CIRCLE;h=e;n.fillCommands.drawCircle(h.buffer.f[h.fPos],
h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]);b&&n.strokeCommands.drawCircle(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]);break;case 6:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=
4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.DRAW_ELLIPSE;h=e;n.fillCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);b&&n.strokeCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 7:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;
break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.DRAW_RECT;h=e;n.fillCommands.drawRect(h.buffer.f[h.fPos],
h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);b&&n.strokeCommands.drawRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 8:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=
2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.DRAW_ROUND_RECT;h=e;n.fillCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.o[h.oPos]);b&&n.strokeCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+
4],h.buffer.o[h.oPos]);break;case 10:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=
2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.DRAW_TRIANGLES;h=e;n.fillCommands.drawTriangles(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3]);break;case 11:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=
4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.END_FILL;n.endFill();n.endStroke();b=n.hasFill=!1;n.bitmapFill=null;d=c=0;break;case 12:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=
3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.LINE_BITMAP_STYLE;h=e;b||0==c&&0==d||(n.strokeCommands.moveTo(c,d),d=c=0);b=!0;n.strokeCommands.lineBitmapStyle(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],
h.buffer.b[h.bPos+1]);break;case 13:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=
2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.LINE_GRADIENT_STYLE;h=e;b||0==c&&0==d||(n.strokeCommands.moveTo(c,d),d=c=0);b=!0;n.strokeCommands.lineGradientStyle(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]);break;case 14:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=
6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.LINE_STYLE;h=e;b||null==h.buffer.o[h.oPos]||0==c&&0==d||(n.strokeCommands.moveTo(c,d),d=c=0);b=null!=h.buffer.o[h.oPos];n.strokeCommands.lineStyle(h.buffer.o[h.oPos],
h.buffer.i[h.iPos],h.buffer.f[h.fPos],h.buffer.b[h.bPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos+1]);break;case 15:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;
case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.LINE_TO;h=e;n.fillCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);b?n.strokeCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]):(c=h.buffer.f[h.fPos],d=h.buffer.f[h.fPos+1]);break;case 16:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=
1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.MOVE_TO;h=e;n.fillCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);b?n.strokeCommands.moveTo(h.buffer.f[h.fPos],
h.buffer.f[h.fPos+1]):(c=h.buffer.f[h.fPos],d=h.buffer.f[h.fPos+1]);break;case 18:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;
e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.WINDING_EVEN_ODD;n.fillCommands.windingEvenOdd();n.windingRule="evenodd";break;case 19:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=
4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=v.WINDING_NON_ZERO;n.fillCommands.windingNonZero();n.windingRule="nonzero";break;default:switch(e.prev[1]){case 0:e.oPos+=2;e.bPos+=2;break;case 1:e.iPos+=1;e.fPos+=1;break;case 2:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 3:e.fPos+=6;break;case 4:e.fPos+=4;break;case 5:e.fPos+=
3;break;case 6:e.fPos+=4;break;case 7:e.fPos+=4;break;case 8:e.fPos+=5;e.oPos+=1;break;case 10:e.oPos+=4;break;case 12:e.oPos+=2;e.bPos+=2;break;case 13:e.oPos+=4;e.iiPos+=2;e.ffPos+=1;e.fPos+=1;break;case 14:e.oPos+=4;e.iPos+=1;e.fPos+=2;e.bPos+=1;break;case 15:e.fPos+=2;break;case 16:e.fPos+=2;break;case 17:e.oPos+=1}e.prev=h}}0<n.fillCommands.get_length()&&n.endFill();0<n.strokeCommands.get_length()&&n.endStroke();e.destroy();a.__bitmap=ja.fromCanvas(a.__canvas)}a.set___dirty(!1)}};n.renderMask=
function(a,b){if(0!=a.__commands.get_length()){n.context=b.context;b=new Md(a.__commands);var c=0;for(a=a.__commands.types;c<a.length;){var d=a[c];++c;switch(d[1]){case 3:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=
2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CUBIC_CURVE_TO;d=b;n.context.bezierCurveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2]-0,d.buffer.f[d.fPos+3]-0,d.buffer.f[d.fPos+4]-0,d.buffer.f[d.fPos+5]-0);break;case 4:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=
1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.CURVE_TO;d=b;n.context.quadraticCurveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+
2]-0,d.buffer.f[d.fPos+3]-0);break;case 5:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_CIRCLE;d=b;n.context.arc(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],0,2*Math.PI,!0);break;case 6:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=
2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ELLIPSE;var e=b;d=e.buffer.f[e.fPos];var f=e.buffer.f[e.fPos+1];var l=e.buffer.f[e.fPos+2];var h=e.buffer.f[e.fPos+3];d-=0;f-=0;e=l/2*.5522848;var m=h/2*.5522848;var k=d+l;var g=f+h;l=d+l/2;h=f+h/2;n.context.moveTo(d,h);n.context.bezierCurveTo(d,h-m,l-e,f,l,f);n.context.bezierCurveTo(l+e,f,k,
h-m,k,h);n.context.bezierCurveTo(k,h+m,l+e,g,l,g);n.context.bezierCurveTo(l-e,g,d,h+m,d,h);break;case 7:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;
case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_RECT;d=b;n.context.rect(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 8:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=
4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.DRAW_ROUND_RECT;d=b;n.drawRoundRect(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0,d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],d.buffer.o[d.oPos]);break;case 15:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=
2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.LINE_TO;d=b;n.context.lineTo(d.buffer.f[d.fPos]-
0,d.buffer.f[d.fPos+1]-0);break;case 16:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=
2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=v.MOVE_TO;d=b;n.context.moveTo(d.buffer.f[d.fPos]-0,d.buffer.f[d.fPos+1]-0);break;default:switch(b.prev[1]){case 0:b.oPos+=2;b.bPos+=2;break;case 1:b.iPos+=1;b.fPos+=1;break;case 2:b.oPos+=4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 3:b.fPos+=6;break;case 4:b.fPos+=4;break;case 5:b.fPos+=3;break;case 6:b.fPos+=4;break;case 7:b.fPos+=4;break;case 8:b.fPos+=5;b.oPos+=1;break;case 10:b.oPos+=4;break;case 12:b.oPos+=2;b.bPos+=2;break;case 13:b.oPos+=
4;b.iiPos+=2;b.ffPos+=1;b.fPos+=1;break;case 14:b.oPos+=4;b.iPos+=1;b.fPos+=2;b.bPos+=1;break;case 15:b.fPos+=2;break;case 16:b.fPos+=2;break;case 17:b.oPos+=1}b.prev=d}}b.destroy()}};n.setSmoothing=function(a){n.allowSmoothing||(a=!1);n.context.imageSmoothingEnabled!=a&&(n.context.mozImageSmoothingEnabled=a,n.context.msImageSmoothingEnabled=a,n.context.imageSmoothingEnabled=a)};var se=function(a){this.renderSession=a};k["openfl._internal.renderer.canvas.CanvasMaskManager"]=se;se.__name__=["openfl",
"_internal","renderer","canvas","CanvasMaskManager"];se.__super__=hd;se.prototype=t(hd.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;
c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},__class__:se});var Nd=function(a,b){id.call(this,a);this.context=b;this.renderSession=new qe;this.renderSession.clearRenderDirty=!0;this.renderSession.context=b;this.renderSession.renderer=
this;this.renderSession.blendModeManager=new re(this.renderSession);this.renderSession.maskManager=new se(this.renderSession);a=a.window.config;null!=a&&Object.prototype.hasOwnProperty.call(a,"allowHighDPI")&&a.allowHighDPI&&(Nd.scale=window.devicePixelRatio||1)};k["openfl._internal.renderer.canvas.CanvasRenderer"]=Nd;Nd.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"];Nd.__super__=id;Nd.prototype=t(id.prototype,{context:null,clear:function(){this.renderSession.blendModeManager.setBlendMode(10);
this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth*this.stage.window.__scale,this.stage.stageHeight*this.stage.window.__scale)},render:function(){this.renderSession.allowSmoothing=
2!=this.stage.quality;this.stage.__renderCanvas(this.renderSession)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.data.get_length();){var c=b.data.get(a);++a;c.__renderCanvas(this.stage,this.renderSession)}},__class__:Nd});var I=function(){};k["openfl._internal.renderer.canvas.CanvasTextField"]=I;I.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];var ii=function(a){this.renderSession=a;this.clipRects=[];this.numClipRects=0};k["openfl._internal.renderer.dom.DOMMaskManager"]=
ii;ii.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];ii.__super__=hd;ii.prototype=t(hd.prototype,{currentClipRect:null,clipRects:null,numClipRects:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=
new ia);var c=this.clipRects[this.numClipRects];a.__transform(c,b);0<this.numClipRects&&(a=this.clipRects[this.numClipRects-1],c.__contract(a.x,a.y,a.width,a.height));0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.currentClipRect=c;this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,this.currentClipRect=0<this.numClipRects?
this.clipRects[this.numClipRects-1]:null)},updateClip:function(a){if(null==this.currentClipRect)a.__worldClipChanged=null!=a.__worldClip,a.__worldClip=null;else{null==a.__worldClip&&(a.__worldClip=new ia);var b=ia.__pool.get(),c=Fa.__pool.get();c.copyFrom(a.__renderTransform);c.invert();this.currentClipRect.__transform(b,c);b.equals(a.__worldClip)?a.__worldClipChanged=!1:(a.__worldClip.copyFrom(b),a.__worldClipChanged=!0);ia.__pool.release(b);Fa.__pool.release(c)}},__class__:ii});var qf=function(){};
k["openfl._internal.renderer.opengl.GLBitmap"]=qf;qf.__name__=["openfl","_internal","renderer","opengl","GLBitmap"];qf.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.bitmapData&&a.bitmapData.__isValid){var c=b.renderer,d=b.gl;b.blendModeManager.setBlendMode(a.__worldBlendMode);b.maskManager.pushObject(a);b.filterManager.pushObject(a);var e=b.shaderManager.initShader(a.shader);b.shaderManager.setShader(e);e.get_data().uImage0.input=a.bitmapData;var f=b.allowSmoothing&&(a.smoothing||
b.upscaled);e.get_data().uImage0.smoothing=f;e.get_data().uMatrix.value=c.getMatrix(a.__renderTransform);c=!a.__worldColorTransform.__isDefault();null==e.get_data().uColorTransform.value&&(e.get_data().uColorTransform.value=[]);e.get_data().uColorTransform.value[0]=c;b.shaderManager.updateShader(e);c=d.ARRAY_BUFFER;f=a.bitmapData.getBuffer(d,a.__worldAlpha,a.__worldColorTransform);d.__context.bindBuffer(c,f);c=e.get_data().aPosition.index;f=d.FLOAT;var l=L.fromInt(0);d.__context.vertexAttribPointer(c,
3,f,!1,104,L.toValue(l));c=e.get_data().aTexCoord.index;f=d.FLOAT;l=L.fromInt(12);d.__context.vertexAttribPointer(c,2,f,!1,104,L.toValue(l));c=e.get_data().aAlpha.index;f=d.FLOAT;l=L.fromInt(20);d.__context.vertexAttribPointer(c,1,f,!1,104,L.toValue(l));c=e.get_data().aColorMultipliers.index;f=d.FLOAT;l=L.fromInt(24);d.__context.vertexAttribPointer(c,4,f,!1,104,L.toValue(l));c=e.get_data().aColorMultipliers.index+1;f=d.FLOAT;l=L.fromInt(40);d.__context.vertexAttribPointer(c,4,f,!1,104,L.toValue(l));
c=e.get_data().aColorMultipliers.index+2;f=d.FLOAT;l=L.fromInt(56);d.__context.vertexAttribPointer(c,4,f,!1,104,L.toValue(l));c=e.get_data().aColorMultipliers.index+3;f=d.FLOAT;l=L.fromInt(72);d.__context.vertexAttribPointer(c,4,f,!1,104,L.toValue(l));e=e.get_data().aColorOffsets.index;c=d.FLOAT;f=L.fromInt(88);d.__context.vertexAttribPointer(e,4,c,!1,104,L.toValue(f));d.__context.drawArrays(d.TRIANGLE_STRIP,0,4);b.filterManager.popObject(a);b.maskManager.popObject(a)}};var Hg=function(a){this.gl=
a;this.setBlendMode(10);a.__context.enable(a.BLEND)};k["openfl._internal.renderer.opengl.GLBlendModeManager"]=Hg;Hg.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];Hg.__super__=pe;Hg.prototype=t(pe.prototype,{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.__context.blendEquation(this.gl.FUNC_ADD);
this.gl.__context.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.__context.blendEquation(this.gl.FUNC_ADD);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.__context.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.__context.blendEquation(this.gl.FUNC_ADD),this.gl.__context.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:Hg});var Ig=function(a,
b){this.renderSession=b;this.renderer=a;this.gl=b.gl;this.filterDepth=0;this.matrix=new Fa};k["openfl._internal.renderer.opengl.GLFilterManager"]=Ig;Ig.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];Ig.__super__=Fg;Ig.prototype=t(Fg.prototype,{filterDepth:null,gl:null,matrix:null,renderer:null,pushObject:function(a){return this.renderSession.shaderManager.defaultShader},popObject:function(a){},renderPass:function(a,b){if(null!=a&&null!=b){b.get_data().uImage0.input=a;var c=
this.renderSession.allowSmoothing&&this.renderSession.upscaled;b.get_data().uImage0.smoothing=c;b.get_data().uMatrix.value=this.renderer.getMatrix(this.matrix);null!=b.get_data().uColorTransform&&(null==b.get_data().uColorTransform.value&&(b.get_data().uColorTransform.value=[]),b.get_data().uColorTransform.value[0]=!1);this.renderSession.shaderManager.setShader(b);c=this.gl;var d=this.gl.ARRAY_BUFFER;a=a.getBuffer(this.gl,1,null);c.__context.bindBuffer(d,a);a=this.gl;c=b.get_data().aPosition.index;
d=this.gl.FLOAT;var e=L.fromInt(0);a.__context.vertexAttribPointer(c,3,d,!1,104,L.toValue(e));a=this.gl;c=b.get_data().aTexCoord.index;d=this.gl.FLOAT;e=L.fromInt(12);a.__context.vertexAttribPointer(c,2,d,!1,104,L.toValue(e));a=this.gl;b=b.get_data().aAlpha.index;c=this.gl.FLOAT;d=L.fromInt(20);a.__context.vertexAttribPointer(b,1,c,!1,104,L.toValue(d));this.gl.__context.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}},__class__:Ig});var Jg=function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];this.numClipRects=
0;this.tempRect=new ia};k["openfl._internal.renderer.opengl.GLMaskManager"]=Jg;Jg.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];Jg.__super__=hd;Jg.prototype=t(hd.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,
b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new ia);var c=this.clipRects[this.numClipRects];a.__transform(c,b);0<this.numClipRects&&(a=this.clipRects[this.numClipRects-1],c.__contract(a.x,a.y,a.width,a.height));0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<
this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.__context.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);b=Math.floor(b.height-c.y-c.height);var d=Math.ceil(c.width);c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.__context.scissor(a,b,d,c)}else this.gl.__context.disable(this.gl.SCISSOR_TEST)},
__class__:Jg});var td=function(a,b,c){id.call(this,a);this.gl=b;this.defaultRenderTarget=c;this.flipped=null==c;this.matrix=Da._new();this.values=[];this.renderSession=new qe;this.renderSession.clearRenderDirty=!0;this.renderSession.gl=b;this.renderSession.renderer=this;this.renderSession.blendModeManager=new Hg(b);this.renderSession.filterManager=new Ig(this,this.renderSession);this.renderSession.shaderManager=new Kg(b);this.renderSession.maskManager=new Jg(this.renderSession);null!=a.window&&(null==
a.stage3Ds.data.get(0).context3D&&a.stage3Ds.data.get(0).__createContext(a,this.renderSession),this.resize(null!=c?c.width:Math.ceil(a.window.__width*a.window.__scale),null!=c?c.height:Math.ceil(a.window.__height*a.window.__scale)))};k["openfl._internal.renderer.opengl.GLRenderer"]=td;td.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];td.__super__=id;td.prototype=t(id.prototype,{projection:null,projectionFlipped:null,defaultRenderTarget:null,displayHeight:null,displayMatrix:null,
displayWidth:null,flipped:null,gl:null,matrix:null,renderTargetA:null,renderTargetB:null,offsetX:null,offsetY:null,values:null,clear:function(){this.stage.__transparent?this.gl.__context.clearColor(0,0,0,0):this.gl.__context.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)},getMatrix:function(a){var b=Fa.__pool.get();b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&(b.tx=Math.round(b.tx),
b.ty=Math.round(b.ty));Da.identity(this.matrix);Da.set(this.matrix,0,b.a);Da.set(this.matrix,1,b.b);Da.set(this.matrix,4,b.c);Da.set(this.matrix,5,b.d);Da.set(this.matrix,12,b.tx);Da.set(this.matrix,13,b.ty);Da.append(this.matrix,this.flipped?this.projectionFlipped:this.projection);for(a=0;16>a;){var c=a++;this.values[c]=Da.get(this.matrix,c)}Fa.__pool.release(b);return this.values},render:function(){this.gl.__context.viewport(this.offsetX,this.offsetY,this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=
2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.__context.clearColor(0,0,0,1),this.gl.__context.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.__context.scissor(0,0,this.offsetX,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(this.offsetX+this.displayWidth,0,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),
0<this.offsetY&&(this.gl.__context.scissor(0,0,this.width,this.offsetY),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT),this.gl.__context.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.__context.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.__context.disable(this.gl.SCISSOR_TEST)},renderStage3D:function(){for(var a=0,b=this.stage.stage3Ds;a<b.data.get_length();){var c=b.data.get(a);++a;c.__renderGL(this.stage,this.renderSession)}},resize:function(a,b){id.prototype.resize.call(this,
a,b);if(0<a&&0<b){if(null!=this.renderTargetA&&(this.renderTargetA.width!=a||this.renderTargetA.height!=b)){this.renderTargetA=ja.fromTexture(this.stage.stage3Ds.data.get(0).context3D.createRectangleTexture(a,b,1,!0));var c=this.gl,d=this.gl.TEXTURE_2D,e=this.renderTargetA.getTexture(this.gl);c.__context.bindTexture(d,e);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE);this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)}null==
this.renderTargetB||this.renderTargetB.width==a&&this.renderTargetB.height==b||(this.renderTargetB=ja.fromTexture(this.stage.stage3Ds.data.get(0).context3D.createRectangleTexture(a,b,1,!0)),a=this.gl,b=this.gl.TEXTURE_2D,c=this.renderTargetB.getTexture(this.gl),a.__context.bindTexture(b,c),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE))}this.displayMatrix=
null==this.defaultRenderTarget?this.stage.__displayMatrix:new Fa;b=null==this.defaultRenderTarget?this.stage.stageWidth:this.defaultRenderTarget.width;a=null==this.defaultRenderTarget?this.stage.stageHeight:this.defaultRenderTarget.height;c=this.displayMatrix;this.offsetX=Math.round(0*c.a+0*c.c+c.tx);c=this.displayMatrix;this.offsetY=Math.round(0*c.b+0*c.d+c.ty);c=this.displayMatrix;this.displayWidth=Math.round(b*c.a+0*c.c+c.tx-this.offsetX);b=this.displayMatrix;this.displayHeight=Math.round(0*b.b+
a*b.d+b.ty-this.offsetY);this.projection=Da.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.offsetY,this.displayHeight+this.offsetY,-1E3,1E3);this.projectionFlipped=Da.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,-1E3,1E3)},__class__:td});var Kg=function(a){this.gl=a;this.defaultShader=new ji;this.initShader(this.defaultShader)};k["openfl._internal.renderer.opengl.GLShaderManager"]=Kg;Kg.__name__=["openfl","_internal","renderer",
"opengl","GLShaderManager"];Kg.__super__=Gg;Kg.prototype=t(Gg.prototype,{gl:null,initShader:function(a){return null!=a?(null==a.gl&&(a.gl=this.gl,a.__init()),a):this.defaultShader},setShader:function(a){this.currentShader!=a&&(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=null,this.gl.__context.useProgram(null)):(this.currentShader=a,this.initShader(a),this.gl.__context.useProgram(a.glProgram),this.currentShader.__enable()))},updateShader:function(a){null!=this.currentShader&&
this.currentShader.__update()},__class__:Kg});var ki=function(){this._registers=Nb.toFloatVector(null,4096);this.clearSettings()};k["openfl._internal.stage3D.Context3DStateCache"]=ki;ki.__name__=["openfl","_internal","stage3D","Context3DStateCache"];ki.prototype={_activeTexture:null,_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,
_viewportOriginY:null,_viewportWidth:null,clearRegisters:function(){for(var a=0;4096>a;){var b=a++;this._registers.data.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateViewport:function(a,
b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=c;this._viewportHeight=d;return!0},__class__:ki};var Vb=function(){};k["openfl._internal.stage3D.GLUtils"]=Vb;Vb.__name__=["openfl","_internal","stage3D","GLUtils"];Vb.CheckGLError=function(){if(Vb.debug){var a=x.context.__context.getError();if(0!=a){switch(a){case 0:a="GL_NO_ERROR";break;case 1280:a="GL_INVALID_ENUM";break;case 1281:a="GL_INVALID_VALUE";break;case 1282:a="GL_INVALID_OPERATION";break;case 1285:a="GL_OUT_OF_MEMORY";
break;case 1286:a="GL_INVALID_FRAMEBUFFER_OPERATION";break;default:a=null==a?"null":""+a}throw new u(new Cd("Error calling openGL api. Error: "+a+"\n"));}}};var li=function(a,b,c,d,e,f,l,h,m){null==m&&(m=!1);null==h&&(h=!1);null==l&&(l=!1);null==f&&(f=0);null==e&&(e=0);this.set_minFilter(a);this.set_magFilter(b);this.set_wrapModeS(c);this.set_wrapModeT(d);this.set_lodBias(e);this.set_maxAniso(f);this.ignoreSampler=l;this.centroid=h;this.mipmapGenerated=m;this.__samplerDirty=!0};k["openfl._internal.stage3D.SamplerState"]=
li;li.__name__=["openfl","_internal","stage3D","SamplerState"];li.prototype={lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,centroid:null,ignoreSampler:null,mipmapGenerated:null,__samplerDirty:null,set_lodBias:function(a){this.lodBias!=a&&(this.__samplerDirty=!0);return this.lodBias=a},set_magFilter:function(a){this.magFilter!=a&&(this.__samplerDirty=!0);return this.magFilter=a},set_maxAniso:function(a){this.maxAniso!=a&&(this.__samplerDirty=!0);return this.maxAniso=
a},set_minFilter:function(a){this.minFilter!=a&&(this.__samplerDirty=!0);return this.minFilter=a},set_wrapModeS:function(a){this.wrapModeS!=a&&(this.__samplerDirty=!0);return this.wrapModeS=a},set_wrapModeT:function(a){this.wrapModeT!=a&&(this.__samplerDirty=!0);return this.wrapModeT=a},__class__:li,__properties__:{set_wrapModeT:"set_wrapModeT",set_wrapModeS:"set_wrapModeS",set_minFilter:"set_minFilter",set_maxAniso:"set_maxAniso",set_magFilter:"set_magFilter",set_lodBias:"set_lodBias"}};var ta=function(){};
k["openfl._internal.stage3D.opengl.GLContext3D"]=ta;ta.__name__=["openfl","_internal","stage3D","opengl","GLContext3D"];ta.create=function(a){var b=a.__renderSession.gl,c=new Qb(512);a.__vertexConstants=c;c=new Qb(512);a.__fragmentConstants=c;c=[1,1,1,1];c=null!=c?new Qb(c):null;a.__positionScale=c;a.__samplerDirty=0;a.__samplerTextures=Nb.toObjectVector(null,8);a.__samplerStates=[];for(c=0;8>c;){var d=c++;a.__samplerStates[d]=new li(b.LINEAR,b.LINEAR,b.CLAMP_TO_EDGE,b.CLAMP_TO_EDGE)}a.maxBackBufferHeight=
a.maxBackBufferWidth=b.__context.getParameter(b.MAX_VIEWPORT_DIMS);a.__backBufferAntiAlias=0;a.__backBufferEnableDepthAndStencil=!0;a.__backBufferWantsBestResolution=!1;a.__frameCount=0;a.__rttDepthAndStencil=!1;a.__samplerDirty=0;a.__stencilCompareMode=0;a.__stencilRef=0;a.__stencilReadMask=255;c=b.__context.getExtension("EXT_texture_filter_anisotropic");null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=b.__context.getExtension("MOZ_EXT_texture_filter_anisotropic"));
null!=c&&Object.prototype.hasOwnProperty.call(c,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(c=b.__context.getExtension("WEBKIT_EXT_texture_filter_anisotropic"));a.__supportsPackedDepthStencil=!0;ec.DEPTH_STENCIL=b.DEPTH_STENCIL;a.__supportsAnisotropicFiltering=null!=c;a.__supportsAnisotropicFiltering&&(ec.TEXTURE_MAX_ANISOTROPY_EXT=c.TEXTURE_MAX_ANISOTROPY_EXT,c=b.__context.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT),a.__maxAnisotropyTexture2D=c);Vb.CheckGLError();c=b.__context.getParameter(b.VENDOR);
Vb.CheckGLError();d=b.__context.getParameter(b.VERSION);Vb.CheckGLError();var e=b.__context.getParameter(b.RENDERER);Vb.CheckGLError();b=b.__context.getParameter(b.SHADING_LANGUAGE_VERSION);Vb.CheckGLError();a.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+b};ta.__setViewport=function(a,b,c,d){null!=ta.context.__renderToTexture&&(b*=-1);ec.__stateCache.updateViewport(a,b,c,d)&&(ta.gl.__context.viewport(a,b,c,d),Vb.CheckGLError())};ta.__updateBlendFactorsTEMP=function(a){ta.context=
a;ta.gl=a.__renderSession.gl;ta.__updateBlendFactors()};ta.__updateBlendFactors=function(){if(null!=ec.__stateCache._srcBlendFactor&&null!=ec.__stateCache._destBlendFactor){switch(ec.__stateCache._srcBlendFactor){case 0:var a=ta.gl.DST_ALPHA;break;case 1:a=ta.gl.DST_COLOR;break;case 2:a=ta.gl.ONE;break;case 3:a=ta.gl.ONE_MINUS_DST_ALPHA;break;case 4:a=ta.gl.ONE_MINUS_DST_COLOR;break;case 5:a=ta.gl.ONE_MINUS_SRC_ALPHA;break;case 7:a=ta.gl.SRC_ALPHA;break;case 9:a=ta.gl.ZERO;break;default:throw new u(new Cd);
}switch(ec.__stateCache._destBlendFactor){case 0:var b=ta.gl.DST_ALPHA;break;case 2:b=ta.gl.ONE;break;case 3:b=ta.gl.ONE_MINUS_DST_ALPHA;break;case 5:b=ta.gl.ONE_MINUS_SRC_ALPHA;break;case 6:b=ta.gl.ONE_MINUS_SRC_COLOR;break;case 7:b=ta.gl.SRC_ALPHA;break;case 8:b=ta.gl.SRC_COLOR;break;case 9:b=ta.gl.ZERO;break;default:throw new u(new Cd);}ta.gl.__context.enable(ta.gl.BLEND);Vb.CheckGLError();ta.gl.__context.blendFunc(a,b);Vb.CheckGLError()}};ta.__updateBackbufferViewportTEMP=function(a){ta.context=
a;ta.gl=a.__renderSession.gl;ta.__updateBackbufferViewport()};ta.__updateBackbufferViewport=function(){Dd.__active||(Dd.__active=!0,ta.context.__renderSession.renderer.clear());null==ta.context.__renderToTexture&&0<ta.context.backBufferWidth&&0<ta.context.backBufferHeight&&ta.__setViewport(ta.context.__stage3D.x|0,ta.context.__stage3D.y|0,ta.context.backBufferWidth,ta.context.backBufferHeight)};var Si=function(){};k["openfl._internal.stage3D.opengl.GLProgram3D"]=Si;Si.__name__=["openfl","_internal",
"stage3D","opengl","GLProgram3D"];Si.use=function(a,b){b=b.gl;b.__context.useProgram(a.__programID);Vb.CheckGLError();a.__vertexUniformMap.markAllDirty();a.__fragmentUniformMap.markAllDirty();for(var c=a.__samplerUniforms.h;null!=c;){var d=c.item;c=c.next;if(1==d.regCount)b.__context.uniform1i(d.location,d.regIndex),Vb.CheckGLError();else throw new u(new Cd("!!! TODO: uniform location on webgl"));}for(a=a.__alphaSamplerUniforms.h;null!=a;)if(c=a.item,a=a.next,1==c.regCount)b.__context.uniform1i(c.location,
c.regIndex),Vb.CheckGLError();else throw new u(new Cd("!!! TODO: uniform location on webgl"));};var Lg=function(){};k["openfl._internal.stage3D.opengl.GLRectangleTexture"]=Lg;Lg.__name__=["openfl","_internal","stage3D","opengl","GLRectangleTexture"];Lg.create=function(a,b){a.__textureTarget=b.gl.TEXTURE_2D;Lg.uploadFromTypedArray(a,b,null)};Lg.uploadFromTypedArray=function(a,b,c){b=b.gl;b.__context.bindTexture(a.__textureTarget,a.__textureID);Vb.CheckGLError();var d=a.__textureTarget,e=a.__internalFormat,
f=a.__width,l=a.__height,h=a.__format,m=b.UNSIGNED_BYTE;c=L.fromArrayBufferView(c);b.__context.texImage2D(d,0,e,f,l,0,h,m,L.toBufferView(c));Vb.CheckGLError();b.__context.bindTexture(a.__textureTarget,null);Vb.CheckGLError()};var Dc=function(){};k["openfl._internal.stage3D.opengl.GLTextureBase"]=Dc;Dc.__name__=["openfl","_internal","stage3D","opengl","GLTextureBase"];Dc.create=function(a,b){b=b.gl;a.__textureID=b.__context.createTexture();a.__textureContext=b;null==Dc.__supportsBGRA&&(Dc.__textureInternalFormat=
b.RGBA,Dc.__supportsBGRA=!1,Dc.__textureFormat=b.RGBA);null==Dc.__supportsCompressed&&(b=b.__context.getExtension("WEBGL_compressed_texture_s3tc"),null!=b?(Dc.__supportsCompressed=!0,Dc.__textureFormatCompressed=b.COMPRESSED_RGBA_S3TC_DXT1_EXT,Dc.__textureFormatCompressedAlpha=b.COMPRESSED_RGBA_S3TC_DXT5_EXT):Dc.__supportsCompressed=!1);a.__internalFormat=Dc.__textureInternalFormat;a.__format=Dc.__textureFormat};var te=k["openfl._internal.swf.FilterType"]={__ename__:["openfl","_internal","swf","FilterType"],
__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"]};te.BlurFilter=function(a,b,c){a=["BlurFilter",0,a,b,c];a.__enum__=te;a.toString=w;return a};te.ColorMatrixFilter=function(a){a=["ColorMatrixFilter",1,a];a.__enum__=te;a.toString=w;return a};te.DropShadowFilter=function(a,b,c,d,e,f,l,h,m,k,g){a=["DropShadowFilter",2,a,b,c,d,e,f,l,h,m,k,g];a.__enum__=te;a.toString=w;return a};te.GlowFilter=function(a,b,c,d,e,f,l,h){a=["GlowFilter",3,a,b,c,d,e,f,l,h];a.__enum__=te;a.toString=
w;return a};var Vc=function(){this.symbols=new Ka};k["openfl._internal.swf.SWFLite"]=Vc;Vc.__name__=["openfl","_internal","swf","SWFLite"];Vc.resolveClass=function(a){var b=ka.resolveClass(a);null==b&&(b=ka.resolveClass(ea.replace(a,"openfl._legacy","openfl")));null==b&&(b=ka.resolveClass(ea.replace(a,"openfl._v2","openfl")));return b};Vc.resolveEnum=function(a){var b=ka.resolveEnum(a);null==b&&(b=ka.resolveEnum(ea.replace(a,"openfl._legacy","openfl")));null==b&&(b=ka.resolveEnum(ea.replace(a,"openfl._v2",
"openfl")));return b};Vc.unserialize=function(a){if(null==a)return null;a=new Xb(a);a.setResolver({resolveClass:Vc.resolveClass,resolveEnum:Vc.resolveEnum});return a.unserialize()};Vc.prototype={frameRate:null,library:null,root:null,symbols:null,createButton:function(a){return null},createMovieClip:function(a){null==a&&(a="");if(""==a)return this.root.__createObject(this);for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&M.__instanceof(c,$e))return M.__cast(c,$e).__createObject(this)}return null},
getBitmapData:function(a){for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&M.__instanceof(c,Wc))return sa.getBitmapData(c.path)}return null},hasSymbol:function(a){for(var b=this.symbols.iterator();b.hasNext();)if(b.next().className==a)return!0;return!1},serialize:function(){var a=new oc;a.serialize(this);return a.toString()},__class__:Vc};var $a=function(){Hc.call(this)};k["openfl.utils.AssetLibrary"]=$a;$a.__name__=["openfl","utils","AssetLibrary"];$a.fromBytes=function(a,
b){return $a.fromManifest(Wa.fromBytes(sb.toBytes(a),b))};$a.fromFile=function(a,b){return $a.fromManifest(Wa.fromFile(a,b))};$a.fromManifest=function(a){a=Hc.fromManifest(a);return null!=a&&M.__instanceof(a,$a)?a:null};$a.loadFromBytes=function(a,b){return Wa.loadFromBytes(sb.toBytes(a),b).then(function(a){return $a.loadFromManifest(a)})};$a.loadFromFile=function(a,b){return Wa.loadFromFile(a,b).then(function(a){return $a.loadFromManifest(a)})};$a.loadFromManifest=function(a){a=$a.fromManifest(a);
return null!=a&&M.__instanceof(a,$a)?a.load().then(function(a){return bb.withValue(a)}):bb.withError("Could not load asset manifest")};$a.__super__=Hc;$a.prototype=t(Hc.prototype,{getMovieClip:function(a){return null},__class__:$a});var mi=function(a){Hc.call(this);this.id=a;this.alphaCheck=new C;this.imageClassNames=new C;this.rootPath=""};k["openfl._internal.swf.SWFLiteLibrary"]=mi;mi.__name__=["openfl","_internal","swf","SWFLiteLibrary"];mi.__super__=$a;mi.prototype=t($a.prototype,{alphaCheck:null,
id:null,imageClassNames:null,preloading:null,rootPath:null,swf:null,exists:function(a,b){return null==this.swf?!1:""==a&&"MOVIE_CLIP"==b?!0:"IMAGE"!=b&&"MOVIE_CLIP"!=b||null==this.swf?!1:this.swf.hasSymbol(a)},getImage:function(a){var b=this.imageClassNames;if(null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=this.imageClassNames,a=null!=p[a]?b.getReserved(a):b.h[a];b=this.alphaCheck;if(null!=p[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))for(var c=this.swf.symbols.iterator();c.hasNext();)if(b=
c.next(),M.__instanceof(b,Wc)&&M.__cast(b,Wc).path==a&&null!=b.alpha){c=$a.prototype.getImage.call(this,a);var d=$a.prototype.getImage.call(this,b.alpha);this.__copyChannel(c,d);d=this.cachedImages;null!=p[a]?d.setReserved(a,c):d.h[a]=c;this.cachedImages.remove(b.alpha);b=this.alphaCheck;null!=p[a]?b.setReserved(a,!0):b.h[a]=!0;return c}return $a.prototype.getImage.call(this,a)},getMovieClip:function(a){return null!=this.swf?this.swf.createMovieClip(a):null},isLocal:function(a,b){return!0},load:function(){var a=
this;if(null!=this.id){var b=this.id,c=this.preload;null!=p[b]?c.setReserved(b,!0):c.h[b]=!0}var d=new Jb;this.preloading=!0;var e=function(b){var c=a.id,e=a.cachedText;null!=p[c]?e.setReserved(c,b):e.h[c]=b;a.swf=Vc.unserialize(b);a.swf.library=a;for(b=a.swf.symbols.iterator();b.hasNext();)if(c=b.next(),M.__instanceof(c,Wc)&&(e=c,null!=e.className)){c=e.className;e=e.path;var f=a.imageClassNames;null!=p[c]?f.setReserved(c,e):f.h[c]=e}b=a.id;c=a.swf;e=Vc.instances;null!=p[b]?e.setReserved(b,c):e.h[b]=
c;a.__load().onProgress(q(d,d.progress)).onError(q(d,d.error)).onComplete(function(b){a.preloading=!1;d.complete(a)})};if(sa.exists(this.id)){for(b=this.paths.keys();b.hasNext();){c=b.next();var f=this.preload;null!=p[c]?f.setReserved(c,!0):f.h[c]=!0}this.loadText(this.id).onError(q(d,d.error)).onComplete(e)}else{for(b=this.paths.keys();b.hasNext();)c=b.next(),f=this.preload,null!=p[c]?f.setReserved(c,!0):f.h[c]=!0;b=null!=this.rootPath&&""!=this.rootPath?this.rootPath+"/"+this.id:this.id;var l=new ne;
l.addEventListener("complete",function(a){e(l.data)});l.addEventListener("ioError",function(a){d.error(a)});l.load(new Jd(b))}return d.future},loadImage:function(a){var b=this,c=this.imageClassNames;if(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a))c=this.imageClassNames,a=null!=p[a]?c.getReserved(a):c.h[a];this.preloading?c=!1:(c=this.alphaCheck,c=!(null!=p[a]?c.existsReserved(a):c.h.hasOwnProperty(a)));if(c)for(c=this.swf.symbols.iterator();c.hasNext();){var d=c.next();if(M.__instanceof(d,
Wc)&&M.__cast(d,Wc).path==a&&(d=[d],null!=d[0].alpha))return c=[new Jb],this.__loadImage(a).onError((ad=c[0],q(ad,ad.error))).onComplete(function(c,d){return function(e){b.__loadImage(d[0].alpha).onError((ad=c[0],q(ad,ad.error))).onComplete(function(c,d){return function(f){b.__copyChannel(e,f);f=b.cachedImages;null!=p[a]?f.setReserved(a,e):f.h[a]=e;b.cachedImages.remove(d[0].alpha);f=b.alphaCheck;null!=p[a]?f.setReserved(a,!0):f.h[a]=!0;c[0].complete(e)}}(c,d))}}(c,d)),c[0].future}return $a.prototype.loadImage.call(this,
a)},unload:function(){for(var a,b=this.swf.symbols.iterator();b.hasNext();)a=b.next(),M.__instanceof(a,Wc)&&sa.cache.removeBitmapData(a.path)},__copyChannel:function(a,b){null!=b&&a.copyChannel(b,b.get_rect(),new ee,Pb.RED,Pb.ALPHA);a.buffer.premultiplied=!0;a.set_premultiplied(!1)},__fromManifest:function(a){this.rootPath=a.rootPath;$a.prototype.__fromManifest.call(this,a)},__load:function(){return $a.prototype.load.call(this)},__loadImage:function(a){return $a.prototype.loadImage.call(this,a)},
__class__:mi});var fc=k["openfl._internal.swf.ShapeCommand"]={__ename__:["openfl","_internal","swf","ShapeCommand"],__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" ")};fc.BeginBitmapFill=function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=fc;a.toString=w;return a};fc.BeginFill=function(a,b){a=["BeginFill",1,a,b];a.__enum__=fc;a.toString=w;return a};fc.BeginGradientFill=function(a,b,c,d,e,f,l,h){a=["BeginGradientFill",2,a,b,c,d,
e,f,l,h];a.__enum__=fc;a.toString=w;return a};fc.CurveTo=function(a,b,c,d){a=["CurveTo",3,a,b,c,d];a.__enum__=fc;a.toString=w;return a};fc.EndFill=["EndFill",4];fc.EndFill.toString=w;fc.EndFill.__enum__=fc;fc.LineStyle=function(a,b,c,d,e,f,l,h){a=["LineStyle",5,a,b,c,d,e,f,l,h];a.__enum__=fc;a.toString=w;return a};fc.LineTo=function(a,b){a=["LineTo",6,a,b];a.__enum__=fc;a.toString=w;return a};fc.MoveTo=function(a,b){a=["MoveTo",7,a,b];a.__enum__=fc;a.toString=w;return a};var gc=function(){};k["openfl._internal.symbols.SWFSymbol"]=
gc;gc.__name__=["openfl","_internal","symbols","SWFSymbol"];gc.prototype={className:null,id:null,__createObject:function(a){return null},__class__:gc};var Wc=function(){};k["openfl._internal.symbols.BitmapSymbol"]=Wc;Wc.__name__=["openfl","_internal","symbols","BitmapSymbol"];Wc.__super__=gc;Wc.prototype=t(gc.prototype,{alpha:null,path:null,smooth:null,__createObject:function(a){return new Xc(ja.fromImage(a.library.getImage(this.path)),1,0!=this.smooth)},__class__:Wc});var ni=function(){};k["openfl._internal.symbols.ButtonSymbol"]=
ni;ni.__name__=["openfl","_internal","symbols","ButtonSymbol"];ni.__super__=gc;ni.prototype=t(gc.prototype,{downState:null,hitState:null,overState:null,upState:null,__createObject:function(a){var b=null;vc.__initSWF=a;vc.__initSymbol=this;null!=this.className&&(a=ka.resolveClass(this.className),null!=a&&(b=ka.createInstance(a,[])));null==b&&(b=new vc);return b},__class__:ni});var oi=function(){};k["openfl._internal.symbols.DynamicTextSymbol"]=oi;oi.__name__=["openfl","_internal","symbols","DynamicTextSymbol"];
oi.__super__=gc;oi.prototype=t(gc.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(a){var b=new Ib;b.__fromSymbol(a,this);return b},__class__:oi});var pi=function(){};k["openfl._internal.symbols.FontSymbol"]=pi;pi.__name__=["openfl","_internal","symbols",
"FontSymbol"];pi.__super__=gc;pi.prototype=t(gc.prototype,{advances:null,ascent:null,bold:null,codes:null,descent:null,glyphs:null,italic:null,leading:null,name:null,__class__:pi});var qi=function(){};k["openfl._internal.symbols.ShapeSymbol"]=qi;qi.__name__=["openfl","_internal","symbols","ShapeSymbol"];qi.__super__=gc;qi.prototype=t(gc.prototype,{commands:null,rendered:null,__createObject:function(a){var b=new ue,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),
b;for(var d=0,e=this.commands;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:var l=f[5],h=f[4],k=f[3];f=a.symbols.get(f[2]);f=a.library.getImage(f.path);null!=f&&c.beginBitmapFill(ja.fromImage(f),k,h,l);break;case 1:c.beginFill(f[2],f[3]);break;case 2:c.beginGradientFill(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]);break;case 3:c.curveTo(f[2],f[3],f[4],f[5]);break;case 4:c.endFill();break;case 5:l=f[9];h=f[8];k=f[7];var n=f[6],g=f[5],p=f[4],q=f[3];f=f[2];null!=f?c.lineStyle(f,q,p,g,n,k,h,l):c.lineStyle();
break;case 6:c.lineTo(f[2],f[3]);break;case 7:c.moveTo(f[2],f[3])}}this.commands=null;this.rendered=new ue;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:qi});var $e=function(){this.frames=[]};k["openfl._internal.symbols.SpriteSymbol"]=$e;$e.__name__=["openfl","_internal","symbols","SpriteSymbol"];$e.__super__=gc;$e.prototype=t(gc.prototype,{baseClassName:null,frames:null,__createObject:function(a){xc.__initSWF=a;xc.__initSymbol=this;a=null;null!=this.className&&(a=ka.resolveClass(this.className));
null==a&&null!=this.baseClassName&&(a=ka.resolveClass(this.baseClassName));return null!=a?ka.createInstance(a,[]):new xc},__class__:$e});var ri=function(){};k["openfl._internal.symbols.StaticTextSymbol"]=ri;ri.__name__=["openfl","_internal","symbols","StaticTextSymbol"];ri.__super__=gc;ri.prototype=t(gc.prototype,{matrix:null,records:null,rendered:null,__createObject:function(a){var b=new af,c=b.__graphics;if(null!=this.rendered)return b.text=this.rendered.text,c.copyFrom(this.rendered.__graphics),
b;var d="";if(null!=this.records)for(var e=null,f=16777215,l=this.matrix.tx,h=this.matrix.ty,k,n,g=0,p=this.records;g<p.length;){var q=p[g];++g;null!=q.fontID&&(e=a.symbols.h[q.fontID]);null!=q.offsetX&&(l=this.matrix.tx+.05*q.offsetX);null!=q.offsetY&&(h=this.matrix.ty+.05*q.offsetY);null!=q.color&&(f=q.color);if(null!=e){k=q.fontHeight/1024*.05;for(var r=0,t=q.glyphs.length;r<t;){var v=r++;n=q.glyphs[v];d+=String.fromCharCode(e.codes[n]);var u=0;for(n=e.glyphs[n];u<n.length;){var w=n[u];++u;switch(w[1]){case 1:c.beginFill(f&
16777215,(f>>24&255)/255);break;case 3:c.curveTo(w[2]*k+l,w[3]*k+h,w[4]*k+l,w[5]*k+h);break;case 4:c.endFill();break;case 5:var x=w[9],y=w[8],z=w[7],A=w[6],B=w[5],D=w[4],C=w[3];w=w[2];null!=w?c.lineStyle(w,C,D,B,A,z,y,x):c.lineStyle();break;case 6:c.lineTo(w[2]*k+l,w[3]*k+h);break;case 7:c.moveTo(w[2]*k+l,w[3]*k+h)}}l+=.05*q.advances[v]}}}b.text=d;this.records=null;this.rendered=new af;this.rendered.text=d;this.rendered.__graphics.copyFrom(b.__graphics);return b},__class__:ri});var Ti=function(){};
k["openfl._internal.symbols.StaticTextRecord"]=Ti;Ti.__name__=["openfl","_internal","symbols","StaticTextRecord"];Ti.prototype={advances:null,color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:Ti};var da=function(){};k["openfl._internal.text.HTMLParser"]=da;da.__name__=["openfl","_internal","text","HTMLParser"];da.parse=function(a,b,c){a=a.replace(da.__regexBreakTag.r,"\n");a=a.replace(da.__regexEntities[0].r,'"');a=a.replace(da.__regexEntities[1].r,"'");a=a.replace(da.__regexEntities[2].r,
"&");a=a.replace(da.__regexEntities[5].r," ");var d=a.split("<");if(1==d.length)a=a.replace(da.__regexHTMLTag.r,""),1<c.data.get_length()&&(d=c.data.get_length()-1,new jd(c.data.splice(1,d))),a=a.replace(da.__regexEntities[3].r,"<"),a=a.replace(da.__regexEntities[4].r,">"),c=c.data.get(0),c.format=b,c.start=0,c.end=a.length;else{a=c.data.get_length();new jd(c.data.splice(0,a));a="";for(var e,f=0,l=d.length;f<l;){var h=f++;e=d[h];e=e.replace(da.__regexEntities[3].r,"<");e=e.replace(da.__regexEntities[4].r,
">");d[h]=e}e=[b.clone()];h=!1;for(f=0;f<d.length;)if(l=d[f],++f,""!=l){var k="/"==y.substr(l,0,1),n=l.indexOf(">"),g=n+1,p=l.indexOf(" ");p=l.substring(k?1:0,-1<p&&p<n?p:n);if(k)e.pop(),k=e[e.length-1].clone(),"p"==p.toLowerCase()&&0<c.data.get_length()&&(a+="\n",h=!0),g<l.length&&(l=y.substr(l,g,null),h=new Od(k,a.length,a.length+l.length),c.data.push(h),a+=l,h=!1);else if(k=e[e.length-1].clone(),-1<n){switch(p.toLowerCase()){case "a":da.__regexHref.match(l)&&(k.url=da.__getAttributeMatch(da.__regexHref));
break;case "b":k.bold=!0;break;case "em":case "i":k.italic=!0;break;case "font":da.__regexFace.match(l)&&(k.font=da.__getAttributeMatch(da.__regexFace));da.__regexColor.match(l)&&(k.color=U.parseInt("0x"+da.__getAttributeMatch(da.__regexColor)));da.__regexSize.match(l)&&(n=da.__getAttributeMatch(da.__regexSize),p=y.cca(n,0),k.size=43==p||45==p?(2<=e.length?e[e.length-2]:b).size+U.parseInt(n):U.parseInt(n));break;case "p":0<c.data.get_length()&&!h&&(a+="\n");da.__regexAlign.match(l)&&(k.align=Ui.fromString(da.__getAttributeMatch(da.__regexAlign).toLowerCase()));
break;case "textformat":da.__regexBlockIndent.match(l)&&(k.blockIndent=U.parseInt(da.__getAttributeMatch(da.__regexBlockIndent)));da.__regexIndent.match(l)&&(k.indent=U.parseInt(da.__getAttributeMatch(da.__regexIndent)));da.__regexLeading.match(l)&&(k.leading=U.parseInt(da.__getAttributeMatch(da.__regexLeading)));da.__regexLeftMargin.match(l)&&(k.leftMargin=U.parseInt(da.__getAttributeMatch(da.__regexLeftMargin)));da.__regexRightMargin.match(l)&&(k.rightMargin=U.parseInt(da.__getAttributeMatch(da.__regexRightMargin)));
if(da.__regexTabStops.match(l)){n=da.__getAttributeMatch(da.__regexTabStops).split(" ");p=[];for(var q=0;q<n.length;){var r=n[q];++q;p.push(U.parseInt(r))}k.tabStops=p}break;case "u":k.underline=!0}e.push(k);g<l.length&&(l=l.substring(g),h=new Od(k,a.length,a.length+l.length),c.data.push(h),a+=l,h=!1)}else h=new Od(k,a.length,a.length+l.length),c.data.push(h),a+=l,h=!1}0==c.data.get_length()&&(b=new Od(e[0],0,0),c.data.push(b))}return a};da.__getAttributeMatch=function(a){return null!=a.matched(2)?
a.matched(2):a.matched(3)};var W=function(a){this.textField=a;this.height=this.width=100;this.set_text("");this.bounds=new ia(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=Nb.toFloatVector(null);this.lineBreaks=Nb.toIntVector(null);this.lineDescents=Nb.toFloatVector(null);
this.lineLeadings=Nb.toFloatVector(null);this.lineHeights=Nb.toFloatVector(null);this.lineWidths=Nb.toFloatVector(null);this.layoutGroups=Nb.toObjectVector(null);this.textFormatRanges=Nb.toObjectVector(null);W.__canvas=window.document.createElement("canvas");W.__context=W.__canvas.getContext("2d")};k["openfl._internal.text.TextEngine"]=W;W.__name__=["openfl","_internal","text","TextEngine"];W.getFormatHeight=function(a){W.__context.font=W.getFont(a);if(null!=a.__ascent){var b=a.size*a.__ascent;var c=
a.size*a.__descent}else b=a.size,c=.185*a.size;return b+c+a.leading};W.getFont=function(a){var b=a.italic?"italic ":"normal ";b=b+"normal "+(a.bold?"bold ":"normal ");b+=a.size+"px";b+="/"+(a.leading+a.size+3)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return b+(""+a)};W.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,
borderColor:null,bottomScrollV:null,bounds:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__hasFocus:null,__restrictRegexp:null,__useIntAdvances:null,
getBounds:function(){var a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineBreakIndex:function(a){null==a&&(a=0);var b=B.indexOf(this.text,"<br>",a),c=B.indexOf(this.text,"\n",a);a=B.indexOf(this.text,"\r",a);return-1==c&&-1==b?a:-1==a&&-1==b?c:-1==a&&-1==c?b:-1==c?Math.min(b,a)|0:-1==a?Math.min(b,c)|0:-1==b?Math.min(c,a)|0:Math.min(Math.min(c,a),b)|0},getLineMeasurements:function(){this.lineAscents.data.set_length(0);this.lineDescents.data.set_length(0);this.lineLeadings.data.set_length(0);
this.lineHeights.data.set_length(0);this.lineWidths.data.set_length(0);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,l=this.layoutGroups;f<l.data.get_length();){var h=l.data.get(f);for(++f;h.lineIndex>this.numLines-1;)this.lineAscents.data.push(a),this.lineDescents.data.push(b),this.lineLeadings.data.push(null!=c?c:0),this.lineHeights.data.push(d),this.lineWidths.data.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=
this.height-2&&this.bottomScrollV++;a=Math.max(a,h.ascent);b=Math.max(b,h.descent);c=null==c?h.leading:Math.max(c,h.leading)|0;d=Math.max(d,h.height);e=h.offsetX-2+h.width;e>this.textWidth&&(this.textWidth=e);h=h.offsetY-2+h.ascent+h.descent;h>this.textHeight&&(this.textHeight=h)}this.lineAscents.data.push(a);this.lineDescents.data.push(b);this.lineLeadings.data.push(null!=c?c:0);this.lineHeights.data.push(d);this.lineWidths.data.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=
c)):this.textHeight<=this.height-2&&this.bottomScrollV++;if(2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.data.set_length(0);var a=-1,b=null,c=Ib.__defaultTextFormat.clone(),d=0,e=0,f=0,l=0,h=null,k=null,n=
0,g=0,p=0,q=-2,r=B.indexOf(this.text," "),t=this.getLineBreakIndex(),v=2,w=2,u=0,x=0,y=null;a<this.textFormatRanges.data.get_length()-1&&(++a,b=this.textFormatRanges.data.get(a),c.__merge(b.format),W.__context.font=W.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,l=c.size*c.__descent):(e=c.size,l=.185*c.size),d=c.leading,g=e+l+d);g>p&&(p=g);e>f&&(f=e);y=b.format;for(var z,A=B.get_length(this.text)+1;u<A;)if(-1<t&&(-1==r||t<r)&&b.end>=t){if(u<=t){if(this.wordWrap&&q<=u&&4<=this.width)for(var C=B.substring(this.text,
u,t),D=W.__context.measureText(C).width;v+D>this.width-2;){for(var E=1;u+E<t+1;){var G=B.substr(this.text,u,E);D=W.__context.measureText(G).width;if(v+D>this.width-2){--E;break}++E}0==E&&D>this.width-4&&(E=B.get_length(this.text));if(0==E){v=2;w+=h.height;++x;break}else{var H=u+E;null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,H),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=H);var F=this.text,I=u+E,J=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0",
"")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var L=0,M,N=u,Q=I;N<Q;){var R=N++;M=W.__context.measureText(B.substring(F,u,R+1)).width;J.push(M-L);L=M}else for(var P=u,S=I;P<S;){var O=P++;if(O<B.get_length(F)-1){var T=W.__context.measureText(B.charAt(F,O+1)).width;var U=W.__context.measureText(B.substr(F,O,2)).width-T}else U=W.__context.measureText(B.charAt(F,O)).width;J.push(U)}h.positions=J;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;for(var X=
h.positions,Y=0,Z=0;Z<X.length;){var da=X[Z];++Z;Y+=da}h.width=Y;h.height=g;h=null;e>f&&(f=e);g>p&&(p=g);for(var ba=0,ea=this.layoutGroups;ba<ea.data.get_length();){var ca=ea.data.get(ba);++ba;if(!(ca.lineIndex<x)){if(ca.lineIndex>x)break;ca.ascent=f;ca.height=p}}w+=p;p=f=0;++x;v=2;u+=E;var aa=this.text,fa=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var ia=0,ha,ja=u,ka=t;ja<ka;){var na=ja++;ha=W.__context.measureText(B.substring(aa,
u,na+1)).width;fa.push(ha-ia);ia=ha}else for(var ma=u,oa=t;ma<oa;){var la=ma++;if(la<B.get_length(aa)-1){var pa=W.__context.measureText(B.charAt(aa,la+1)).width;var qa=W.__context.measureText(B.substr(aa,la,2)).width-pa}else qa=W.__context.measureText(B.charAt(aa,la)).width;fa.push(qa)}k=fa;for(var sa=0,ta=0;ta<k.length;){var ua=k[ta];++ta;sa+=ua}D=n=sa}}null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,t),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=t);var ra=
this.text,va=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var xa=0,wa,za=u,Ca=t;za<Ca;){var Da=za++;wa=W.__context.measureText(B.substring(ra,u,Da+1)).width;va.push(wa-xa);xa=wa}else for(var Ba=u,Ha=t;Ba<Ha;){var ya=Ba++;if(ya<B.get_length(ra)-1){var Ma=W.__context.measureText(B.charAt(ra,ya+1)).width;var Ia=W.__context.measureText(B.substr(ra,ya,2)).width-Ma}else Ia=W.__context.measureText(B.charAt(ra,
ya)).width;va.push(Ia)}h.positions=va;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;for(var Ja=h.positions,Ka=0,Fa=0;Fa<Ja.length;){var Oa=Ja[Fa];++Fa;Ka+=Oa}h.width=Ka;h.height=g;h=null}else null!=h&&h.startIndex!=h.endIndex&&(h.endIndex==r&&(h.width-=h.positions[h.positions.length-1]),h=null);b.end==t&&(a<this.textFormatRanges.data.get_length()-1&&(++a,b=this.textFormatRanges.data.get(a),c.__merge(b.format),W.__context.font=W.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,
l=c.size*c.__descent):(e=c.size,l=.185*c.size),d=c.leading,g=e+l+d),g>p&&(p=g),e>f&&(f=e),y=b.format);t>=B.get_length(this.text)-1&&(w-=p);e>f&&(f=e);g>p&&(p=g);for(var Ga=0,La=this.layoutGroups;Ga<La.data.get_length();){var Ea=La.data.get(Ga);++Ga;if(!(Ea.lineIndex<x)){if(Ea.lineIndex>x)break;Ea.ascent=f;Ea.height=p}}w+=p;p=f=0;++x;v=2;u=t+1;t=this.getLineBreakIndex(u)}else if(b.end>=r&&-1<r&&u<b.end)for(null!=h&&h.startIndex!=h.endIndex&&(h=null),z=!1;u!=b.end;){var V=-1;-1==r?V=t:(V=r+1,-1<t&&
t<V&&(V=t));if(-1==V||V>b.end)V=b.end;var Aa=this.text,Na=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Qa=0,Pa,Ra=u,Sa=V;Ra<Sa;){var Va=Ra++;Pa=W.__context.measureText(B.substring(Aa,u,Va+1)).width;Na.push(Pa-Qa);Qa=Pa}else for(var Ua=u,Wa=V;Ua<Wa;){var Xa=Ua++;if(Xa<B.get_length(Aa)-1){var $a=W.__context.measureText(B.charAt(Aa,Xa+1)).width;var ab=W.__context.measureText(B.substr(Aa,Xa,2)).width-
$a}else ab=W.__context.measureText(B.charAt(Aa,Xa)).width;Na.push(ab)}k=Na;for(var bb=0,Za=0;Za<k.length;){var db=k[Za];++Za;bb+=db}n=bb;if(2==y.align){if(0<k.length&&u==q){++u;var cb=k.shift();n-=cb;v+=cb}if(0<k.length&&V==r+1){--V;var eb=k.pop();n-=eb}}this.wordWrap&&v+n>this.width-2&&(z=!0,0<k.length&&V==r+1&&v+n-k[k.length-1]<=this.width-2&&(z=!1));if(z){if(2!=y.align&&(null!=h||0<this.layoutGroups.data.get_length())){var Ya=h;if(null==Ya){var gb=this.layoutGroups,hb=this.layoutGroups.data.get_length()-
1;Ya=gb.data.get(hb)}Ya.width-=Ya.positions[Ya.positions.length-1];Ya.endIndex--}for(var jb=this.layoutGroups.data.get_length()-1,ib=0;;){h=this.layoutGroups.data.get(jb);if(0<jb&&h.startIndex>q)++ib;else break;--jb}if(u==q+1){e>f&&(f=e);g>p&&(p=g);for(var lb=0,pb=this.layoutGroups;lb<pb.data.get_length();){var mb=pb.data.get(lb);++lb;if(!(mb.lineIndex<x)){if(mb.lineIndex>x)break;mb.ascent=f;mb.height=p}}w+=p;p=f=0;++x;v=2}v=2;if(0<ib)for(var sb=this.layoutGroups,tb=this.layoutGroups.data.get_length()-
ib,ub=sb.data.get(tb).offsetX,rb=this.layoutGroups.data.get_length()-ib,vb=this.layoutGroups.data.get_length();rb<vb;){var yb=rb++;h=this.layoutGroups.data.get(yb);h.offsetX-=ub;h.offsetY=w;h.lineIndex=x;v+=h.width}if(4<=this.width)for(var Cb=B.substring(this.text,u,V),nb=W.__context.measureText(Cb).width;v+nb>this.width-2;){for(var fb=1;u+fb<V+1;){var Db=B.substr(this.text,u,fb);nb=W.__context.measureText(Db).width;if(v+nb>this.width-2){--fb;break}++fb}0==fb&&nb>this.width-4&&(fb=B.get_length(this.text));
if(0==fb){v=2;w+=h.height;++x;break}else{var Ab=u+fb;null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,Ab),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=Ab);var ob=this.text,Bb=u+fb,xb=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var Eb=0,zb,Gb=u,Kb=Bb;Gb<Kb;){var Lb=Gb++;zb=W.__context.measureText(B.substring(ob,u,Lb+1)).width;xb.push(zb-Eb);Eb=zb}else for(var Hb=
u,Nb=Bb;Hb<Nb;){var wb=Hb++;if(wb<B.get_length(ob)-1){var Vb=W.__context.measureText(B.charAt(ob,wb+1)).width;var Pb=W.__context.measureText(B.substr(ob,wb,2)).width-Vb}else Pb=W.__context.measureText(B.charAt(ob,wb)).width;xb.push(Pb)}h.positions=xb;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;for(var Qb=h.positions,Tb=0,Mb=0;Mb<Qb.length;){var bc=Qb[Mb];++Mb;Tb+=bc}h.width=Tb;h.height=g;h=null;e>f&&(f=e);g>p&&(p=g);for(var Ob=0,Xb=this.layoutGroups;Ob<Xb.data.get_length();){var Jb=
Xb.data.get(Ob);++Ob;if(!(Jb.lineIndex<x)){if(Jb.lineIndex>x)break;Jb.ascent=f;Jb.height=p}}w+=p;p=f=0;++x;v=2;u+=fb;var Fb=this.text,Rb=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var $b=0,Ub,ac=u,fc=V;ac<fc;){var gc=ac++;Ub=W.__context.measureText(B.substring(Fb,u,gc+1)).width;Rb.push(Ub-$b);$b=Ub}else for(var cc=u,lc=V;cc<lc;){var Sb=cc++;if(Sb<B.get_length(Fb)-1){var mc=W.__context.measureText(B.charAt(Fb,
Sb+1)).width;var ec=W.__context.measureText(B.substr(Fb,Sb,2)).width-mc}else ec=W.__context.measureText(B.charAt(Fb,Sb)).width;Rb.push(ec)}k=Rb;for(var hc=0,dc=0;dc<k.length;){var pc=k[dc];++dc;hc+=pc}nb=n=hc}}null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,V),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=V);h.positions=k;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;h.width=n;h.height=g;v+=n;u=V;z=!1}else null!=h&&u==r?2!=y.align&&
(h.endIndex=r,h.positions=h.positions.concat(k),h.width+=n):null==h||2==y.align?(null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,V),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=V),h.positions=k,h.offsetX=v,h.ascent=e,h.descent=l,h.leading=d,h.lineIndex=x,h.offsetY=w,h.width=n,h.height=g):(h.endIndex=V,h.positions=h.positions.concat(k),h.width+=n,t==V&&++V),v+=n,u=V;var sc=B.indexOf(this.text," ",u);b.end<=q?(h=null,u=b.end,a<this.textFormatRanges.data.get_length()-
1&&(++a,b=this.textFormatRanges.data.get(a),c.__merge(b.format),W.__context.font=W.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,l=c.size*c.__descent):(e=c.size,l=.185*c.size),d=c.leading,g=e+l+d),g>p&&(p=g),e>f&&(f=e)):(t==q&&(h.endIndex=t,0>t-h.startIndex-h.positions.length&&h.positions.push(0),u=t+1),q=r,r=sc);if(-1<t&&t<=u&&(r>t||-1==r)||u>B.get_length(this.text)||r>b.end)break}else{if(u>b.end)break;else if(u<b.end||u==B.get_length(this.text)){if(this.wordWrap&&4<=this.width)for(var Zb=b.end,
uc=B.substring(this.text,u,Zb),Wb=W.__context.measureText(uc).width;v+Wb>this.width-2;){for(var qb=1;u+qb<Zb+1;){var xc=B.substr(this.text,u,qb);Wb=W.__context.measureText(xc).width;if(v+Wb>this.width-2){--qb;break}++qb}0==qb&&Wb>this.width-4&&(qb=B.get_length(this.text));if(0==qb){v=2;w+=h.height;++x;break}else{var oc=u+qb;null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,oc),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=oc);var Yb=this.text,qc=u+qb,jc=[];null==
this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var rc=0,kc,tc=u,Cc=qc;tc<Cc;){var Dc=tc++;kc=W.__context.measureText(B.substring(Yb,u,Dc+1)).width;jc.push(kc-rc);rc=kc}else for(var wc=u,Hc=qc;wc<Hc;){var ic=wc++;if(ic<B.get_length(Yb)-1){var Lc=W.__context.measureText(B.charAt(Yb,ic+1)).width;var Fc=W.__context.measureText(B.substr(Yb,ic,2)).width-Lc}else Fc=W.__context.measureText(B.charAt(Yb,ic)).width;jc.push(Fc)}h.positions=
jc;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;for(var Gc=h.positions,Ic=0,zc=0;zc<Gc.length;){var Sc=Gc[zc];++zc;Ic+=Sc}h.width=Ic;h.height=g;h=null;e>f&&(f=e);g>p&&(p=g);for(var Ac=0,Mc=this.layoutGroups;Ac<Mc.data.get_length();){var vc=Mc.data.get(Ac);++Ac;if(!(vc.lineIndex<x)){if(vc.lineIndex>x)break;vc.ascent=f;vc.height=p}}w+=p;p=f=0;++x;v=2;u+=qb;var nc=this.text,Ec=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));
if(this.__useIntAdvances)for(var Pc=0,Jc,Rc=u,ad=Zb;Rc<ad;){var bd=Rc++;Jc=W.__context.measureText(B.substring(nc,u,bd+1)).width;Ec.push(Jc-Pc);Pc=Jc}else for(var Tc=u,cd=Zb;Tc<cd;){var Bc=Tc++;if(Bc<B.get_length(nc)-1){var fd=W.__context.measureText(B.charAt(nc,Bc+1)).width;var Vc=W.__context.measureText(B.substr(nc,Bc,2)).width-fd}else Vc=W.__context.measureText(B.charAt(nc,Bc)).width;Ec.push(Vc)}k=Ec;for(var Wc=0,Nc=0;Nc<k.length;){var jd=k[Nc];++Nc;Wc+=jd}Wb=n=Wc}}var yc=this.text,Zc=b.end,Qc=
[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var $c=0,Uc,ed=u,qd=Zc;ed<qd;){var rd=ed++;Uc=W.__context.measureText(B.substring(yc,u,rd+1)).width;Qc.push(Uc-$c);$c=Uc}else for(var id=u,ud=Zc;id<ud;){var Oc=id++;if(Oc<B.get_length(yc)-1){var wd=W.__context.measureText(B.charAt(yc,Oc+1)).width;var kd=W.__context.measureText(B.substr(yc,Oc,2)).width-wd}else kd=W.__context.measureText(B.charAt(yc,Oc)).width;
Qc.push(kd)}k=Qc;for(var ld=0,Yc=0;Yc<k.length;){var yd=k[Yc];++Yc;ld+=yd}n=ld;var nd=b.end;null==h||h.startIndex!=h.endIndex?(h=new Id(b.format,u,nd),this.layoutGroups.data.push(h)):(h.format=b.format,h.startIndex=u,h.endIndex=nd);var Kc=this.text,pd=b.end,gd=[];null==this.__useIntAdvances&&(this.__useIntAdvances=(new Ta("Trident/7.0","")).match(window.navigator.userAgent));if(this.__useIntAdvances)for(var sd=0,hd,td=u,Cd=pd;td<Cd;){var Dd=td++;hd=W.__context.measureText(B.substring(Kc,u,Dd+1)).width;
gd.push(hd-sd);sd=hd}else for(var vd=u,Ed=pd;vd<Ed;){var Xc=vd++;if(Xc<B.get_length(Kc)-1){var Gd=W.__context.measureText(B.charAt(Kc,Xc+1)).width;var xd=W.__context.measureText(B.substr(Kc,Xc,2)).width-Gd}else xd=W.__context.measureText(B.charAt(Kc,Xc)).width;gd.push(xd)}h.positions=gd;h.offsetX=v;h.ascent=e;h.descent=l;h.leading=d;h.lineIndex=x;h.offsetY=w;for(var zd=h.positions,Ad=0,md=0;md<zd.length;){var Hd=zd[md];++md;Ad+=Hd}h.width=Ad;h.height=g;v+=n;u=b.end}a<this.textFormatRanges.data.get_length()-
1&&(++a,b=this.textFormatRanges.data.get(a),c.__merge(b.format),W.__context.font=W.getFont(c),null!=c.__ascent?(e=c.size*c.__ascent,l=c.size*c.__descent):(e=c.size,l=.185*c.size),d=c.leading,g=e+l+d);g>p&&(p=g);e>f&&(f=e);if(u==b.end){e>f&&(f=e);g>p&&(p=g);for(var od=0,Bd=this.layoutGroups;od<Bd.data.get_length();){var dd=Bd.data.get(od);++od;if(!(dd.lineIndex<x)){if(dd.lineIndex>x)break;dd.ascent=f;dd.height=p}}w+=p;p=f=0;++x;v=2;++u;break}}},setTextAlignment:function(){for(var a=-1,b=0,c=this.width-
4,d,e,f=0,l=this.layoutGroups.data.get_length();f<l;){var h=f++;d=this.layoutGroups.data.get(h);if(d.lineIndex!=a)switch(a=d.lineIndex,d.format.align){case 0:b=this.lineWidths.data.get(a)<c?Math.round((c-this.lineWidths.data.get(a))/2):0;break;case 2:if(this.lineWidths.data.get(a)<c){e=1;b=h+1;for(var k=this.layoutGroups.data.get_length();b<k;){var n=b++;if(this.layoutGroups.data.get(n).lineIndex==a)0!=n&&32!=B.charCodeAt(this.text,this.layoutGroups.data.get(n).startIndex-1)||++e;else break}if(1<
e&&(d=this.layoutGroups.data.get(h+e-1),b=B.charCodeAt(this.text,d.endIndex),d.endIndex<B.get_length(this.text)&&10!=b&&13!=b))for(b=(c-this.lineWidths.data.get(a))/(e-1),k=0;1<k&&32!=B.charCodeAt(this.text,this.layoutGroups.data.get(k).startIndex-1)&&(this.layoutGroups.data.get(h+k).offsetX+=b*(k-1),++k),this.layoutGroups.data.get(h+k).offsetX+=b*k,++k<e;);}b=0;break;case 4:b=this.lineWidths.data.get(a)<c?Math.round(c-this.lineWidths.data.get(a)):0;break;default:b=0}0<b&&(d.offsetX+=b)}},update:function(){null==
this.text||B.equals(this.text,"")||0==this.textFormatRanges.data.get_length()?(this.lineAscents.data.set_length(0),this.lineBreaks.data.set_length(0),this.lineDescents.data.set_length(0),this.lineLeadings.data.set_length(0),this.lineHeights.data.set_length(0),this.lineWidths.data.set_length(0),this.layoutGroups.data.set_length(0),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());
this.getBounds()},set_text:function(a){if(null==a)return this.text=a;null!=this.__restrictRegexp&&(a=this.__restrictRegexp.split(a).join(""));0<this.maxChars&&a.length>this.maxChars&&(a=y.substr(a,0,this.maxChars));return this.text=a},__class__:W,__properties__:{set_text:"set_text"}};var Od=function(a,b,c){this.format=a;this.start=b;this.end=c};k["openfl._internal.text.TextFormatRange"]=Od;Od.__name__=["openfl","_internal","text","TextFormatRange"];Od.prototype={end:null,format:null,start:null,__class__:Od};
var Id=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};k["openfl._internal.text.TextLayoutGroup"]=Id;Id.__name__=["openfl","_internal","text","TextLayoutGroup"];Id.prototype={ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,positions:null,startIndex:null,width:null,__class__:Id};var Vi=function(){};k["openfl._internal.timeline.Frame"]=Vi;Vi.__name__=["openfl","_internal","timeline","Frame"];Vi.prototype={label:null,
objects:null,script:null,scriptSource:null,__class__:Vi};var Wi=function(){};k["openfl._internal.timeline.FrameObject"]=Wi;Wi.__name__=["openfl","_internal","timeline","FrameObject"];Wi.prototype={blendMode:null,cacheAsBitmap:null,clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:Wi};var Mc=k["openfl._internal.timeline.FrameObjectType"]={__ename__:["openfl","_internal","timeline","FrameObjectType"],__constructs__:["CREATE",
"UPDATE","DESTROY"]};Mc.CREATE=["CREATE",0];Mc.CREATE.toString=w;Mc.CREATE.__enum__=Mc;Mc.UPDATE=["UPDATE",1];Mc.UPDATE.toString=w;Mc.UPDATE.__enum__=Mc;Mc.DESTROY=["DESTROY",2];Mc.DESTROY.toString=w;Mc.DESTROY.__enum__=Mc;var jf=function(){hc.call(this);null==za.application&&(za.application=this)};k["openfl.display.Application"]=jf;jf.__name__=["openfl","display","Application"];jf.__super__=hc;jf.prototype=t(hc.prototype,{create:function(a){this.config=a;this.backend.create(a);za.current.__loaderInfo=
ud.create(null);za.current.__loaderInfo.content=za.current;if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new Mg(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:jf});var si=function(){};k["openfl.display.IShaderDrawable"]=si;si.__name__=["openfl","display","IShaderDrawable"];var Xc=function(a,b,c){null==
c&&(c=!1);Oa.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};k["openfl.display.Bitmap"]=Xc;Xc.__name__=["openfl","display","Bitmap"];Xc.__interfaces__=[si];Xc.__super__=Oa;Xc.prototype=t(Oa.prototype,{bitmapData:null,pixelSnapping:null,shader:null,smoothing:null,__imageVersion:null,__enterFrame:function(a){null!=this.bitmapData&&null!=this.bitmapData.image&&(a=this.bitmapData.image,this.bitmapData.image.version!=this.__imageVersion&&(this.__renderDirty||
(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__imageVersion=a.version))},__getBounds:function(a,b){if(null!=this.bitmapData){var c=ia.__pool.get();c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ia.__pool.release(c)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;
var l=c.a*c.d-c.b*c.c;c=0==l?-c.tx:1/l*(c.c*(c.ty-b)+c.d*(a-c.tx));l=this.__renderTransform;var h=l.a*l.d-l.b*l.c;a=0==h?-l.ty:1/h*(l.a*(b-l.ty)+l.b*(l.tx-a));if(0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height){if(null!=this.__scrollRect&&!this.__scrollRect.contains(c,a))return!1;null==d||e||d.push(f);return!0}return!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c;c=0==d?-c.tx:1/d*(c.c*(c.ty-
b)+c.d*(a-c.tx));d=this.__renderTransform;var e=d.a*d.d-d.b*d.c;a=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-a));return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?!0:!1},__renderCanvas:function(a){this.__updateCacheBitmap(a,!this.__worldColorTransform.__isDefault());if(null==this.__cacheBitmap||this.__cacheBitmapRender)!this.__renderable||0>=this.__worldAlpha||(b=a.context,null!=this.bitmapData&&this.bitmapData.__isValid&&this.bitmapData.readable&&(a.blendModeManager.setBlendMode(this.__worldBlendMode),
a.maskManager.pushObject(this,!1),la.convertToCanvas(this.bitmapData.image),b.globalAlpha=this.__worldAlpha,c=this.__renderTransform,d=this.__scrollRect,a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1),null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,
d.x,d.y,d.width,d.height),a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0),a.maskManager.popObject(this,!1)));else{var b=this.__cacheBitmap;if(b.__renderable&&!(0>=b.__worldAlpha)){var c=a.context;if(null!=b.bitmapData&&b.bitmapData.__isValid&&b.bitmapData.readable){a.blendModeManager.setBlendMode(b.__worldBlendMode);a.maskManager.pushObject(b,!1);la.convertToCanvas(b.bitmapData.image);c.globalAlpha=b.__worldAlpha;var d=b.__renderTransform,
e=b.__scrollRect;a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.allowSmoothing&&b.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(b.bitmapData.image.get_src(),0,0):c.drawImage(b.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.allowSmoothing&&b.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);
a.maskManager.popObject(b,!1)}}}},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderGL:function(a){this.__updateCacheBitmap(a,!1);null==this.__cacheBitmap||this.__cacheBitmapRender?qf.render(this,a):qf.render(this.__cacheBitmap,a)},__updateCacheBitmap:function(a,b){null!=this.get_filters()&&Oa.prototype.__updateCacheBitmap.call(this,a,b)},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),
a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new ia),this.__getBounds(a.__bounds,Fa.__identity),Oa.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());this.__imageVersion=-1;return this.bitmapData},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},set_height:function(a){return null!=
this.bitmapData?(a!=this.bitmapData.height&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.set_scaleY(a/this.bitmapData.height)),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.__scaleX):0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&(this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.set_scaleX(a/this.bitmapData.width)),a):0},__class__:Xc,__properties__:t(Oa.prototype.__properties__,
{set_bitmapData:"set_bitmapData"})});var ja=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new ia(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new pa(null,0,0,a,b,d<<8|d>>>24&255),this.image.set_transparent(c),this.readable=this.__isValid=!0);this.__worldTransform=new Fa;this.__worldColorTransform=new vb};k["openfl.display.BitmapData"]=ja;ja.__name__=["openfl",
"display","BitmapData"];ja.__interfaces__=[pf];ja.fromBase64=function(a,b){var c=new ja(0,0,!0,0);a=pa.fromBase64(a,b);c.__fromImage(a);return c};ja.fromBytes=function(a,b){var c=new ja(0,0,!0,0);a=pa.fromBytes(sb.toBytes(a));c.__fromImage(a);null!=b&&c.__applyAlpha(b);return c};ja.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new ja(0,0,b,0);c.__fromImage(pa.fromCanvas(a));c.image.set_transparent(b);return c};ja.fromFile=function(a){var b=new ja(0,0,!0,0);b.__fromFile(a);
return b};ja.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new ja(0,0,b,0);c.__fromImage(a);c.image.set_transparent(b);return c};ja.fromTexture=function(a){if(null==a)return null;var b=new ja(a.__width,a.__height,!0,0);b.readable=!1;b.__texture=a.__textureID;b.__textureContext=a.__textureContext;b.image=null;return b};ja.loadFromBase64=function(a,b){return pa.loadFromBase64(a,b).then(function(a){return bb.withValue(ja.fromImage(a))})};ja.loadFromBytes=function(a,
b){return pa.loadFromBytes(sb.toBytes(a)).then(function(a){a=ja.fromImage(a);null!=b&&a.__applyAlpha(b);return bb.withValue(a)})};ja.loadFromFile=function(a){return pa.loadFromFile(a).then(function(a){return bb.withValue(ja.fromImage(a))})};ja.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__buffer:null,__bufferColorTransform:null,__bufferContext:null,__bufferAlpha:null,__bufferData:null,__framebuffer:null,__framebufferContext:null,__isValid:null,__surface:null,
__texture:null,__textureContext:null,__textureVersion:null,__transform:null,__worldColorTransform:null,__worldTransform:null,colorTransform:function(a,b){this.readable&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);this.readable&&null!=a&&(null!=e&&(ja.__tempVector.x=e.x,ja.__tempVector.y=e.y),this.image.copyPixels(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?ja.__tempVector:null,f))},draw:function(a,
b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new Fa,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=c){var l=ia.__pool.get(),h=Fa.__pool.get();a.__getBounds(l,h);var k=new ja(Math.ceil(l.width),Math.ceil(l.height),!0,0);k.draw(a);k.colorTransform(k.rect,c);a=k;ia.__pool.release(l);Fa.__pool.release(h)}la.convertToCanvas(this.image);c=this.image.buffer;l=new qe;l.clearRenderDirty=!1;l.context=c.__srcContext;l.allowSmoothing=f;l.maskManager=new se(l);l.blendModeManager=
new re(l);l.blendModeManager.setBlendMode(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&l.maskManager.pushRect(e,new Fa);d=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(l);a.__updateTransforms(d);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&l.maskManager.popRect();
c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=x.context&&(e=x.context,f=e.FRAMEBUFFER,d=this.__getFramebuffer(e),e.__context.bindFramebuffer(f,d),e.__context.viewport(0,0,this.width,this.height),f=new td(za.current.stage,e,this),d=f.renderSession,d.clearRenderDirty=!1,d.shaderManager=M.__cast(za.current.stage.__renderer,td).renderSession.shaderManager,d=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),
a.__renderGL(f.renderSession),a.__updateTransforms(d),a.__updateChildren(!0),e.__context.bindFramebuffer(e.FRAMEBUFFER,null))},fillRect:function(a,b){if(null!=a)if(this.transparent&&0==(b&-16777216)&&(b=0),this.readable)this.image.fillRect(a.__toLimeRectangle(),b,1);else if(null!=this.__framebuffer){var c=x.context,d=!this.rect.equals(a);c.__context.bindFramebuffer(c.FRAMEBUFFER,this.__framebuffer);d&&(c.__context.enable(c.SCISSOR_TEST),c.__context.scissor(Math.round(a.x),Math.round(a.y),Math.round(a.width),
Math.round(a.height)));c.__context.clearColor((b>>>16&255)/255,(b>>>8&255)/255,(b&255)/255,(b>>>24&255)/255);c.__context.clear(c.COLOR_BUFFER_BIT);d&&c.__context.disable(c.SCISSOR_TEST);c.__context.bindFramebuffer(c.FRAMEBUFFER,null)}},getBuffer:function(a,b,c){if(null==this.__buffer||this.__bufferContext!=a){this.__bufferData=new Qb(104);this.__bufferData[0]=this.width;this.__bufferData[1]=this.height;this.__bufferData[3]=1;this.__bufferData[4]=1;this.__bufferData[27]=this.height;this.__bufferData[30]=
1;this.__bufferData[52]=this.width;this.__bufferData[55]=1;for(var d=0;4>d;){var e=d++;this.__bufferData[26*e+5]=b;null!=c?(this.__bufferData[26*e+6]=c.redMultiplier,this.__bufferData[26*e+11]=c.greenMultiplier,this.__bufferData[26*e+16]=c.blueMultiplier,this.__bufferData[26*e+21]=c.alphaMultiplier,this.__bufferData[26*e+22]=c.redOffset/255,this.__bufferData[26*e+23]=c.greenOffset/255,this.__bufferData[26*e+24]=c.blueOffset/255,this.__bufferData[26*e+25]=c.alphaOffset/255):(this.__bufferData[26*e+
6]=1,this.__bufferData[26*e+11]=1,this.__bufferData[26*e+16]=1,this.__bufferData[26*e+21]=1)}this.__bufferAlpha=b;this.__bufferColorTransform=null!=c?c.__clone():null;this.__bufferContext=a;this.__buffer=a.__context.createBuffer();a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);Ef.bufferData(a,a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW)}else{if(this.__bufferAlpha!=b){for(d=0;4>d;)e=d++,this.__bufferData[26*e+5]=b;this.__bufferAlpha=b}if(null==this.__bufferColorTransform&&null!=c||null!=this.__bufferColorTransform&&
!this.__bufferColorTransform.__equals(c))if(null!=c)for(null==this.__bufferColorTransform?this.__bufferColorTransform=c.__clone():this.__bufferColorTransform.__copyFrom(c),b=0;4>b;)d=b++,this.__bufferData[26*d+6]=c.redMultiplier,this.__bufferData[26*d+11]=c.greenMultiplier,this.__bufferData[26*d+16]=c.blueMultiplier,this.__bufferData[26*d+21]=c.alphaMultiplier,this.__bufferData[26*d+22]=c.redOffset/255,this.__bufferData[26*d+23]=c.greenOffset/255,this.__bufferData[26*d+24]=c.blueOffset/255,this.__bufferData[26*
d+25]=c.alphaOffset/255;else for(c=0;4>c;)b=c++,this.__bufferData[26*b+6]=1,this.__bufferData[26*b+11]=1,this.__bufferData[26*b+16]=1,this.__bufferData[26*b+21]=1,this.__bufferData[26*b+22]=0,this.__bufferData[26*b+23]=0,this.__bufferData[26*b+24]=0,this.__bufferData[26*b+25]=0;a.__context.bindBuffer(a.ARRAY_BUFFER,this.__buffer);c=a.ARRAY_BUFFER;b=this.__bufferData.byteLength;d=L.fromArrayBufferView(this.__bufferData);e=a.STATIC_DRAW;a.__context.bufferData(c,L.toBufferView(d,b),e)}return this.__buffer},
getTexture:function(a){if(!this.__isValid)return null;if(null==this.__texture||this.__textureContext!=a)this.__textureContext=a,this.__texture=a.__context.createTexture(),a.__context.bindTexture(a.TEXTURE_2D,this.__texture),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.__context.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,
a.NEAREST),this.__textureVersion=-1;la.sync(this.image,!1);if(null!=this.image&&this.image.version!=this.__textureVersion){var b;null!=this.__surface&&Gi.flush(this.__surface);if(1==this.image.buffer.bitsPerPixel)var c=b=a.ALPHA;else null==ja.__supportsBGRA&&(ja.__textureInternalFormat=a.RGBA,ja.__supportsBGRA=!1,ja.__textureFormat=a.RGBA),b=ja.__textureInternalFormat,c=ja.__textureFormat;a.__context.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==gb.DATA||d.get_premultiplied()?
!d.get_premultiplied()&&d.get_transparent()&&a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):a.__context.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);ja.__supportsBGRA||0==d.get_format()||(d=d.clone(),d.set_format(0));if(d.type==gb.DATA){var e=a.TEXTURE_2D,f=d.buffer.width,l=d.buffer.height,h=a.UNSIGNED_BYTE;d=L.fromArrayBufferView(d.get_data());a.__context.texImage2D(e,0,b,f,l,0,c,h,L.toBufferView(d))}else Ef.texImage2D(a,a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.__context.bindTexture(a.TEXTURE_2D,
null);this.__textureVersion=this.image.version}this.readable||null==this.image||(this.image=this.__surface=null);return this.__texture},lock:function(){},unlock:function(a){},__applyAlpha:function(a){la.convertToCanvas(this.image);la.createImageData(this.image);for(var b=this.image.buffer.data,c=0,d=sb.get_length(a);c<d;){var e=c++;b[4*e+3]=a.readUnsignedByte()}this.image.version++},__draw:function(a,b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new Fa,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=
0,b.ty=0));if(this.readable){if(null!=c){d=ia.__pool.get();var l=Fa.__pool.get();a.__getBounds(d,l);var h=new ja(Math.ceil(d.width),Math.ceil(d.height),!0,0);h.draw(a);h.colorTransform(h.rect,c);a=h;ia.__pool.release(d);Fa.__pool.release(l)}la.convertToCanvas(this.image);c=this.image.buffer;d=new qe;d.clearRenderDirty=!0;d.context=c.__srcContext;d.allowSmoothing=f;d.maskManager=new se(d);d.blendModeManager=new re(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=
!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new Fa);l=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(d);a.__updateTransforms(l);a.__updateChildren(!0);f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=
x.context&&(e=x.context,f=e.FRAMEBUFFER,c=this.__getFramebuffer(e),e.__context.bindFramebuffer(f,c),e.__context.viewport(0,0,this.width,this.height),f=new td(za.current.stage,e,this),c=f.renderSession,c.clearRenderDirty=!0,c.shaderManager=M.__cast(za.current.stage.__renderer,td).renderSession.shaderManager,c=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),a.__renderGL(f.renderSession),a.__updateTransforms(c),a.__updateChildren(!0),e.__context.bindFramebuffer(e.FRAMEBUFFER,null))},
__fromFile:function(a){a=pa.fromFile(a);this.__fromImage(a)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new ia(0,0,a.width,a.height),this.__isValid=this.readable=!0)},__getBounds:function(a,b){var c=ia.__pool.get();this.rect.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ia.__pool.release(c)},__getFramebuffer:function(a){if(null==this.__framebuffer||this.__framebufferContext!=a)this.getTexture(a),this.__framebufferContext=
a,this.__framebuffer=a.__context.createFramebuffer(),a.__context.bindFramebuffer(a.FRAMEBUFFER,this.__framebuffer),a.__context.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.__texture,0);return this.__framebuffer},__renderCanvas:function(a){if(this.readable){this.image.type==gb.DATA&&la.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new Fa);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,
c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderGL:function(a){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(10);var d=a.shaderManager.defaultShader;d.get_data().uImage0.input=this;var e=a.allowSmoothing&&a.upscaled;d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__worldTransform);a.shaderManager.setShader(d);a=c.ARRAY_BUFFER;b=this.getBuffer(c,1,this.__worldColorTransform);c.__context.bindBuffer(a,
b);a=d.get_data().aPosition.index;b=c.FLOAT;e=L.fromInt(0);c.__context.vertexAttribPointer(a,3,b,!1,24,L.toValue(e));a=d.get_data().aTexCoord.index;b=c.FLOAT;e=L.fromInt(12);c.__context.vertexAttribPointer(a,2,b,!1,24,L.toValue(e));d=d.get_data().aAlpha.index;a=c.FLOAT;b=L.fromInt(20);c.__context.vertexAttribPointer(d,1,a,!1,24,L.toValue(b));c.__context.drawArrays(c.TRIANGLE_STRIP,0,4)},__updateChildren:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=
a},__class__:ja};var Ri={};k["openfl.display._CapsStyle.CapsStyle_Impl_"]=Ri;Ri.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Ri.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var bf=function(a){Oa.call(this)};k["openfl.display.DirectRenderer"]=bf;bf.__name__=["openfl","display","DirectRenderer"];bf.__super__=Oa;bf.prototype=t(Oa.prototype,{__render:null,set_render:function(a){return this.__render=a},__class__:bf,
__properties__:t(Oa.prototype.__properties__,{set_render:"set_render"})});var Ib=function(){Sa.call(this);this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new Vd(this);this.__textEngine=new W(this);this.__layoutDirty=!0;this.__offsetY=this.__offsetX=0;this.__mouseWheelEnabled=!0;this.__text="";null==Ib.__defaultTextFormat&&(Ib.__defaultTextFormat=new ve("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Ib.__defaultTextFormat.blockIndent=0,Ib.__defaultTextFormat.bullet=!1,Ib.__defaultTextFormat.letterSpacing=
0,Ib.__defaultTextFormat.kerning=!1);this.__textFormat=Ib.__defaultTextFormat.clone();var a=this.__textEngine.textFormatRanges,b=new Od(this.__textFormat,0,0);a.data.push(b);this.addEventListener("mouseDown",q(this,this.this_onMouseDown))};k["openfl.text.TextField"]=Ib;Ib.__name__=["openfl","text","TextField"];Ib.__interfaces__=[si];Ib.__super__=Sa;Ib.prototype=t(Sa.prototype,{__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,
__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__symbol:null,__text:null,__textEngine:null,__textFormat:null,getCharBoundaries:function(a){if(0>a||a>B.get_length(this.__text)-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.data.get_length();){var d=c.data.get(b);++b;if(a>=d.startIndex&&a<=d.endIndex){b=d.offsetX;c=0;for(var e=a-d.startIndex;c<e;){var f=c++;b+=d.positions[f]}return new ia(b,d.offsetY,d.positions[a-
d.startIndex],d.ascent+d.descent)}}return null},getLineIndexOfChar:function(a){if(0>a||a>B.get_length(this.__text))return-1;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.data.get_length();){var d=c.data.get(b);++b;if(d.startIndex<=a&&d.endIndex>=a)return d.lineIndex}return-1},getLineOffset:function(a){this.__updateLayout();if(0>a||a>this.__textEngine.numLines-1)return-1;for(var b=0,c=this.__textEngine.layoutGroups;b<c.data.get_length();){var d=c.data.get(b);++b;if(d.lineIndex==
a)return d.startIndex}return 0},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);a=b+B.get_length(M.__cast(a,String));this.setSelection(a,a)}},replaceText:function(a,b,c){if(!(b<a||0>a||b>B.get_length(this.__text)||null==c)){this.__updateText(B.substring(this.__text,0,a)+c+B.substring(this.__text,
b));for(var d=c.length-(b-a),e=0,f;e<this.__textEngine.textFormatRanges.data.get_length();)f=this.__textEngine.textFormatRanges.data.get(e),f.start<=a&&f.end>=b?(f.end+=d,++e):f.start>=a&&f.end<=b?(0<e?new jd(this.__textEngine.textFormatRanges.data.splice(e,1)):(f.start=0,f.end=a+c.length,++e),d-=f.end-f.start):(f.start>a&&f.start<=b&&(f.start+=d),++e);this.__layoutDirty=this.__dirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},setSelection:function(a,b){this.__selectionIndex=
a;this.__caretIndex=b},__allowMouseFocus:function(){return 1!=this.__textEngine.type?this.get_tabEnabled():!0},__caretBeginningOfLine:function(){this.__selectionIndex==this.__caretIndex||this.__caretIndex<this.__selectionIndex?this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex)):this.__selectionIndex=this.getLineOffset(this.getLineIndexOfChar(this.__selectionIndex))},__caretEndOfLine:function(){var a=this.__selectionIndex==this.__caretIndex?this.getLineIndexOfChar(this.__caretIndex):
this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0);this.__caretIndex=a<this.__textEngine.numLines-1?this.getLineOffset(a+1)-1:B.get_length(this.__text)},__caretNextCharacter:function(){this.__caretIndex<B.get_length(this.__text)&&this.__caretIndex++},__caretNextLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));a<this.__textEngine.numLines-1?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a+1)):this.__caretIndex=
B.get_length(this.__text)},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(a,b){null==a&&(a=this.getLineIndexOfChar(this.__caretIndex));0<a?(null==b&&(b=this.__caretIndex),this.__caretIndex=this.__getCharIndexOnDifferentLine(b,a-1)):this.__caretIndex=0},__disableInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(q(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(q(this,
this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(a){if(2==a.eventPhase&&"mouseUp"==a.type){var b=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=b&&(b=b.format.url,""!=b&&(ea.startsWith(b,"event:")?this.dispatchEvent(new vd("link",!1,!1,y.substr(b,6,null))):za.getURL(new Jd(b))))}return Sa.prototype.__dispatch.call(this,a)},__enableInput:function(){null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),
this.stage.window.onTextInput.has(q(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(q(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(q(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__fromSymbol:function(a,b){this.__symbol=b;this.set_width(b.width);this.set_height(b.height);this.__offsetX=b.x;this.__offsetY=b.y;this.set_multiline(b.multiline);this.set_wordWrap(b.wordWrap);this.set_displayAsPassword(b.password);b.border&&(this.set_border(!0),
this.set_background(!0));this.set_selectable(b.selectable);b.input&&this.set_type(1);var c=new ve;null!=b.color&&(c.color=b.color&16777215);c.size=Math.round(b.fontHeight/20);a=a.symbols.h[b.fontID];null!=a&&(c.__ascent=a.ascent/20/1024,c.__descent=a.descent/20/1024);c.font=b.fontName;a=!1;var d=c.font;if(null==d)a=!0;else switch(d){case "":case "_sans":case "_serif":case "_typewriter":a=!0;break;default:d=0;for(var e=Wb.enumerateFonts();d<e.length;){var f=e[d];++d;if(f.name==c.font){a=!0;break}}}if(!a)for(d=
/[^a-zA-Z]+/g,e=0,f=Wb.enumerateFonts();e<f.length;){var l=f[e];++e;if(y.substr(l.name.replace(d,""),0,b.fontName.length)==b.fontName){c.font=l.name;a=!0;break}}a?this.set_embedFonts(!0):(a=c.font,d=Ib.__missingFontWarning,(null!=p[a]?d.existsReserved(a):d.h.hasOwnProperty(a))||(a=c.font,d=Ib.__missingFontWarning,null!=p[a]?d.setReserved(a,!0):d.h[a]=!0,eb.warn('Could not find required font "'+c.font+'", it has not been embedded',{fileName:"TextField.hx",lineNumber:1037,className:"openfl.text.TextField",
methodName:"__fromSymbol"})));null!=b.align&&("center"==b.align?c.align=0:"right"==b.align?c.align=4:"justify"==b.align&&(c.align=2),c.leftMargin=b.leftMargin/20|0,c.rightMargin=b.rightMargin/20|0,c.indent=b.indent/20|0,c.leading=b.leading/20|0);this.set_defaultTextFormat(c);null!=b.text&&(b.html?this.set_htmlText(b.text):this.set_text(b.text))},__getBounds:function(a,b){this.__updateLayout();var c=ia.__pool.get();c.copyFrom(this.__textEngine.bounds);c.x+=this.__offsetX;c.y+=this.__offsetY;c.__transform(c,
b);a.__expand(c.x,c.y,c.width,c.height);ia.__pool.release(c)},__getCharIndexOnDifferentLine:function(a,b){if(0>a||a>B.get_length(this.__text)||0>b||b>this.__textEngine.numLines-1)return-1;for(var c=null,d=null,e=0,f=this.__textEngine.layoutGroups;e<f.data.get_length();){var l=f.data.get(e);++e;if(a>=l.startIndex&&a<=l.endIndex){c=l.offsetX;for(var h=0,k=a-l.startIndex;h<k;){var n=h++;c+=l.positions[n]}if(null!=d)return this.__getPosition(c,d)}if(l.lineIndex==b&&(d=l.offsetY+l.height/2,null!=c))return this.__getPosition(c,
d)}return-1},__getCursor:function(){var a=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=a&&""!=a.format.url?ma.POINTER:this.__textEngine.selectable?ma.TEXT:null},__getGroup:function(a,b,c){null==c&&(c=!1);this.__updateLayout();a+=this.get_scrollH();for(var d=0,e=this.get_scrollV()-1;d<e;){var f=d++;b+=this.__textEngine.lineHeights.data.get(f)}!c&&b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);d=!0;f=0;for(var l=this.__textEngine.layoutGroups.data.get_length();f<
l;){var h=f++;e=this.__textEngine.layoutGroups.data.get(h);h=h<this.__textEngine.layoutGroups.data.get_length()-1?this.__textEngine.layoutGroups.data.get(h+1):null;d&&(b<e.offsetY&&(b=e.offsetY),a<e.offsetX&&(a=e.offsetX),d=!1);if(b>=e.offsetY&&b<=e.offsetY+e.height||!c&&null==h)if(a>=e.offsetX&&a<=e.offsetX+e.width||!c&&(null==h||h.lineIndex!=e.lineIndex))return e}return null},__getPosition:function(a,b){b=this.__getGroup(a,b);if(null==b)return B.get_length(this.__text);for(var c=0,d=0,e=b.positions.length;d<
e;){var f=d++;c+=b.positions[f];if(a<=b.offsetX+c){if(a<=b.offsetX+(c-b.positions[f])+b.positions[f]/2)return b.startIndex+f;if(b.startIndex+f<b.endIndex)return b.startIndex+f+1;break}}return b.endIndex},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();c=this.__renderTransform;e=c.a*c.d-c.b*c.c;var l=this.__renderTransform,h=l.a*l.d-l.b*l.c;
return this.__textEngine.bounds.contains(0==e?-c.tx:1/e*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==h?-l.ty:1/h*(l.a*(b-l.ty)+l.b*(l.tx-a)))?(null!=d&&d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,e=this.__renderTransform,f=e.a*e.d-e.b*e.c;return this.__textEngine.bounds.contains(0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==f?-e.ty:1/f*(e.a*(b-e.ty)+e.b*(e.tx-a)))?!0:!1},__renderCanvas:function(a){var b=this.__textEngine,
c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ia),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&!B.equals(b.text,"")||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&
(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));I.context=d.__context;var l=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=f;I.context.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty);null==I.clearRect&&(I.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);I.clearRect&&I.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;
!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)I.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=ea.hex(b.backgroundColor&16777215,6),I.context.fillStyle="#"+c,I.context.fill()),b.border&&(I.context.lineWidth=1,c=ea.hex(b.borderColor&
16777215,6),I.context.strokeStyle="#"+c,I.context.stroke());I.context.textBaseline="top";I.context.textAlign="start";c=-this.get_scrollH();l=f=0;for(var h=this.get_scrollV()-1;l<h;){var k=l++;f-=b.lineHeights.data.get(k)}l=0;h=(new Ta("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent);k=0;for(var n=b.layoutGroups;k<n.data.get_length();){var g=n.data.get(k);++k;if(!(g.lineIndex<this.get_scrollV()-1)){if(g.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;I.context.font=W.getFont(g.format);
var p=ea.hex(g.format.color&16777215,6);I.context.fillStyle="#"+p;h&&(l=.185*g.format.size);if(null!=this.__filters&&0<this.__filters.length&&M.__instanceof(this.__filters[0],Kd)){p=this.__filters[0];var q=I.context.globalAlpha;I.context.globalAlpha=q*p.alpha;var r=ea.hex(p.color&16777215,6);I.context.strokeStyle="#"+r;I.context.lineWidth=Math.max(p.blurX,p.blurY);I.context.strokeText(B.substring(e,g.startIndex,g.endIndex),g.offsetX+c,g.offsetY+l+f);I.context.strokeStyle=null;I.context.globalAlpha=
q}I.context.fillText(B.substring(e,g.startIndex,g.endIndex),g.offsetX+c,g.offsetY+l+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&g.startIndex<=this.__caretIndex&&g.endIndex>=this.__caretIndex){q=p=0;for(r=this.__caretIndex-g.startIndex;q<r;){var t=q++;if(g.positions.length<=t)break;p+=g.positions[t]}I.context.fillRect(g.offsetX+p,g.offsetY,1,g.height)}}else if(g.startIndex<=this.__caretIndex&&g.endIndex>=this.__caretIndex||g.startIndex<=
this.__selectionIndex&&g.endIndex>=this.__selectionIndex||g.startIndex>this.__caretIndex&&g.endIndex<this.__selectionIndex||g.startIndex>this.__selectionIndex&&g.endIndex<this.__caretIndex)p=Math.min(this.__selectionIndex,this.__caretIndex)|0,q=Math.max(this.__selectionIndex,this.__caretIndex)|0,g.startIndex>p&&(p=g.startIndex),g.endIndex<q&&(q=g.endIndex),r=this.getCharBoundaries(p),q>=B.get_length(b.text)?(t=this.getCharBoundaries(B.get_length(b.text)-1),t.x+=t.width+2):t=this.getCharBoundaries(q),
null!=r&&null!=t&&(I.context.fillStyle="#000000",I.context.fillRect(r.x,r.y,t.x-r.x,g.height),I.context.fillStyle="#FFFFFF",I.context.fillText(B.substring(e,p,q),c+r.x,g.offsetY+l+f))}}}else{if(b.border||b.background)b.border?I.context.rect(.5,.5,c.width-1,c.height-1):I.context.rect(0,0,c.width,c.height),b.background&&(e=ea.hex(b.backgroundColor&16777215,6),I.context.fillStyle="#"+e,I.context.fill()),b.border&&(I.context.lineWidth=1,I.context.lineCap="square",e=ea.hex(b.borderColor&16777215,6),I.context.strokeStyle=
"#"+e,I.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(l=this.get_scrollV()-1;f<l;)h=f++,c-=b.lineHeights.data.get(h);I.context.beginPath();b=ea.hex(this.get_defaultTextFormat().color&16777215,6);I.context.strokeStyle="#"+b;I.context.moveTo(e+2.5,c+2.5);I.context.lineWidth=1;I.context.lineTo(e+2.5,c+W.getFormatHeight(this.get_defaultTextFormat())-1);I.context.stroke();I.context.closePath()}}d.__bitmap=ja.fromCanvas(this.__graphics.__canvas);
d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){if(d=a.context.imageSmoothingEnabled)a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1;Sa.prototype.__renderCanvas.call(this,a);d&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Sa.prototype.__renderCanvas.call(this,a)},__renderGL:function(a){var b=
this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new ia),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&!B.equals(b.text,"")||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;
else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));I.context=d.__context;var k=d.__renderTransform;d.__canvas.width=e;d.__canvas.height=f;I.context.setTransform(k.a,k.b,k.c,k.d,k.tx,k.ty);null==I.clearRect&&(I.clearRect="undefined"!==typeof navigator&&"undefined"!==typeof navigator.isCocoonJS);I.clearRect&&I.context.clearRect(0,0,d.__canvas.width,d.__canvas.height);if(null!=b.text&&
""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)I.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=ea.hex(b.backgroundColor&16777215,6),I.context.fillStyle="#"+c,I.context.fill()),b.border&&
(I.context.lineWidth=1,c=ea.hex(b.borderColor&16777215,6),I.context.strokeStyle="#"+c,I.context.stroke());I.context.textBaseline="top";I.context.textAlign="start";c=-this.get_scrollH();k=f=0;for(var h=this.get_scrollV()-1;k<h;){var m=k++;f-=b.lineHeights.data.get(m)}k=0;h=(new Ta("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent);m=0;for(var n=b.layoutGroups;m<n.data.get_length();){var g=n.data.get(m);++m;if(!(g.lineIndex<this.get_scrollV()-1)){if(g.lineIndex>this.get_scrollV()+
b.bottomScrollV-2)break;I.context.font=W.getFont(g.format);var p=ea.hex(g.format.color&16777215,6);I.context.fillStyle="#"+p;h&&(k=.185*g.format.size);if(null!=this.__filters&&0<this.__filters.length&&M.__instanceof(this.__filters[0],Kd)){p=this.__filters[0];var q=I.context.globalAlpha;I.context.globalAlpha=q*p.alpha;var r=ea.hex(p.color&16777215,6);I.context.strokeStyle="#"+r;I.context.lineWidth=Math.max(p.blurX,p.blurY);I.context.strokeText(B.substring(e,g.startIndex,g.endIndex),g.offsetX+c,g.offsetY+
k+f);I.context.strokeStyle=null;I.context.globalAlpha=q}I.context.fillText(B.substring(e,g.startIndex,g.endIndex),g.offsetX+c,g.offsetY+k+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&g.startIndex<=this.__caretIndex&&g.endIndex>=this.__caretIndex){q=p=0;for(r=this.__caretIndex-g.startIndex;q<r;){var t=q++;if(g.positions.length<=t)break;p+=g.positions[t]}I.context.fillRect(g.offsetX+p,g.offsetY,1,g.height)}}else if(g.startIndex<=this.__caretIndex&&
g.endIndex>=this.__caretIndex||g.startIndex<=this.__selectionIndex&&g.endIndex>=this.__selectionIndex||g.startIndex>this.__caretIndex&&g.endIndex<this.__selectionIndex||g.startIndex>this.__selectionIndex&&g.endIndex<this.__caretIndex)p=Math.min(this.__selectionIndex,this.__caretIndex)|0,q=Math.max(this.__selectionIndex,this.__caretIndex)|0,g.startIndex>p&&(p=g.startIndex),g.endIndex<q&&(q=g.endIndex),r=this.getCharBoundaries(p),q>=B.get_length(b.text)?(t=this.getCharBoundaries(B.get_length(b.text)-
1),t.x+=t.width+2):t=this.getCharBoundaries(q),null!=r&&null!=t&&(I.context.fillStyle="#000000",I.context.fillRect(r.x,r.y,t.x-r.x,g.height),I.context.fillStyle="#FFFFFF",I.context.fillText(B.substring(e,p,q),c+r.x,g.offsetY+k+f))}}}else{if(b.border||b.background)b.border?I.context.rect(.5,.5,c.width-1,c.height-1):I.context.rect(0,0,c.width,c.height),b.background&&(e=ea.hex(b.backgroundColor&16777215,6),I.context.fillStyle="#"+e,I.context.fill()),b.border&&(I.context.lineWidth=1,I.context.lineCap=
"square",e=ea.hex(b.borderColor&16777215,6),I.context.strokeStyle="#"+e,I.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(k=this.get_scrollV()-1;f<k;)h=f++,c-=b.lineHeights.data.get(h);I.context.beginPath();b=ea.hex(this.get_defaultTextFormat().color&16777215,6);I.context.strokeStyle="#"+b;I.context.moveTo(e+2.5,c+2.5);I.context.lineWidth=1;I.context.lineTo(e+2.5,c+W.getFormatHeight(this.get_defaultTextFormat())-1);I.context.stroke();I.context.closePath()}}d.__bitmap=
ja.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}Sa.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=ld.delay(q(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=B.get_length(this.__text));this.__enableInput()},__stopCursorTimer:function(){null!=
this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__stopTextInput:function(){this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/
2);break;case 3:this.set_x(this.get_x()+(a-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},__updateText:function(a){this.__text=a;B.get_length(this.__text)<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=B.get_length(this.__text));if(this.__displayAsPassword){a="";for(var b=0,c=B.get_length(this.get_text());b<c;)b++,a+="*";this.__textEngine.set_text(a)}else this.__textEngine.set_text(this.__text)},__updateTransforms:function(a){Sa.prototype.__updateTransforms.call(this,
a);a=this.__renderTransform;var b=this.__offsetX,c=this.__offsetY;a.tx=b*a.a+c*a.c+a.tx;a.ty=b*a.b+c*a.d+a.ty},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.autoSize=a},set_background:function(a){a!=this.__textEngine.background&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.background=
a},set_border:function(a){a!=this.__textEngine.border&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.border=a},get_cacheAsBitmap:function(){return null!=this.__filters&&1==this.__filters.length&&M.__instanceof(this.__filters[0],Kd)?!1:Sa.prototype.get_cacheAsBitmap.call(this)},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=
!0;this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());return a},set_displayAsPassword:function(a){a!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__displayAsPassword=a,this.__updateText(this.__text));return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(a){a!=
this.__textEngine.height&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.height=a);return this.__textEngine.height*Math.abs(this.get_scaleY())},set_htmlText:function(a){this.__isHTML&&this.__text==a||(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));this.__isHTML=!0;a=da.parse(a,this.__textFormat,this.__textEngine.textFormatRanges);
this.__updateText(a);return a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&1==this.get_type()&&(null!=
this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},get_tabEnabled:function(){return null==this.__tabEnabled?1==this.__textEngine.type:this.__tabEnabled},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());else return a;if(1<this.__textEngine.textFormatRanges.data.get_length()){var b=
this.__textEngine.textFormatRanges,c=this.__textEngine.textFormatRanges.data.get_length()-1;new jd(b.data.splice(1,c))}b=this.__textEngine.textFormatRanges.data.get(0);b.format=this.__textFormat;b.start=0;b.end=B.get_length(a);this.__isHTML=!1;this.__updateText(a);return a},get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",q(this,this.this_onFocusIn)),this.addEventListener("focusOut",q(this,this.this_onFocusOut)),
this.addEventListener("addedToStage",q(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("focusIn",q(this,this.this_onFocusIn)),this.removeEventListener("focusOut",q(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",q(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__textEngine.type=
a},get_width:function(){this.__updateLayout();return this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(a){a!=this.__textEngine.width&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.width=a);return this.__textEngine.width*Math.abs(this.__scaleX)},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=
!0,this.__setParentRenderDirty()));return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",q(this,this.stage_onMouseMove)),
this.stage.removeEventListener("mouseUp",q(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.get_x();this.get_y();this.get_x();this.get_y();var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Math.min(this.__selectionIndex,b)|0;b=Math.max(this.__selectionIndex,b)|0;this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},
this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.stage.addEventListener("mouseMove",q(this,
this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",q(this,this.stage_onMouseUp)))},window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new T("change",!0)));break;case 97:if(Qa.get_metaKey(b)||Qa.get_ctrlKey(b))this.__caretIndex=B.get_length(this.__text),this.__selectionIndex=
0;break;case 99:(Qa.get_metaKey(b)||Qa.get_ctrlKey(b))&&jc.set_text(B.substring(this.__text,this.__caretIndex,this.__selectionIndex));break;case 120:if(Qa.get_metaKey(b)||Qa.get_ctrlKey(b))jc.set_text(B.substring(this.__text,this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new T("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<B.get_length(this.__text)&&(this.__selectionIndex=
this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new T("change",!0)));break;case 1073741898:this.__caretBeginningOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741901:this.__caretEndOfLine();this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:Qa.get_metaKey(b)?(this.__caretEndOfLine(),Qa.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):
Qa.get_shiftKey(b)?this.__caretNextCharacter():(this.__selectionIndex==this.__caretIndex?this.__caretNextCharacter():this.__caretIndex=Math.max(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741904:Qa.get_metaKey(b)?(this.__caretBeginningOfLine(),Qa.get_shiftKey(b)||(this.__selectionIndex=this.__caretIndex)):Qa.get_shiftKey(b)?this.__caretPreviousCharacter():(this.__selectionIndex==this.__caretIndex?
this.__caretPreviousCharacter():this.__caretIndex=Math.min(this.__caretIndex,this.__selectionIndex)|0,this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741905:Qa.get_shiftKey(b)?this.__caretNextLine():(this.__selectionIndex==this.__caretIndex?this.__caretNextLine():(a=this.getLineIndexOfChar(Math.max(this.__caretIndex,this.__selectionIndex)|0),this.__caretNextLine(a,Math.min(this.__caretIndex,this.__selectionIndex)|0)),this.__selectionIndex=
this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741906:Qa.get_shiftKey(b)?this.__caretPreviousLine():(this.__selectionIndex==this.__caretIndex?this.__caretPreviousLine():(a=this.getLineIndexOfChar(Math.min(this.__caretIndex,this.__selectionIndex)|0),this.__caretPreviousLine(a,Math.min(this.__caretIndex,this.__selectionIndex)|0)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 13:case 1073741912:this.__textEngine.multiline&&
(this.replaceSelectedText("\n"),this.dispatchEvent(new T("change",!0)))}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new T("change",!0))},__class__:Ib,__properties__:t(Sa.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_htmlText:"set_htmlText",
set_embedFonts:"set_embedFonts",set_displayAsPassword:"set_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",set_border:"set_border",set_background:"set_background",set_autoSize:"set_autoSize"})});var sf=function(a,b,c){null==c&&(c=0);null==b&&(b=10);null==a&&(a=10);Ib.call(this);this.set_x(a);this.set_y(b);this.currentFPS=0;this.set_selectable(!1);this.mouseEnabled=!1;this.set_defaultTextFormat(new ve("_sans",12,c));this.set_text("FPS: ");
this.cacheCount=0;this.times=[];this.addEventListener("enterFrame",q(this,this.this_onEnterFrame))};k["openfl.display.FPS"]=sf;sf.__name__=["openfl","display","FPS"];sf.__super__=Ib;sf.prototype=t(Ib.prototype,{currentFPS:null,cacheCount:null,times:null,this_onEnterFrame:function(a){a=window.performance.now()/1E3;for(this.times.push(a);this.times[0]<a-1;)this.times.shift();a=this.times.length;this.currentFPS=Math.round((a+this.cacheCount)/2);a!=this.cacheCount&&this.set_text("FPS: "+this.currentFPS);
this.cacheCount=a},__class__:sf});var zg=function(a,b){ya.call(this);this.__name=a;this.__frame=b};k["openfl.display.FrameLabel"]=zg;zg.__name__=["openfl","display","FrameLabel"];zg.__super__=ya;zg.prototype=t(ya.prototype,{__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:zg,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var Vd=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new ac;this.__positionY=this.__positionX=
this.__strokePadding=0;this.__renderTransform=new Fa;this.__worldTransform=new Fa;this.__height=this.__width=0;this.moveTo(0,0)};k["openfl.display.Graphics"]=Vd;Vd.__name__=["openfl","display","Graphics"];Vd.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__positionX:null,__positionY:null,__renderTransform:null,__strokePadding:null,__transformDirty:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(a,
b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},beginGradientFill:function(a,b,c,d,e,f,k,h){null==h&&(h=0);null==k&&(k=1);null==f&&(f=0);this.__commands.beginGradientFill(a,b,c,d,e,f,k,h);for(a=0;a<c.length;)if(b=c[a],++a,0<b){this.__visible=!0;break}},copyFrom:function(a){this.__bounds=null!=a.__bounds?a.__bounds.clone():
null;this.__commands=a.__commands.copy();this.set___dirty(!0);this.__strokePadding=a.__strokePadding;this.__positionX=a.__positionX;this.__positionY=a.__positionY;this.__transformDirty=!0;this.__visible=a.__visible},curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var e=a<c&&a>this.__positionX||a>c&&a<this.__positionX?c:this.__calculateBezierQuadPoint((this.__positionX-
a)/(this.__positionX-2*a+c),this.__positionX,a,c);var f=b<d&&b>this.__positionY||b>d&&b<this.__positionY?d:this.__calculateBezierQuadPoint((this.__positionY-b)/(this.__positionY-2*b+d),this.__positionY,b,d);this.__inflateBounds(e-this.__strokePadding,f-this.__strokePadding);this.__inflateBounds(e+this.__strokePadding,f+this.__strokePadding);this.__positionX=c;this.__positionY=d;this.__commands.curveTo(a,b,c,d);this.set___dirty(!0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,
b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(a,b,c,d,e,f,k,h){null==h&&(h=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==k?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,k,h);null!=a&&(this.__visible=!0)},
lineTo:function(a,b){isFinite(a)&&isFinite(b)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=a,this.__positionY=b,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(a,
b),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__calculateBezierQuadPoint:function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=ia.__pool.get();this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height);ia.__pool.release(c)}},__hitTest:function(a,
b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c;e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx));var f=d.a*d.d-d.b*d.c;a=0==f?-d.ty:1/f*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?n.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new ia(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&
(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__renderTransform;if(null!=a){var b=0==a.b?Math.abs(a.a):Math.sqrt(a.a*a.a+a.b*a.b);var c=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d);b*=
this.__bounds.width;c*=this.__bounds.height;if(1>b||1>c)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=this.__width=0;else{this.__renderTransform.a=b/this.__bounds.width;this.__renderTransform.d=c/this.__bounds.height;var d=1/this.__renderTransform.a,e=1/this.__renderTransform.d;this.__worldTransform.a=d*a.a;this.__worldTransform.b=d*a.b;this.__worldTransform.c=e*a.c;this.__worldTransform.d=e*a.d;e=this.__bounds.x;var f=this.__bounds.y;d=e*a.a+f*a.c+a.tx;a=e*a.b+f*a.d+a.ty;
this.__worldTransform.tx=Math.floor(d);this.__worldTransform.ty=Math.floor(a);e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.tx=0==f?-e.tx:1/f*(e.c*(e.ty-a)+e.d*(d-e.tx));e=this.__worldTransform;f=e.a*e.d-e.b*e.c;this.__renderTransform.ty=0==f?-e.ty:1/f*(e.a*(a-e.ty)+e.b*(e.tx-d));b=Math.ceil(b+this.__renderTransform.tx);c=Math.ceil(c+this.__renderTransform.ty);b==this.__width&&c==this.__height||this.set___dirty(!0);this.__width=b;this.__height=c}}}},set___dirty:function(a){if(a&&
null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__renderDirty=!0,b.__setParentRenderDirty())}return this.__dirty=a},__class__:Vd,__properties__:{set___dirty:"set___dirty"}};var Qi={};k["openfl.display._JointStyle.JointStyle_Impl_"]=Qi;Qi.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"];Qi.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var rg=function(){Bb.call(this);this.contentLoaderInfo=ud.create(this);
this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents};k["openfl.display.Loader"]=rg;rg.__name__=["openfl","display","Loader"];rg.__super__=Bb;rg.prototype=t(Bb.prototype,{content:null,contentLoaderInfo:null,uncaughtErrorEvents:null,__library:null,__path:null,__unloaded:null,load:function(a,b){this.contentLoaderInfo.loaderURL=za.current.get_loaderInfo().url;this.contentLoaderInfo.url=a.url;this.__unloaded=!1;if(null==a.contentType||""==a.contentType){b="";this.__path=a.url;var c=this.__path.indexOf("?");
-1<c&&(this.__path=this.__path.substring(0,c));for(;ea.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);ea.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",a.url=-1<c?this.__path+a.url.substring(c):this.__path);c=this.__path.lastIndexOf(".");-1<c&&(b=this.__path.substring(c+1));switch(b){case "gif":b="image/gif";break;case "jpeg":case "jpg":b="image/jpeg";break;case "js":b="application/javascript";break;case "json":b="application/json";break;case "png":b=
"image/png";break;case "swf":b="application/x-shockwave-flash";break;default:b="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=b}else this.contentLoaderInfo.contentType=a.contentType;if(-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==a.method&&(null==a.requestHeaders||0==a.requestHeaders.length)&&null==a.userAgent)ja.loadFromFile(a.url).onComplete(q(this,this.BitmapData_onLoad)).onError(q(this,this.BitmapData_onError)).onProgress(q(this,this.BitmapData_onProgress));
else{b=new ne;b.dataFormat=0;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))b.dataFormat=1;b.addEventListener("complete",q(this,this.loader_onComplete));b.addEventListener("ioError",q(this,this.loader_onError));b.addEventListener("progress",q(this,this.loader_onProgress));b.load(a)}},__dispatchError:function(a){var b=new we("ioError");b.text=a;this.contentLoaderInfo.dispatchEvent(b)},
BitmapData_onError:function(a){this.__dispatchError(U.string(a))},BitmapData_onLoad:function(a){this.content=new Xc(a);this.contentLoaderInfo.content=this.content;this.addChild(this.content);this.contentLoaderInfo.dispatchEvent(new T("complete"))},BitmapData_onProgress:function(a,b){var c=new Pd("progress");c.bytesLoaded=a;c.bytesTotal=b;this.contentLoaderInfo.dispatchEvent(c)},loader_onComplete:function(a){var b=this;a=a.target;if(-1<this.contentLoaderInfo.contentType.indexOf("/json")){var c=Wa.parse(a.data,
$d.directory(this.__path));if(null==c)this.__dispatchError("Cannot parse asset manifest");else{var d=Hc.fromManifest(c);if(null==d)this.__dispatchError("Cannot open library");else if(M.__instanceof(d,$a))d.load().onComplete(function(a){b.__library=d;sa.registerLibrary(b.contentLoaderInfo.url,b.__library);null==c.name||sa.hasLibrary(c.name)||sa.registerLibrary(c.name,b.__library);b.content=b.__library.getMovieClip("");b.contentLoaderInfo.content=b.content;b.addChild(b.content);b.contentLoaderInfo.dispatchEvent(new T("complete"))}).onError(function(a){b.__dispatchError(a)})}}else if(-1<
this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))this.content=new bc,this.contentLoaderInfo.content=this.content,this.addChild(this.content),eval("(function () {"+U.string(a.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new T("complete"));else ja.loadFromBytes(a.data).onComplete(q(this,this.BitmapData_onLoad)).onError(q(this,this.BitmapData_onError))},loader_onError:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},
loader_onProgress:function(a){a.target=this.contentLoaderInfo;this.contentLoaderInfo.dispatchEvent(a)},__class__:rg});var ud=function(){ya.call(this);this.applicationDomain=xe.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};k["openfl.display.LoaderInfo"]=ud;ud.__name__=["openfl","display","LoaderInfo"];ud.create=function(a){var b=new ud;b.uncaughtErrorEvents=new Ng;null!=a?b.loader=a:b.url=ud.__rootURL;return b};ud.__super__=ya;ud.prototype=t(ya.prototype,
{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,loader:null,loaderURL:null,parameters:null,uncaughtErrorEvents:null,url:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new T("complete")))},__update:function(a,b){this.bytesLoaded=a;this.bytesTotal=b;this.dispatchEvent(new Pd("progress",
!1,!1,a,b))},__class__:ud});var hi=function(a,b,c,d,e,f){this.initFrame=a;this.initFrameObjectID=b;this.characterID=c;this.depth=d;this.displayObject=e;this.clipDepth=f};k["openfl.display._MovieClip.FrameSymbolInstance"]=hi;hi.__name__=["openfl","display","_MovieClip","FrameSymbolInstance"];hi.prototype={characterID:null,clipDepth:null,depth:null,displayObject:null,initFrame:null,initFrameObjectID:null,__class__:hi};var Bd=function(){Oa.call(this)};k["openfl.display.OpenGLView"]=Bd;Bd.__name__=["openfl",
"display","OpenGLView"];Bd.__properties__={get_isSupported:"get_isSupported"};Bd.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=x.context)return!0;var a=window.document.createElement("canvas"),b=a.getContext("webgl");null==b&&(b=a.getContext("experimental-webgl"));return null!=b};Bd.__super__=bf;Bd.prototype=t(bf.prototype,{__enterFrame:function(a){null==this.__render||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__renderCanvas:function(a){},
__renderGL:function(a){if(null!=this.stage&&this.__renderable){var b=null==this.__scrollRect?new ia(0,0,this.stage.stageWidth,this.stage.stageHeight):new ia(this.get_x()+this.__scrollRect.x,this.get_y()+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height);a.shaderManager.setShader(null);a.blendModeManager.setBlendMode(null);null!=this.__render&&this.__render(b)}},__class__:Bd});var kf=function(a){zd.call(this);this.display=a;null!=a&&(a.addEventListener("unload",q(this,this.display_onUnload)),
za.current.addChild(a))};k["openfl.display.Preloader"]=kf;kf.__name__=["openfl","display","Preloader"];kf.__super__=zd;kf.prototype=t(zd.prototype,{display:null,ready:null,start:function(){if(!this.simulateProgress)if(this.ready=!0,za.current.get_loaderInfo().__complete(),null!=this.display){var a=new T("complete",!0,!0);this.display.dispatchEvent(a);a.isDefaultPrevented()||this.display.dispatchEvent(new T("unload"))}else zd.prototype.start.call(this)},update:function(a,b){za.current.get_loaderInfo().__update(a,
b);null!=this.display&&this.display.dispatchEvent(new Pd("progress",!0,!0,a,b))},display_onUnload:function(a){null!=this.display&&(this.display.removeEventListener("unload",q(this,this.display_onUnload)),this.display.parent==za.current&&za.current.removeChild(this.display),za.current.stage.set_focus(null),this.display=null);this.ready&&!this.simulateProgress&&zd.prototype.start.call(this)},__class__:kf});var lf=function(){bc.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*
(a>>8&255)+.114*(a&255)&&(b=16777215);a=this.getHeight()/2-3.5;var c=this.getWidth()-60;this.outline=new bc;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);this.progress=new bc;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);
this.addChild(this.progress);this.startAnimation=za.getTimer()+100;this.endAnimation=this.startAnimation+1E3;this.addEventListener("addedToStage",q(this,this.this_onAddedToStage))};k["openfl.display.DefaultPreloader"]=lf;lf.__name__=["openfl","display","DefaultPreloader"];lf.__super__=bc;lf.prototype=t(bc.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return za.current.stage.window.config.background},getHeight:function(){var a=za.current.stage.window.config.height;
return 0<a?a:za.current.stage.stageHeight},getWidth:function(){var a=za.current.stage.window.config.width;return 0<a?a:za.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",q(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",q(this,this.this_onEnterFrame));this.dispatchEvent(new T("unload"))},onUpdate:function(a,b){var c=0;0<b&&(c=a/b,1<c&&(c=1));this.progress.set_scaleX(c)},this_onAddedToStage:function(a){this.removeEventListener("addedToStage",
q(this,this.this_onAddedToStage));this.onInit();this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);this.addEventListener("progress",q(this,this.this_onProgress));this.addEventListener("complete",q(this,this.this_onComplete))},this_onComplete:function(a){a.preventDefault();this.removeEventListener("progress",q(this,this.this_onProgress));this.removeEventListener("complete",q(this,this.this_onComplete));this.onLoaded()},this_onEnterFrame:function(a){a=(za.getTimer()-this.startAnimation)/
(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);this.progress.set_alpha(a)},this_onProgress:function(a){this.onUpdate(a.bytesLoaded|0,a.bytesTotal|0)},__class__:lf});var ji=function(a){this.__data=new Og(null);null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying mat4 vColorMultipliers;\n\t\tvarying vec4 vColorOffsets;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform bool uColorTransform;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else if (uColorTransform) {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = vColorOffsets + (color * vColorMultipliers);\n\t\t\t\t\n\t\t\t\tif (color.a > 0.0) {\n\t\t\t\t\t\n\t\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute mat4 aColorMultipliers;\n\t\tattribute vec4 aColorOffsets;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying mat4 vColorMultipliers;\n\t\tvarying vec4 vColorOffsets;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\tuniform bool uColorTransform;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\t\n\t\t\tif (uColorTransform) {\n\t\t\t\t\n\t\t\t\tvColorMultipliers = aColorMultipliers;\n\t\t\t\tvColorOffsets = aColorOffsets;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");
this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0;this.__numPasses=1};k["openfl.display.Shader"]=ji;ji.__name__=["openfl","display","Shader"];ji.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=
this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.__context.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.__context.disableVertexAttribArray(c.index);this.gl.__context.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.__context.bindTexture(this.gl.TEXTURE_2D,
null);this.gl.type==qc.OPENGL&&this.gl.__context.disable(this.gl.TEXTURE_2D)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;this.gl.__context.uniform1i(d.index,a);++a}this.gl.type==qc.OPENGL&&0<a&&this.gl.__context.enable(this.gl.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=new Og(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&
!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new C,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new Qb(4),this.__uniformMatrix3=new Qb(9),this.__uniformMatrix4=new Qb(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),
"uniform");if(null!=this.gl&&null==this.glProgram){var a="#ifdef GL_ES\n\t\t\t\tprecision "+(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=Je.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){a=0;for(var b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;var d=c.name,e=this.__isUniform;(null!=p[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=p[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=p[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,
c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=p[d]?e.getReserved(d):e.h[d])?c.index=this.gl.__context.getUniformLocation(this.glProgram,c.name):c.index=this.gl.__context.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d;for(d="uniform"==b?new Ta("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",""):new Ta("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){var e=d.matched(1);c=d.matched(2);if(ea.startsWith(e,"sampler"))e=
new ti,e.name=c,this.__inputBitmapData.push(e),this.get_data()[c]=e;else{switch(e){case "bool":e=0;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "dvec2":case "vec2":e=5;break;case "dvec3":case "vec3":e=6;break;case "double":case "float":e=4;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "mat2":case "mat2x2":e=12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;
case "mat3x4":e=17;break;case "mat4":case "mat4x4":e=20;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "int":case "uint":e=8;break;case "ivec2":case "uvec2":e=9;break;case "dvec4":case "vec4":e=7;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new cf;f.name=c;f.type=e;this.__paramBool.push(f);this.get_data()[c]=f;break;case 8:case 9:case 10:case 11:f=new cf;f.name=c;f.type=e;this.__paramInt.push(f);this.get_data()[c]=f;break;default:f=new cf,f.name=c,f.type=e,this.__paramFloat.push(f),
this.get_data()[c]=f}}e=this.__isUniform;f="uniform"==b;null!=p[c]?e.setReserved(c,f):e.h[c]=f;c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;if(null!=d.input){this.gl.__context.activeTexture(this.gl.TEXTURE0+a);var e=this.gl,f=this.gl.TEXTURE_2D,k=d.input.getTexture(this.gl);e.__context.bindTexture(f,k);d.smoothing?(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.__context.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST))}++a}a=0;for(b=this.__paramBool;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 0:this.gl.__context.uniform1i(e,d[0]?1:0);break;case 1:this.gl.__context.uniform2i(e,
d[0]?1:0,d[1]?1:0);break;case 2:this.gl.__context.uniform3i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0);break;case 3:this.gl.__context.uniform4i(e,d[0]?1:0,d[1]?1:0,d[2]?1:0,d[3]?1:0)}else d=c.name,e=this.__isUniform,(null!=p[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index);a=0;for(b=this.__paramFloat;a<b.length;)if(e=b[a],++a,d=e.value,c=e.index,null!=d)switch(e.type){case 4:this.gl.__context.uniform1f(c,d[0]);break;case 5:this.gl.__context.uniform2f(c,d[0],d[1]);break;case 6:this.gl.__context.uniform3f(c,
d[0],d[1],d[2]);break;case 7:this.gl.__context.uniform4f(c,d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;)f=e++,this.__uniformMatrix2[f]=d[f];d=this.gl;e=L.fromArrayBufferView(this.__uniformMatrix2);d.__context.uniformMatrix2fv(c,!1,L.toFloat32Array(e,16));break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];d=this.gl;e=L.fromArrayBufferView(this.__uniformMatrix3);d.__context.uniformMatrix3fv(c,!1,L.toFloat32Array(e,36));break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];d=
this.gl;e=L.fromArrayBufferView(this.__uniformMatrix4);d.__context.uniformMatrix4fv(c,!1,L.toFloat32Array(e,64))}else if(c=e.name,d=this.__isUniform,null!=p[c]?!d.getReserved(c):!d.h[c])switch(this.gl.__context.enableVertexAttribArray(e.index),e.type){case 12:this.gl.__context.enableVertexAttribArray(e.index+1);break;case 16:this.gl.__context.enableVertexAttribArray(e.index+1);this.gl.__context.enableVertexAttribArray(e.index+2);break;case 20:this.gl.__context.enableVertexAttribArray(e.index+1),this.gl.__context.enableVertexAttribArray(e.index+
2),this.gl.__context.enableVertexAttribArray(e.index+3)}a=0;for(b=this.__paramInt;a<b.length;)if(c=b[a],++a,d=c.value,e=c.index,null!=d)switch(c.type){case 8:this.gl.__context.uniform1i(e,d[0]);break;case 9:this.gl.__context.uniform2i(e,d[0],d[1]);break;case 10:this.gl.__context.uniform3i(e,d[0],d[1],d[2]);break;case 11:this.gl.__context.uniform4i(e,d[0],d[1],d[2],d[3])}else d=c.name,e=this.__isUniform,(null!=p[d]?e.getReserved(d):e.h[d])||this.gl.__context.enableVertexAttribArray(c.index)},get_data:function(){(this.__glSourceDirty||
null==this.__data)&&this.__init();return this.__data},get_glFragmentSource:function(){return this.__glFragmentSource},get_glVertexSource:function(){return this.__glVertexSource},__class__:ji,__properties__:{get_glVertexSource:"get_glVertexSource",get_glFragmentSource:"get_glFragmentSource",get_data:"get_data"}};var Og=function(a){};k["openfl.display.ShaderData"]=Og;Og.__name__=["openfl","display","ShaderData"];Og.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:Og};
var ti=function(){this.width=this.index=this.height=this.channels=0};k["openfl.display.ShaderInput"]=ti;ti.__name__=["openfl","display","ShaderInput"];ti.prototype={channels:null,height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:ti};var cf=function(){this.index=0};k["openfl.display.ShaderParameter"]=cf;cf.__name__=["openfl","display","ShaderParameter"];cf.prototype={index:null,name:null,type:null,value:null,__class__:cf};var ue=function(){Oa.call(this)};k["openfl.display.Shape"]=
ue;ue.__name__=["openfl","display","Shape"];ue.__interfaces__=[si];ue.__super__=Oa;ue.prototype=t(Oa.prototype,{get_graphics:function(){null==this.__graphics&&(this.__graphics=new Vd(this));return this.__graphics},__class__:ue,__properties__:t(Oa.prototype.__properties__,{get_graphics:"get_graphics"})});var vc=function(a,b,c,d){Sa.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.set_upState(null!=a?a:new Oa);this.set_overState(b);this.set_downState(c);this.set_hitTestState(null!=
d?d:new Oa);this.addEventListener("mouseDown",q(this,this.__this_onMouseDown));this.addEventListener("mouseOut",q(this,this.__this_onMouseOut));this.addEventListener("mouseOver",q(this,this.__this_onMouseOver));this.addEventListener("mouseUp",q(this,this.__this_onMouseUp));this.__tabEnabled=!0;this.set___currentState(this.upState);null!=vc.__initSymbol&&(a=vc.__initSWF,this.__symbol=vc.__initSymbol,vc.__initSWF=null,vc.__initSymbol=null,this.__fromSymbol(a,this.__symbol))};k["openfl.display.SimpleButton"]=
vc;vc.__name__=["openfl","display","SimpleButton"];vc.__super__=Sa;vc.prototype=t(Sa.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__ignoreEvent:null,__symbol:null,__fromSymbol:function(a,b){this.__symbol=b;null!=b.downState&&this.set_downState(b.downState.__createObject(a));null!=b.hitState&&this.set_hitTestState(b.hitState.__createObject(a));null!=b.overState&&this.set_overState(b.overState.__createObject(a));
null!=b.upState&&this.set_upState(b.upState.__createObject(a))},__getBounds:function(a,b){Sa.prototype.__getBounds.call(this,a,b);null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));this.__currentState.__getBounds(a,this.__currentState.__worldTransform);null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?ma.POINTER:null},__hitTest:function(a,b,c,d,e,f){var k=!1;if(null!=this.hitTestState)this.hitTestState.__hitTest(a,
b,c,d,e,f)&&(null!=d&&(0==d.length?d[0]=f:d[d.length-1]=f),k=!0);else if(null!=this.__currentState){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__currentState.__hitTest(a,b,c,d,e,f)&&(k=e)}if(null!=d)for(;1<d.length&&d[d.length-1]==d[d.length-2];)d.pop();return k},__hitTestMask:function(a,b){var c=!1;this.__currentState.__hitTestMask(a,b)&&(c=!0);return c},__renderCanvas:function(a){!this.__renderable||0>=this.__worldAlpha||
null==this.__currentState||(a.maskManager.pushObject(this),this.__currentState.__renderCanvas(a),a.maskManager.popObject(this))},__renderCanvasMask:function(a){var b=ia.__pool.get();this.__getLocalBounds(b);a.context.rect(0,0,b.width,b.height);ia.__pool.release(b);this.__currentState.__renderCanvasMask(a)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||null==this.__currentState||(a.maskManager.pushObject(this),this.__currentState.__renderGL(a),a.maskManager.popObject(this))},__setStageReference:function(a){Sa.prototype.__setStageReference.call(this,
a);null!=this.__currentState&&this.__currentState.__setStageReference(a);null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__setStageReference(a)},__setTransformDirty:function(){Sa.prototype.__setTransformDirty.call(this);null!=this.__currentState&&this.__currentState.__setTransformDirty();null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__setTransformDirty()},__update:function(a,b,c){Sa.prototype.__update.call(this,a,b,c);b&&(null!=
this.__currentState&&this.__currentState.__update(a,!0,c),null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__update(a,!0,c))},__updateChildren:function(a){Sa.prototype.__updateChildren.call(this,a);null!=this.__currentState&&this.__currentState.__updateChildren(a);null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__updateChildren(a)},__updateTransforms:function(a){Sa.prototype.__updateTransforms.call(this,a);null!=this.__currentState&&
this.__currentState.__updateTransforms();null!=this.hitTestState&&this.hitTestState!=this.__currentState&&this.hitTestState.__updateTransforms()},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){null!=this.hitTestState&&this.hitTestState!=a&&this.hitTestState!=this.downState&&this.hitTestState!=this.upState&&this.hitTestState!=this.overState&&(this.hitTestState.__renderParent=null);
null!=a&&(a.__renderParent=this,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty()));return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);return this.overState=a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){null!=this.__currentState&&this.__currentState!=this.hitTestState&&(this.__currentState.__renderParent=
null);null!=a&&null!=a.parent&&a.parent.removeChild(a);a!=this.__currentState&&(null!=a&&(a.__renderParent=this,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty())),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return this.__currentState=a},__this_onMouseDown:function(a){this.set___currentState(this.downState)},__this_onMouseOut:function(a){this.__ignoreEvent=!1;this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){a.buttonDown&&
(this.__ignoreEvent=!0);this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||this.set___currentState(this.overState)},__this_onMouseUp:function(a){this.__ignoreEvent=!1;null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__class__:vc,__properties__:t(Sa.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});
var df=function(a,b){Bb.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__contentsScaleFactor=a.__scale;this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new Fa;this.__renderDirty=!0;a=this.stage3Ds=Nb.toObjectVector(null);b=new Dd;a.data.push(b);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=
this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.showDefaultContextMenu=!0;this.softKeyboardRect=new ia;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];this.__touchData=new Ka;null==za.current.stage&&this.stage.addChild(za.current)};k["openfl.display.Stage"]=df;df.__name__=["openfl","display","Stage"];df.__interfaces__=
[gf];df.__super__=Bb;df.prototype=t(Bb.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__contentsScaleFactor:null,__deltaTime:null,__displayMatrix:null,__displayState:null,__dragBounds:null,__dragObject:null,
__dragOffsetX:null,__dragOffsetY:null,__focus:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,__stack:null,__transparent:null,__touchData:null,addRenderer:function(a){var b=q(this,this.render);a.onRender.add(function(){b(a)});var c=q(this,this.onRenderContextLost);
a.onContextLost.add(function(){c(a)});var d=q(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)})},addWindow:function(a){if(this.window==a){var b=q(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=q(this,this.onWindowClose);a.onClose.add(function(){c(a)},!1,-9E3);var d=q(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=q(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=q(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,
b)});var k=q(this,this.onWindowEnter);a.onEnter.add(function(){k(a)});var h=q(this,this.onWindowFocusIn);a.onFocusIn.add(function(){h(a)});var m=q(this,this.onWindowFocusOut);a.onFocusOut.add(function(){m(a)});var n=q(this,this.onWindowFullscreen);a.onFullscreen.add(function(){n(a)});var g=q(this,this.onKeyDown);a.onKeyDown.add(function(b,c){g(a,b,c)});var p=q(this,this.onKeyUp);a.onKeyUp.add(function(b,c){p(a,b,c)});var r=q(this,this.onWindowLeave);a.onLeave.add(function(){r(a)});var t=q(this,this.onWindowMinimize);
a.onMinimize.add(function(){t(a)});var u=q(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){u(a,b,c,d)});var v=q(this,this.onMouseMove);a.onMouseMove.add(function(b,c){v(a,b,c)});var w=q(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){w(a,b,c)});var x=q(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){x(a,b,c,d)});var y=q(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){y(a,b,c)});var z=q(this,this.onWindowMove);a.onMove.add(function(b,c){z(a,b,c)});var A=
q(this,this.onWindowResize);a.onResize.add(function(b,c){A(a,b,c)});var B=q(this,this.onWindowRestore);a.onRestore.add(function(){B(a)});var C=q(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){C(a,b,c,d)});var D=q(this,this.onTextInput);a.onTextInput.add(function(b){D(a,b)});if(-1<a.id)this.onWindowCreate(a)}},registerModule:function(a){a.onExit.add(q(this,this.onModuleExit),!1,0);a.onUpdate.add(q(this,this.update));for(a=rb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}rb.onConnect.add(q(this,
this.__onGamepadConnect));Hb.onStart.add(q(this,this.onTouchStart));Hb.onMove.add(q(this,this.onTouchMove));Hb.onEnd.add(q(this,this.onTouchEnd))},setPreloader:function(a){},onGamepadAxisMove:function(a,b,c){try{wa.__onGamepadAxisMove(a,b,c)}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onGamepadButtonDown:function(a,b){try{wa.__onGamepadButtonDown(a,b)}catch(c){aa.lastException=c,c instanceof u&&(c=c.val),this.__handleError(c)}},onGamepadButtonUp:function(a,b){try{wa.__onGamepadButtonUp(a,
b)}catch(c){aa.lastException=c,c instanceof u&&(c=c.val),this.__handleError(c)}},onGamepadConnect:function(a){try{wa.__onGamepadConnect(a)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onGamepadDisconnect:function(a){try{wa.__onGamepadDisconnect(a)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onKeyDown:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyDown",b,c)}catch(d){aa.lastException=d,d instanceof u&&(d=
d.val),this.__handleError(d)}},onKeyUp:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyUp",b,c)}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onModuleExit:function(a){if(null!=this.window)try{this.__broadcastEvent(new T("deactivate"))}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a)try{switch(d){case 1:var e="middleMouseDown";break;case 2:e="rightMouseDown";
break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}catch(f){aa.lastException=f,f instanceof u&&(f=f.val),this.__handleError(f)}},onMouseMove:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a)try{switch(d){case 1:var e="middleMouseUp";
break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d);this.showDefaultContextMenu||2!=d||a.onMouseUp.cancel()}catch(f){aa.lastException=f,f instanceof u&&(f=f.val),this.__handleError(f)}},onMouseWheel:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onRenderContextLost:function(a){this.__renderer=null},onRenderContextRestored:function(a,
b){this.__createRenderer()},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a)try{a=[];null==this.__focus?this.__getInteractive(a):this.__focus.__getInteractive(a);var c=new vd("textInput",!0,!1,b);0<a.length?(a.reverse(),this.__dispatchStack(c,a)):this.__dispatchEvent(c)}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onTouchMove:function(a){try{this.__onTouch("touchMove",a)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),
this.__handleError(b)}},onTouchEnd:function(a){try{this.__primaryTouch==a&&(this.__primaryTouch=null),this.__onTouch("touchEnd",a)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onTouchStart:function(a){try{null==this.__primaryTouch&&(this.__primaryTouch=a),this.__onTouch("touchBegin",a)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowActivate:function(a){},onWindowClose:function(a){this.window==a&&(this.window=null);try{this.__primaryTouch=
null,this.__broadcastEvent(new T("deactivate"))}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowCreate:function(a){if(null!=this.window&&this.window==a)try{null!=a.renderer&&this.__createRenderer()}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){if(null!=this.window&&this.window==a)try{this.__renderDirty=!0,this.__broadcastEvent(new T("activate")),
this.set_focus(this.__cacheFocus)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowFocusOut:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=null;this.__broadcastEvent(new T("deactivate"));var b=this.get_focus();this.set_focus(null);this.__cacheFocus=b}catch(c){aa.lastException=c,c instanceof u&&(c=c.val),this.__handleError(c)}},onWindowFullscreen:function(a){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState&&
(this.__displayState=1,this.__dispatchEvent(new Ud("fullScreen",!1,!1,!1,!0)))}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowLeave:function(a){if(null!=this.window&&this.window==a)try{this.__dispatchEvent(new T("mouseLeave"))}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__renderDirty=!0,this.__resize(),
2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new Ud("fullScreen",!1,!1,!0,!0)))}catch(d){aa.lastException=d,d instanceof u&&(d=d.val),this.__handleError(d)}},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window)try{this.__rendering||(this.__rendering=!0,null!=this.__renderer&&(Dd.__active||this.stage3Ds.data.get(0).__contextRequested)&&(this.__renderer.clear(),this.__renderer.renderStage3D(),this.__renderDirty=!0),this.__broadcastEvent(new T("enterFrame")),
this.__broadcastEvent(new T("frameConstructed")),this.__broadcastEvent(new T("exitFrame")),this.__invalidated&&(this.__invalidated=!1,this.__broadcastEvent(new T("render"))),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer&&this.__renderDirty?(Dd.__active||this.__renderer.clear(),this.__renderer.render()):a.onRender.cancel(),this.__rendering=!1)}catch(b){aa.lastException=b,b instanceof u&&(b=b.val),this.__handleError(b)}},update:function(a){this.__deltaTime=
a},__broadcastEvent:function(a){var b=a.type,c=Oa.__broadcastEvents;if(null!=p[b]?c.existsReserved(b):c.h.hasOwnProperty(b))for(b=a.type,c=Oa.__broadcastEvents,b=null!=p[b]?c.getReserved(b):c.h[b],c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__createRenderer:function(){var a=this.window.renderer.context;switch(a[1]){case 0:this.__renderer=new td(this,a[2]);break;case 1:this.__renderer=new Nd(this,a[2])}},__drag:function(a){var b=this.__dragObject.parent;if(null!=b){b=b.__getWorldTransform();
var c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}}b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__getInteractive:function(a){null!=
a&&a.push(this);return!0},__globalToLocal:function(a,b){a!=b&&b.copyFrom(a);return b},__handleError:function(a){var b=new Pg("uncaughtError",!0,!0,a);za.current.__loaderInfo.uncaughtErrorEvents.dispatchEvent(b);if(!b.__preventDefault)throw b=aa.lastException,null!=b&&null!=b.stack&&""!=b.stack?(console.log(b.stack),a.stack=b.stack):(b=aa.toString(aa.callStack()),console.log(b)),a;},__onKey:function(a,b,c){Ga.__altKey=Qa.get_altKey(c);Ga.__commandKey=Qa.get_metaKey(c);Ga.__ctrlKey=Qa.get_ctrlKey(c);
Ga.__shiftKey=Qa.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){switch(b){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:var e=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;
case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=
50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=
70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=
113;break;case 1073741884:b=114;break;case 1073741885:b=115;break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;
break;case 1073741903:b=39;break;case 1073741904:b=37;break;case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;
case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15}var f=Xi.__getCharCode(b,Qa.get_shiftKey(c));
c=new Qg(a,!0,!0,f,b,e,this.__macKeyboard?Qa.get_ctrlKey(c)||Qa.get_metaKey(c):Qa.get_ctrlKey(c),Qa.get_altKey(c),Qa.get_shiftKey(c),Qa.get_ctrlKey(c),Qa.get_metaKey(c));d.reverse();this.__dispatchStack(c,d);c.__preventDefault&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=q(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=q(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,
b)});var d=q(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=q(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onMouse:function(a,b,c,d){if(!(2<d)){var e=Va.__pool.get();e.setTo(b,c);b=this.__displayMatrix;c=b.a*b.d-b.b*b.c;if(0==c)e.x=-b.tx,e.y=-b.ty;else{var f=1/c*(b.c*(b.ty-e.y)+b.d*(e.x-b.tx));e.y=1/c*(b.a*(e.y-b.ty)+b.b*(b.tx-e.x));e.x=f}this.__mouseX=e.x;this.__mouseY=e.y;c=[];this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?f=c[c.length-
1]:(f=this,c=[this]);null==f&&(f=this);var k=null;switch(a){case "middleMouseDown":this.__mouseDownMiddle=f;break;case "middleMouseUp":this.__mouseDownMiddle==f&&(k="middleClick");this.__mouseDownMiddle=null;break;case "mouseDown":f.__allowMouseFocus()?this.set_focus(f):this.set_focus(null);this.__mouseDownLeft=f;break;case "mouseUp":null!=this.__mouseDownLeft&&(0>this.__mouseX||0>this.__mouseY?this.__dispatchEvent(Ga.__create("releaseOutside",1,this.__mouseX,this.__mouseY,new Va(this.__mouseX,this.__mouseY),
this)):this.__mouseDownLeft==f&&(k="click"),this.__mouseDownLeft=null);break;case "rightMouseDown":this.__mouseDownRight=f;break;case "rightMouseUp":this.__mouseDownRight==f&&(k="rightClick"),this.__mouseDownRight=null}b=Va.__pool.get();this.__dispatchStack(Ga.__create(a,d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),c);null!=k&&(this.__dispatchStack(Ga.__create(k,d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),c),"mouseUp"==a&&M.__cast(f,Sa).doubleClickEnabled&&(a=za.getTimer(),
500>a-this.__lastClickTime?(this.__dispatchStack(Ga.__create("doubleClick",d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==Yi.__cursor){k=null;if(null!=this.__mouseDownLeft)k=this.__mouseDownLeft.__getCursor();else for(a=0;a<c.length;)if(k=c[a],++a,k=k.__getCursor(),null!=k){If.set_cursor(k);break}null==k&&If.set_cursor(ma.ARROW)}f!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=Ga.__create("mouseOut",d,this.__mouseX,
this.__mouseY,this.__mouseOverTarget.__globalToLocal(e,b),this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));k=0;for(var h=this.__rollOutStack;k<h.length;){var m=h[k];++k;-1==c.indexOf(m)&&(y.remove(this.__rollOutStack,m),a=Ga.__create("rollOut",d,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(e,b),this.__mouseOverTarget),a.bubbles=!1,m.__dispatchEvent(a))}for(k=0;k<c.length;)h=c[k],++k,-1==this.__rollOutStack.indexOf(h)&&null!=this.__mouseOverTarget&&(h.hasEventListener("rollOver")&&
(a=Ga.__create("rollOver",d,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(e,b),h),a.bubbles=!1,h.__dispatchEvent(a)),h.hasEventListener("rollOut")&&this.__rollOutStack.push(h));f!=this.__mouseOverTarget&&(null!=f&&(a=Ga.__create("mouseOver",d,this.__mouseX,this.__mouseY,f.__globalToLocal(e,b),f),a.bubbles=!0,f.__dispatchEvent(a)),this.__mouseOverTarget=f);null!=this.__dragObject&&(this.__drag(e),d=null,this.__mouseOverTarget==this.__dragObject?(c=this.__dragObject.mouseEnabled,
f=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,a=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,a,!0,this)&&(d=a[a.length-1]),this.__dragObject.mouseEnabled=c,this.__dragObject.mouseChildren=f):this.__mouseOverTarget!=this&&(d=this.__mouseOverTarget),this.__dragObject.dropTarget=d);Va.__pool.release(e);Va.__pool.release(b)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY;a=[];if(this.__hitTest(this.__mouseX,this.__mouseY,
!0,a,!0,this))var e=a[a.length-1];else e=this,a=[this];null==e&&(e=this);var f=Va.__pool.get();f.setTo(c,d);c=this.__displayMatrix;d=c.a*c.d-c.b*c.c;if(0==d)f.x=-c.tx,f.y=-c.ty;else{var k=1/d*(c.c*(c.ty-f.y)+c.d*(f.x-c.tx));f.y=1/d*(c.a*(f.y-c.ty)+c.b*(c.tx-f.x));f.x=k}b|=0;this.__dispatchStack(Ga.__create("mouseWheel",0,this.__mouseX,this.__mouseY,e.__globalToLocal(f,f),e,b),a);Va.__pool.release(f)},__onTouch:function(a,b){var c=Va.__pool.get();c.setTo(Math.round(b.x*this.window.__width*this.window.__scale),
Math.round(b.y*this.window.__height*this.window.__scale));var d=this.__displayMatrix,e=d.a*d.d-d.b*d.c;if(0==e)c.x=-d.tx,c.y=-d.ty;else{var f=1/e*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/e*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=f}d=c.x;e=c.y;f=[];if(this.__hitTest(d,e,!1,f,!0,this))var k=f[f.length-1];else k=this,f=[this];null==k&&(k=this);var h=b.id;if(this.__touchData.h.hasOwnProperty(h))var m=this.__touchData.h[h];else m=ye.__pool.get(),m.reset(),m.touch=b,this.__touchData.h[h]=m;var n=null,g=!1;switch(a){case "touchBegin":m.touchDownTarget=
k;break;case "touchEnd":m.touchDownTarget==k&&(n="touchTap"),m.touchDownTarget=null,g=!0}var p=Va.__pool.get();b=this.__primaryTouch==b;a=Cb.__create(a,null,d,e,k.__globalToLocal(c,p),k);a.touchPointID=h;a.isPrimaryTouchPoint=b;this.__dispatchStack(a,f);null!=n&&(a=Cb.__create(n,null,d,e,k.__globalToLocal(c,p),k),a.touchPointID=h,a.isPrimaryTouchPoint=b,this.__dispatchStack(a,f));n=m.touchOverTarget;k!=n&&null!=n&&(a=Cb.__create("touchOut",null,d,e,n.__globalToLocal(c,p),n),a.touchPointID=h,a.isPrimaryTouchPoint=
b,n.__dispatchEvent(a));for(var q=m.rollOutStack,r=0;r<q.length;){var t=q[r];++r;-1==f.indexOf(t)&&(y.remove(q,t),a=Cb.__create("touchRollOut",null,d,e,n.__globalToLocal(c,p),n),a.touchPointID=h,a.isPrimaryTouchPoint=b,a.bubbles=!1,t.__dispatchEvent(a))}for(r=0;r<f.length;)t=f[r],++r,-1==q.indexOf(t)&&(t.hasEventListener("touchRollOver")&&(a=Cb.__create("touchRollOver",null,d,e,n.__globalToLocal(c,p),t),a.touchPointID=h,a.isPrimaryTouchPoint=b,a.bubbles=!1,t.__dispatchEvent(a)),t.hasEventListener("touchRollOut")&&
q.push(t));k!=n&&(null!=k&&(a=Cb.__create("touchOver",null,d,e,k.__globalToLocal(c,p),k),a.touchPointID=h,a.isPrimaryTouchPoint=b,a.bubbles=!0,k.__dispatchEvent(a)),m.touchOverTarget=k);Va.__pool.release(c);Va.__pool.release(p);g&&(this.__touchData.remove(h),m.reset(),ye.__pool.release(m))},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=c;this.__logicalHeight=d;this.__displayMatrix.identity();
if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*e)/2),k=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(f,k)}e=0;for(f=this.stage3Ds;e<f.data.get_length();)k=f.data.get(e),++e,k.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,
d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new T("resize"))},__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__update:function(a,b,c){a?this.__transformDirty&&(Bb.prototype.__update.call(this,!0,b,c),b&&(this.__transformDirty=!1)):(this.__transformDirty||this.__renderDirty)&&Bb.prototype.__update.call(this,!1,b,c)},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString=
"#"+ea.hex(a&16777215,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new ef("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__dispatchStack(c,d)}null!=this.__focus&&(b=new ef("focusIn",!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__dispatchStack(b,c))}return this.__focus},set_height:function(a){return this.get_height()},get_mouseX:function(){return this.__mouseX},
get_mouseY:function(){return this.__mouseY},set_scaleX:function(a){return 0},set_scaleY:function(a){return 0},set_width:function(a){return this.get_width()},set_x:function(a){return 0},set_y:function(a){return 0},__class__:df,__properties__:t(Bb.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var Dd=function(){ya.call(this);this.set_x(0);this.set_y(0);this.visible=!0};k["openfl.display.Stage3D"]=Dd;Dd.__name__=["openfl","display","Stage3D"];Dd.__super__=
ya;Dd.prototype=t(ya.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__stage:null,__canvas:null,__renderContext:null,__style:null,__webgl:null,__createContext:function(a,b){this.__stage=a;null!=b.gl?(this.context3D=new ec(this,b),this.__dispatchCreate()):(this.__canvas=window.document.createElement("canvas"),this.__canvas.width=a.stageWidth,this.__canvas.height=a.stageHeight,a=a.window,a={alpha:Object.prototype.hasOwnProperty.call(a.config,"background")&&null==a.config.background,
antialias:Object.prototype.hasOwnProperty.call(a.config,"antialiasing")&&0<a.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(a.config,"depthBuffer")?a.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(a.config,"stencilBuffer")&&a.config.stencilBuffer,preserveDrawingBuffer:!1},this.__webgl=Ci.getContextWebGL(this.__canvas,a),null!=this.__webgl?(this.__renderContext=new xf(this.__webgl),x.context=this.__renderContext,this.context3D=new ec(this,b),
b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.__dispatchCreate()):this.__dispatchError())},__dispatchError:function(){this.__contextRequested=!1;this.dispatchEvent(new wc("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&
(this.__contextRequested=!1,this.dispatchEvent(new T("context3DCreate")))},__renderCanvas:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&
this.context3D.__program.__use())),Vb.debug&&b.gl.__context.getError()))},__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){if(this.x==a)return a;this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){if(this.y==a)return a;this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();
return a},__class__:Dd,__properties__:{set_y:"set_y",set_x:"set_x"}});var Mg=function(a){fe.call(this,a)};k["openfl.display.Window"]=Mg;Mg.__name__=["openfl","display","Window"];Mg.__super__=fe;Mg.prototype=t(fe.prototype,{create:function(a){fe.prototype.create.call(this,a);this.stage=new df(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);if(Object.prototype.hasOwnProperty.call(this.config,"parameters"))try{this.stage.get_loaderInfo().parameters=
this.config.parameters}catch(b){aa.lastException=b}Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:Mg});var ec=function(a,b){this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;ya.call(this);this.__stage3D=a;this.__renderSession=b;ta.create(this)};k["openfl.display3D.Context3D"]=ec;ec.__name__=["openfl","display3D","Context3D"];
ec.__super__=ya;ec.prototype=t(ya.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,maxBackBufferHeight:null,maxBackBufferWidth:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__fragmentConstants:null,__frameCount:null,__maxAnisotropyTexture2D:null,__positionScale:null,__program:null,__renderSession:null,__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__stage3D:null,
__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__supportsAnisotropicFiltering:null,__supportsPackedDepthStencil:null,__vertexConstants:null,createRectangleTexture:function(a,b,c,d){return new Rg(this,a,b,Zi.toString(c),d)},__updateBackbufferViewport:function(){ta.__updateBackbufferViewportTEMP(this)},__updateBlendFactors:function(){ta.__updateBlendFactorsTEMP(this)},__class__:ec});var Zi={};k["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=Zi;Zi.__name__=
["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];Zi.toString=function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var $i=function(){};k["openfl.display3D.Program3D"]=$i;$i.__name__=["openfl","display3D","Program3D"];$i.prototype={__alphaSamplerUniforms:null,__context:null,__fragmentUniformMap:null,__programID:null,
__samplerUniforms:null,__vertexUniformMap:null,__use:function(){Si.use(this,this.__context.__renderSession)},__class__:$i};var aj=function(){};k["openfl.display3D.Uniform"]=aj;aj.__name__=["openfl","display3D","Uniform"];aj.prototype={location:null,regIndex:null,regCount:null,__class__:aj};var bj=function(){};k["openfl.display3D.UniformMap"]=bj;bj.__name__=["openfl","display3D","UniformMap"];bj.prototype={__allDirty:null,__anyDirty:null,markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},
__class__:bj};var ze=function(a){ya.call(this);this.__context=a;Dc.create(this,this.__context.__renderSession)};k["openfl.display3D.textures.TextureBase"]=ze;ze.__name__=["openfl","display3D","textures","TextureBase"];ze.__super__=ya;ze.prototype=t(ya.prototype,{__context:null,__format:null,__height:null,__internalFormat:null,__optimizeForRenderToTexture:null,__textureContext:null,__textureID:null,__textureTarget:null,__width:null,__class__:ze});var Rg=function(a,b,c,d,e){ze.call(this,a);this.__width=
b;this.__height=c;this.__optimizeForRenderToTexture=e;Lg.create(this,this.__context.__renderSession)};k["openfl.display3D.textures.RectangleTexture"]=Rg;Rg.__name__=["openfl","display3D","textures","RectangleTexture"];Rg.__super__=ze;Rg.prototype=t(ze.prototype,{__class__:Rg});var nc=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=b;this.name="Error"};k["openfl.errors.Error"]=nc;nc.__name__=["openfl","errors","Error"];nc.prototype={errorID:null,message:null,name:null,toString:function(){return null!=
this.message?this.message:"Error"},__class__:nc};var Ae=function(a){null==a&&(a="");nc.call(this,a);this.name="IOError"};k["openfl.errors.IOError"]=Ae;Ae.__name__=["openfl","errors","IOError"];Ae.__super__=nc;Ae.prototype=t(nc.prototype,{__class__:Ae});var Qd=function(){Ae.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};k["openfl.errors.EOFError"]=Qd;Qd.__name__=["openfl","errors","EOFError"];Qd.__super__=Ae;Qd.prototype=t(Ae.prototype,{__class__:Qd});var Cd=function(a){null==
a&&(a="");nc.call(this,a,0);this.name="IllegalOperationError"};k["openfl.errors.IllegalOperationError"]=Cd;Cd.__name__=["openfl","errors","IllegalOperationError"];Cd.__super__=nc;Cd.prototype=t(nc.prototype,{__class__:Cd});var rf=function(a){null==a&&(a="");nc.call(this,a,0);this.name="TypeError"};k["openfl.errors.TypeError"]=rf;rf.__name__=["openfl","errors","TypeError"];rf.__super__=nc;rf.prototype=t(nc.prototype,{__class__:rf});var T=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;
this.bubbles=b;this.cancelable=c;this.eventPhase=2};k["openfl.events.Event"]=T;T.__name__=["openfl","events","Event"];T.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=
!0},__class__:T};var Be=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);T.call(this,a,b,c);this.activating=d};k["openfl.events.ActivityEvent"]=Be;Be.__name__=["openfl","events","ActivityEvent"];Be.__super__=T;Be.prototype=t(T.prototype,{activating:null,__class__:Be});var vd=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);T.call(this,a,b,c);this.text=d};k["openfl.events.TextEvent"]=vd;vd.__name__=["openfl","events","TextEvent"];vd.__super__=T;vd.prototype=t(T.prototype,
{text:null,__class__:vd});var wc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);vd.call(this,a,b,c,d);this.errorID=e};k["openfl.events.ErrorEvent"]=wc;wc.__name__=["openfl","events","ErrorEvent"];wc.__super__=vd;wc.prototype=t(vd.prototype,{errorID:null,__class__:wc});var of=function(a){this.list=a;this.index=a.length};k["openfl.events._EventDispatcher.DispatchIterator"]=of;of.__name__=["openfl","events","_EventDispatcher","DispatchIterator"];of.prototype={active:null,
index:null,isCopy:null,list:null,copy:function(){this.isCopy||(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy){b=this.index;for(var c=this.list.length;b<c;){var d=b++;if(this.list[d]==a){this.list.splice(d,1);break}}}else b<this.index&&this.index--},reset:function(a){this.list=a;this.active=!0;this.isCopy=!1;this.index=0},__class__:of};
var nf=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};k["openfl.events._EventDispatcher.Listener"]=nf;nf.__name__=["openfl","events","_EventDispatcher","Listener"];nf.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return O.compareMethods(this.callback,a)?this.useCapture==b:!1},__class__:nf};var ef=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);T.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=
d};k["openfl.events.FocusEvent"]=ef;ef.__name__=["openfl","events","FocusEvent"];ef.__super__=T;ef.prototype=t(T.prototype,{keyCode:null,relatedObject:null,shiftKey:null,__class__:ef});var Ud=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);Be.call(this,a,b,c);this.fullScreen=d;this.interactive=e};k["openfl.events.FullScreenEvent"]=Ud;Ud.__name__=["openfl","events","FullScreenEvent"];Ud.__super__=Be;Ud.prototype=t(Be.prototype,{fullScreen:null,interactive:null,__class__:Ud});
var Ce=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);T.call(this,a,b,c);this.device=d};k["openfl.events.GameInputEvent"]=Ce;Ce.__name__=["openfl","events","GameInputEvent"];Ce.__super__=T;Ce.prototype=t(T.prototype,{device:null,__class__:Ce});var Sg=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;T.call(this,a,b,c)};k["openfl.events.HTTPStatusEvent"]=Sg;Sg.__name__=["openfl","events","HTTPStatusEvent"];Sg.__super__=T;Sg.prototype=
t(T.prototype,{redirected:null,responseHeaders:null,responseURL:null,status:null,__class__:Sg});var we=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);wc.call(this,a,b,c,d,e)};k["openfl.events.IOErrorEvent"]=we;we.__name__=["openfl","events","IOErrorEvent"];we.__super__=wc;we.prototype=t(wc.prototype,{__class__:we});var Qg=function(a,b,c,d,e,f,k,h,m,n,g){null==g&&(g=!1);null==n&&(n=!1);null==m&&(m=!1);null==h&&(h=!1);null==k&&(k=!1);null==e&&(e=0);null==d&&(d=0);
null==c&&(c=!1);null==b&&(b=!1);T.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=k;this.altKey=h;this.shiftKey=m;this.controlKey=n;this.commandKey=g};k["openfl.events.KeyboardEvent"]=Qg;Qg.__name__=["openfl","events","KeyboardEvent"];Qg.__super__=T;Qg.prototype=t(T.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,__class__:Qg});var Ga=function(a,b,c,d,e,f,k,h,m,n,g,p,q){null==q&&
(q=0);null==p&&(p=!1);null==g&&(g=0);null==n&&(n=!1);null==m&&(m=!1);null==h&&(h=!1);null==k&&(k=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);T.call(this,a,b,c);this.shiftKey=m;this.altKey=h;this.ctrlKey=k;this.bubbles=b;this.relatedObject=f;this.delta=g;this.localX=d;this.localY=e;this.buttonDown=n;this.commandKey=p;this.clickCount=q;this.isRelatedObjectInaccessible=!1;this.stageY=this.stageX=NaN};k["openfl.events.MouseEvent"]=Ga;Ga.__name__=["openfl","events","MouseEvent"];
Ga.__create=function(a,b,c,d,e,f,k){null==k&&(k=0);Ga.__buttonDown="mouseDown"==a?!0:!1;a=new Ga(a,!0,!1,e.x,e.y,null,Ga.__ctrlKey,Ga.__altKey,Ga.__shiftKey,Ga.__buttonDown,k,Ga.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};Ga.__super__=T;Ga.prototype=t(T.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,isRelatedObjectInaccessible:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,__class__:Ga});var Pd=function(a,
b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);T.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};k["openfl.events.ProgressEvent"]=Pd;Pd.__name__=["openfl","events","ProgressEvent"];Pd.__super__=T;Pd.prototype=t(T.prototype,{bytesLoaded:null,bytesTotal:null,__class__:Pd});var Tg=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);wc.call(this,a,b,c,d,e)};k["openfl.events.SecurityErrorEvent"]=Tg;Tg.__name__=["openfl","events","SecurityErrorEvent"];
Tg.__super__=wc;Tg.prototype=t(wc.prototype,{__class__:Tg});var Cb=function(a,b,c,d,e,f,k,h,m,n,g,p,q,r,t,u,v,w,x,y){null==u&&(u=!1);null==t&&(t=!1);null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==n&&(n=0);null==m&&(m=0);null==h&&(h=0);null==k&&(k=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);T.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=k;this.sizeX=h;this.sizeY=m;this.pressure=n;this.relatedObject=g;this.ctrlKey=
p;this.altKey=q;this.shiftKey=r;this.commandKey=t;this.controlKey=u;this.stageY=this.stageX=NaN};k["openfl.events.TouchEvent"]=Cb;Cb.__name__=["openfl","events","TouchEvent"];Cb.__create=function(a,b,c,d,e,f){a=new Cb(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};Cb.__super__=T;Cb.prototype=t(T.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,
stageX:null,stageY:null,touchPointID:null,__class__:Cb});var Pg=function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!0);wc.call(this,a,b,c);this.error=d};k["openfl.events.UncaughtErrorEvent"]=Pg;Pg.__name__=["openfl","events","UncaughtErrorEvent"];Pg.__super__=wc;Pg.prototype=t(wc.prototype,{error:null,__class__:Pg});var Ng=function(){ya.call(this)};k["openfl.events.UncaughtErrorEvents"]=Ng;Ng.__name__=["openfl","events","UncaughtErrorEvents"];Ng.__super__=ya;Ng.prototype=t(ya.prototype,{__class__:Ng});
var qb=function(){this.__leftExtension=this.__bottomExtension=0;this.__needSecondBitmapData=!0;this.__numShaderPasses=0;this.__preserveObject=!1;this.__topExtension=this.__rightExtension=0};k["openfl.filters.BitmapFilter"]=qb;qb.__name__=["openfl","filters","BitmapFilter"];qb.prototype={__bottomExtension:null,__leftExtension:null,__needSecondBitmapData:null,__numShaderPasses:null,__preserveObject:null,__renderDirty:null,__rightExtension:null,__topExtension:null,__applyFilter:function(a,b,c,d){return b},
__class__:qb};var Ag=function(a,b,c){null==c&&(c=1);null==b&&(b=4);null==a&&(a=4);qb.call(this);this.set_blurX(a);this.set_blurY(b);this.set_quality(c);this.__needSecondBitmapData=!0;this.__preserveObject=!1};k["openfl.filters.BlurFilter"]=Ag;Ag.__name__=["openfl","filters","BlurFilter"];Ag.__super__=qb;Ag.prototype=t(qb.prototype,{blurX:null,blurY:null,quality:null,horizontalPasses:null,verticalPasses:null,__applyFilter:function(a,b,c,d){return yb.gaussianBlur(a.image,b.image,c.__toLimeRectangle(),
d.__toLimeVector2(),this.blurX,this.blurY,this.quality)==a.image?a:b},set_blurX:function(a){a!=this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=!0,this.__bottomExtension=this.__topExtension=0<a?Math.ceil(a):0);return a},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/
4*this.blurY)+1;this.__numShaderPasses=this.horizontalPasses+this.verticalPasses;a!=this.quality&&(this.__renderDirty=!0);return this.quality=a},__class__:Ag,__properties__:{set_quality:"set_quality",set_blurY:"set_blurY",set_blurX:"set_blurX"}});var Bg=function(a){qb.call(this);this.set_matrix(a);this.__numShaderPasses=0;this.__needSecondBitmapData=!1};k["openfl.filters.ColorMatrixFilter"]=Bg;Bg.__name__=["openfl","filters","ColorMatrixFilter"];Bg.__super__=qb;Bg.prototype=t(qb.prototype,{matrix:null,
__applyFilter:function(a,b,c,d){var e=b.image,f=a.image;la.convertToData(e);la.convertToData(f);var k=e.get_data(),h=f.get_data(),m=d.x-c.x|0;d=d.y-c.y|0;b=4*b.width;var n=4*a.width,g=e.buffer.format,p=f.buffer.format;e=e.buffer.premultiplied;f=f.buffer.premultiplied;for(var q,r=0,t,u,v=c.y|0,w=c.height|0;v<w;)for(var x=v++,y=c.x|0,z=c.width|0;y<z;){u=y++;t=x*b+4*u;u=(x+m)*n+4*(u+d);switch(g){case 0:q=(k[t]&255)<<24|(k[t+1]&255)<<16|(k[t+2]&255)<<8|k[t+3]&255;break;case 1:q=(k[t+1]&255)<<24|(k[t+
2]&255)<<16|(k[t+3]&255)<<8|k[t]&255;break;case 2:q=(k[t+2]&255)<<24|(k[t+1]&255)<<16|(k[t]&255)<<8|k[t+3]&255}e&&0!=(q&255)&&255!=(q&255)&&(A.unmult=255/(q&255),q=(A.__clamp[Math.round((q>>>24&255)*A.unmult)]&255)<<24|(A.__clamp[Math.round((q>>>16&255)*A.unmult)]&255)<<16|(A.__clamp[Math.round((q>>>8&255)*A.unmult)]&255)<<8|q&255);0==(q&255)?r=0:(r=((this.matrix[0]*(q>>>24&255)+this.matrix[1]*(q>>>16&255)+this.matrix[2]*(q>>>8&255)+this.matrix[3]*(q&255)+this.matrix[4]|0)&255)<<24|(r>>>16&255)<<
16|(r>>>8&255)<<8|r&255,r=(r>>>24&255)<<24|((this.matrix[5]*(q>>>24&255)+this.matrix[6]*(q>>>16&255)+this.matrix[7]*(q>>>8&255)+this.matrix[8]*(q&255)+this.matrix[9]|0)&255)<<16|(r>>>8&255)<<8|r&255,r=(r>>>24&255)<<24|(r>>>16&255)<<16|((this.matrix[10]*(q>>>24&255)+this.matrix[11]*(q>>>16&255)+this.matrix[12]*(q>>>8&255)+this.matrix[13]*(q&255)+this.matrix[14]|0)&255)<<8|r&255,r=(r>>>24&255)<<24|(r>>>16&255)<<16|(r>>>8&255)<<8|(this.matrix[15]*(q>>>24&255)+this.matrix[16]*(q>>>16&255)+this.matrix[17]*
(q>>>8&255)+this.matrix[18]*(q&255)+this.matrix[19]|0)&255);f&&(0==(r&255)?0!=r&&(r=0):255!=(r&255)&&(A.a16=A.__alpha16[r&255],r=((r>>>24&255)*A.a16>>16&255)<<24|((r>>>16&255)*A.a16>>16&255)<<16|((r>>>8&255)*A.a16>>16&255)<<8|r&255));switch(p){case 0:h[u]=r>>>24&255;h[u+1]=r>>>16&255;h[u+2]=r>>>8&255;h[u+3]=r&255;break;case 1:h[u]=r&255;h[u+1]=r>>>24&255;h[u+2]=r>>>16&255;h[u+3]=r>>>8&255;break;case 2:h[u]=r>>>8&255,h[u+1]=r>>>16&255,h[u+2]=r>>>24&255,h[u+3]=r&255}}a.image.dirty=!0;return a},set_matrix:function(a){null==
a&&(a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);return this.matrix=a},__class__:Bg,__properties__:{set_matrix:"set_matrix"}});var Cg=function(a,b,c,d,e,f,k,h,m,n,g){null==g&&(g=!1);null==n&&(n=!1);null==m&&(m=!1);null==h&&(h=1);null==k&&(k=1);null==f&&(f=4);null==e&&(e=4);null==d&&(d=1);null==c&&(c=0);null==b&&(b=45);null==a&&(a=4);this.distance=4;this.blurX=this.blurY=0;this.angle=45;qb.call(this);this.__offsetY=this.__offsetX=0;this.__updateSize();this.set_distance(a);this.set_angle(b);this.set_color(c);
this.set_alpha(d);this.set_blurX(e);this.set_blurY(f);this.set_strength(k);this.set_quality(h);this.set_inner(m);this.set_knockout(n);this.set_hideObject(g);this.__needSecondBitmapData=!0;this.__preserveObject=!g};k["openfl.filters.DropShadowFilter"]=Cg;Cg.__name__=["openfl","filters","DropShadowFilter"];Cg.__super__=qb;Cg.prototype=t(qb.prototype,{alpha:null,angle:null,blurX:null,blurY:null,color:null,distance:null,hideObject:null,inner:null,knockout:null,quality:null,strength:null,__offsetX:null,
__offsetY:null,__applyFilter:function(a,b,c,d){b.colorTransform(b.rect,new vb(0,0,0,1,this.color>>16&255,this.color>>8&255,this.color&255,this.color>>24&255));d.x+=this.__offsetX;d.y+=this.__offsetY;return yb.gaussianBlur(a.image,b.image,c.__toLimeRectangle(),d.__toLimeVector2(),this.blurX,this.blurY,this.quality,this.strength)==a.image?a:b},__updateSize:function(){this.__offsetX=this.distance*Math.cos(this.angle*Math.PI/180)|0;this.__offsetY=this.distance*Math.sin(this.angle*Math.PI/180)|0;this.__topExtension=
Math.ceil((0>this.__offsetY?-this.__offsetY:0)+this.blurY);this.__bottomExtension=Math.ceil((0<this.__offsetY?this.__offsetY:0)+this.blurY);this.__leftExtension=Math.ceil((0>this.__offsetX?-this.__offsetX:0)+this.blurX);this.__rightExtension=Math.ceil((0<this.__offsetX?this.__offsetX:0)+this.blurX)},set_alpha:function(a){a!=this.alpha&&(this.__renderDirty=!0);return this.alpha=a},set_angle:function(a){a!=this.angle&&(this.angle=a,this.__renderDirty=!0,this.__updateSize());return a},set_blurX:function(a){a!=
this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__updateSize());return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=!0,this.__updateSize());return a},set_color:function(a){a!=this.color&&(this.__renderDirty=!0);return this.color=a},set_distance:function(a){a!=this.distance&&(this.distance=a,this.__renderDirty=!0,this.__updateSize());return a},set_hideObject:function(a){a!=this.hideObject&&(this.__renderDirty=!0,this.__preserveObject=!a);return this.hideObject=a},set_inner:function(a){a!=
this.inner&&(this.__renderDirty=!0);return this.inner=a},set_knockout:function(a){a!=this.knockout&&(this.__renderDirty=!0);return this.knockout=a},set_quality:function(a){a!=this.quality&&(this.__renderDirty=!0);return this.quality=a},set_strength:function(a){a!=this.strength&&(this.__renderDirty=!0);return this.strength=a},__class__:Cg,__properties__:{set_strength:"set_strength",set_quality:"set_quality",set_knockout:"set_knockout",set_inner:"set_inner",set_hideObject:"set_hideObject",set_distance:"set_distance",
set_color:"set_color",set_blurY:"set_blurY",set_blurX:"set_blurX",set_angle:"set_angle",set_alpha:"set_alpha"}});var Kd=function(a,b,c,d,e,f,k,h){null==h&&(h=!1);null==k&&(k=!1);null==f&&(f=1);null==e&&(e=2);null==d&&(d=6);null==c&&(c=6);null==b&&(b=1);null==a&&(a=16711680);qb.call(this);this.set_color(a);this.set_alpha(b);this.set_blurX(c);this.set_blurY(d);this.set_strength(e);this.set_quality(f);this.set_inner(k);this.set_knockout(h);this.__preserveObject=this.__needSecondBitmapData=!0};k["openfl.filters.GlowFilter"]=
Kd;Kd.__name__=["openfl","filters","GlowFilter"];Kd.__super__=qb;Kd.prototype=t(qb.prototype,{alpha:null,blurX:null,blurY:null,color:null,inner:null,knockout:null,quality:null,strength:null,horizontalPasses:null,verticalPasses:null,__applyFilter:function(a,b,c,d){b.colorTransform(b.rect,new vb(0,0,0,1,this.color>>16&255,this.color>>8&255,this.color&255,255*this.alpha));return yb.gaussianBlur(a.image,b.image,c.__toLimeRectangle(),d.__toLimeVector2(),this.blurX,this.blurY,this.quality,this.strength)==
a.image?a:b},set_alpha:function(a){a!=this.alpha&&(this.__renderDirty=!0);return this.alpha=a},set_blurX:function(a){a!=this.blurX&&(this.blurX=a,this.__renderDirty=!0,this.__rightExtension=this.__leftExtension=0<a?Math.ceil(a):0);return a},set_blurY:function(a){a!=this.blurY&&(this.blurY=a,this.__renderDirty=!0,this.__bottomExtension=this.__topExtension=0<a?Math.ceil(a):0);return a},set_color:function(a){a!=this.color&&(this.__renderDirty=!0);return this.color=a},set_inner:function(a){a!=this.inner&&
(this.__renderDirty=!0);return this.inner=a},set_knockout:function(a){a!=this.knockout&&(this.__renderDirty=!0);return this.knockout=a},set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numShaderPasses=this.horizontalPasses+this.verticalPasses;a!=this.quality&&(this.__renderDirty=!0);return this.quality=a},set_strength:function(a){a!=this.strength&&(this.__renderDirty=!0);return this.strength=
a},__class__:Kd,__properties__:{set_strength:"set_strength",set_quality:"set_quality",set_knockout:"set_knockout",set_inner:"set_inner",set_color:"set_color",set_blurY:"set_blurY",set_blurX:"set_blurX",set_alpha:"set_alpha"}});var cj=function(){};k["openfl.geom.Matrix3D"]=cj;cj.__name__=["openfl","geom","Matrix3D"];cj.prototype={__class__:cj};var Va=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["openfl.geom.Point"]=Va;Va.__name__=["openfl","geom","Point"];Va.distance=function(a,
b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)};Va.interpolate=function(a,b,c){return new Va(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};Va.polar=function(a,b){return new Va(a*Math.cos(b),a*Math.sin(b))};Va.prototype={x:null,y:null,copyFrom:function(a){this.x=a.x;this.y=a.y},setTo:function(a,b){this.x=a;this.y=b},__toLimeVector2:function(){null==Va.__limeVector2&&(Va.__limeVector2=new ee);var a=Va.__limeVector2;a.x=this.x;a.y=this.y;return Va.__limeVector2},__class__:Va};var ia=function(a,b,c,d){null==
d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["openfl.geom.Rectangle"]=ia;ia.__name__=["openfl","geom","Rectangle"];ia.prototype={height:null,width:null,x:null,y:null,clone:function(){return new ia(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;
this.height=a.height},equals:function(a){return a==this?!0:null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,f=0,k=0,h=0;this.x<a&&(e=a-this.x);this.y<b&&(f=b-this.y);this.get_right()>a+c&&(k=a+c-this.get_right());this.get_bottom()>b+d&&(h=b+d-this.get_bottom());this.x+=e;this.y+=f;this.width+=k-e;this.height+=h-f}},__expand:function(a,
b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){null==ia.__limeRectangle&&(ia.__limeRectangle=new Zc);ia.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return ia.__limeRectangle},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,
e=b.b*this.x+b.d*this.y,f=e,k=b.a*(this.x+this.width)+b.c*this.y,h=b.b*(this.x+this.width)+b.d*this.y;k<c&&(c=k);h<e&&(e=h);k>d&&(d=k);h>f&&(f=h);k=b.a*(this.x+this.width)+b.c*(this.y+this.height);h=b.b*(this.x+this.width)+b.d*(this.y+this.height);k<c&&(c=k);h<e&&(e=h);k>d&&(d=k);h>f&&(f=h);k=b.a*this.x+b.c*(this.y+this.height);h=b.b*this.x+b.d*(this.y+this.height);k<c&&(c=k);h<e&&(e=h);k>d&&(d=k);h>f&&(f=h);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+
this.width},__class__:ia,__properties__:{get_right:"get_right",get_bottom:"get_bottom"}};var bh=function(a){this.__colorTransform=new vb;this.concatenatedColorTransform=new vb;this.pixelBounds=new ia;this.__displayObject=a;this.__hasMatrix=!0};k["openfl.geom.Transform"]=bh;bh.__name__=["openfl","geom","Transform"];bh.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},
set_colorTransform:function(a){this.__colorTransform.__equals(a)||(this.__colorTransform=a,null!=a&&this.__displayObject.set_alpha(a.alphaMultiplier),a=this.__displayObject,a.__renderDirty||(a.__renderDirty=!0,a.__setParentRenderDirty()));return this.__colorTransform},set_matrix:function(a){if(null==a)return this.__hasMatrix=!1,null;this.__hasMatrix=!0;this.__hasMatrix3D=!1;null!=this.__displayObject&&this.__setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);return a},__setTransform:function(a,b,c,d,e,f){if(null!=
this.__displayObject){var k=0==b?a:Math.sqrt(a*a+b*b);var h=0==c?a:Math.sqrt(c*c+d*d);this.__displayObject.__scaleX=k;this.__displayObject.__scaleY=h;k=180/Math.PI*Math.atan2(d,c)-90;k!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=k,k*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(k),this.__displayObject.__rotationCosine=Math.cos(k));this.__displayObject.__transform.a=a;this.__displayObject.__transform.b=b;this.__displayObject.__transform.c=c;this.__displayObject.__transform.d=
d;this.__displayObject.__transform.tx=e;this.__displayObject.__transform.ty=f;this.__displayObject.__setTransformDirty()}},__class__:bh,__properties__:{set_matrix:"set_matrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var dj=function(){};k["openfl.geom.Vector3D"]=dj;dj.__name__=["openfl","geom","Vector3D"];dj.prototype={__class__:dj};var tj=function(){};k["openfl.media.ID3Info"]=tj;tj.__name__=["openfl","media","ID3Info"];var sd=function(a,b){ya.call(this,this);
this.bytesTotal=this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};k["openfl.media.Sound"]=sd;sd.__name__=["openfl","media","Sound"];sd.fromAudioBuffer=function(a){var b=new sd;b.__buffer=a;return b};sd.__super__=ya;sd.prototype=t(ya.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,load:function(a,b){var c=this;this.url=a.url;a=R.getLibrary("default");if(null!=a){b=this.url;var d=a.cachedAudioBuffers;b=null!=p[b]?d.existsReserved(b):d.h.hasOwnProperty(b)}else b=
!1;if(b)b=this.url,a=a.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=p[b]?a.getReserved(b):a.h[b]);else zb.loadFromFile(this.url).onComplete(q(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},get_length:function(){return null!=this.__buffer?1E3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new we("ioError")):(this.__buffer=a,this.dispatchEvent(new T("complete")))},__class__:sd,__properties__:{get_length:"get_length"}});
var ui=function(a,b){ya.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new ff;null!=a&&(this.__source=a,this.__source.onComplete.add(q(this,this.source_onComplete)),this.__isValid=!0,this.__source.play());Ec.__registerSoundChannel(this)};k["openfl.media.SoundChannel"]=ui;ui.__name__=["openfl","media","SoundChannel"];ui.__super__=ya;ui.prototype=t(ya.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){Ec.__unregisterSoundChannel(this);
this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove(q(this,this.source_onComplete)),this.__source.dispose(),this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},
get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;var b=Ec.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=Ec.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){Ec.__unregisterSoundChannel(this);
this.__dispose();this.dispatchEvent(new T("soundComplete"))},__class__:ui,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var uj=function(){};k["openfl.media.SoundLoaderContext"]=uj;uj.__name__=["openfl","media","SoundLoaderContext"];var ff=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};k["openfl.media.SoundTransform"]=
ff;ff.__name__=["openfl","media","SoundTransform"];ff.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new ff(this.volume,this.pan)},__class__:ff};var Ec=function(){};k["openfl.media.SoundMixer"]=Ec;Ec.__name__=["openfl","media","SoundMixer"];Ec.__registerSoundChannel=function(a){Ec.__soundChannels.push(a)};Ec.__unregisterSoundChannel=function(a){y.remove(Ec.__soundChannels,a)};var ne=function(a){ya.call(this);this.bytesTotal=
this.bytesLoaded=0;this.dataFormat=1;null!=a&&this.load(a)};k["openfl.net.URLLoader"]=ne;ne.__name__=["openfl","net","URLLoader"];ne.__super__=ya;ne.prototype=t(ya.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(a){var b=this;if(0==this.dataFormat){var c=new Gf;this.__prepareRequest(c,a);c.load().onProgress(q(this,this.httpRequest_onProgress)).onError(q(this,this.httpRequest_onError)).onComplete(function(a){b.__dispatchStatus();
b.data=a;a=new T("complete");b.dispatchEvent(a)})}else c=new Ie,this.__prepareRequest(c,a),c.load().onProgress(q(this,this.httpRequest_onProgress)).onError(q(this,this.httpRequest_onError)).onComplete(function(a){b.__dispatchStatus();b.data=a;a=new T("complete");b.dispatchEvent(a)})},__dispatchStatus:function(){var a=new Sg("httpStatus",!1,!1,this.__httpRequest.responseStatus);a.responseURL=this.__httpRequest.uri;var b=[];if(this.__httpRequest.enableResponseHeaders&&null!=this.__httpRequest.responseHeaders)for(var c=
0,d=this.__httpRequest.responseHeaders;c<d.length;){var e=d[c];++c;b.push(new vi(e.name,e.value))}a.responseHeaders=b;this.dispatchEvent(a)},__prepareRequest:function(a,b){this.__httpRequest=a;this.__httpRequest.uri=b.url;switch(b.method){case "DELETE":a="DELETE";break;case "HEAD":a="HEAD";break;case "OPTIONS":a="OPTIONS";break;case "POST":a="POST";break;case "PUT":a="PUT";break;default:a="GET"}this.__httpRequest.method=a;if(null!=b.data)if(M.__instanceof(b.data,ij)){a=O.fields(b.data);for(var c=
0;c<a.length;){var d=a[c];++c;var e=this.__httpRequest.formData,f=O.field(b.data,d);null!=p[d]?e.setReserved(d,f):e.h[d]=f}}else M.__instanceof(b.data,Ha)?this.__httpRequest.data=b.data:this.__httpRequest.data=Ha.ofString(U.string(b.data));this.__httpRequest.contentType=b.contentType;if(null!=b.requestHeaders)for(a=0,c=b.requestHeaders;a<c.length;)d=c[a],++a,this.__httpRequest.headers.push(new yf(d.name,d.value));this.__httpRequest.followRedirects=b.followRedirects;this.__httpRequest.timeout=b.idleTimeout|
0;this.__httpRequest.withCredentials=b.manageCookies;this.__httpRequest.userAgent=b.userAgent;this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(a){this.__dispatchStatus();var b=403==a?new Tg("securityError"):new we("ioError");b.text=U.string(a);this.dispatchEvent(b)},httpRequest_onProgress:function(a,b){var c=new Pd("progress");c.bytesLoaded=a;c.bytesTotal=b;this.dispatchEvent(c)},__class__:ne});var Jd=function(a){null!=a&&(this.url=a);this.contentType=null;this.followRedirects=
!0;this.idleTimeout=3E4;this.manageCookies=!0;this.method="GET";this.requestHeaders=[]};k["openfl.net.URLRequest"]=Jd;Jd.__name__=["openfl","net","URLRequest"];Jd.prototype={contentType:null,data:null,followRedirects:null,idleTimeout:null,manageCookies:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:Jd};var vi=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};k["openfl.net.URLRequestHeader"]=vi;vi.__name__=["openfl","net","URLRequestHeader"];vi.prototype=
{name:null,value:null,__class__:vi};var ij=function(){};k["openfl.net.URLVariables"]=ij;ij.__name__=["openfl","net","URLVariables"];var xe=function(a){this.parentDomain=null!=a?a:xe.currentDomain};k["openfl.system.ApplicationDomain"]=xe;xe.__name__=["openfl","system","ApplicationDomain"];xe.prototype={parentDomain:null,__class__:xe};var vj=function(){};k["openfl.system.LoaderContext"]=vj;vj.__name__=["openfl","system","LoaderContext"];var Wb=function(a){Rb.call(this,a)};k["openfl.text.Font"]=Wb;Wb.__name__=
["openfl","text","Font"];Wb.enumerateFonts=function(a){return Wb.__registeredFonts};Wb.fromFile=function(a){var b=new Wb;b.__fromFile(a);return b};Wb.__fromLimeFont=function(a){var b=new Wb;b.name=a.name;b.src=a.src;return b};Wb.__super__=Rb;Wb.prototype=t(Rb.prototype,{__class__:Wb});var af=function(){Oa.call(this);this.__graphics=new Vd(this)};k["openfl.text.StaticText"]=af;af.__name__=["openfl","text","StaticText"];af.__super__=Oa;af.prototype=t(Oa.prototype,{text:null,__class__:af});var ve=function(a,
b,c,d,e,f,k,h,m,n,g,p,q){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=k;this.target=h;this.align=m;this.leftMargin=n;this.rightMargin=g;this.indent=p;this.leading=q};k["openfl.text.TextFormat"]=ve;ve.__name__=["openfl","text","TextFormat"];ve.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,
underline:null,url:null,__ascent:null,__descent:null,clone:function(){var a=new ve(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;a.__ascent=this.__ascent;a.__descent=this.__descent;return a},__merge:function(a){null!=
a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);
null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops);null!=a.__ascent&&(this.__ascent=a.__ascent);null!=a.__descent&&(this.__descent=a.__descent)},__class__:ve};var Ui={};k["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Ui;Ui.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"];Ui.fromString=
function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;case "start":return 5;default:return null}};var wa=function(){};k["openfl.ui.GameInput"]=wa;wa.__name__=["openfl","ui","GameInput"];wa.__getDevice=function(a){if(null==a)return null;if(null==wa.__devices.h.__keys__[a.__id__]){var b=lb.__getDeviceData()[a.id].id,c=lb.__getDeviceData();b=new wi(b,c[a.id].id);wa.__deviceList.push(b);wa.__devices.set(a,b);wa.numDevices=wa.__deviceList.length}return wa.__devices.h[a.__id__]};
wa.__onGamepadAxisMove=function(a,b,c){a=wa.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){switch(b){case 0:var d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Ed(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new T("change"))}};wa.__onGamepadButtonDown=function(a,b){a=wa.__getDevice(a);
if(null!=a&&a.enabled){if(!a.__button.h.hasOwnProperty(b)){switch(b){case 0:var c="A";break;case 1:c="B";break;case 2:c="X";break;case 3:c="Y";break;case 4:c="BACK";break;case 5:c="GUIDE";break;case 6:c="START";break;case 7:c="LEFT_STICK";break;case 8:c="RIGHT_STICK";break;case 9:c="LEFT_SHOULDER";break;case 10:c="RIGHT_SHOULDER";break;case 11:c="DPAD_UP";break;case 12:c="DPAD_DOWN";break;case 13:c="DPAD_LEFT";break;case 14:c="DPAD_RIGHT";break;default:c="UNKNOWN ("+b+")"}c=new Ed(a,"BUTTON_"+c,0,
1);a.__button.h[b]=c;a.__controls.push(c)}b=a.__button.h[b];b.value=1;b.dispatchEvent(new T("change"))}};wa.__onGamepadButtonUp=function(a,b){a=wa.__getDevice(a);if(null!=a&&a.enabled){if(!a.__button.h.hasOwnProperty(b)){switch(b){case 0:var c="A";break;case 1:c="B";break;case 2:c="X";break;case 3:c="Y";break;case 4:c="BACK";break;case 5:c="GUIDE";break;case 6:c="START";break;case 7:c="LEFT_STICK";break;case 8:c="RIGHT_STICK";break;case 9:c="LEFT_SHOULDER";break;case 10:c="RIGHT_SHOULDER";break;case 11:c=
"DPAD_UP";break;case 12:c="DPAD_DOWN";break;case 13:c="DPAD_LEFT";break;case 14:c="DPAD_RIGHT";break;default:c="UNKNOWN ("+b+")"}c=new Ed(a,"BUTTON_"+c,0,1);a.__button.h[b]=c;a.__controls.push(c)}b=a.__button.h[b];b.value=0;b.dispatchEvent(new T("change"))}};wa.__onGamepadConnect=function(a){a=wa.__getDevice(a);if(null!=a)for(var b=0,c=wa.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Ce("deviceAdded",null,null,a))}};wa.__onGamepadDisconnect=function(a){var b=wa.__devices.h[a.__id__];
if(null!=b){null!=wa.__devices.h.__keys__[a.__id__]&&(y.remove(wa.__deviceList,wa.__devices.h[a.__id__]),wa.__devices.remove(a));wa.numDevices=wa.__deviceList.length;a=0;for(var c=wa.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Ce("deviceRemoved",null,null,b))}}};wa.__super__=ya;wa.prototype=t(ya.prototype,{addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);ya.prototype.addEventListener.call(this,a,b,c,d,e);if("deviceAdded"==a)for(a=0,b=wa.__deviceList;a<
b.length;)c=b[a],++a,this.dispatchEvent(new Ce("deviceAdded",null,null,c))},__class__:wa});var Ed=function(a,b,c,d,e){null==e&&(e=0);ya.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};k["openfl.ui.GameInputControl"]=Ed;Ed.__name__=["openfl","ui","GameInputControl"];Ed.__super__=ya;Ed.prototype=t(ya.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Ed});var wi=function(a,b){this.__controls=[];this.__button=new Ka;this.__axis=new Ka;this.id=
a;this.name=b;for(b=0;6>b;){var c=b++;a=new Ed(this,"AXIS_"+c,-1,1);this.__axis.h[c]=a;this.__controls.push(a)}for(b=0;15>b;)c=b++,a=new Ed(this,"BUTTON_"+c,0,1),this.__button.h[c]=a,this.__controls.push(a)};k["openfl.ui.GameInputDevice"]=wi;wi.__name__=["openfl","ui","GameInputDevice"];wi.prototype={enabled:null,id:null,name:null,__axis:null,__button:null,__controls:null,__class__:wi};var Xi=function(){};k["openfl.ui.Keyboard"]=Xi;Xi.__name__=["openfl","ui","Keyboard"];Xi.__getCharCode=function(a,
b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;
case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0};
var Yi=function(){};k["openfl.ui.Mouse"]=Yi;Yi.__name__=["openfl","ui","Mouse"];var rd=function(){};k["openfl.ui.Multitouch"]=rd;rd.__name__=["openfl","ui","Multitouch"];rd.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"};rd.get_supportsTouchEvents=function(){return"ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1};var xi=function(){};k["openfl.utils.IAssetCache"]=xi;xi.__name__=["openfl","utils","IAssetCache"];xi.prototype=
{get_enabled:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,setBitmapData:null,setFont:null,setSound:null,__class__:xi,__properties__:{get_enabled:"get_enabled"}};var Ug=function(){this.__enabled=!0;this.bitmapData=new C;this.font=new C;this.sound=new C};k["openfl.utils.AssetCache"]=Ug;Ug.__name__=["openfl","utils","AssetCache"];Ug.__interfaces__=[xi];Ug.prototype={bitmapData:null,font:null,sound:null,__enabled:null,getBitmapData:function(a){var b=
this.bitmapData;return null!=p[a]?b.getReserved(a):b.h[a]},getFont:function(a){var b=this.font;return null!=p[a]?b.getReserved(a):b.h[a]},getSound:function(a){var b=this.sound;return null!=p[a]?b.getReserved(a):b.h[a]},hasBitmapData:function(a){var b=this.bitmapData;return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasFont:function(a){var b=this.font;return null!=p[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasSound:function(a){var b=this.sound;return null!=p[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},removeBitmapData:function(a){R.cache.image.remove(a);return this.bitmapData.remove(a)},setBitmapData:function(a,b){var c=this.bitmapData;null!=p[a]?c.setReserved(a,b):c.h[a]=b},setFont:function(a,b){var c=this.font;null!=p[a]?c.setReserved(a,b):c.h[a]=b},setSound:function(a,b){var c=this.sound;null!=p[a]?c.setReserved(a,b):c.h[a]=b},get_enabled:function(){return this.__enabled},__class__:Ug,__properties__:{get_enabled:"get_enabled"}};var sa=function(){};k["openfl.utils.Assets"]=
sa;sa.__name__=["openfl","utils","Assets"];sa.exists=function(a,b){return R.exists(a,b)};sa.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&sa.cache.get_enabled()&&sa.cache.hasBitmapData(a)){var c=sa.cache.getBitmapData(a);if(sa.isValidBitmapData(c))return c}c=R.getImage(a,!1);return null!=c?(c=ja.fromImage(c),b&&sa.cache.get_enabled()&&sa.cache.setBitmapData(a,c),c):null};sa.getBytes=function(a){return sb.fromBytes(R.getBytes(a))};sa.getFont=function(a,b){null==b&&(b=!0);if(b&&sa.cache.get_enabled()&&
sa.cache.hasFont(a))return sa.cache.getFont(a);var c=R.getFont(a,!1);return null!=c?(c=Wb.__fromLimeFont(c),b&&sa.cache.get_enabled()&&sa.cache.setFont(a,c),c):new Wb};sa.getMusic=function(a,b){null==b&&(b=!0);return sa.getSound(a,b)};sa.getSound=function(a,b){null==b&&(b=!0);if(b&&sa.cache.get_enabled()&&sa.cache.hasSound(a)){var c=sa.cache.getSound(a);if(sa.isValidSound(c))return c}c=R.getAudioBuffer(a,!1);return null!=c?(c=sd.fromAudioBuffer(c),b&&sa.cache.get_enabled()&&sa.cache.setSound(a,c),
c):null};sa.getText=function(a){return R.getText(a)};sa.hasLibrary=function(a){return R.hasLibrary(a)};sa.isValidBitmapData=function(a){return null!=a&&null!=a.image};sa.isValidSound=function(a){return!0};sa.registerLibrary=function(a,b){R.registerLibrary(a,b)};var sb={};k["openfl.utils._ByteArray.ByteArray_Impl_"]=sb;sb.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];sb.__properties__={get_length:"get_length"};sb.fromBytes=function(a){return null==a?null:M.__instanceof(a,lc)?a:lc.fromBytes(a)};
sb.toBytes=function(a){return a};sb.get_length=function(a){return a.length};var yi=function(){};k["openfl.utils.IDataOutput"]=yi;yi.__name__=["openfl","utils","IDataOutput"];yi.prototype={__class__:yi};var zi=function(){};k["openfl.utils.IDataInput"]=zi;zi.__name__=["openfl","utils","IDataInput"];zi.prototype={__class__:zi};var lc=function(a){null==a&&(a=0);var b=new Ha(new ic(a));Ha.call(this,b.b.buffer);this.__length=a;null==lc.__defaultEndian&&(ab.get_endianness()==$c.LITTLE_ENDIAN?lc.__defaultEndian=
1:lc.__defaultEndian=0);this.__endian=lc.__defaultEndian;this.position=0};k["openfl.utils.ByteArrayData"]=lc;lc.__name__=["openfl","utils","ByteArrayData"];lc.__interfaces__=[yi,zi];lc.fromBytes=function(a){var b=new lc;b.__fromBytes(a);return b};lc.__super__=Ha;lc.prototype=t(Ha.prototype,{position:null,__endian:null,__length:null,readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new u(new Qd);},readBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0==
c&&(c=this.length-this.position);if(this.position+c>this.length)throw new u(new Qd);a.length<b+c&&a.__resize(b+c);a.blit(b,this,this.position,c);this.position+=c},readFloat:function(){return Yb.i32ToFloat(this.readInt())},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();a=1==this.__endian?
b<<8|a:a<<8|b;return 0!=(a&32768)?a-65536:a},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new u(new Qd);},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=
this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new u(new Qd);this.position+=a;return this.getString(this.position-a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new Ha(new ic(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Li.decompress(this);break;case 1:a=Mi.decompress(this);break;default:a=Ni.decompress(this)}null!=
a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.length=this.__length);this.position=0},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=sb.get_length(a)&&(0==c&&(c=sb.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},__fromBytes:function(a){this.b=a.b;this.__length=a.length;this.data=a.data;this.length=a.length},__resize:function(a){if(a>this.__length){var b=new Ha(new ic(3*(a+1)>>1)),c=this.length;this.length=this.__length;b.blit(0,
this,0,this.__length);this.length=c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__class__:lc});var ej=function(){};k["haxe.lang.Iterator"]=ej;ej.__name__=["haxe","lang","Iterator"];ej.prototype={hasNext:null,next:null,__class__:ej};var fj=function(){};k["haxe.lang.Iterable"]=fj;fj.__name__=["haxe","lang","Iterable"];fj.prototype={iterator:null,__class__:fj};var ye=function(){this.rollOutStack=[]};k["openfl.utils.TouchData"]=ye;ye.__name__=["openfl","utils","TouchData"];
ye.prototype={touch:null,touchDownTarget:null,touchOverTarget:null,rollOutStack:null,reset:function(){this.touchOverTarget=this.touchDownTarget=this.touch=null;this.rollOutStack.splice(0,this.rollOutStack.length)},__class__:ye};var ad,Bj=0;k.Math=Math;String.prototype.__class__=k.String=String;String.__name__=["String"];k.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=k.Date=Date;Date.__name__=["Date"];var hj=k.Int={__name__:["Int"]},Dj=k.Dynamic={__name__:["Dynamic"]},Bi=k.Float=Number;
Bi.__name__=["Float"];var lj=k.Bool=Boolean;lj.__ename__=["Bool"];var jj=k.Class={__name__:["Class"]},kj={},p={},ic=jb.ArrayBuffer||pc;null==ic.prototype.slice&&(ic.prototype.slice=pc.sliceImpl);var Qb=jb.Float32Array||Yc._new,wb=jb.Uint8Array||yd._new,Ej=new Uint32Array(256);A.__alpha16=Ej;for(var wj=0;256>wj;){var xj=wj++;A.__alpha16[xj]=Math.ceil(257.00392156862745*xj)}var Fj=new wb(510);A.__clamp=Fj;for(var yj=0;255>yj;){var zj=yj++;A.__clamp[zj]=zj}for(var Aj=255;511>Aj;){var Gj=Aj++;A.__clamp[Gj]=
255}eb.level=3;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});eb.throwErrors=!0;Tb._names=[];Tb._layers=new C;Tb.SetLayerName(0,"Default");Tb.SetLayerName(1,"Transparent");Tb.SetLayerName(2,"IgnoreRaycast");Tb.SetLayerName(3,"Water");Tb.SetLayerName(4,"UI");rd.maxTouchPoints=2;rd.supportedGestures=null;rd.supportsGestureEvents=!1;rd.inputMode=2;pb.count=0;Oa.__broadcastEvents=new C;Oa.__instanceCount=0;Oa.__tempStack=new Zg(function(){return Nb.toObjectVector(null)},
function(a){a.data.set_length(0)});G.Element=0;G.PCData=1;G.CData=2;G.Comment=3;G.DocType=4;G.ProcessingInstruction=5;G.Document=6;oc.USE_CACHE=!1;oc.USE_ENUM_INDEX=!1;oc.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Xb.DEFAULT_RESOLVER=new tf;Xb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Yb.i64tmp=new ch(0,0);kd.escapes=function(a){a=new C;null!=p.lt?a.setReserved("lt","<"):a.h.lt="<";null!=p.gt?a.setReserved("gt",">"):a.h.gt=">";null!=p.amp?
a.setReserved("amp","&"):a.h.amp="&";null!=p.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=p.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);Db.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];Db.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];Db.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];Db.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,
65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];Db.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];M.__toStr={}.toString;Yc.BYTES_PER_ELEMENT=4;yd.BYTES_PER_ELEMENT=1;H.activeRequests=0;H.requestLimit=4;H.requestQueue=new Fc;ba.dummyCharacter="\u007f";ba.windowID=0;pa.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Da.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];jc.onUpdate=new mb;rb.devices=new Ka;rb.onConnect=
new uh;lb.devices=new Ka;lb.onConnect=new vh;Hb.onCancel=new de;Hb.onEnd=new de;Hb.onMove=new de;Hb.onStart=new de;R.cache=new yh;R.onChange=new mb;R.libraries=new C;R.libraryPaths=new C;eb.throwErrors=!0;qa.enabled=!1;Pa.scale=1;Pa._timeOffset=0;Xa.injector=new Dh;Xa.active=!0;bd._pools=[];Ea.pool=new bd(function(){return new xa});sc._atlasMap=new C;cd._movieMap=new C;Gb._typeMap=new pb;Gb._typeClassMap=new pb;ca.COMPLETE=new cb("COMPLETE");ca.START=new cb("START");ca.FINISH=new cb("FINISH");ca.INIT=
new cb("INIT");ca.LOST=new cb("LOST");ca.CHANGE=new cb("CHANGE");ca.ADD=new cb("ADD");ca.PROGRESS=new eg("PROGRESS");ca.KEY_CHANGE=new dg("CHANGE");ca.TOUCH_CHANGE=new fg("CHANGE");P.moveThresholdsPixels=0;P._touchChange=!1;P._touching=new Ka;P._touchDown=new Ka;P._touchUp=new Ka;P._keyChange=!1;P._keying=new Ka;P._keyDown=new Ka;P._keyUp=new Ka;cc._instanceID=0;Q.instance=new Q;Q.instance2=new Q;Q._helperVec3=new Q;Qe.float3=new bd(function(){return new Q});V.frameCount=0;V.deltaTime=0;V.time=0;
V.maxDeltaTime=.3;V.fixedCount=1;V._currentTime=0;V._time=0;Ab._list=new xa;Ab._started=!1;Gc.pause=!1;Na.instance=new Na;Zb._id=1;Zb._map=new Ka;Sb.instance=new Sb;N.width=800;N.height=480;N.renderWidth=800;N.renderHeight=480;N.backgroundColor=new Sb(.67058823573,.80392156915,.93725490257,1);N.backRenderTexture=new gg(800,480);N._resolution=new Tc(1,1,0,0);S._id=0;S._list=[];S.POSITION=new S("POSITION",3);S.UV=new S("UV",2);S.UV1=new S("UV1",2);S.UV2=new S("UV2",2);S.UV3=new S("UV3",2);S.COLOR=new S("COLOR",
4);S.NORMAL=new S("NORMAL",3);S.TANGENT=new S("TANGENT",4);S.COLOR1=new S("COLOR1",4);S.NORMAL1=new S("NORMAL1",3);S.TANGENT1=new S("TANGENT1",4);S.BONE_INDEX=new S("BONE_INDEX",4);S.BONE_WEIGHT=new S("BONE_WEIGHT",4);ha._id=0;ha.P=new ha("P");ha.V=new ha("V");ha.VP=new ha("VP");ha.IV=new ha("IV");ha.IVP=new ha("IVP");ha.M=new ha("M");ha.TEXTURE=new ha("TEXTURE");ha._CameraPos=new ha("_CameraPos");ha._Time=new ha("_Time");ha._SinTime=new ha("_SinTime");ha._CosTime=new ha("_CosTime");ha._DeltaTime=
new ha("_DeltaTime");ha._ScreenParams=new ha("_ScreenParams");ha._ProjectionParams=new ha("_ProjectionParams");ha.COLOR=new ha("COLOR");ha.BONE=new ha("BONE");le.__meta__={obj:{DisallowMultipleComponent:null}};xd.__meta__={obj:{DisallowMultipleComponent:null}};hg.__meta__={obj:{DisallowMultipleComponent:null}};Kc.__meta__={obj:{DisallowMultipleComponent:null}};Re.__meta__={obj:{DisallowMultipleComponent:null}};F.onStateChange=new kg("onStateChange");F.onCameraCull=new jg("onCameraCull");F.onScreenResize=
new F("onScreenResize");F.onFixedUpdate=new F("onFixedUpdate");F.onUpdate=new F("onUpdate");F.onLateUpdate=new F("onLateUpdate");F.onUpdateOnce=new F("onUpdateOnce");F.onPreTransform=new F("onPreTransform");F.onTransformUpdate=new F("onTransformUpdate");F.onPostTransform=new F("onPostTransform");F.onDestroy=new F("onDestroy");F.OnObjectPreRender=new F("OnObjectPreRender");F.OnObjectPostRender=new F("OnObjectPostRender");F.onCameraUpdate=new F("onCameraUpdate");F.onCameraPreCull=new F("onCameraPreCull");
F.onCameraPreRender=new F("onCameraPreRender");F.onComponentListChange=new F("onComponentListChange");F.onComponentActiveChange=new F("onComponentActiveChange");F.onBoundsChange=new F("onBoundsChange");F.onBuildScene=new F("onBuildScene");Wd.__meta__={obj:{DisallowMultipleComponent:null}};z._renderTextureStack=new xa;z._clearDepth=-1;z._clearStencil=-1;z._colorMask=[!1,!1,!1,!1];va.drawCall=0;va.checkMask=!1;va.maska=new Kb;va.maskb=new Kb;J._codeMap=new C;J._definesMap=new C;J._programMap=new C;
J._maskMap=new C;J._init=!1;J._properties=new C;J._cacheProperty=new Ka;Cc.searchCount=10;Cc.e1=new Ta("(\\S+)\\s+(\\S+)\\s*;\\s*","g");Cc.map=new C;fd.map=new C;Z._id=0;Bc._map=new Ka;Bc._id=1;pd._id=1;Lc._map=new Ka;Lc._id=1;Mb._textureFormat=-1;Mb._internalFormat=-1;r.altKey=!1;r.commandKey=!1;r.controlKey=!1;r.shiftKey=!1;r._event_change=new Ea;qd._init=!1;ed._helpVec0=new Q;ed._helpVec1=new Q;dd._helpVec0=new Q;dd._helpVec1=new Q;Ja.instance=new Ja;Ja.tmpVec=new Q;Ja.l_vez=new Q;Ja.l_vex=new Q;
Ja.l_vey=new Q;Ze._helpVec3=new Q;Ya.instance=new Ya;Ya._helpFloat3=new Q;Ya._helperMatrix44=new Ja;me.instance=new me(-1);Ub._id=0;Ub._fnv=new cg;Y.instance=new Y;ob._defaultRoot="";ob.progress=new qg;ua.__meta__={statics:{texture:{t:["lovedna.resource.loader.TextureLoader"],inject:null},string:{t:["lovedna.resource.loader.TextLoader"],inject:null},bytes:{t:["lovedna.resource.loader.BytesLoader"],inject:null},cubeTexture:{t:["lovedna.resource.loader.TextureCubeLoader"],inject:null},g3d:{t:["lovedna.resource.loader.G3DLoader"],
inject:null},sprite:{t:["lovedna.resource.loader.SpriteLoader"],inject:null},fnt:{t:["lovedna.resource.loader.FntLoader"],inject:null},sound:{t:["lovedna.resource.loader.SoundLoader"],inject:null},obj:{t:["lovedna.resource.loader.ObjLoader"],inject:null},spine:{t:["lovedna.resource.loader.SpineLoader"],inject:null},g3dj:{t:["lovedna.resource.loader.G3DJsonLoader"],inject:null}}};ua._init=!1;Ua._id=0;oe.delayTime=.01;ub._id=0;Ra._addList=[];Ra._triggerList=[];Ra._endList=[];X.PI=3.141592653589793;
X.PIHalf=1.5707963267948966;X.PI2=6.283185307179586;X.MinInt=-2147483648;X.MaxInt=2147483647;X.MinFloat=-1.79769313486231E308;X.MaxFloat=1.79769313486231E308;X.Byte2Float=.00392156863;X.Short2Float=1.52587890625E-5;X.Long2Float=2.3283064365386963E-10;X.Float2Byte=255;X.Float2Short=65536;X.Float2Long=4294967296;Ia.timeTable=["3108097118101","3093101100111099032101118105116097110091","3101109097110116115111104046110111105116097099111108","3047047058112116116104039061102101114104046110111105116097099111108046119111100110105119"];
Ia.document=window;Sc._infoMap=new pb;uc.processMin=100;uc.processMax=300;Fa.__identity=new Fa;Fa.__pool=new zh(function(){return new Fa},function(a){a.identity()});za.current=new xc;ac.empty=new ac;n.SIN45=.7071067811865476;n.TAN22=.41421356237309503;n.fillCommands=new ac;n.strokeCommands=new ac;n.hitTestCanvas=window.document.createElement("canvas");n.hitTestContext=n.hitTestCanvas.getContext("2d");Nd.scale=1;Vb.debug=!1;Vc.instances=new C;da.__regexAlign=new Ta("align=(\"([^\"]+)\"|'([^']+)')",
"i");da.__regexBreakTag=new Ta("<br\\s*/?>","gi");da.__regexBlockIndent=new Ta("blockindent=(\"([^\"]+)\"|'([^']+)')","i");da.__regexColor=new Ta("color=(\"#([^\"]+)\"|'#([^']+)')","i");da.__regexEntities=[new Ta("&quot;","g"),new Ta("&apos;","g"),new Ta("&amp;","g"),new Ta("&lt;","g"),new Ta("&gt;","g"),new Ta("&nbsp;","g")];da.__regexFace=new Ta("face=(\"([^\"]+)\"|'([^']+)')","i");da.__regexHTMLTag=new Ta("<.*?>","g");da.__regexHref=new Ta("href=(\"([^\"]+)\"|'([^']+)')","i");da.__regexIndent=
new Ta(" indent=(\"([^\"]+)\"|'([^']+)')","i");da.__regexLeading=new Ta("leading=(\"([^\"]+)\"|'([^']+)')","i");da.__regexLeftMargin=new Ta("leftmargin=(\"([^\"]+)\"|'([^']+)')","i");da.__regexRightMargin=new Ta("rightmargin=(\"([^\"]+)\"|'([^']+)')","i");da.__regexSize=new Ta("size=(\"([^\"]+)\"|'([^']+)')","i");da.__regexTabStops=new Ta("tabstops=(\"([^\"]+)\"|'([^']+)')","i");ja.__bufferStride=26;ja.__tempVector=new ee;Ib.__missingFontWarning=new C;ud.__rootURL=window.document.URL;ec.TEXTURE_MAX_ANISOTROPY_EXT=
0;ec.DEPTH_STENCIL=0;ec.__stateCache=new ki;Ga.CLICK="click";Ga.DOUBLE_CLICK="doubleClick";Ga.MIDDLE_CLICK="middleClick";Ga.MIDDLE_MOUSE_DOWN="middleMouseDown";Ga.MIDDLE_MOUSE_UP="middleMouseUp";Ga.MOUSE_DOWN="mouseDown";Ga.MOUSE_MOVE="mouseMove";Ga.MOUSE_OUT="mouseOut";Ga.MOUSE_OVER="mouseOver";Ga.MOUSE_UP="mouseUp";Ga.MOUSE_WHEEL="mouseWheel";Ga.RELEASE_OUTSIDE="releaseOutside";Ga.RIGHT_CLICK="rightClick";Ga.RIGHT_MOUSE_DOWN="rightMouseDown";Ga.RIGHT_MOUSE_UP="rightMouseUp";Ga.ROLL_OUT="rollOut";
Ga.ROLL_OVER="rollOver";Cb.TOUCH_BEGIN="touchBegin";Cb.TOUCH_END="touchEnd";Cb.TOUCH_MOVE="touchMove";Cb.TOUCH_OUT="touchOut";Cb.TOUCH_OVER="touchOver";Cb.TOUCH_ROLL_OUT="touchRollOut";Cb.TOUCH_ROLL_OVER="touchRollOver";Cb.TOUCH_TAP="touchTap";Va.__pool=new Ah(function(){return new Va},function(a){a.setTo(0,0)});ia.__pool=new Bh(function(){return new ia},function(a){a.setTo(0,0,0,0)});Ec.__soundChannels=[];Ec.__soundTransform=new ff;xe.currentDomain=new xe(null);Wb.__registeredFonts=[];wa.numDevices=
0;wa.__deviceList=[];wa.__devices=new pb;wa.__instances=[];Yi.__cursor="auto";sa.cache=new Ug;ye.__pool=new Ch(function(){return new ye},function(a){a.reset()});Td.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
